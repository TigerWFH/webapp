(window.webpackJsonp=window.webpackJsonp||[]).push([[4],[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}n.d(t,"a",function(){return r})},function(e,t,n){"use strict";n.d(t,"a",function(){return o});var r=n(156);function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,Object(r.a)(i.key),i)}}function o(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}},function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=n(144);function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Object(r.a)(e,t)}},function(e,t,n){"use strict";var r=n(7);var i=n(102);function o(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var n,o=Object(r.a)(e);if(t){var a=Object(r.a)(this).constructor;n=Reflect.construct(o,arguments,a)}else n=o.apply(this,arguments);return Object(i.a)(this,n)}}n.d(t,"a",function(){return o})},function(e,t,n){"use strict";e.exports=n(625)},function(e,t,n){"use strict";var r=n(123);var i=n(233),o=n(101);function a(e){return function(e){if(Array.isArray(e))return Object(r.a)(e)}(e)||Object(i.a)(e)||Object(o.a)(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}n.d(t,"a",function(){return a})},function(e,t,n){var r=n(236);e.exports=function(e,t,n){return(t=r(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,n){"use strict";function r(e){return(r=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}n.d(t,"a",function(){return r})},function(e,t,n){"use strict";n.d(t,"a",function(){return o});var r=n(11);function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach(function(t){Object(r.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}},function(e,t,n){var r=n(36),i=n(174).f,o=n(135),a=n(76),u=n(168),s=n(208),c=n(209);e.exports=function(e,t){var n,l,f,h,d,p=e.target,v=e.global,g=e.stat;if(n=v?r:g?r[p]||u(p,{}):(r[p]||{}).prototype)for(l in t){if(h=t[l],f=e.dontCallGetSet?(d=i(n,l))&&d.value:n[l],!c(v?l:p+(g?".":"#")+l,e.forced)&&void 0!==f){if(typeof h==typeof f)continue;s(h,f)}(e.sham||f&&f.sham)&&o(h,"sham",!0),a(n,l,h,e)}}},function(e,t,n){"use strict";var r=n(7);function i(){return(i="undefined"!==typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var i=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Object(r.a)(e)););return e}(e,t);if(i){var o=Object.getOwnPropertyDescriptor(i,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}}).apply(this,arguments)}n.d(t,"a",function(){return i})},function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=n(156);function i(e,t,n){return(t=Object(r.a)(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}},function(e,t,n){"use strict";t.a=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},function(e,t,n){"use strict";var r=Array.isArray;t.a=r},function(e,t,n){"use strict";var r=n(234);var i=n(101),o=n(235);function a(e,t){return Object(r.a)(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,u=[],s=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=o.call(n)).done)&&(u.push(r.value),u.length!==t);s=!0);}catch(l){c=!0,i=l}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return u}}(e,t)||Object(i.a)(e,t)||Object(o.a)()}n.d(t,"a",function(){return a})},function(e,t,n){"use strict";function r(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}n.d(t,"a",function(){return r})},function(e,t,n){var r=n(129),i=Function.prototype,o=i.call,a=r&&i.bind.bind(o,o);e.exports=r?a:function(e){return function(){return o.apply(e,arguments)}}},function(e,t,n){"use strict";function r(){return(r=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}n.d(t,"a",function(){return r})},function(e,t){e.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,n){var r=n(236);function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,r(i.key),i)}}e.exports=function(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,n){var r=n(197),i=r.all;e.exports=r.IS_HTMLDDA?function(e){return"function"==typeof e||e===i}:function(e){return"function"==typeof e}},function(e,t,n){var r=n(129),i=Function.prototype.call;e.exports=r?i.bind(i):function(){return i.apply(i,arguments)}},function(e,t,n){"use strict";t.a=function(e){return null!=e&&"object"==typeof e}},function(e,t,n){"use strict";var r=n(147),i="object"==typeof self&&self&&self.Object===Object&&self,o=r.a||i||Function("return this")();t.a=o},function(e,t,n){var r=n(640)();e.exports=r;try{regeneratorRuntime=r}catch(i){"object"===typeof globalThis?globalThis.regeneratorRuntime=r:Function("r","regeneratorRuntime = r")(r)}},function(e,t,n){"use strict";n.d(t,"a",function(){return k}),n.d(t,"b",function(){return m}),n.d(t,"c",function(){return C}),n.d(t,"d",function(){return y}),n.d(t,"e",function(){return x}),n.d(t,"f",function(){return _});var r=n(50),i=n(4),o=n.n(i),a=n(43),u=n(251),s=n(51),c=n(17),l=n(187),f=n.n(l),h=(n(188),n(58)),d=n(125),p=n.n(d),v=function(e){var t=Object(u.a)();return t.displayName=e,t},g=v("Router-History"),y=v("Router"),m=function(e){function t(t){var n;return(n=e.call(this,t)||this).state={location:t.history.location},n._isMounted=!1,n._pendingLocation=null,t.staticContext||(n.unlisten=t.history.listen(function(e){n._isMounted?n.setState({location:e}):n._pendingLocation=e})),n}Object(r.a)(t,e),t.computeRootMatch=function(e){return{path:"/",url:"/",params:{},isExact:"/"===e}};var n=t.prototype;return n.componentDidMount=function(){this._isMounted=!0,this._pendingLocation&&this.setState({location:this._pendingLocation})},n.componentWillUnmount=function(){this.unlisten&&(this.unlisten(),this._isMounted=!1,this._pendingLocation=null)},n.render=function(){return o.a.createElement(y.Provider,{value:{history:this.props.history,location:this.state.location,match:t.computeRootMatch(this.state.location.pathname),staticContext:this.props.staticContext}},o.a.createElement(g.Provider,{children:this.props.children||null,value:this.props.history}))},t}(o.a.Component);o.a.Component;o.a.Component;var b={},w=1e4,E=0;function x(e,t){void 0===t&&(t={}),("string"===typeof t||Array.isArray(t))&&(t={path:t});var n=t,r=n.path,i=n.exact,o=void 0!==i&&i,a=n.strict,u=void 0!==a&&a,s=n.sensitive,c=void 0!==s&&s;return[].concat(r).reduce(function(t,n){if(!n&&""!==n)return null;if(t)return t;var r=function(e,t){var n=""+t.end+t.strict+t.sensitive,r=b[n]||(b[n]={});if(r[e])return r[e];var i=[],o={regexp:f()(e,i,t),keys:i};return E<w&&(r[e]=o,E++),o}(n,{end:o,strict:u,sensitive:c}),i=r.regexp,a=r.keys,s=i.exec(e);if(!s)return null;var l=s[0],h=s.slice(1),d=e===l;return o&&!d?null:{path:n,url:"/"===n&&""===l?"/":l,isExact:d,params:a.reduce(function(e,t,n){return e[t.name]=h[n],e},{})}},null)}var k=function(e){function t(){return e.apply(this,arguments)||this}return Object(r.a)(t,e),t.prototype.render=function(){var e=this;return o.a.createElement(y.Consumer,null,function(t){t||Object(s.a)(!1);var n=e.props.location||t.location,r=e.props.computedMatch?e.props.computedMatch:e.props.path?x(n.pathname,e.props):t.match,i=Object(c.a)({},t,{location:n,match:r}),a=e.props,u=a.children,l=a.component,f=a.render;return Array.isArray(u)&&function(e){return 0===o.a.Children.count(e)}(u)&&(u=null),o.a.createElement(y.Provider,{value:i},i.match?u?"function"===typeof u?u(i):u:l?o.a.createElement(l,i):f?f(i):null:"function"===typeof u?u(i):null)})},t}(o.a.Component);function O(e){return"/"===e.charAt(0)?e:"/"+e}function S(e,t){if(!e)return t;var n=O(e);return 0!==t.pathname.indexOf(n)?t:Object(c.a)({},t,{pathname:t.pathname.substr(n.length)})}function A(e){return"string"===typeof e?e:Object(a.e)(e)}function T(e){return function(){Object(s.a)(!1)}}function j(){}o.a.Component;var C=function(e){function t(){return e.apply(this,arguments)||this}return Object(r.a)(t,e),t.prototype.render=function(){var e=this;return o.a.createElement(y.Consumer,null,function(t){t||Object(s.a)(!1);var n,r,i=e.props.location||t.location;return o.a.Children.forEach(e.props.children,function(e){if(null==r&&o.a.isValidElement(e)){n=e;var a=e.props.path||e.props.from;r=a?x(i.pathname,Object(c.a)({},e.props,{path:a})):t.match}}),r?o.a.cloneElement(n,{location:i,computedMatch:r}):null})},t}(o.a.Component);function _(e){var t="withRouter("+(e.displayName||e.name)+")",n=function(t){var n=t.wrappedComponentRef,r=Object(h.a)(t,["wrappedComponentRef"]);return o.a.createElement(y.Consumer,null,function(t){return t||Object(s.a)(!1),o.a.createElement(e,Object(c.a)({},r,t,{ref:n}))})};return n.displayName=t,n.WrappedComponent=e,p()(n,e)}o.a.useContext},function(e,t){e.exports=function(e){try{return!!e()}catch(t){return!0}}},function(e,t,n){"use strict";var r=n(37),i=n(22),o="[object Symbol]";t.a=function(e){return"symbol"==typeof e||Object(i.a)(e)&&Object(r.a)(e)==o}},function(e,t,n){var r=n(36),i=n(110),o=n(31),a=n(130),u=n(97),s=n(196),c=r.Symbol,l=i("wks"),f=s?c.for||c:c&&c.withoutSetter||a;e.exports=function(e){return o(l,e)||(l[e]=u&&o(c,e)?c[e]:f("Symbol."+e)),l[e]}},function(e,t,n){"use strict";var r=n(23).a.Symbol;t.a=r},function(e,t,n){var r=n(527),i=n(57),o=n(129),a=r(r.bind);e.exports=function(e,t){return i(e),void 0===t?e:o?a(e,t):function(){return e.apply(t,arguments)}}},function(e,t,n){var r=n(16),i=n(96),o=r({}.hasOwnProperty);e.exports=Object.hasOwn||function(e,t){return o(i(e),t)}},function(e,t,n){var r=n(38).has;e.exports=function(e){return r(e),e}},function(e,t,n){var r=n(585),i=n(31),o=n(228),a=n(53).f;e.exports=function(e){var t=r.Symbol||(r.Symbol={});i(t,e)||a(t,e,{value:o.f(e)})}},function(e,t,n){"use strict";var r=n(78),i=n(79);t.a=function(e){return null!=e&&Object(i.a)(e.length)&&!Object(r.a)(e)}},function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=n(71);function i(){i=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,o=Object.defineProperty||function(e,t,n){e[t]=n.value},a="function"==typeof Symbol?Symbol:{},u=a.iterator||"@@iterator",s=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(_){l=function(e,t,n){return e[t]=n}}function f(e,t,n,r){var i=t&&t.prototype instanceof p?t:p,a=Object.create(i.prototype),u=new T(r||[]);return o(a,"_invoke",{value:k(e,n,u)}),a}function h(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(_){return{type:"throw",arg:_}}}e.wrap=f;var d={};function p(){}function v(){}function g(){}var y={};l(y,u,function(){return this});var m=Object.getPrototypeOf,b=m&&m(m(j([])));b&&b!==t&&n.call(b,u)&&(y=b);var w=g.prototype=p.prototype=Object.create(y);function E(e){["next","throw","return"].forEach(function(t){l(e,t,function(e){return this._invoke(t,e)})})}function x(e,t){var i;o(this,"_invoke",{value:function(o,a){function u(){return new t(function(i,u){!function i(o,a,u,s){var c=h(e[o],e,a);if("throw"!==c.type){var l=c.arg,f=l.value;return f&&"object"==Object(r.a)(f)&&n.call(f,"__await")?t.resolve(f.__await).then(function(e){i("next",e,u,s)},function(e){i("throw",e,u,s)}):t.resolve(f).then(function(e){l.value=e,u(l)},function(e){return i("throw",e,u,s)})}s(c.arg)}(o,a,i,u)})}return i=i?i.then(u,u):u()}})}function k(e,t,n){var r="suspendedStart";return function(i,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw o;return C()}for(n.method=i,n.arg=o;;){var a=n.delegate;if(a){var u=O(a,n);if(u){if(u===d)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var s=h(e,t,n);if("normal"===s.type){if(r=n.done?"completed":"suspendedYield",s.arg===d)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r="completed",n.method="throw",n.arg=s.arg)}}}function O(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,O(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),d;var i=h(r,e.iterator,t.arg);if("throw"===i.type)return t.method="throw",t.arg=i.arg,t.delegate=null,d;var o=i.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,d):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,d)}function S(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function A(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function T(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(S,this),this.reset(!0)}function j(e){if(e){var t=e[u];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,i=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}return{next:C}}function C(){return{value:void 0,done:!0}}return v.prototype=g,o(w,"constructor",{value:g,configurable:!0}),o(g,"constructor",{value:v,configurable:!0}),v.displayName=l(g,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===v||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,g):(e.__proto__=g,l(e,c,"GeneratorFunction")),e.prototype=Object.create(w),e},e.awrap=function(e){return{__await:e}},E(x.prototype),l(x.prototype,s,function(){return this}),e.AsyncIterator=x,e.async=function(t,n,r,i,o){void 0===o&&(o=Promise);var a=new x(f(t,n,r,i),o);return e.isGeneratorFunction(n)?a:a.next().then(function(e){return e.done?e.value:a.next()})},E(w),l(w,c,"Generator"),l(w,u,function(){return this}),l(w,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=j,T.prototype={constructor:T,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(A),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return a.type="throw",a.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],a=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var u=n.call(o,"catchLoc"),s=n.call(o,"finallyLoc");if(u&&s){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(u){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=e,a.arg=t,o?(this.method="next",this.next=o.finallyLoc,d):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),A(n),d}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;A(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:j(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),d}},e}},function(e,t,n){(function(t){var n=function(e){return e&&e.Math==Math&&e};e.exports=n("object"==typeof globalThis&&globalThis)||n("object"==typeof window&&window)||n("object"==typeof self&&self)||n("object"==typeof t&&t)||function(){return this}()||Function("return this")()}).call(this,n(62))},function(e,t,n){"use strict";var r=n(29),i=Object.prototype,o=i.hasOwnProperty,a=i.toString,u=r.a?r.a.toStringTag:void 0;var s=function(e){var t=o.call(e,u),n=e[u];try{e[u]=void 0;var r=!0}catch(s){}var i=a.call(e);return r&&(t?e[u]=n:delete e[u]),i},c=Object.prototype.toString;var l=function(e){return c.call(e)},f="[object Null]",h="[object Undefined]",d=r.a?r.a.toStringTag:void 0;t.a=function(e){return null==e?void 0===e?h:f:d&&d in Object(e)?s(e):l(e)}},function(e,t,n){var r=n(16),i=Set.prototype;e.exports={Set:Set,add:r(i.add),has:r(i.has),remove:r(i.delete),proto:i,$has:i.has,$keys:i.keys}},function(e,t,n){"use strict";t.a=function(e,t){return e===t||e!==e&&t!==t}},function(e,t,n){"use strict";t.a=function(e){return e}},function(e,t,n){"use strict";var r=n(157),i=n(12),o=n(80);var a=function(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t},u=Object.prototype.hasOwnProperty;var s=function(e){if(!Object(i.a)(e))return a(e);var t=Object(o.a)(e),n=[];for(var r in e)("constructor"!=r||!t&&u.call(e,r))&&n.push(r);return n},c=n(34);t.a=function(e){return Object(c.a)(e)?Object(r.a)(e,!0):s(e)}},function(e,t,n){"use strict";var r=n(78),i=n(23).a["__core-js_shared__"],o=function(){var e=/[^.]+$/.exec(i&&i.keys&&i.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();var a=function(e){return!!o&&o in e},u=n(12),s=n(75),c=/^\[object .+?Constructor\]$/,l=Function.prototype,f=Object.prototype,h=l.toString,d=f.hasOwnProperty,p=RegExp("^"+h.call(d).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");var v=function(e){return!(!Object(u.a)(e)||a(e))&&(Object(r.a)(e)?p:c).test(Object(s.a)(e))};var g=function(e,t){return null==e?void 0:e[t]};t.a=function(e,t){var n=g(e,t);return v(n)?n:void 0}},function(e,t,n){"use strict";var r=n(17);function i(e){return"/"===e.charAt(0)}function o(e,t){for(var n=t,r=n+1,i=e.length;r<i;n+=1,r+=1)e[n]=e[r];e.pop()}var a=function(e,t){void 0===t&&(t="");var n,r=e&&e.split("/")||[],a=t&&t.split("/")||[],u=e&&i(e),s=t&&i(t),c=u||s;if(e&&i(e)?a=r:r.length&&(a.pop(),a=a.concat(r)),!a.length)return"/";if(a.length){var l=a[a.length-1];n="."===l||".."===l||""===l}else n=!1;for(var f=0,h=a.length;h>=0;h--){var d=a[h];"."===d?o(a,h):".."===d?(o(a,h),f++):f&&(o(a,h),f--)}if(!c)for(;f--;f)a.unshift("..");!c||""===a[0]||a[0]&&i(a[0])||a.unshift("");var p=a.join("/");return n&&"/"!==p.substr(-1)&&(p+="/"),p};function u(e){return e.valueOf?e.valueOf():Object.prototype.valueOf.call(e)}var s=function e(t,n){if(t===n)return!0;if(null==t||null==n)return!1;if(Array.isArray(t))return Array.isArray(n)&&t.length===n.length&&t.every(function(t,r){return e(t,n[r])});if("object"===typeof t||"object"===typeof n){var r=u(t),i=u(n);return r!==t||i!==n?e(r,i):Object.keys(Object.assign({},t,n)).every(function(r){return e(t[r],n[r])})}return!1},c=n(51);function l(e){return"/"===e.charAt(0)?e:"/"+e}function f(e){return"/"===e.charAt(0)?e.substr(1):e}function h(e,t){return function(e,t){return 0===e.toLowerCase().indexOf(t.toLowerCase())&&-1!=="/?#".indexOf(e.charAt(t.length))}(e,t)?e.substr(t.length):e}function d(e){return"/"===e.charAt(e.length-1)?e.slice(0,-1):e}function p(e){var t=e.pathname,n=e.search,r=e.hash,i=t||"/";return n&&"?"!==n&&(i+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(i+="#"===r.charAt(0)?r:"#"+r),i}function v(e,t,n,i){var o;"string"===typeof e?(o=function(e){var t=e||"/",n="",r="",i=t.indexOf("#");-1!==i&&(r=t.substr(i),t=t.substr(0,i));var o=t.indexOf("?");return-1!==o&&(n=t.substr(o),t=t.substr(0,o)),{pathname:t,search:"?"===n?"":n,hash:"#"===r?"":r}}(e)).state=t:(void 0===(o=Object(r.a)({},e)).pathname&&(o.pathname=""),o.search?"?"!==o.search.charAt(0)&&(o.search="?"+o.search):o.search="",o.hash?"#"!==o.hash.charAt(0)&&(o.hash="#"+o.hash):o.hash="",void 0!==t&&void 0===o.state&&(o.state=t));try{o.pathname=decodeURI(o.pathname)}catch(u){throw u instanceof URIError?new URIError('Pathname "'+o.pathname+'" could not be decoded. This is likely caused by an invalid percent-encoding.'):u}return n&&(o.key=n),i?o.pathname?"/"!==o.pathname.charAt(0)&&(o.pathname=a(o.pathname,i.pathname)):o.pathname=i.pathname:o.pathname||(o.pathname="/"),o}function g(e,t){return e.pathname===t.pathname&&e.search===t.search&&e.hash===t.hash&&e.key===t.key&&s(e.state,t.state)}function y(){var e=null;var t=[];return{setPrompt:function(t){return e=t,function(){e===t&&(e=null)}},confirmTransitionTo:function(t,n,r,i){if(null!=e){var o="function"===typeof e?e(t,n):e;"string"===typeof o?"function"===typeof r?r(o,i):i(!0):i(!1!==o)}else i(!0)},appendListener:function(e){var n=!0;function r(){n&&e.apply(void 0,arguments)}return t.push(r),function(){n=!1,t=t.filter(function(e){return e!==r})}},notifyListeners:function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];t.forEach(function(e){return e.apply(void 0,n)})}}}n.d(t,"a",function(){return k}),n.d(t,"b",function(){return C}),n.d(t,"d",function(){return P}),n.d(t,"c",function(){return v}),n.d(t,"f",function(){return g}),n.d(t,"e",function(){return p});var m=!("undefined"===typeof window||!window.document||!window.document.createElement);function b(e,t){t(window.confirm(e))}var w="popstate",E="hashchange";function x(){try{return window.history.state||{}}catch(e){return{}}}function k(e){void 0===e&&(e={}),m||Object(c.a)(!1);var t=window.history,n=function(){var e=window.navigator.userAgent;return(-1===e.indexOf("Android 2.")&&-1===e.indexOf("Android 4.0")||-1===e.indexOf("Mobile Safari")||-1!==e.indexOf("Chrome")||-1!==e.indexOf("Windows Phone"))&&window.history&&"pushState"in window.history}(),i=!(-1===window.navigator.userAgent.indexOf("Trident")),o=e,a=o.forceRefresh,u=void 0!==a&&a,s=o.getUserConfirmation,f=void 0===s?b:s,g=o.keyLength,k=void 0===g?6:g,O=e.basename?d(l(e.basename)):"";function S(e){var t=e||{},n=t.key,r=t.state,i=window.location,o=i.pathname+i.search+i.hash;return O&&(o=h(o,O)),v(o,r,n)}function A(){return Math.random().toString(36).substr(2,k)}var T=y();function j(e){Object(r.a)(z,e),z.length=t.length,T.notifyListeners(z.location,z.action)}function C(e){(function(e){return void 0===e.state&&-1===navigator.userAgent.indexOf("CriOS")})(e)||M(S(e.state))}function _(){M(S(x()))}var P=!1;function M(e){if(P)P=!1,j();else{T.confirmTransitionTo(e,"POP",f,function(t){t?j({action:"POP",location:e}):function(e){var t=z.location,n=R.indexOf(t.key);-1===n&&(n=0);var r=R.indexOf(e.key);-1===r&&(r=0);var i=n-r;i&&(P=!0,I(i))}(e)})}}var N=S(x()),R=[N.key];function L(e){return O+p(e)}function I(e){t.go(e)}var D=0;function B(e){1===(D+=e)&&1===e?(window.addEventListener(w,C),i&&window.addEventListener(E,_)):0===D&&(window.removeEventListener(w,C),i&&window.removeEventListener(E,_))}var F=!1;var z={length:t.length,action:"POP",location:N,createHref:L,push:function(e,r){var i=v(e,r,A(),z.location);T.confirmTransitionTo(i,"PUSH",f,function(e){if(e){var r=L(i),o=i.key,a=i.state;if(n)if(t.pushState({key:o,state:a},null,r),u)window.location.href=r;else{var s=R.indexOf(z.location.key),c=R.slice(0,s+1);c.push(i.key),R=c,j({action:"PUSH",location:i})}else window.location.href=r}})},replace:function(e,r){var i=v(e,r,A(),z.location);T.confirmTransitionTo(i,"REPLACE",f,function(e){if(e){var r=L(i),o=i.key,a=i.state;if(n)if(t.replaceState({key:o,state:a},null,r),u)window.location.replace(r);else{var s=R.indexOf(z.location.key);-1!==s&&(R[s]=i.key),j({action:"REPLACE",location:i})}else window.location.replace(r)}})},go:I,goBack:function(){I(-1)},goForward:function(){I(1)},block:function(e){void 0===e&&(e=!1);var t=T.setPrompt(e);return F||(B(1),F=!0),function(){return F&&(F=!1,B(-1)),t()}},listen:function(e){var t=T.appendListener(e);return B(1),function(){B(-1),t()}}};return z}var O="hashchange",S={hashbang:{encodePath:function(e){return"!"===e.charAt(0)?e:"!/"+f(e)},decodePath:function(e){return"!"===e.charAt(0)?e.substr(1):e}},noslash:{encodePath:f,decodePath:l},slash:{encodePath:l,decodePath:l}};function A(e){var t=e.indexOf("#");return-1===t?e:e.slice(0,t)}function T(){var e=window.location.href,t=e.indexOf("#");return-1===t?"":e.substring(t+1)}function j(e){window.location.replace(A(window.location.href)+"#"+e)}function C(e){void 0===e&&(e={}),m||Object(c.a)(!1);var t=window.history,n=(window.navigator.userAgent.indexOf("Firefox"),e),i=n.getUserConfirmation,o=void 0===i?b:i,a=n.hashType,u=void 0===a?"slash":a,s=e.basename?d(l(e.basename)):"",f=S[u],g=f.encodePath,w=f.decodePath;function E(){var e=w(T());return s&&(e=h(e,s)),v(e)}var x=y();function k(e){Object(r.a)(z,e),z.length=t.length,x.notifyListeners(z.location,z.action)}var C=!1,_=null;function P(){var e,t,n=T(),r=g(n);if(n!==r)j(r);else{var i=E(),a=z.location;if(!C&&(t=i,(e=a).pathname===t.pathname&&e.search===t.search&&e.hash===t.hash))return;if(_===p(i))return;_=null,function(e){if(C)C=!1,k();else{x.confirmTransitionTo(e,"POP",o,function(t){t?k({action:"POP",location:e}):function(e){var t=z.location,n=L.lastIndexOf(p(t));-1===n&&(n=0);var r=L.lastIndexOf(p(e));-1===r&&(r=0);var i=n-r;i&&(C=!0,I(i))}(e)})}}(i)}}var M=T(),N=g(M);M!==N&&j(N);var R=E(),L=[p(R)];function I(e){t.go(e)}var D=0;function B(e){1===(D+=e)&&1===e?window.addEventListener(O,P):0===D&&window.removeEventListener(O,P)}var F=!1;var z={length:t.length,action:"POP",location:R,createHref:function(e){var t=document.querySelector("base"),n="";return t&&t.getAttribute("href")&&(n=A(window.location.href)),n+"#"+g(s+p(e))},push:function(e,t){var n=v(e,void 0,void 0,z.location);x.confirmTransitionTo(n,"PUSH",o,function(e){if(e){var t=p(n),r=g(s+t);if(T()!==r){_=t,function(e){window.location.hash=e}(r);var i=L.lastIndexOf(p(z.location)),o=L.slice(0,i+1);o.push(t),L=o,k({action:"PUSH",location:n})}else k()}})},replace:function(e,t){var n=v(e,void 0,void 0,z.location);x.confirmTransitionTo(n,"REPLACE",o,function(e){if(e){var t=p(n),r=g(s+t);T()!==r&&(_=t,j(r));var i=L.indexOf(p(z.location));-1!==i&&(L[i]=t),k({action:"REPLACE",location:n})}})},go:I,goBack:function(){I(-1)},goForward:function(){I(1)},block:function(e){void 0===e&&(e=!1);var t=x.setPrompt(e);return F||(B(1),F=!0),function(){return F&&(F=!1,B(-1)),t()}},listen:function(e){var t=x.appendListener(e);return B(1),function(){B(-1),t()}}};return z}function _(e,t,n){return Math.min(Math.max(e,t),n)}function P(e){void 0===e&&(e={});var t=e,n=t.getUserConfirmation,i=t.initialEntries,o=void 0===i?["/"]:i,a=t.initialIndex,u=void 0===a?0:a,s=t.keyLength,c=void 0===s?6:s,l=y();function f(e){Object(r.a)(w,e),w.length=w.entries.length,l.notifyListeners(w.location,w.action)}function h(){return Math.random().toString(36).substr(2,c)}var d=_(u,0,o.length-1),g=o.map(function(e){return v(e,void 0,"string"===typeof e?h():e.key||h())}),m=p;function b(e){var t=_(w.index+e,0,w.entries.length-1),r=w.entries[t];l.confirmTransitionTo(r,"POP",n,function(e){e?f({action:"POP",location:r,index:t}):f()})}var w={length:g.length,action:"POP",location:g[d],index:d,entries:g,createHref:m,push:function(e,t){var r=v(e,t,h(),w.location);l.confirmTransitionTo(r,"PUSH",n,function(e){if(e){var t=w.index+1,n=w.entries.slice(0);n.length>t?n.splice(t,n.length-t,r):n.push(r),f({action:"PUSH",location:r,index:t,entries:n})}})},replace:function(e,t){var r=v(e,t,h(),w.location);l.confirmTransitionTo(r,"REPLACE",n,function(e){e&&(w.entries[w.index]=r,f({action:"REPLACE",location:r}))})},go:b,goBack:function(){b(-1)},goForward:function(){b(1)},canGo:function(e){var t=w.index+e;return t>=0&&t<w.entries.length},block:function(e){return void 0===e&&(e=!1),l.setPrompt(e)},listen:function(e){return l.appendListener(e)}};return w}},function(e,t,n){var r=n(20),i=n(197),o=i.all;e.exports=i.IS_HTMLDDA?function(e){return"object"==typeof e?null!==e:r(e)||e===o}:function(e){return"object"==typeof e?null!==e:r(e)}},function(e,t,n){var r=n(26);e.exports=!r(function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]})},function(e,t,n){var r=n(64).has;e.exports=function(e){return r(e),e}},function(e,t,n){"use strict";(function(e){var r=n(23),i=n(139),o="object"==typeof exports&&exports&&!exports.nodeType&&exports,a=o&&"object"==typeof e&&e&&!e.nodeType&&e,u=a&&a.exports===o?r.a.Buffer:void 0,s=(u?u.isBuffer:void 0)||i.a;t.a=s}).call(this,n(185)(e))},function(e,t,n){"use strict";var r=n(37),i=n(22),o="[object Arguments]";var a=function(e){return Object(i.a)(e)&&Object(r.a)(e)==o},u=Object.prototype,s=u.hasOwnProperty,c=u.propertyIsEnumerable,l=a(function(){return arguments}())?a:function(e){return Object(i.a)(e)&&s.call(e,"callee")&&!c.call(e,"callee")};t.a=l},function(e,t){function n(e,t,n,r,i,o,a){try{var u=e[o](a),s=u.value}catch(c){return void n(c)}u.done?t(s):Promise.resolve(s).then(r,i)}e.exports=function(e){return function(){var t=this,r=arguments;return new Promise(function(i,o){var a=e.apply(t,r);function u(e){n(a,i,o,u,s,"next",e)}function s(e){n(a,i,o,u,s,"throw",e)}u(void 0)})}},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=n(144);function i(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,Object(r.a)(e,t)}},function(e,t,n){"use strict";n.d(t,"a",function(){return o});var r=!0,i="Invariant failed";function o(e,t){if(!e){if(r)throw new Error(i);var n="function"===typeof t?t():t,o=n?"".concat(i,": ").concat(n):i;throw new Error(o)}}},function(e,t,n){"use strict";(function(e){n.d(t,"a",function(){return g}),n.d(t,"b",function(){return l}),n.d(t,"c",function(){return d}),n.d(t,"d",function(){return y}),n.d(t,"e",function(){return pa}),n.d(t,"f",function(){return va}),n.d(t,"g",function(){return ga}),n.d(t,"h",function(){return f});var r=n(124),i=n(5),o=n(2),a=n(3),u=n(14),s=n(1),c=n(0),l={graph:{meta:{rankDir:"TB",nodeSep:50,rankSep:50,edgeSep:5,align:void 0}},subScene:{meta:{paddingTop:20,paddingBottom:20,paddingLeft:20,paddingRight:20,labelHeight:20}},nodeSize:{meta:{width:100,maxLabelWidth:0,height:20},node:{width:80,height:20,labelOffset:10,maxLabelWidth:40},bridge:{width:5,height:5,radius:2,labelOffset:0}}};function f(){var e,t,n,r,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:l,a=JSON.parse(JSON.stringify(o)),u=(null===(e=null==i?void 0:i.graph)||void 0===e?void 0:e.meta)||{},s=(null===(t=null==i?void 0:i.subScene)||void 0===t?void 0:t.meta)||{},c=(null===(n=null==i?void 0:i.nodeSize)||void 0===n?void 0:n.meta)||{},f=(null===(r=null==i?void 0:i.nodeSize)||void 0===r?void 0:r.node)||{},h=a.nodeSize.bridge;return{graph:{meta:Object.assign(a.graph.meta,u)},subScene:{meta:Object.assign(a.subScene.meta,s)},nodeSize:{meta:Object.assign(a.nodeSize.meta,c),node:Object.assign(a.nodeSize.node,f),bridge:h}}}function h(e){return"\u25ec".concat(e,"\u25ec")}var d,p,v,g,y=h("ROOT"),m=h("BRIDGE_GRAPH");!function(e){e[e.META=0]="META",e[e.NODE=1]="NODE",e[e.BRIDGE=2]="BRIDGE"}(d||(d={})),function(e){e[e.INCLUDE=0]="INCLUDE",e[e.EXCLUDE=1]="EXCLUDE",e[e.UNSPECIFIED=2]="UNSPECIFIED"}(p||(p={})),function(e){e[e.META=0]="META",e[e.CORE=1]="CORE",e[e.BRIDGE=2]="BRIDGE"}(v||(v={})),function(e){e[e.META=0]="META",e[e.OP=1]="OP",e[e.SERIES=2]="SERIES"}(g||(g={}));var b="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof e?e:"undefined"!=typeof self?self:{};function w(e,t){return e(t={exports:{}},t.exports),t.exports}var E=function(e,t){return e===t||e!=e&&t!=t},x=function(e,t){for(var n=e.length;n--;)if(E(e[n][0],t))return n;return-1},k=Array.prototype.splice;function O(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}O.prototype.clear=function(){this.__data__=[],this.size=0},O.prototype.delete=function(e){var t=this.__data__,n=x(t,e);return!(n<0)&&(n==t.length-1?t.pop():k.call(t,n,1),--this.size,!0)},O.prototype.get=function(e){var t=this.__data__,n=x(t,e);return n<0?void 0:t[n][1]},O.prototype.has=function(e){return x(this.__data__,e)>-1},O.prototype.set=function(e,t){var n=this.__data__,r=x(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this};var S,A=O,T="object"==typeof b&&b&&b.Object===Object&&b,j="object"==typeof self&&self&&self.Object===Object&&self,C=T||j||Function("return this")(),_=C.Symbol,P=Object.prototype,M=P.hasOwnProperty,N=P.toString,R=_?_.toStringTag:void 0,L=Object.prototype.toString,I=_?_.toStringTag:void 0,D=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":I&&I in Object(e)?function(e){var t=M.call(e,R),n=e[R];try{e[R]=void 0;var r=!0}catch(e){}var i=N.call(e);return r&&(t?e[R]=n:delete e[R]),i}(e):function(e){return L.call(e)}(e)},B=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)},F=function(e){if(!B(e))return!1;var t=D(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t},z=C["__core-js_shared__"],V=(S=/[^.]+$/.exec(z&&z.keys&&z.keys.IE_PROTO||""))?"Symbol(src)_1."+S:"",U=Function.prototype.toString,G=function(e){if(null!=e){try{return U.call(e)}catch(e){}try{return e+""}catch(e){}}return""},H=/^\[object .+?Constructor\]$/,W=Function.prototype,q=Object.prototype,X=W.toString,Y=q.hasOwnProperty,$=RegExp("^"+X.call(Y).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),J=function(e){return!(!B(e)||function(e){return!!V&&V in e}(e))&&(F(e)?$:H).test(G(e))},Q=function(e,t){var n=function(e,t){return null==e?void 0:e[t]}(e,t);return J(n)?n:void 0},K=Q(C,"Map"),Z=Q(Object,"create"),ee=Object.prototype.hasOwnProperty,te=Object.prototype.hasOwnProperty;function ne(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}ne.prototype.clear=function(){this.__data__=Z?Z(null):{},this.size=0},ne.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},ne.prototype.get=function(e){var t=this.__data__;if(Z){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return ee.call(t,e)?t[e]:void 0},ne.prototype.has=function(e){var t=this.__data__;return Z?void 0!==t[e]:te.call(t,e)},ne.prototype.set=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=Z&&void 0===t?"__lodash_hash_undefined__":t,this};var re=ne,ie=function(e,t){var n=e.__data__;return function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}(t)?n["string"==typeof t?"string":"hash"]:n.map};function oe(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}oe.prototype.clear=function(){this.size=0,this.__data__={hash:new re,map:new(K||A),string:new re}},oe.prototype.delete=function(e){var t=ie(this,e).delete(e);return this.size-=t?1:0,t},oe.prototype.get=function(e){return ie(this,e).get(e)},oe.prototype.has=function(e){return ie(this,e).has(e)},oe.prototype.set=function(e,t){var n=ie(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this};var ae=oe;function ue(e){var t=this.__data__=new A(e);this.size=t.size}ue.prototype.clear=function(){this.__data__=new A,this.size=0},ue.prototype.delete=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},ue.prototype.get=function(e){return this.__data__.get(e)},ue.prototype.has=function(e){return this.__data__.has(e)},ue.prototype.set=function(e,t){var n=this.__data__;if(n instanceof A){var r=n.__data__;if(!K||r.length<199)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new ae(r)}return n.set(e,t),this.size=n.size,this};var se=ue,ce=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e},le=function(){try{var e=Q(Object,"defineProperty");return e({},"",{}),e}catch(e){}}(),fe=function(e,t,n){"__proto__"==t&&le?le(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n},he=Object.prototype.hasOwnProperty,de=function(e,t,n){var r=e[t];he.call(e,t)&&E(r,n)&&(void 0!==n||t in e)||fe(e,t,n)},pe=function(e,t,n,r){var i=!n;n||(n={});for(var o=-1,a=t.length;++o<a;){var u=t[o],s=r?r(n[u],e[u],u,n,e):void 0;void 0===s&&(s=e[u]),i?fe(n,u,s):de(n,u,s)}return n},ve=function(e){return null!=e&&"object"==typeof e},ge=function(e){return ve(e)&&"[object Arguments]"==D(e)},ye=Object.prototype,me=ye.hasOwnProperty,be=ye.propertyIsEnumerable,we=ge(function(){return arguments}())?ge:function(e){return ve(e)&&me.call(e,"callee")&&!be.call(e,"callee")},Ee=Array.isArray,xe=function(){return!1},ke=w(function(e,t){var n=t&&!t.nodeType&&t,r=n&&e&&!e.nodeType&&e,i=r&&r.exports===n?C.Buffer:void 0,o=(i?i.isBuffer:void 0)||xe;e.exports=o}),Oe=/^(?:0|[1-9]\d*)$/,Se=function(e,t){var n=typeof e;return!!(t=null==t?9007199254740991:t)&&("number"==n||"symbol"!=n&&Oe.test(e))&&e>-1&&e%1==0&&e<t},Ae=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991},Te={};Te["[object Float32Array]"]=Te["[object Float64Array]"]=Te["[object Int8Array]"]=Te["[object Int16Array]"]=Te["[object Int32Array]"]=Te["[object Uint8Array]"]=Te["[object Uint8ClampedArray]"]=Te["[object Uint16Array]"]=Te["[object Uint32Array]"]=!0,Te["[object Arguments]"]=Te["[object Array]"]=Te["[object ArrayBuffer]"]=Te["[object Boolean]"]=Te["[object DataView]"]=Te["[object Date]"]=Te["[object Error]"]=Te["[object Function]"]=Te["[object Map]"]=Te["[object Number]"]=Te["[object Object]"]=Te["[object RegExp]"]=Te["[object Set]"]=Te["[object String]"]=Te["[object WeakMap]"]=!1;var je=function(e){return function(t){return e(t)}},Ce=w(function(e,t){var n=t&&!t.nodeType&&t,r=n&&e&&!e.nodeType&&e,i=r&&r.exports===n&&T.process,o=function(){try{return r&&r.require&&r.require("util").types||i&&i.binding&&i.binding("util")}catch(e){}}();e.exports=o}),_e=Ce&&Ce.isTypedArray,Pe=_e?je(_e):function(e){return ve(e)&&Ae(e.length)&&!!Te[D(e)]},Me=Object.prototype.hasOwnProperty,Ne=function(e,t){var n=Ee(e),r=!n&&we(e),i=!n&&!r&&ke(e),o=!n&&!r&&!i&&Pe(e),a=n||r||i||o,u=a?function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}(e.length,String):[],s=u.length;for(var c in e)!t&&!Me.call(e,c)||a&&("length"==c||i&&("offset"==c||"parent"==c)||o&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||Se(c,s))||u.push(c);return u},Re=Object.prototype,Le=function(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||Re)},Ie=function(e,t){return function(n){return e(t(n))}},De=Ie(Object.keys,Object),Be=Object.prototype.hasOwnProperty,Fe=function(e){if(!Le(e))return De(e);var t=[];for(var n in Object(e))Be.call(e,n)&&"constructor"!=n&&t.push(n);return t},ze=function(e){return null!=e&&Ae(e.length)&&!F(e)},Ve=function(e){return ze(e)?Ne(e):Fe(e)},Ue=Object.prototype.hasOwnProperty,Ge=function(e){if(!B(e))return function(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t}(e);var t=Le(e),n=[];for(var r in e)("constructor"!=r||!t&&Ue.call(e,r))&&n.push(r);return n},He=function(e){return ze(e)?Ne(e,!0):Ge(e)},We=w(function(e,t){var n=t&&!t.nodeType&&t,r=n&&e&&!e.nodeType&&e,i=r&&r.exports===n?C.Buffer:void 0,o=i?i.allocUnsafe:void 0;e.exports=function(e,t){if(t)return e.slice();var n=e.length,r=o?o(n):new e.constructor(n);return e.copy(r),r}}),qe=function(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t},Xe=function(e,t){for(var n=-1,r=null==e?0:e.length,i=0,o=[];++n<r;){var a=e[n];t(a,n,e)&&(o[i++]=a)}return o},Ye=function(){return[]},$e=Object.prototype.propertyIsEnumerable,Je=Object.getOwnPropertySymbols,Qe=Je?function(e){return null==e?[]:(e=Object(e),Xe(Je(e),function(t){return $e.call(e,t)}))}:Ye,Ke=function(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e},Ze=Ie(Object.getPrototypeOf,Object),et=Object.getOwnPropertySymbols?function(e){for(var t=[];e;)Ke(t,Qe(e)),e=Ze(e);return t}:Ye,tt=function(e,t,n){var r=t(e);return Ee(e)?r:Ke(r,n(e))},nt=function(e){return tt(e,Ve,Qe)},rt=Q(C,"DataView"),it=Q(C,"Promise"),ot=Q(C,"Set"),at=Q(C,"WeakMap"),ut=G(rt),st=G(K),ct=G(it),lt=G(ot),ft=G(at),ht=D;(rt&&"[object DataView]"!=ht(new rt(new ArrayBuffer(1)))||K&&"[object Map]"!=ht(new K)||it&&"[object Promise]"!=ht(it.resolve())||ot&&"[object Set]"!=ht(new ot)||at&&"[object WeakMap]"!=ht(new at))&&(ht=function(e){var t=D(e),n="[object Object]"==t?e.constructor:void 0,r=n?G(n):"";if(r)switch(r){case ut:return"[object DataView]";case st:return"[object Map]";case ct:return"[object Promise]";case lt:return"[object Set]";case ft:return"[object WeakMap]"}return t});var dt=ht,pt=Object.prototype.hasOwnProperty,vt=C.Uint8Array,gt=function(e){var t=new e.constructor(e.byteLength);return new vt(t).set(new vt(e)),t},yt=/\w*$/,mt=_?_.prototype:void 0,bt=mt?mt.valueOf:void 0,wt=function(e,t){var n=t?gt(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)},Et=function(e,t,n){var r=e.constructor;switch(t){case"[object ArrayBuffer]":return gt(e);case"[object Boolean]":case"[object Date]":return new r(+e);case"[object DataView]":return function(e,t){var n=t?gt(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}(e,n);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return wt(e,n);case"[object Map]":return new r;case"[object Number]":case"[object String]":return new r(e);case"[object RegExp]":return function(e){var t=new e.constructor(e.source,yt.exec(e));return t.lastIndex=e.lastIndex,t}(e);case"[object Set]":return new r;case"[object Symbol]":return function(e){return bt?Object(bt.call(e)):{}}(e)}},xt=Object.create,kt=function(){function e(){}return function(t){if(!B(t))return{};if(xt)return xt(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}(),Ot=function(e){return"function"!=typeof e.constructor||Le(e)?{}:kt(Ze(e))},St=Ce&&Ce.isMap,At=St?je(St):function(e){return ve(e)&&"[object Map]"==dt(e)},Tt=Ce&&Ce.isSet,jt=Tt?je(Tt):function(e){return ve(e)&&"[object Set]"==dt(e)},Ct={};Ct["[object Arguments]"]=Ct["[object Array]"]=Ct["[object ArrayBuffer]"]=Ct["[object DataView]"]=Ct["[object Boolean]"]=Ct["[object Date]"]=Ct["[object Float32Array]"]=Ct["[object Float64Array]"]=Ct["[object Int8Array]"]=Ct["[object Int16Array]"]=Ct["[object Int32Array]"]=Ct["[object Map]"]=Ct["[object Number]"]=Ct["[object Object]"]=Ct["[object RegExp]"]=Ct["[object Set]"]=Ct["[object String]"]=Ct["[object Symbol]"]=Ct["[object Uint8Array]"]=Ct["[object Uint8ClampedArray]"]=Ct["[object Uint16Array]"]=Ct["[object Uint32Array]"]=!0,Ct["[object Error]"]=Ct["[object Function]"]=Ct["[object WeakMap]"]=!1;var _t=function e(t,n,r,i,o,a){var u,s=1&n,c=2&n,l=4&n;if(r&&(u=o?r(t,i,o,a):r(t)),void 0!==u)return u;if(!B(t))return t;var f=Ee(t);if(f){if(u=function(e){var t=e.length,n=new e.constructor(t);return t&&"string"==typeof e[0]&&pt.call(e,"index")&&(n.index=e.index,n.input=e.input),n}(t),!s)return qe(t,u)}else{var h=dt(t),d="[object Function]"==h||"[object GeneratorFunction]"==h;if(ke(t))return We(t,s);if("[object Object]"==h||"[object Arguments]"==h||d&&!o){if(u=c||d?{}:Ot(t),!s)return c?function(e,t){return pe(e,et(e),t)}(t,function(e,t){return e&&pe(t,He(t),e)}(u,t)):function(e,t){return pe(e,Qe(e),t)}(t,function(e,t){return e&&pe(t,Ve(t),e)}(u,t))}else{if(!Ct[h])return o?t:{};u=Et(t,h,s)}}a||(a=new se);var p=a.get(t);if(p)return p;a.set(t,u),jt(t)?t.forEach(function(i){u.add(e(i,n,r,i,t,a))}):At(t)&&t.forEach(function(i,o){u.set(o,e(i,n,r,o,t,a))});var v=f?void 0:(l?c?function(e){return tt(e,He,et)}:nt:c?He:Ve)(t);return ce(v||t,function(i,o){v&&(i=t[o=i]),de(u,o,e(i,n,r,o,t,a))}),u},Pt=function(e){return function(){return e}},Mt=function(e,t,n){for(var r=-1,i=Object(e),o=n(e),a=o.length;a--;){var u=o[++r];if(!1===t(i[u],u,i))break}return e},Nt=function(e,t){return e&&Mt(e,t,Ve)},Rt=function(e,t){return function(t,n){if(null==t)return t;if(!ze(t))return e(t,n);for(var r=t.length,i=-1,o=Object(t);++i<r&&!1!==n(o[i],i,o););return t}}(Nt),Lt=function(e){return e},It=function(e){return"function"==typeof e?e:Lt},Dt=function(e,t){return(Ee(e)?ce:Rt)(e,It(t))},Bt=Dt;function Ft(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new ae;++t<n;)this.add(e[t])}Ft.prototype.add=Ft.prototype.push=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this},Ft.prototype.has=function(e){return this.__data__.has(e)};var zt=Ft,Vt=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1},Ut=function(e,t){return e.has(t)},Gt=function(e,t,n,r,i,o){var a=1&n,u=e.length,s=t.length;if(u!=s&&!(a&&s>u))return!1;var c=o.get(e),l=o.get(t);if(c&&l)return c==t&&l==e;var f=-1,h=!0,d=2&n?new zt:void 0;for(o.set(e,t),o.set(t,e);++f<u;){var p=e[f],v=t[f];if(r)var g=a?r(v,p,f,t,e,o):r(p,v,f,e,t,o);if(void 0!==g){if(g)continue;h=!1;break}if(d){if(!Vt(t,function(e,t){if(!Ut(d,t)&&(p===e||i(p,e,n,r,o)))return d.push(t)})){h=!1;break}}else if(p!==v&&!i(p,v,n,r,o)){h=!1;break}}return o.delete(e),o.delete(t),h},Ht=function(e){var t=-1,n=Array(e.size);return e.forEach(function(e,r){n[++t]=[r,e]}),n},Wt=function(e){var t=-1,n=Array(e.size);return e.forEach(function(e){n[++t]=e}),n},qt=_?_.prototype:void 0,Xt=qt?qt.valueOf:void 0,Yt=function(e,t,n,r,i,o,a){switch(n){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!o(new vt(e),new vt(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return E(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var u=Ht;case"[object Set]":var s=1&r;if(u||(u=Wt),e.size!=t.size&&!s)return!1;var c=a.get(e);if(c)return c==t;r|=2,a.set(e,t);var l=Gt(u(e),u(t),r,i,o,a);return a.delete(e),l;case"[object Symbol]":if(Xt)return Xt.call(e)==Xt.call(t)}return!1},$t=Object.prototype.hasOwnProperty,Jt=Object.prototype.hasOwnProperty,Qt=function(e,t,n,r,i,o){var a=Ee(e),u=Ee(t),s=a?"[object Array]":dt(e),c=u?"[object Array]":dt(t),l="[object Object]"==(s="[object Arguments]"==s?"[object Object]":s),f="[object Object]"==(c="[object Arguments]"==c?"[object Object]":c),h=s==c;if(h&&ke(e)){if(!ke(t))return!1;a=!0,l=!1}if(h&&!l)return o||(o=new se),a||Pe(e)?Gt(e,t,n,r,i,o):Yt(e,t,s,n,r,i,o);if(!(1&n)){var d=l&&Jt.call(e,"__wrapped__"),p=f&&Jt.call(t,"__wrapped__");if(d||p){var v=d?e.value():e,g=p?t.value():t;return o||(o=new se),i(v,g,n,r,o)}}return!!h&&(o||(o=new se),function(e,t,n,r,i,o){var a=1&n,u=nt(e),s=u.length;if(s!=nt(t).length&&!a)return!1;for(var c=s;c--;){var l=u[c];if(!(a?l in t:$t.call(t,l)))return!1}var f=o.get(e),h=o.get(t);if(f&&h)return f==t&&h==e;var d=!0;o.set(e,t),o.set(t,e);for(var p=a;++c<s;){var v=e[l=u[c]],g=t[l];if(r)var y=a?r(g,v,l,t,e,o):r(v,g,l,e,t,o);if(!(void 0===y?v===g||i(v,g,n,r,o):y)){d=!1;break}p||(p="constructor"==l)}if(d&&!p){var m=e.constructor,b=t.constructor;m==b||!("constructor"in e)||!("constructor"in t)||"function"==typeof m&&m instanceof m&&"function"==typeof b&&b instanceof b||(d=!1)}return o.delete(e),o.delete(t),d}(e,t,n,r,i,o))},Kt=function e(t,n,r,i,o){return t===n||(null==t||null==n||!ve(t)&&!ve(n)?t!=t&&n!=n:Qt(t,n,r,i,e,o))},Zt=function(e){return e==e&&!B(e)},en=function(e,t){return function(n){return null!=n&&n[e]===t&&(void 0!==t||e in Object(n))}},tn=function(e){var t=function(e){for(var t=Ve(e),n=t.length;n--;){var r=t[n],i=e[r];t[n]=[r,i,Zt(i)]}return t}(e);return 1==t.length&&t[0][2]?en(t[0][0],t[0][1]):function(n){return n===e||function(e,t,n,r){var i=n.length,o=i,a=!r;if(null==e)return!o;for(e=Object(e);i--;){var u=n[i];if(a&&u[2]?u[1]!==e[u[0]]:!(u[0]in e))return!1}for(;++i<o;){var s=(u=n[i])[0],c=e[s],l=u[1];if(a&&u[2]){if(void 0===c&&!(s in e))return!1}else{var f=new se;if(r)var h=r(c,l,s,e,t,f);if(!(void 0===h?Kt(l,c,3,r,f):h))return!1}}return!0}(n,e,t)}},nn=function(e){return"symbol"==typeof e||ve(e)&&"[object Symbol]"==D(e)},rn=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,on=/^\w*$/,an=function(e,t){if(Ee(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!nn(e))||on.test(e)||!rn.test(e)||null!=t&&e in Object(t)};function un(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError("Expected a function");var n=function n(){var r=arguments,i=t?t.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var a=e.apply(this,r);return n.cache=o.set(i,a)||o,a};return n.cache=new(un.Cache||ae),n}un.Cache=ae;var sn,cn=un,ln=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,fn=/\\(\\)?/g,hn=function(e){var t=cn(function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(ln,function(e,n,r,i){t.push(r?i.replace(fn,"$1"):n||e)}),t},function(e){return 500===n.size&&n.clear(),e}),n=t.cache;return t}(),dn=function(e,t){for(var n=-1,r=null==e?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i},pn=_?_.prototype:void 0,vn=pn?pn.toString:void 0,gn=function(e){return null==e?"":function e(t){if("string"==typeof t)return t;if(Ee(t))return dn(t,e)+"";if(nn(t))return vn?vn.call(t):"";var n=t+"";return"0"==n&&1/t==-1/0?"-0":n}(e)},yn=function(e,t){return Ee(e)?e:an(e,t)?[e]:hn(gn(e))},mn=function(e){if("string"==typeof e||nn(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t},bn=function(e,t){for(var n=0,r=(t=yn(t,e)).length;null!=e&&n<r;)e=e[mn(t[n++])];return n&&n==r?e:void 0},wn=function(e,t){return null!=e&&t in Object(e)},En=function(e,t,n){for(var r=-1,i=(t=yn(t,e)).length,o=!1;++r<i;){var a=mn(t[r]);if(!(o=null!=e&&n(e,a)))break;e=e[a]}return o||++r!=i?o:!!(i=null==e?0:e.length)&&Ae(i)&&Se(a,i)&&(Ee(e)||we(e))},xn=function(e,t){return null!=e&&En(e,t,wn)},kn=function(e,t){return an(e)&&Zt(t)?en(mn(e),t):function(n){var r=function(e,t,n){var r=null==e?void 0:bn(e,t);return void 0===r?n:r}(n,e);return void 0===r&&r===t?xn(n,e):Kt(t,r,3)}},On=function(e){return function(t){return null==t?void 0:t[e]}},Sn=function(e){return an(e)?On(mn(e)):function(e){return function(t){return bn(t,e)}}(e)},An=function(e){return"function"==typeof e?e:null==e?Lt:"object"==typeof e?Ee(e)?kn(e[0],e[1]):tn(e):Sn(e)},Tn=function(e,t){return(Ee(e)?Xe:function(e,t){var n=[];return Rt(e,function(e,r,i){t(e,r,i)&&n.push(e)}),n})(e,An(t))},jn=Object.prototype.hasOwnProperty,Cn=function(e,t){return null!=e&&jn.call(e,t)},_n=function(e,t){return null!=e&&En(e,t,Cn)},Pn=Object.prototype.hasOwnProperty,Mn=function(e){return void 0===e},Nn=function(e,t){var n=-1,r=ze(e)?Array(e.length):[];return Rt(e,function(e,i,o){r[++n]=t(e,i,o)}),r},Rn=function(e,t){return(Ee(e)?dn:Nn)(e,An(t))},Ln=function(e,t,n,r){var i=-1,o=null==e?0:e.length;for(r&&o&&(n=e[++i]);++i<o;)n=t(n,e[i],i,e);return n},In=function(e,t,n,r,i){return i(e,function(e,i,o){n=r?(r=!1,e):t(n,e,i,o)}),n},Dn=function(e,t,n){var r=Ee(e)?Ln:In,i=arguments.length<3;return r(e,An(t),n,i,Rt)},Bn=On("length"),Fn=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]"),zn="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",Vn="\\ud83c[\\udffb-\\udfff]",Un="[^\\ud800-\\udfff]",Gn="(?:\\ud83c[\\udde6-\\uddff]){2}",Hn="[\\ud800-\\udbff][\\udc00-\\udfff]",Wn="(?:"+zn+"|"+Vn+")?",qn="[\\ufe0e\\ufe0f]?"+Wn+"(?:\\u200d(?:"+[Un,Gn,Hn].join("|")+")[\\ufe0e\\ufe0f]?"+Wn+")*",Xn="(?:"+[Un+zn+"?",zn,Gn,Hn,"[\\ud800-\\udfff]"].join("|")+")",Yn=RegExp(Vn+"(?="+Vn+")|"+Xn+qn,"g"),$n=function(e){return function(e){return Fn.test(e)}(e)?function(e){for(var t=Yn.lastIndex=0;Yn.test(e);)++t;return t}(e):Bn(e)},Jn=_?_.isConcatSpreadable:void 0,Qn=function(e){return Ee(e)||we(e)||!!(Jn&&e&&e[Jn])},Kn=function e(t,n,r,i,o){var a=-1,u=t.length;for(r||(r=Qn),o||(o=[]);++a<u;){var s=t[a];n>0&&r(s)?n>1?e(s,n-1,r,i,o):Ke(o,s):i||(o[o.length]=s)}return o},Zn=Math.max,er=function(e,t,n){return t=Zn(void 0===t?e.length-1:t,0),function(){for(var r=arguments,i=-1,o=Zn(r.length-t,0),a=Array(o);++i<o;)a[i]=r[t+i];i=-1;for(var u=Array(t+1);++i<t;)u[i]=r[i];return u[t]=n(a),function(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}(e,this,u)}},tr=le?function(e,t){return le(e,"toString",{configurable:!0,enumerable:!1,value:Pt(t),writable:!0})}:Lt,nr=Date.now,rr=function(e){var t=0,n=0;return function(){var r=nr(),i=16-(r-n);if(n=r,i>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}(tr),ir=function(e,t){return rr(er(e,t,Lt),e+"")},or=function(e,t,n,r){for(var i=e.length,o=n+(r?1:-1);r?o--:++o<i;)if(t(e[o],o,e))return o;return-1},ar=function(e){return e!=e},ur=function(e,t){return!(null==e||!e.length)&&function(e,t,n){return t==t?function(e,t,n){for(var r=n-1,i=e.length;++r<i;)if(e[r]===t)return r;return-1}(e,t,n):or(e,ar,n)}(e,t,0)>-1},sr=function(e,t,n){for(var r=-1,i=null==e?0:e.length;++r<i;)if(n(t,e[r]))return!0;return!1},cr=ot&&1/Wt(new ot([,-0]))[1]==1/0?function(e){return new ot(e)}:function(){},lr=function(e){return ve(e)&&ze(e)},fr=ir(function(e){return function(e,t,n){var r=-1,i=ur,o=e.length,a=!0,u=[],s=u;if(n)a=!1,i=sr;else if(o>=200){var c=t?null:cr(e);if(c)return Wt(c);a=!1,i=Ut,s=new zt}else s=t?[]:u;e:for(;++r<o;){var l=e[r],f=t?t(l):l;if(l=n||0!==l?l:0,a&&f==f){for(var h=s.length;h--;)if(s[h]===f)continue e;t&&s.push(f),u.push(l)}else i(s,f,n)||(s!==u&&s.push(f),u.push(l))}return u}(Kn(e,1,lr,!0))}),hr=function(e){return null==e?[]:function(e,t){return dn(t,function(t){return e[t]})}(e,Ve(e))};try{sn={clone:function(e){return _t(e,4)},constant:Pt,each:Bt,filter:Tn,has:_n,isArray:Ee,isEmpty:function(e){if(null==e)return!0;if(ze(e)&&(Ee(e)||"string"==typeof e||"function"==typeof e.splice||ke(e)||Pe(e)||we(e)))return!e.length;var t=dt(e);if("[object Map]"==t||"[object Set]"==t)return!e.size;if(Le(e))return!Fe(e).length;for(var n in e)if(Pn.call(e,n))return!1;return!0},isFunction:F,isUndefined:Mn,keys:Ve,map:Rn,reduce:Dn,size:function(e){if(null==e)return 0;if(ze(e))return function(e){return"string"==typeof e||!Ee(e)&&ve(e)&&"[object String]"==D(e)}(e)?$n(e):e.length;var t=dt(e);return"[object Map]"==t||"[object Set]"==t?e.size:Fe(e).length},transform:function(e,t,n){var r=Ee(e),i=r||ke(e)||Pe(e);if(t=An(t),null==n){var o=e&&e.constructor;n=i?r?new o:[]:B(e)&&F(o)?kt(Ze(e)):{}}return(i?ce:Nt)(e,function(e,r,i){return t(n,e,r,i)}),n},union:fr,values:hr}}catch(l){}sn||(sn=window._);var dr=sn,pr=vr;function vr(e){this._isDirected=!dr.has(e,"directed")||e.directed,this._isMultigraph=!!dr.has(e,"multigraph")&&e.multigraph,this._isCompound=!!dr.has(e,"compound")&&e.compound,this._label=void 0,this._defaultNodeLabelFn=dr.constant(void 0),this._defaultEdgeLabelFn=dr.constant(void 0),this._nodes={},this._isCompound&&(this._parent={},this._children={},this._children["\0"]={}),this._in={},this._preds={},this._out={},this._sucs={},this._edgeObjs={},this._edgeLabels={}}function gr(e,t){e[t]?e[t]++:e[t]=1}function yr(e,t){--e[t]||delete e[t]}function mr(e,t,n,r){var i=""+t,o=""+n;if(!e&&i>o){var a=i;i=o,o=a}return i+"\x01"+o+"\x01"+(dr.isUndefined(r)?"\0":r)}function br(e,t){return mr(e,t.v,t.w,t.name)}vr.prototype._nodeCount=0,vr.prototype._edgeCount=0,vr.prototype.isDirected=function(){return this._isDirected},vr.prototype.isMultigraph=function(){return this._isMultigraph},vr.prototype.isCompound=function(){return this._isCompound},vr.prototype.setGraph=function(e){return this._label=e,this},vr.prototype.graph=function(){return this._label},vr.prototype.setDefaultNodeLabel=function(e){return dr.isFunction(e)||(e=dr.constant(e)),this._defaultNodeLabelFn=e,this},vr.prototype.nodeCount=function(){return this._nodeCount},vr.prototype.nodes=function(){return dr.keys(this._nodes)},vr.prototype.sources=function(){var e=this;return dr.filter(this.nodes(),function(t){return dr.isEmpty(e._in[t])})},vr.prototype.sinks=function(){var e=this;return dr.filter(this.nodes(),function(t){return dr.isEmpty(e._out[t])})},vr.prototype.setNodes=function(e,t){var n=arguments,r=this;return dr.each(e,function(e){n.length>1?r.setNode(e,t):r.setNode(e)}),this},vr.prototype.setNode=function(e,t){return dr.has(this._nodes,e)?(arguments.length>1&&(this._nodes[e]=t),this):(this._nodes[e]=arguments.length>1?t:this._defaultNodeLabelFn(e),this._isCompound&&(this._parent[e]="\0",this._children[e]={},this._children["\0"][e]=!0),this._in[e]={},this._preds[e]={},this._out[e]={},this._sucs[e]={},++this._nodeCount,this)},vr.prototype.node=function(e){return this._nodes[e]},vr.prototype.hasNode=function(e){return dr.has(this._nodes,e)},vr.prototype.removeNode=function(e){var t=this;if(dr.has(this._nodes,e)){var n=function(e){t.removeEdge(t._edgeObjs[e])};delete this._nodes[e],this._isCompound&&(this._removeFromParentsChildList(e),delete this._parent[e],dr.each(this.children(e),function(e){t.setParent(e)}),delete this._children[e]),dr.each(dr.keys(this._in[e]),n),delete this._in[e],delete this._preds[e],dr.each(dr.keys(this._out[e]),n),delete this._out[e],delete this._sucs[e],--this._nodeCount}return this},vr.prototype.setParent=function(e,t){if(!this._isCompound)throw new Error("Cannot set parent in a non-compound graph");if(dr.isUndefined(t))t="\0";else{for(var n=t+="";!dr.isUndefined(n);n=this.parent(n))if(n===e)throw new Error("Setting "+t+" as parent of "+e+" would create a cycle");this.setNode(t)}return this.setNode(e),this._removeFromParentsChildList(e),this._parent[e]=t,this._children[t][e]=!0,this},vr.prototype._removeFromParentsChildList=function(e){delete this._children[this._parent[e]][e]},vr.prototype.parent=function(e){if(this._isCompound){var t=this._parent[e];if("\0"!==t)return t}},vr.prototype.children=function(e){if(dr.isUndefined(e)&&(e="\0"),this._isCompound){var t=this._children[e];if(t)return dr.keys(t)}else{if("\0"===e)return this.nodes();if(this.hasNode(e))return[]}},vr.prototype.predecessors=function(e){var t=this._preds[e];if(t)return dr.keys(t)},vr.prototype.successors=function(e){var t=this._sucs[e];if(t)return dr.keys(t)},vr.prototype.neighbors=function(e){var t=this.predecessors(e);if(t)return dr.union(t,this.successors(e))},vr.prototype.isLeaf=function(e){return 0===(this.isDirected()?this.successors(e):this.neighbors(e)).length},vr.prototype.filterNodes=function(e){var t=new this.constructor({directed:this._isDirected,multigraph:this._isMultigraph,compound:this._isCompound});t.setGraph(this.graph());var n=this;dr.each(this._nodes,function(n,r){e(r)&&t.setNode(r,n)}),dr.each(this._edgeObjs,function(e){t.hasNode(e.v)&&t.hasNode(e.w)&&t.setEdge(e,n.edge(e))});var r={};return this._isCompound&&dr.each(t.nodes(),function(e){t.setParent(e,function e(i){var o=n.parent(i);return void 0===o||t.hasNode(o)?(r[i]=o,o):o in r?r[o]:e(o)}(e))}),t},vr.prototype.setDefaultEdgeLabel=function(e){return dr.isFunction(e)||(e=dr.constant(e)),this._defaultEdgeLabelFn=e,this},vr.prototype.edgeCount=function(){return this._edgeCount},vr.prototype.edges=function(){return dr.values(this._edgeObjs)},vr.prototype.setPath=function(e,t){var n=this,r=arguments;return dr.reduce(e,function(e,i){return r.length>1?n.setEdge(e,i,t):n.setEdge(e,i),i}),this},vr.prototype.setEdge=function(){var e,t,n,r,i=!1,o=arguments[0];"object"==typeof o&&null!==o&&"v"in o?(e=o.v,t=o.w,n=o.name,2===arguments.length&&(r=arguments[1],i=!0)):(e=o,t=arguments[1],n=arguments[3],arguments.length>2&&(r=arguments[2],i=!0)),e=""+e,t=""+t,dr.isUndefined(n)||(n=""+n);var a=mr(this._isDirected,e,t,n);if(dr.has(this._edgeLabels,a))return i&&(this._edgeLabels[a]=r),this;if(!dr.isUndefined(n)&&!this._isMultigraph)throw new Error("Cannot set a named edge when isMultigraph = false");this.setNode(e),this.setNode(t),this._edgeLabels[a]=i?r:this._defaultEdgeLabelFn(e,t,n);var u=function(e,t,n,r){var i=""+t,o=""+n;if(!e&&i>o){var a=i;i=o,o=a}var u={v:i,w:o};return r&&(u.name=r),u}(this._isDirected,e,t,n);return e=u.v,t=u.w,Object.freeze(u),this._edgeObjs[a]=u,gr(this._preds[t],e),gr(this._sucs[e],t),this._in[t][a]=u,this._out[e][a]=u,this._edgeCount++,this},vr.prototype.edge=function(e,t,n){var r=1===arguments.length?br(this._isDirected,arguments[0]):mr(this._isDirected,e,t,n);return this._edgeLabels[r]},vr.prototype.hasEdge=function(e,t,n){var r=1===arguments.length?br(this._isDirected,arguments[0]):mr(this._isDirected,e,t,n);return dr.has(this._edgeLabels,r)},vr.prototype.removeEdge=function(e,t,n){var r=1===arguments.length?br(this._isDirected,arguments[0]):mr(this._isDirected,e,t,n),i=this._edgeObjs[r];return i&&(e=i.v,t=i.w,delete this._edgeLabels[r],delete this._edgeObjs[r],yr(this._preds[t],e),yr(this._sucs[e],t),delete this._in[t][r],delete this._out[e][r],this._edgeCount--),this},vr.prototype.inEdges=function(e,t){var n=this._in[e];if(n){var r=dr.values(n);return t?dr.filter(r,function(e){return e.v===t}):r}},vr.prototype.outEdges=function(e,t){var n=this._out[e];if(n){var r=dr.values(n);return t?dr.filter(r,function(e){return e.w===t}):r}},vr.prototype.nodeEdges=function(e,t){var n=this.inEdges(e,t);if(n)return n.concat(this.outEdges(e,t))};var wr={Graph:pr,version:"2.1.8"},Er={write:function(e){var t={options:{directed:e.isDirected(),multigraph:e.isMultigraph(),compound:e.isCompound()},nodes:xr(e),edges:kr(e)};return dr.isUndefined(e.graph())||(t.value=dr.clone(e.graph())),t},read:function(e){var t=new pr(e.options).setGraph(e.value);return dr.each(e.nodes,function(e){t.setNode(e.v,e.value),e.parent&&t.setParent(e.v,e.parent)}),dr.each(e.edges,function(e){t.setEdge({v:e.v,w:e.w,name:e.name},e.value)}),t}};function xr(e){return dr.map(e.nodes(),function(t){var n=e.node(t),r=e.parent(t),i={v:t};return dr.isUndefined(n)||(i.value=n),dr.isUndefined(r)||(i.parent=r),i})}function kr(e){return dr.map(e.edges(),function(t){var n=e.edge(t),r={v:t.v,w:t.w};return dr.isUndefined(t.name)||(r.name=t.name),dr.isUndefined(n)||(r.value=n),r})}var Or=Sr;function Sr(){this._arr=[],this._keyIndices={}}Sr.prototype.size=function(){return this._arr.length},Sr.prototype.keys=function(){return this._arr.map(function(e){return e.key})},Sr.prototype.has=function(e){return dr.has(this._keyIndices,e)},Sr.prototype.priority=function(e){var t=this._keyIndices[e];if(void 0!==t)return this._arr[t].priority},Sr.prototype.min=function(){if(0===this.size())throw new Error("Queue underflow");return this._arr[0].key},Sr.prototype.add=function(e,t){var n=this._keyIndices;if(e=String(e),!dr.has(n,e)){var r=this._arr,i=r.length;return n[e]=i,r.push({key:e,priority:t}),this._decrease(i),!0}return!1},Sr.prototype.removeMin=function(){this._swap(0,this._arr.length-1);var e=this._arr.pop();return delete this._keyIndices[e.key],this._heapify(0),e.key},Sr.prototype.decrease=function(e,t){var n=this._keyIndices[e];if(t>this._arr[n].priority)throw new Error("New priority is greater than current priority. Key: "+e+" Old: "+this._arr[n].priority+" New: "+t);this._arr[n].priority=t,this._decrease(n)},Sr.prototype._heapify=function(e){var t=this._arr,n=2*e,r=n+1,i=e;n<t.length&&(i=t[n].priority<t[i].priority?n:i,r<t.length&&(i=t[r].priority<t[i].priority?r:i),i!==e&&(this._swap(e,i),this._heapify(i)))},Sr.prototype._decrease=function(e){for(var t,n=this._arr,r=n[e].priority;0!==e&&!(n[t=e>>1].priority<r);)this._swap(e,t),e=t},Sr.prototype._swap=function(e,t){var n=this._arr,r=this._keyIndices,i=n[e],o=n[t];n[e]=o,n[t]=i,r[o.key]=e,r[i.key]=t};var Ar=function(e,t,n,r){return function(e,t,n,r){var i,o,a={},u=new Or,s=function(e){var t=e.v!==i?e.v:e.w,r=a[t],s=n(e),c=o.distance+s;if(s<0)throw new Error("dijkstra does not allow negative edge weights. Bad edge: "+e+" Weight: "+s);c<r.distance&&(r.distance=c,r.predecessor=i,u.decrease(t,c))};for(e.nodes().forEach(function(e){var n=e===t?0:Number.POSITIVE_INFINITY;a[e]={distance:n},u.add(e,n)});u.size()>0&&(i=u.removeMin(),(o=a[i]).distance!==Number.POSITIVE_INFINITY);)r(i).forEach(s);return a}(e,String(t),n||Tr,r||function(t){return e.outEdges(t)})},Tr=dr.constant(1),jr=function(e){var t=0,n=[],r={},i=[];function o(a){var u=r[a]={onStack:!0,lowlink:t,index:t++};if(n.push(a),e.successors(a).forEach(function(e){dr.has(r,e)?r[e].onStack&&(u.lowlink=Math.min(u.lowlink,r[e].index)):(o(e),u.lowlink=Math.min(u.lowlink,r[e].lowlink))}),u.lowlink===u.index){var s,c=[];do{s=n.pop(),r[s].onStack=!1,c.push(s)}while(a!==s);i.push(c)}}return e.nodes().forEach(function(e){dr.has(r,e)||o(e)}),i},Cr=dr.constant(1),_r=Pr;function Pr(e){var t={},n={},r=[];if(dr.each(e.sinks(),function i(o){if(dr.has(n,o))throw new Mr;dr.has(t,o)||(n[o]=!0,t[o]=!0,dr.each(e.predecessors(o),i),delete n[o],r.push(o))}),dr.size(t)!==e.nodeCount())throw new Mr;return r}function Mr(){}Pr.CycleException=Mr,Mr.prototype=new Error;var Nr=function(e,t,n){dr.isArray(t)||(t=[t]);var r=(e.isDirected()?e.successors:e.neighbors).bind(e),i=[],o={};return dr.each(t,function(t){if(!e.hasNode(t))throw new Error("Graph does not have node: "+t);!function e(t,n,r,i,o,a){dr.has(i,n)||(i[n]=!0,r||a.push(n),dr.each(o(n),function(n){e(t,n,r,i,o,a)}),r&&a.push(n))}(e,t,"post"===n,o,r,i)}),i};var Rr,Lr={Graph:wr.Graph,json:Er,alg:{components:function(e){var t,n={},r=[];function i(r){dr.has(n,r)||(n[r]=!0,t.push(r),dr.each(e.successors(r),i),dr.each(e.predecessors(r),i))}return dr.each(e.nodes(),function(e){t=[],i(e),t.length&&r.push(t)}),r},dijkstra:Ar,dijkstraAll:function(e,t,n){return dr.transform(e.nodes(),function(r,i){r[i]=Ar(e,i,t,n)},{})},findCycles:function(e){return dr.filter(jr(e),function(t){return t.length>1||1===t.length&&e.hasEdge(t[0],t[0])})},floydWarshall:function(e,t,n){return function(e,t,n){var r={},i=e.nodes();return i.forEach(function(e){r[e]={},r[e][e]={distance:0},i.forEach(function(t){e!==t&&(r[e][t]={distance:Number.POSITIVE_INFINITY})}),n(e).forEach(function(n){var i=n.v===e?n.w:n.v,o=t(n);r[e][i]={distance:o,predecessor:e}})}),i.forEach(function(e){var t=r[e];i.forEach(function(n){var o=r[n];i.forEach(function(n){var r=o[e],i=t[n],a=o[n],u=r.distance+i.distance;u<a.distance&&(a.distance=u,a.predecessor=i.predecessor)})})}),r}(e,t||Cr,n||function(t){return e.outEdges(t)})},isAcyclic:function(e){try{_r(e)}catch(e){if(e instanceof _r.CycleException)return!1;throw e}return!0},postorder:function(e,t){return Nr(e,t,"post")},preorder:function(e,t){return Nr(e,t,"pre")},prim:function(e,t){var n,r=new pr,i={},o=new Or;function a(e){var r=e.v===n?e.w:e.v,a=o.priority(r);if(void 0!==a){var u=t(e);u<a&&(i[r]=n,o.decrease(r,u))}}if(0===e.nodeCount())return r;dr.each(e.nodes(),function(e){o.add(e,Number.POSITIVE_INFINITY),r.setNode(e)}),o.decrease(e.nodes()[0],0);for(var u=!1;o.size()>0;){if(n=o.removeMin(),dr.has(i,n))r.setEdge(n,i[n]);else{if(u)throw new Error("Input graph is not connected: "+e);u=!0}e.nodeEdges(n).forEach(a)}return r},tarjan:jr,topsort:_r},version:wr.version};try{Rr=Lr}catch(l){}Rr||(Rr=window.graphlib);var Ir,Dr=Rr,Br=function(e,t,n){if(!B(n))return!1;var r=typeof t;return!!("number"==r?ze(n)&&Se(t,n.length):"string"==r&&t in n)&&E(n[t],e)},Fr=Object.prototype,zr=Fr.hasOwnProperty,Vr=ir(function(e,t){e=Object(e);var n=-1,r=t.length,i=r>2?t[2]:void 0;for(i&&Br(t[0],t[1],i)&&(r=1);++n<r;)for(var o=t[n],a=He(o),u=-1,s=a.length;++u<s;){var c=a[u],l=e[c];(void 0===l||E(l,Fr[c])&&!zr.call(e,c))&&(e[c]=o[c])}return e}),Ur=/^\s+|\s+$/g,Gr=/^[-+]0x[0-9a-f]+$/i,Hr=/^0b[01]+$/i,Wr=/^0o[0-7]+$/i,qr=parseInt,Xr=function(e){return e?1/0===(e=function(e){if("number"==typeof e)return e;if(nn(e))return NaN;if(B(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=B(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(Ur,"");var n=Hr.test(e);return n||Wr.test(e)?qr(e.slice(2),n?2:8):Gr.test(e)?NaN:+e}(e))||-1/0===e?1.7976931348623157e308*(e<0?-1:1):e==e?e:0:0===e?e:0},Yr=Math.max,$r=function(e){return function(t,n,r){var i=Object(t);if(!ze(t)){var o=An(n);t=Ve(t),n=function(e){return o(i[e],e,i)}}var a=e(t,n,r);return a>-1?i[o?t[a]:a]:void 0}}(function(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=null==n?0:function(e){var t=Xr(e),n=t%1;return t==t?n?t-n:t:0}(n);return i<0&&(i=Yr(r+i,0)),or(e,An(t),i)}),Jr=function(e){return null!=e&&e.length?Kn(e,1):[]},Qr=function(e,t,n){for(var r=-1,i=e.length;++r<i;){var o=e[r],a=t(o);if(null!=a&&(void 0===u?a==a&&!nn(a):n(a,u)))var u=a,s=o}return s},Kr=function(e,t){return e>t},Zr=function(e,t,n){(void 0!==n&&!E(e[t],n)||void 0===n&&!(t in e))&&fe(e,t,n)},ei=Function.prototype,ti=Object.prototype,ni=ei.toString,ri=ti.hasOwnProperty,ii=ni.call(Object),oi=function(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]},ai=function(e,t,n,r,i,o,a){var u=oi(e,n),s=oi(t,n),c=a.get(s);if(c)Zr(e,n,c);else{var l=o?o(u,s,n+"",e,t,a):void 0,f=void 0===l;if(f){var h=Ee(s),d=!h&&ke(s),p=!h&&!d&&Pe(s);l=s,h||d||p?Ee(u)?l=u:lr(u)?l=qe(u):d?(f=!1,l=We(s,!0)):p?(f=!1,l=wt(s,!0)):l=[]:function(e){if(!ve(e)||"[object Object]"!=D(e))return!1;var t=Ze(e);if(null===t)return!0;var n=ri.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&ni.call(n)==ii}(s)||we(s)?(l=u,we(u)?l=function(e){return pe(e,He(e))}(u):B(u)&&!F(u)||(l=Ot(s))):f=!1}f&&(a.set(s,l),i(l,s,r,o,a),a.delete(s)),Zr(e,n,l)}},ui=function(e){return ir(function(t,n){var r=-1,i=n.length,o=i>1?n[i-1]:void 0,a=i>2?n[2]:void 0;for(o=e.length>3&&"function"==typeof o?(i--,o):void 0,a&&Br(n[0],n[1],a)&&(o=i<3?void 0:o,i=1),t=Object(t);++r<i;){var u=n[r];u&&e(t,u,r)}return t})}(function(e,t,n){!function e(t,n,r,i,o){t!==n&&Mt(n,function(a,u){if(o||(o=new se),B(a))ai(t,n,u,r,e,i,o);else{var s=i?i(oi(t,u),a,u+"",t,n,o):void 0;void 0===s&&(s=a),Zr(t,u,s)}},He)}(e,t,n)}),si=function(e,t){return e<t},ci=function(e,t,n,r){if(!B(e))return e;for(var i=-1,o=(t=yn(t,e)).length,a=o-1,u=e;null!=u&&++i<o;){var s=mn(t[i]),c=n;if("__proto__"===s||"constructor"===s||"prototype"===s)return e;if(i!=a){var l=u[s];void 0===(c=r?r(l,s,u):void 0)&&(c=B(l)?l:Se(t[i+1])?[]:{})}de(u,s,c),u=u[s]}return e},li=function(e,t){return function(e,t,n){for(var r=-1,i=t.length,o={};++r<i;){var a=t[r],u=bn(e,a);n(u,a)&&ci(o,yn(a,e),u)}return o}(e,t,function(t,n){return xn(e,n)})},fi=function(e){return rr(er(e,void 0,Jr),e+"")}(function(e,t){return null==e?{}:li(e,t)}),hi=Math.ceil,di=Math.max,pi=function(e,t,n){return n&&"number"!=typeof n&&Br(e,t,n)&&(t=n=void 0),e=Xr(e),void 0===t?(t=e,e=0):t=Xr(t),function(e,t,n,r){for(var i=-1,o=di(hi((t-e)/(n||1)),0),a=Array(o);o--;)a[r?o:++i]=e,e+=n;return a}(e,t,n=void 0===n?e<t?1:-1:Xr(n),void 0)},vi=function(e,t){if(e!==t){var n=void 0!==e,r=null===e,i=e==e,o=nn(e),a=void 0!==t,u=null===t,s=t==t,c=nn(t);if(!u&&!c&&!o&&e>t||o&&a&&s&&!u&&!c||r&&a&&s||!n&&s||!i)return 1;if(!r&&!o&&!c&&e<t||c&&n&&i&&!r&&!o||u&&n&&i||!a&&i||!s)return-1}return 0},gi=function(e,t,n){t=t.length?dn(t,function(e){return Ee(e)?function(t){return bn(t,1===e.length?e[0]:e)}:e}):[Lt];var r=-1;return t=dn(t,je(An)),function(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}(Nn(e,function(e,n,i){return{criteria:dn(t,function(t){return t(e)}),index:++r,value:e}}),function(e,t){return function(e,t,n){for(var r=-1,i=e.criteria,o=t.criteria,a=i.length,u=n.length;++r<a;){var s=vi(i[r],o[r]);if(s)return r>=u?s:s*("desc"==n[r]?-1:1)}return e.index-t.index}(e,t,n)})},yi=ir(function(e,t){if(null==e)return[];var n=t.length;return n>1&&Br(e,t[0],t[1])?t=[]:n>2&&Br(t[0],t[1],t[2])&&(t=[t[0]]),gi(e,Kn(t,1),[])}),mi=0;try{Ir={cloneDeep:function(e){return _t(e,5)},constant:Pt,defaults:Vr,each:Bt,filter:Tn,find:$r,flatten:Jr,forEach:Dt,forIn:function(e,t){return null==e?e:Mt(e,It(t),He)},has:_n,isUndefined:Mn,last:function(e){var t=null==e?0:e.length;return t?e[t-1]:void 0},map:Rn,mapValues:function(e,t){var n={};return t=An(t),Nt(e,function(e,r,i){fe(n,r,t(e,r,i))}),n},max:function(e){return e&&e.length?Qr(e,Lt,Kr):void 0},merge:ui,min:function(e){return e&&e.length?Qr(e,Lt,si):void 0},minBy:function(e,t){return e&&e.length?Qr(e,An(t),si):void 0},now:function(){return C.Date.now()},pick:fi,range:pi,reduce:Dn,sortBy:yi,uniqueId:function(e){var t=++mi;return gn(e)+t},values:hr,zipObject:function(e,t){return function(e,t,n){for(var r=-1,i=e.length,o=t.length,a={};++r<i;){var u=r<o?t[r]:void 0;n(a,e[r],u)}return a}(e||[],t||[],de)}}}catch(l){}Ir||(Ir=window._);var bi=Ir,wi=Ei;function Ei(){var e={};e._next=e._prev=e,this._sentinel=e}function xi(e){e._prev._next=e._next,e._next._prev=e._prev,delete e._next,delete e._prev}function ki(e,t){if("_next"!==e&&"_prev"!==e)return t}Ei.prototype.dequeue=function(){var e=this._sentinel,t=e._prev;if(t!==e)return xi(t),t},Ei.prototype.enqueue=function(e){var t=this._sentinel;e._prev&&e._next&&xi(e),e._next=t._next,t._next._prev=e,t._next=e,e._prev=t},Ei.prototype.toString=function(){for(var e=[],t=this._sentinel,n=t._prev;n!==t;)e.push(JSON.stringify(n,ki)),n=n._prev;return"["+e.join(", ")+"]"};var Oi=Dr.Graph,Si=bi.constant(1);function Ai(e,t,n,r,i){var o=i?[]:void 0;return bi.forEach(e.inEdges(r.v),function(r){var a=e.edge(r),u=e.node(r.v);i&&o.push({v:r.v,w:r.w}),u.out-=a,Ti(t,n,u)}),bi.forEach(e.outEdges(r.v),function(r){var i=e.edge(r),o=r.w,a=e.node(o);a.in-=i,Ti(t,n,a)}),e.removeNode(r.v),o}function Ti(e,t,n){n.out?n.in?e[n.out-n.in+t].enqueue(n):e[e.length-1].enqueue(n):e[0].enqueue(n)}var ji=function(e){var t="greedy"===e.graph().acyclicer?function(e,t){if(e.nodeCount()<=1)return[];var n=function(e,t){var n=new Oi,r=0,i=0;bi.forEach(e.nodes(),function(e){n.setNode(e,{v:e,in:0,out:0})}),bi.forEach(e.edges(),function(e){var o=n.edge(e.v,e.w)||0,a=t(e),u=o+a;n.setEdge(e.v,e.w,u),i=Math.max(i,n.node(e.v).out+=a),r=Math.max(r,n.node(e.w).in+=a)});var o=bi.range(i+r+3).map(function(){return new wi}),a=r+1;return bi.forEach(n.nodes(),function(e){Ti(o,a,n.node(e))}),{graph:n,buckets:o,zeroIdx:a}}(e,t||Si),r=function(e,t,n){for(var r,i=[],o=t[t.length-1],a=t[0];e.nodeCount();){for(;r=a.dequeue();)Ai(e,t,n,r);for(;r=o.dequeue();)Ai(e,t,n,r);if(e.nodeCount())for(var u=t.length-2;u>0;--u)if(r=t[u].dequeue()){i=i.concat(Ai(e,t,n,r,!0));break}}return i}(n.graph,n.buckets,n.zeroIdx);return bi.flatten(bi.map(r,function(t){return e.outEdges(t.v,t.w)}),!0)}(e,function(e){return function(t){return e.edge(t).weight}}(e)):function(e){var t=[],n={},r={};return bi.forEach(e.nodes(),function i(o){bi.has(r,o)||(r[o]=!0,n[o]=!0,bi.forEach(e.outEdges(o),function(e){bi.has(n,e.w)?t.push(e):i(e.w)}),delete n[o])}),t}(e);bi.forEach(t,function(t){var n=e.edge(t);e.removeEdge(t),n.forwardName=t.name,n.reversed=!0,e.setEdge(t.w,t.v,n,bi.uniqueId("rev"))})},Ci=function(e){bi.forEach(e.edges(),function(t){var n=e.edge(t);if(n.reversed){e.removeEdge(t);var r=n.forwardName;delete n.reversed,delete n.forwardName,e.setEdge(t.w,t.v,n,r)}})},_i=Dr.Graph,Pi={addDummyNode:Mi,simplify:function(e){var t=(new _i).setGraph(e.graph());return bi.forEach(e.nodes(),function(n){t.setNode(n,e.node(n))}),bi.forEach(e.edges(),function(n){var r=t.edge(n.v,n.w)||{weight:0,minlen:1},i=e.edge(n);t.setEdge(n.v,n.w,{weight:r.weight+i.weight,minlen:Math.max(r.minlen,i.minlen)})}),t},asNonCompoundGraph:function(e){var t=new _i({multigraph:e.isMultigraph()}).setGraph(e.graph());return bi.forEach(e.nodes(),function(n){e.children(n).length||t.setNode(n,e.node(n))}),bi.forEach(e.edges(),function(n){t.setEdge(n,e.edge(n))}),t},successorWeights:function(e){var t=bi.map(e.nodes(),function(t){var n={};return bi.forEach(e.outEdges(t),function(t){n[t.w]=(n[t.w]||0)+e.edge(t).weight}),n});return bi.zipObject(e.nodes(),t)},predecessorWeights:function(e){var t=bi.map(e.nodes(),function(t){var n={};return bi.forEach(e.inEdges(t),function(t){n[t.v]=(n[t.v]||0)+e.edge(t).weight}),n});return bi.zipObject(e.nodes(),t)},intersectRect:function(e,t){var n,r,i=e.x,o=e.y,a=t.x-i,u=t.y-o,s=e.width/2,c=e.height/2;if(!a&&!u)throw new Error("Not possible to find intersection inside of the rectangle");return Math.abs(u)*s>Math.abs(a)*c?(u<0&&(c=-c),n=c*a/u,r=c):(a<0&&(s=-s),n=s,r=s*u/a),{x:i+n,y:o+r}},buildLayerMatrix:function(e){var t=bi.map(bi.range(Ni(e)+1),function(){return[]});return bi.forEach(e.nodes(),function(n){var r=e.node(n),i=r.rank;bi.isUndefined(i)||(t[i][r.order]=n)}),t},normalizeRanks:function(e){var t=bi.min(bi.map(e.nodes(),function(t){return e.node(t).rank}));bi.forEach(e.nodes(),function(n){var r=e.node(n);bi.has(r,"rank")&&(r.rank-=t)})},removeEmptyRanks:function(e){var t=bi.min(bi.map(e.nodes(),function(t){return e.node(t).rank})),n=[];bi.forEach(e.nodes(),function(r){var i=e.node(r).rank-t;n[i]||(n[i]=[]),n[i].push(r)});var r=0,i=e.graph().nodeRankFactor;bi.forEach(n,function(t,n){bi.isUndefined(t)&&n%i!=0?--r:r&&bi.forEach(t,function(t){e.node(t).rank+=r})})},addBorderNode:function(e,t,n,r){var i={width:0,height:0};return arguments.length>=4&&(i.rank=n,i.order=r),Mi(e,"border",i,t)},maxRank:Ni,partition:function(e,t){var n={lhs:[],rhs:[]};return bi.forEach(e,function(e){t(e)?n.lhs.push(e):n.rhs.push(e)}),n},time:function(e,t){var n=bi.now();try{return t()}finally{console.log(e+" time: "+(bi.now()-n)+"ms")}},notime:function(e,t){return t()}};function Mi(e,t,n,r){var i;do{i=bi.uniqueId(r)}while(e.hasNode(i));return n.dummy=t,e.setNode(i,n),i}function Ni(e){return bi.max(bi.map(e.nodes(),function(t){var n=e.node(t).rank;if(!bi.isUndefined(n))return n}))}var Ri=function(e){e.graph().dummyChains=[],bi.forEach(e.edges(),function(t){!function(e,t){var n,r,i,o=t.v,a=e.node(o).rank,u=t.w,s=e.node(u).rank,c=t.name,l=e.edge(t),f=l.labelRank;if(s!==a+1){for(e.removeEdge(t),i=0,++a;a<s;++i,++a)l.points=[],r={width:0,height:0,edgeLabel:l,edgeObj:t,rank:a},n=Pi.addDummyNode(e,"edge",r,"_d"),a===f&&(r.width=l.width,r.height=l.height,r.dummy="edge-label",r.labelpos=l.labelpos),e.setEdge(o,n,{weight:l.weight},c),0===i&&e.graph().dummyChains.push(n),o=n;e.setEdge(o,u,{weight:l.weight},c)}}(e,t)})},Li=function(e){bi.forEach(e.graph().dummyChains,function(t){var n,r=e.node(t),i=r.edgeLabel;for(e.setEdge(r.edgeObj,i);r.dummy;)n=e.successors(t)[0],e.removeNode(t),i.points.push({x:r.x,y:r.y}),"edge-label"===r.dummy&&(i.x=r.x,i.y=r.y,i.width=r.width,i.height=r.height),t=n,r=e.node(t)})},Ii=function(e){var t={};bi.forEach(e.sources(),function n(r){var i=e.node(r);if(bi.has(t,r))return i.rank;t[r]=!0;var o=bi.min(bi.map(e.outEdges(r),function(t){return n(t.w)-e.edge(t).minlen}));return o!==Number.POSITIVE_INFINITY&&null!=o||(o=0),i.rank=o})},Di=function(e,t){return e.node(t.w).rank-e.node(t.v).rank-e.edge(t).minlen},Bi=Dr.Graph,Fi=Di,zi=function(e){var t,n,r=new Bi({directed:!1}),i=e.nodes()[0],o=e.nodeCount();for(r.setNode(i,{});Vi(r,e)<o;)t=Ui(r,e),n=r.hasNode(t.v)?Fi(e,t):-Fi(e,t),Gi(r,e,n);return r};function Vi(e,t){return bi.forEach(e.nodes(),function n(r){bi.forEach(t.nodeEdges(r),function(i){var o=i.v,a=r===o?i.w:o;e.hasNode(a)||Fi(t,i)||(e.setNode(a,{}),e.setEdge(r,a,{}),n(a))})}),e.nodeCount()}function Ui(e,t){return bi.minBy(t.edges(),function(n){if(e.hasNode(n.v)!==e.hasNode(n.w))return Fi(t,n)})}function Gi(e,t,n){bi.forEach(e.nodes(),function(e){t.node(e).rank+=n})}var Hi=Di,Wi=Ii,qi=Dr.alg.preorder,Xi=Dr.alg.postorder,Yi=Pi.simplify,$i=Ji;function Ji(e){e=Yi(e),Wi(e);var t,n=zi(e);for(Zi(n),Qi(n,e);t=eo(n);)no(n,e,t,to(n,e,t))}function Qi(e,t){var n=Xi(e,e.nodes());n=n.slice(0,n.length-1),bi.forEach(n,function(n){!function(e,t,n){var r=e.node(n).parent;e.edge(n,r).cutvalue=Ki(e,t,n)}(e,t,n)})}function Ki(e,t,n){var r=e.node(n).parent,i=!0,o=t.edge(n,r),a=0;return o||(i=!1,o=t.edge(r,n)),a=o.weight,bi.forEach(t.nodeEdges(n),function(o){var u,s,c=o.v===n,l=c?o.w:o.v;if(l!==r){var f=c===i,h=t.edge(o).weight;if(a+=f?h:-h,u=n,s=l,e.hasEdge(u,s)){var d=e.edge(n,l).cutvalue;a+=f?-d:d}}}),a}function Zi(e,t){arguments.length<2&&(t=e.nodes()[0]),function e(t,n,r,i,o){var a=r,u=t.node(i);return n[i]=!0,bi.forEach(t.neighbors(i),function(o){bi.has(n,o)||(r=e(t,n,r,o,i))}),u.low=a,u.lim=r++,o?u.parent=o:delete u.parent,r}(e,{},1,t)}function eo(e){return bi.find(e.edges(),function(t){return e.edge(t).cutvalue<0})}function to(e,t,n){var r=n.v,i=n.w;t.hasEdge(r,i)||(r=n.w,i=n.v);var o=e.node(r),a=e.node(i),u=o,s=!1;o.lim>a.lim&&(u=a,s=!0);var c=bi.filter(t.edges(),function(t){return s===ro(e,e.node(t.v),u)&&s!==ro(e,e.node(t.w),u)});return bi.minBy(c,function(e){return Hi(t,e)})}function no(e,t,n,r){var i=n.v,o=n.w;e.removeEdge(i,o),e.setEdge(r.v,r.w,{}),Zi(e),Qi(e,t),function(e,t){var n=bi.find(e.nodes(),function(e){return!t.node(e).parent}),r=qi(e,n);r=r.slice(1),bi.forEach(r,function(n){var r=e.node(n).parent,i=t.edge(n,r),o=!1;i||(i=t.edge(r,n),o=!0),t.node(n).rank=t.node(r).rank+(o?i.minlen:-i.minlen)})}(e,t)}function ro(e,t,n){return n.low<=t.lim&&t.lim<=n.lim}Ji.initLowLimValues=Zi,Ji.initCutValues=Qi,Ji.calcCutValue=Ki,Ji.leaveEdge=eo,Ji.enterEdge=to,Ji.exchangeEdges=no;var io=Ii,oo=io;function ao(e){$i(e)}var uo=function(e){var t=Pi.addDummyNode(e,"root",{},"_root"),n=function(e){var t={};function n(r,i){var o=e.children(r);o&&o.length&&bi.forEach(o,function(e){n(e,i+1)}),t[r]=i}return bi.forEach(e.children(),function(e){n(e,1)}),t}(e),r=bi.max(bi.values(n))-1,i=2*r+1;e.graph().nestingRoot=t,bi.forEach(e.edges(),function(t){e.edge(t).minlen*=i});var o=function(e){return bi.reduce(e.edges(),function(t,n){return t+e.edge(n).weight},0)}(e)+1;bi.forEach(e.children(),function(a){!function e(t,n,r,i,o,a,u){var s=t.children(u);if(s.length){var c=Pi.addBorderNode(t,"_bt"),l=Pi.addBorderNode(t,"_bb"),f=t.node(u);t.setParent(c,u),f.borderTop=c,t.setParent(l,u),f.borderBottom=l,bi.forEach(s,function(s){e(t,n,r,i,o,a,s);var f=t.node(s),h=f.borderTop?f.borderTop:s,d=f.borderBottom?f.borderBottom:s,p=f.borderTop?i:2*i,v=h!==d?1:o-a[u]+1;t.setEdge(c,h,{weight:p,minlen:v,nestingEdge:!0}),t.setEdge(d,l,{weight:p,minlen:v,nestingEdge:!0})}),t.parent(u)||t.setEdge(n,c,{weight:0,minlen:o+a[u]})}else u!==n&&t.setEdge(n,u,{weight:0,minlen:r})}(e,t,i,o,r,n,a)}),e.graph().nodeRankFactor=i},so=function(e){var t=e.graph();e.removeNode(t.nestingRoot),delete t.nestingRoot,bi.forEach(e.edges(),function(t){e.edge(t).nestingEdge&&e.removeEdge(t)})};function co(e,t,n,r,i,o){var a={width:0,height:0,rank:o,borderType:t},u=i[t][o-1],s=Pi.addDummyNode(e,"border",a,n);i[t][o]=s,e.setParent(s,r),u&&e.setEdge(u,s,{weight:1})}var lo=function(e){var t=e.graph().rankdir.toLowerCase();"lr"!==t&&"rl"!==t||ho(e)},fo=function(e){var t=e.graph().rankdir.toLowerCase();"bt"!==t&&"rl"!==t||function(e){bi.forEach(e.nodes(),function(t){vo(e.node(t))}),bi.forEach(e.edges(),function(t){var n=e.edge(t);bi.forEach(n.points,vo),bi.has(n,"y")&&vo(n)})}(e),"lr"!==t&&"rl"!==t||(function(e){bi.forEach(e.nodes(),function(t){go(e.node(t))}),bi.forEach(e.edges(),function(t){var n=e.edge(t);bi.forEach(n.points,go),bi.has(n,"x")&&go(n)})}(e),ho(e))};function ho(e){bi.forEach(e.nodes(),function(t){po(e.node(t))}),bi.forEach(e.edges(),function(t){po(e.edge(t))})}function po(e){var t=e.width;e.width=e.height,e.height=t}function vo(e){e.y=-e.y}function go(e){var t=e.x;e.x=e.y,e.y=t}var yo=function(e,t){for(var n=0,r=1;r<t.length;++r)n+=mo(e,t[r-1],t[r]);return n};function mo(e,t,n){for(var r=bi.zipObject(n,bi.map(n,function(e,t){return t})),i=bi.flatten(bi.map(t,function(t){return bi.sortBy(bi.map(e.outEdges(t),function(t){return{pos:r[t.w],weight:e.edge(t).weight}}),"pos")}),!0),o=1;o<n.length;)o<<=1;var a=2*o-1;o-=1;var u=bi.map(new Array(a),function(){return 0}),s=0;return bi.forEach(i.forEach(function(e){var t=e.pos+o;u[t]+=e.weight;for(var n=0;t>0;)t%2&&(n+=u[t+1]),u[t=t-1>>1]+=e.weight;s+=e.weight*n})),s}function bo(e,t,n){for(var r;t.length&&(r=bi.last(t)).i<=n;)t.pop(),e.push(r.vs),n++;return n}var wo=function e(t,n,r,i){var o=t.children(n),a=t.node(n),u=a?a.borderLeft:void 0,s=a?a.borderRight:void 0,c={};u&&(o=bi.filter(o,function(e){return e!==u&&e!==s}));var l=function(e,t){return bi.map(t,function(t){var n=e.inEdges(t);if(n.length){var r=bi.reduce(n,function(t,n){var r=e.edge(n),i=e.node(n.v);return{sum:t.sum+r.weight*i.order,weight:t.weight+r.weight}},{sum:0,weight:0});return{v:t,barycenter:r.sum/r.weight,weight:r.weight}}return{v:t}})}(t,o);bi.forEach(l,function(n){if(t.children(n.v).length){var o=e(t,n.v,r,i);c[n.v]=o,bi.has(o,"barycenter")&&(a=n,u=o,bi.isUndefined(a.barycenter)?(a.barycenter=u.barycenter,a.weight=u.weight):(a.barycenter=(a.barycenter*a.weight+u.barycenter*u.weight)/(a.weight+u.weight),a.weight+=u.weight))}var a,u});var f=function(e,t){var n={};return bi.forEach(e,function(e,t){var r=n[e.v]={indegree:0,in:[],out:[],vs:[e.v],i:t};bi.isUndefined(e.barycenter)||(r.barycenter=e.barycenter,r.weight=e.weight)}),bi.forEach(t.edges(),function(e){var t=n[e.v],r=n[e.w];bi.isUndefined(t)||bi.isUndefined(r)||(r.indegree++,t.out.push(n[e.w]))}),function(e){var t=[];function n(e){return function(t){t.merged||(bi.isUndefined(t.barycenter)||bi.isUndefined(e.barycenter)||t.barycenter>=e.barycenter)&&function(e,t){var n=0,r=0;e.weight&&(n+=e.barycenter*e.weight,r+=e.weight),t.weight&&(n+=t.barycenter*t.weight,r+=t.weight),e.vs=t.vs.concat(e.vs),e.barycenter=n/r,e.weight=r,e.i=Math.min(t.i,e.i),t.merged=!0}(e,t)}}function r(t){return function(n){n.in.push(t),0==--n.indegree&&e.push(n)}}for(;e.length;){var i=e.pop();t.push(i),bi.forEach(i.in.reverse(),n(i)),bi.forEach(i.out,r(i))}return bi.map(bi.filter(t,function(e){return!e.merged}),function(e){return bi.pick(e,["vs","i","barycenter","weight"])})}(bi.filter(n,function(e){return!e.indegree}))}(l,r);!function(e,t){bi.forEach(e,function(e){e.vs=bi.flatten(e.vs.map(function(e){return t[e]?t[e].vs:e}),!0)})}(f,c);var h=function(e,t){var n,r=Pi.partition(e,function(e){return bi.has(e,"barycenter")}),i=r.lhs,o=bi.sortBy(r.rhs,function(e){return-e.i}),a=[],u=0,s=0,c=0;i.sort((n=!!t,function(e,t){return e.barycenter<t.barycenter?-1:e.barycenter>t.barycenter?1:n?t.i-e.i:e.i-t.i})),c=bo(a,o,c),bi.forEach(i,function(e){c+=e.vs.length,a.push(e.vs),u+=e.barycenter*e.weight,s+=e.weight,c=bo(a,o,c)});var l={vs:bi.flatten(a,!0)};return s&&(l.barycenter=u/s,l.weight=s),l}(f,i);if(u&&(h.vs=bi.flatten([u,h.vs,s],!0),t.predecessors(u).length)){var d=t.node(t.predecessors(u)[0]),p=t.node(t.predecessors(s)[0]);bi.has(h,"barycenter")||(h.barycenter=0,h.weight=0),h.barycenter=(h.barycenter*h.weight+d.order+p.order)/(h.weight+2),h.weight+=2}return h},Eo=Dr.Graph,xo=function(e,t,n){var r=function(e){for(var t;e.hasNode(t=bi.uniqueId("_root")););return t}(e),i=new Eo({compound:!0}).setGraph({root:r}).setDefaultNodeLabel(function(t){return e.node(t)});return bi.forEach(e.nodes(),function(o){var a=e.node(o),u=e.parent(o);(a.rank===t||a.minRank<=t&&t<=a.maxRank)&&(i.setNode(o),i.setParent(o,u||r),bi.forEach(e[n](o),function(t){var n=t.v===o?t.w:t.v,r=i.edge(n,o),a=bi.isUndefined(r)?0:r.weight;i.setEdge(n,o,{weight:e.edge(t).weight+a})}),bi.has(a,"minRank")&&i.setNode(o,{borderLeft:a.borderLeft[t],borderRight:a.borderRight[t]}))}),i},ko=function(e,t,n){var r,i={};bi.forEach(n,function(n){for(var o,a,u=e.parent(n);u;){if((o=e.parent(u))?(a=i[o],i[o]=u):(a=r,r=u),a&&a!==u)return void t.setEdge(a,u);u=o}})},Oo=Dr.Graph,So=function(e){var t=Pi.maxRank(e),n=Ao(e,bi.range(1,t+1),"inEdges"),r=Ao(e,bi.range(t-1,-1,-1),"outEdges"),i=function(e){var t={},n=bi.filter(e.nodes(),function(t){return!e.children(t).length}),r=bi.max(bi.map(n,function(t){return e.node(t).rank})),i=bi.map(bi.range(r+1),function(){return[]});var o=bi.sortBy(n,function(t){return e.node(t).rank});return bi.forEach(o,function n(r){if(!bi.has(t,r)){t[r]=!0;var o=e.node(r);i[o.rank].push(r),bi.forEach(e.successors(r),n)}}),i}(e);jo(e,i);for(var o,a=Number.POSITIVE_INFINITY,u=0,s=0;s<4;++u,++s){To(u%2?n:r,u%4>=2),i=Pi.buildLayerMatrix(e);var c=yo(e,i);c<a&&(s=0,o=bi.cloneDeep(i),a=c)}jo(e,o)};function Ao(e,t,n){return bi.map(t,function(t){return xo(e,t,n)})}function To(e,t){var n=new Oo;bi.forEach(e,function(e){var r=e.graph().root,i=wo(e,r,n,t);bi.forEach(i.vs,function(t,n){e.node(t).order=n}),ko(e,n,i.vs)})}function jo(e,t){bi.forEach(t,function(t){bi.forEach(t,function(t,n){e.node(t).order=n})})}var Co=Dr.Graph;function _o(e,t,n){if(t>n){var r=t;t=n,n=r}var i=e[t];i||(e[t]=i={}),i[n]=!0}function Po(e,t,n){if(t>n){var r=t;t=n,n=r}return bi.has(e[t],n)}var Mo=function(e){var t,n=Pi.buildLayerMatrix(e),r=bi.merge(function(e,t){var n={};return bi.reduce(t,function(t,r){var i=0,o=0,a=t.length,u=bi.last(r);return bi.forEach(r,function(t,s){var c=function(e,t){if(e.node(t).dummy)return bi.find(e.predecessors(t),function(t){return e.node(t).dummy})}(e,t),l=c?e.node(c).order:a;(c||t===u)&&(bi.forEach(r.slice(o,s+1),function(t){bi.forEach(e.predecessors(t),function(r){var o=e.node(r),a=o.order;!(a<i||l<a)||o.dummy&&e.node(t).dummy||_o(n,r,t)})}),o=s+1,i=l)}),r}),n}(e,n),function(e,t){var n={};function r(t,r,i,o,a){var u;bi.forEach(bi.range(r,i),function(r){u=t[r],e.node(u).dummy&&bi.forEach(e.predecessors(u),function(t){var r=e.node(t);r.dummy&&(r.order<o||r.order>a)&&_o(n,t,u)})})}return bi.reduce(t,function(t,n){var i,o=-1,a=0;return bi.forEach(n,function(u,s){if("border"===e.node(u).dummy){var c=e.predecessors(u);c.length&&(i=e.node(c[0]).order,r(n,a,s,o,i),a=s,o=i)}r(n,a,n.length,i,t.length)}),n}),n}(e,n)),i={};bi.forEach(["u","d"],function(o){t="u"===o?n:bi.values(n).reverse(),bi.forEach(["l","r"],function(n){"r"===n&&(t=bi.map(t,function(e){return bi.values(e).reverse()}));var a=("u"===o?e.predecessors:e.successors).bind(e),u=function(e,t,n,r){var i={},o={},a={};return bi.forEach(t,function(e){bi.forEach(e,function(e,t){i[e]=e,o[e]=e,a[e]=t})}),bi.forEach(t,function(e){var t=-1;bi.forEach(e,function(e){var u=r(e);if(u.length)for(var s=((u=bi.sortBy(u,function(e){return a[e]})).length-1)/2,c=Math.floor(s),l=Math.ceil(s);c<=l;++c){var f=u[c];o[e]===e&&t<a[f]&&!Po(n,e,f)&&(o[f]=e,o[e]=i[e]=i[f],t=a[f])}})}),{root:i,align:o}}(0,t,r,a),s=function(e,t,n,r,i){var o={},a=function(e,t,n,r){var i=new Co,o=e.graph(),a=function(e,t,n){return function(r,i,o){var a,u=r.node(i),s=r.node(o),c=0;if(c+=u.width/2,bi.has(u,"labelpos"))switch(u.labelpos.toLowerCase()){case"l":a=-u.width/2;break;case"r":a=u.width/2}if(a&&(c+=n?a:-a),a=0,c+=(u.dummy?t:e)/2,c+=(s.dummy?t:e)/2,c+=s.width/2,bi.has(s,"labelpos"))switch(s.labelpos.toLowerCase()){case"l":a=s.width/2;break;case"r":a=-s.width/2}return a&&(c+=n?a:-a),a=0,c}}(o.nodesep,o.edgesep,r);return bi.forEach(t,function(t){var r;bi.forEach(t,function(t){var o=n[t];if(i.setNode(o),r){var u=n[r],s=i.edge(u,o);i.setEdge(u,o,Math.max(a(e,t,r),s||0))}r=t})}),i}(e,t,n,i),u=i?"borderLeft":"borderRight";function s(e,t){for(var n=a.nodes(),r=n.pop(),i={};r;)i[r]?e(r):(i[r]=!0,n.push(r),n=n.concat(t(r))),r=n.pop()}return s(function(e){o[e]=a.inEdges(e).reduce(function(e,t){return Math.max(e,o[t.v]+a.edge(t))},0)},a.predecessors.bind(a)),s(function(t){var n=a.outEdges(t).reduce(function(e,t){return Math.min(e,o[t.w]-a.edge(t))},Number.POSITIVE_INFINITY),r=e.node(t);n!==Number.POSITIVE_INFINITY&&r.borderType!==u&&(o[t]=Math.max(o[t],n))},a.successors.bind(a)),bi.forEach(r,function(e){o[e]=o[n[e]]}),o}(e,t,u.root,u.align,"r"===n);"r"===n&&(s=bi.mapValues(s,function(e){return-e})),i[o+n]=s})});var o=function(e,t){return bi.minBy(bi.values(t),function(t){var n=Number.NEGATIVE_INFINITY,r=Number.POSITIVE_INFINITY;return bi.forIn(t,function(t,i){var o=function(e,t){return e.node(t).width}(e,i)/2;n=Math.max(t+o,n),r=Math.min(t-o,r)}),n-r})}(e,i);return function(e,t){var n=bi.values(t),r=bi.min(n),i=bi.max(n);bi.forEach(["u","d"],function(n){bi.forEach(["l","r"],function(o){var a,u=n+o,s=e[u];if(s!==t){var c=bi.values(s);(a="l"===o?r-bi.min(c):i-bi.max(c))&&(e[u]=bi.mapValues(s,function(e){return e+a}))}})})}(i,o),function(e,t){return bi.mapValues(e.ul,function(n,r){if(t)return e[t.toLowerCase()][r];var i=bi.sortBy(bi.map(e,r));return(i[1]+i[2])/2})}(i,e.graph().align)},No=Pi.normalizeRanks,Ro=Pi.removeEmptyRanks,Lo=Pi,Io=Dr.Graph,Do=["nodesep","edgesep","ranksep","marginx","marginy"],Bo={ranksep:50,edgesep:20,nodesep:50,rankdir:"tb"},Fo=["acyclicer","ranker","rankdir","align"],zo=["width","height"],Vo={width:0,height:0},Uo=["minlen","weight","width","height","labeloffset"],Go={minlen:1,weight:1,width:0,height:0,labeloffset:10,labelpos:"r"},Ho=["labelpos"];function Wo(e,t){return bi.mapValues(bi.pick(e,t),Number)}function qo(e){var t={};return bi.forEach(e,function(e,n){t[n.toLowerCase()]=e}),t}var Xo=Dr.Graph,Yo={graphlib:Dr,layout:function(e,t){var n=t&&t.debugTiming?Lo.time:Lo.notime;n("layout",function(){var t=n("  buildLayoutGraph",function(){return function(e){var t=new Io({multigraph:!0,compound:!0}),n=qo(e.graph());return t.setGraph(bi.merge({},Bo,Wo(n,Do),bi.pick(n,Fo))),bi.forEach(e.nodes(),function(n){var r=qo(e.node(n));t.setNode(n,bi.defaults(Wo(r,zo),Vo)),t.setParent(n,e.parent(n))}),bi.forEach(e.edges(),function(n){var r=qo(e.edge(n));t.setEdge(n,bi.merge({},Go,Wo(r,Uo),bi.pick(r,Ho)))}),t}(e)});n("  runLayout",function(){!function(e,t){t("    makeSpaceForEdgeLabels",function(){!function(e){var t=e.graph();t.ranksep/=2,bi.forEach(e.edges(),function(n){var r=e.edge(n);r.minlen*=2,"c"!==r.labelpos.toLowerCase()&&("TB"===t.rankdir||"BT"===t.rankdir?r.width+=r.labeloffset:r.height+=r.labeloffset)})}(e)}),t("    removeSelfEdges",function(){!function(e){bi.forEach(e.edges(),function(t){if(t.v===t.w){var n=e.node(t.v);n.selfEdges||(n.selfEdges=[]),n.selfEdges.push({e:t,label:e.edge(t)}),e.removeEdge(t)}})}(e)}),t("    acyclic",function(){ji(e)}),t("    nestingGraph.run",function(){uo(e)}),t("    rank",function(){!function(e){switch(e.graph().ranker){case"network-simplex":ao(e);break;case"tight-tree":!function(e){io(e),zi(e)}(e);break;case"longest-path":oo(e);break;default:ao(e)}}(Lo.asNonCompoundGraph(e))}),t("    injectEdgeLabelProxies",function(){!function(e){bi.forEach(e.edges(),function(t){var n=e.edge(t);if(n.width&&n.height){var r=e.node(t.v),i={rank:(e.node(t.w).rank-r.rank)/2+r.rank,e:t};Lo.addDummyNode(e,"edge-proxy",i,"_ep")}})}(e)}),t("    removeEmptyRanks",function(){Ro(e)}),t("    nestingGraph.cleanup",function(){so(e)}),t("    normalizeRanks",function(){No(e)}),t("    assignRankMinMax",function(){!function(e){var t=0;bi.forEach(e.nodes(),function(n){var r=e.node(n);r.borderTop&&(r.minRank=e.node(r.borderTop).rank,r.maxRank=e.node(r.borderBottom).rank,t=bi.max(t,r.maxRank))}),e.graph().maxRank=t}(e)}),t("    removeEdgeLabelProxies",function(){!function(e){bi.forEach(e.nodes(),function(t){var n=e.node(t);"edge-proxy"===n.dummy&&(e.edge(n.e).labelRank=n.rank,e.removeNode(t))})}(e)}),t("    normalize.run",function(){Ri(e)}),t("    parentDummyChains",function(){!function(e){var t=function(e){var t={},n=0;return bi.forEach(e.children(),function r(i){var o=n;bi.forEach(e.children(i),r),t[i]={low:o,lim:n++}}),t}(e);bi.forEach(e.graph().dummyChains,function(n){for(var r=e.node(n),i=r.edgeObj,o=function(e,t,n,r){var i,o,a=[],u=[],s=Math.min(t[n].low,t[r].low),c=Math.max(t[n].lim,t[r].lim);i=n;do{i=e.parent(i),a.push(i)}while(i&&(t[i].low>s||c>t[i].lim));for(o=i,i=r;(i=e.parent(i))!==o;)u.push(i);return{path:a.concat(u.reverse()),lca:o}}(e,t,i.v,i.w),a=o.path,u=o.lca,s=0,c=a[s],l=!0;n!==i.w;){if(r=e.node(n),l){for(;(c=a[s])!==u&&e.node(c).maxRank<r.rank;)s++;c===u&&(l=!1)}if(!l){for(;s<a.length-1&&e.node(c=a[s+1]).minRank<=r.rank;)s++;c=a[s]}e.setParent(n,c),n=e.successors(n)[0]}})}(e)}),t("    addBorderSegments",function(){!function(e){bi.forEach(e.children(),function t(n){var r=e.children(n),i=e.node(n);if(r.length&&bi.forEach(r,t),bi.has(i,"minRank")){i.borderLeft=[],i.borderRight=[];for(var o=i.minRank,a=i.maxRank+1;o<a;++o)co(e,"borderLeft","_bl",n,i,o),co(e,"borderRight","_br",n,i,o)}})}(e)}),t("    order",function(){So(e)}),t("    insertSelfEdges",function(){!function(e){var t=Lo.buildLayerMatrix(e);bi.forEach(t,function(t){var n=0;bi.forEach(t,function(t,r){var i=e.node(t);i.order=r+n,bi.forEach(i.selfEdges,function(t){Lo.addDummyNode(e,"selfedge",{width:t.label.width,height:t.label.height,rank:i.rank,order:r+ ++n,e:t.e,label:t.label},"_se")}),delete i.selfEdges})})}(e)}),t("    adjustCoordinateSystem",function(){lo(e)}),t("    position",function(){!function(e){(function(e){var t=Pi.buildLayerMatrix(e),n=e.graph().ranksep,r=0;bi.forEach(t,function(t){var i=bi.max(bi.map(t,function(t){return e.node(t).height}));bi.forEach(t,function(t){e.node(t).y=r+i/2}),r+=i+n})})(e=Pi.asNonCompoundGraph(e)),bi.forEach(Mo(e),function(t,n){e.node(n).x=t})}(e)}),t("    positionSelfEdges",function(){!function(e){bi.forEach(e.nodes(),function(t){var n=e.node(t);if("selfedge"===n.dummy){var r=e.node(n.e.v),i=r.x+r.width/2,o=r.y,a=n.x-i,u=r.height/2;e.setEdge(n.e,n.label),e.removeNode(t),n.label.points=[{x:i+2*a/3,y:o-u},{x:i+5*a/6,y:o-u},{x:i+a,y:o},{x:i+5*a/6,y:o+u},{x:i+2*a/3,y:o+u}],n.label.x=n.x,n.label.y=n.y}})}(e)}),t("    removeBorderNodes",function(){!function(e){bi.forEach(e.nodes(),function(t){if(e.children(t).length){var n=e.node(t),r=e.node(n.borderTop),i=e.node(n.borderBottom),o=e.node(bi.last(n.borderLeft)),a=e.node(bi.last(n.borderRight));n.width=Math.abs(a.x-o.x),n.height=Math.abs(i.y-r.y),n.x=o.x+n.width/2,n.y=r.y+n.height/2}}),bi.forEach(e.nodes(),function(t){"border"===e.node(t).dummy&&e.removeNode(t)})}(e)}),t("    normalize.undo",function(){Li(e)}),t("    fixupEdgeLabelCoords",function(){!function(e){bi.forEach(e.edges(),function(t){var n=e.edge(t);if(bi.has(n,"x"))switch("l"!==n.labelpos&&"r"!==n.labelpos||(n.width-=n.labeloffset),n.labelpos){case"l":n.x-=n.width/2+n.labeloffset;break;case"r":n.x+=n.width/2+n.labeloffset}})}(e)}),t("    undoCoordinateSystem",function(){fo(e)}),t("    translateGraph",function(){!function(e){var t=Number.POSITIVE_INFINITY,n=0,r=Number.POSITIVE_INFINITY,i=0,o=e.graph(),a=o.marginx||0,u=o.marginy||0;function s(e){var o=e.x,a=e.y,u=e.width,s=e.height;t=Math.min(t,o-u/2),n=Math.max(n,o+u/2),r=Math.min(r,a-s/2),i=Math.max(i,a+s/2)}bi.forEach(e.nodes(),function(t){s(e.node(t))}),bi.forEach(e.edges(),function(t){var n=e.edge(t);bi.has(n,"x")&&s(n)}),t-=a,r-=u,bi.forEach(e.nodes(),function(n){var i=e.node(n);i.x-=t,i.y-=r}),bi.forEach(e.edges(),function(n){var i=e.edge(n);bi.forEach(i.points,function(e){e.x-=t,e.y-=r}),bi.has(i,"x")&&(i.x-=t),bi.has(i,"y")&&(i.y-=r)}),o.width=n-t+a,o.height=i-r+u}(e)}),t("    assignNodeIntersects",function(){!function(e){bi.forEach(e.edges(),function(t){var n,r,i=e.edge(t),o=e.node(t.v),a=e.node(t.w);i.points?(n=i.points[0],r=i.points[i.points.length-1]):(i.points=[],n=a,r=o),i.points.unshift(Lo.intersectRect(o,n)),i.points.push(Lo.intersectRect(a,r))})}(e)}),t("    reversePoints",function(){!function(e){bi.forEach(e.edges(),function(t){var n=e.edge(t);n.reversed&&n.points.reverse()})}(e)}),t("    acyclic.undo",function(){Ci(e)})}(t,n)}),n("  updateInputGraph",function(){!function(e,t){bi.forEach(e.nodes(),function(n){var r=e.node(n),i=t.node(n);r&&(r.x=i.x,r.y=i.y,t.children(n).length&&(r.width=i.width,r.height=i.height))}),bi.forEach(e.edges(),function(n){var r=e.edge(n),i=t.edge(n);r.points=i.points,bi.has(i,"x")&&(r.x=i.x,r.y=i.y)}),e.graph().width=t.graph().width,e.graph().height=t.graph().height}(e,t)})})},debug:{debugOrdering:function(e){var t=Pi.buildLayerMatrix(e),n=new Xo({compound:!0,multigraph:!0}).setGraph({});return bi.forEach(e.nodes(),function(t){n.setNode(t,{label:t}),n.setParent(t,"layer"+e.node(t).rank)}),bi.forEach(e.edges(),function(e){n.setEdge(e.v,e.w,{},e.name)}),bi.forEach(t,function(e,t){var r="layer"+t;n.setNode(r,{rank:"same"}),bi.reduce(e,function(e,t){return n.setEdge(e,t,{style:"invis"}),t})}),n}},util:{time:Pi.time,notime:Pi.notime},version:"0.8.5"},$o=Yo.graphlib,Jo=Yo.layout,Qo=Object(s.a)(function e(t){Object(c.a)(this,e),this.cardinality=1,this.include=p.UNSPECIFIED,this.isGroupNode=!1,this.parentNode=null,this.type=d.NODE,this.name=t.name,this.attr=t.attr||{},this.inputs=t.inputs,this.path=t.path||[],this.width=t.width,this.height=t.height}),Ko=Object(s.a)(function e(){Object(c.a)(this,e),this.nodes={},this.edges=[],this.nodes={},this.edges=[]});var Zo=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Object(c.a)(this,e),this.attr=null,this.bridgeGraph=null,this.cardinality=0,this.depth=1,this.include=p.UNSPECIFIED,this.isGroupNode=!0,this.parentNode=null,this.type=d.META,this.path=[],this.name=t,this.metaGraph=ra(t,v.META,n)}return Object(s.a)(e,[{key:"getFirstChild",value:function(){return this.metaGraph.node(this.metaGraph.nodes()[0])}},{key:"getChildren",value:function(){var e=this;return this.metaGraph.nodes().map(function(t){return e.metaGraph.node(t)})}},{key:"leaves",value:function(){for(var e,t=[],n=[this];n.length;){var r=n.shift();r.isGroupNode?(e=r.metaGraph).nodes().forEach(function(t){return n.push(e.node(t))}):t.push(r.name)}return t}}]),e}(),ea=function(){function e(t,n){Object(c.a)(this,e),this.v=t,this.w=n,this.baseEdgeList=[],this.inbound=null,this.name=null}return Object(s.a)(e,[{key:"addBaseEdge",value:function(e,t){this.baseEdgeList.push(e)}}]),e}();function ta(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new Zo(e,t)}function na(e,t){return new ea(e,t)}function ra(e,t,n){var r=n||{},i=new $o.Graph(r);return i.setGraph({name:e,rankdir:r.rankdir,type:t,align:r.align}),i}var ia=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object(c.a)(this,e),this.graphOptions=t,this.index={},this.graphOptions.compound=!0,this.root=ta(y,this.graphOptions),this.index[y]=this.root}return Object(s.a)(e,[{key:"getNodeMap",value:function(){return this.index}},{key:"node",value:function(e){return this.index[e]}},{key:"setNode",value:function(e,t){this.index[e]=t}},{key:"getBridgeGraph",value:function(e){var t=this,n=this.index[e];if(!n)throw Error("Could not find node in hierarchy: "+e);if(!("metaGraph"in n))return null;var r=n;if(r.bridgeGraph)return r.bridgeGraph;var i=ra(m,v.BRIDGE,this.graphOptions);if(r.bridgeGraph=i,!n.parentNode||!("metaGraph"in n.parentNode))return i;var o=n.parentNode;return[o.metaGraph,this.getBridgeGraph(o.name)].forEach(function(n){n.edges().filter(function(t){return t.v===e||t.w===e}).forEach(function(r){var o=r.w===e;n.edge(r).baseEdgeList.forEach(function(n){var a=o?[n.w,r.v]:[n.v,r.w],s=Object(u.a)(a,2),c=s[0],l=s[1],f=t.getChildName(e,c),h={v:o?l:f,w:o?f:l},d=i.edge(h);d||((d=na(h.v,h.w)).inbound=o,i.setEdge(h.v,h.w,d)),d.addBaseEdge(n,t)})})}),i}},{key:"getChildName",value:function(e,t){for(var n=this.index[t];n;){if(n.parentNode&&n.parentNode.name===e)return n.name;n=n.parentNode}throw Error("Could not find immediate child for descendant: "+t)}},{key:"getPredecessors",value:function(e){var t=this.index[e];if(!t)throw Error("Could not find node with name: "+e);return this.getOneWayEdges(t,!0)}},{key:"getSuccessors",value:function(e){var t=this.index[e];if(!t)throw Error("Could not find node with name: "+e);return this.getOneWayEdges(t,!1)}},{key:"getOneWayEdges",value:function(e,t){var n=[];if(!e.parentNode||!e.parentNode.isGroupNode)return n;var r=e.parentNode,i=r.metaGraph,o=this.getBridgeGraph(r.name);return oa(i,e,t,n),oa(o,e,t,n),n}}]),e}();function oa(e,t,n,r){(n?e.inEdges(t.name):e.outEdges(t.name)).forEach(function(t){var n=e.edge(t);r.push(n)})}var aa=function(){function e(t){Object(c.a)(this,e),this.hierarchy=t,this.index={},this.hasSubHierarchy={},this.root=new ca(this.hierarchy.root,this.hierarchy.graphOptions),this.index[t.root.name]=this.root,this.buildSubHierarchy(t.root.name),this.root.expanded=!0}return Object(s.a)(e,[{key:"getRenderInfoNodes",value:function(){return Object.values(this.index)}},{key:"getSubHierarchy",value:function(){return this.hasSubHierarchy}},{key:"buildSubHierarchy",value:function(e){var t=this;if(!(e in this.hasSubHierarchy)){this.hasSubHierarchy[e]=!0;var n=this.index[e];if(n.node.type===d.META){var r=n,i=r.node.metaGraph,o=r.coreGraph;i.nodes().forEach(function(e){var n=t.getOrCreateRenderNodeByName(e);o.setNode(e,n)}),i.edges().forEach(function(e){var t=i.edge(e),n=new sa(t);o.setEdge(e.v,e.w,n)});var a=r.node.parentNode;if(a){var s=this.getRenderNodeByName(a.name),c=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return n.concat([e?"IN":"OUT"]).join("~~")},l=this.hierarchy.getBridgeGraph(e);l.edges().forEach(function(n){var r=l.edge(n),f=!!i.node(n.w),h=f?[n.w,n.v]:[n.v,n.w],v=Object(u.a)(h,2),g=v[0],y=v[1],m=function(t){var n=f?{v:t,w:e}:{v:e,w:t};return s.coreGraph.edge(n)},b=m(y);b||(b=m(c(f,y,a.name)));var w=c(f,e),E=c(f,y,e),x=o.node(E);if(!x){var k=o.node(w);if(!k){var O={name:w,type:d.BRIDGE,isGroupNode:!1,cardinality:0,parentNode:null,include:p.UNSPECIFIED,inbound:f,attr:{}};k=new ua(O),t.index[w]=k,o.setNode(w,k)}var S={name:E,type:d.BRIDGE,isGroupNode:!1,cardinality:1,parentNode:null,include:p.UNSPECIFIED,inbound:f,attr:{}};x=new ua(S),t.index[E]=x,o.setNode(E,x),o.setParent(E,w),k.node.cardinality++}var A=new sa(r);A.adjoiningMetaEdge=b,f?o.setEdge(E,g,A):o.setEdge(g,E,A)})}}}}},{key:"getOrCreateRenderNodeByName",value:function(e){if(!e)return null;if(e in this.index)return this.index[e];var t=this.getNodeByName(e);return t?(this.index[e]=t.isGroupNode?new ca(t,this.hierarchy.graphOptions):new ua(t),this.index[e]):null}},{key:"getRenderNodeByName",value:function(e){return this.index[e]}},{key:"getNodeByName",value:function(e){return this.hierarchy.node(e)}}]),e}(),ua=Object(s.a)(function e(t){Object(c.a)(this,e),this.node=t,this.expanded=!1,this.x=0,this.y=0,this.coreBox={width:0,height:0},this.outboxWidth=0,this.labelOffset=0,this.radius=0,this.labelHeight=0,this.paddingTop=0,this.paddingLeft=0,this.paddingRight=0,this.paddingBottom=0,this.width=t.width||0,this.height=t.height||0,this.displayName=t.name,this.attr=t.attr}),sa=Object(s.a)(function e(t){Object(c.a)(this,e),this.metaEdge=t,this.adjoiningMetaEdge=null,this.weight=1,this.points=[]}),ca=function(e){Object(o.a)(n,e);var t=Object(a.a)(n);function n(e,r){var i;Object(c.a)(this,n),i=t.call(this,e);var o=e.metaGraph.graph();return r.compound=!0,i.coreGraph=ra(o.name,v.CORE,r),i}return Object(s.a)(n)}(ua);function la(e,t){e.node.isGroupNode&&function(e,t){var n=f(t);e.coreGraph.nodes().map(function(t){return e.coreGraph.node(t)}).forEach(function(e){var r,i,o,a,u,s,c=e.height,l=e.width;switch(e.node.type){case d.NODE:Object.assign(e,n.nodeSize.node),e.height=c||n.nodeSize.node.height,e.width=l||n.nodeSize.node.width;break;case d.BRIDGE:Object.assign(e,n.nodeSize.bridge);break;case d.META:e.expanded?la(e,t):(Object.assign(e,n.nodeSize.meta),e.height=n.nodeSize.meta.height,e.width=n.nodeSize.meta.width);break;default:throw Error("Unrecognized node type: "+e.node.type)}if(!e.expanded){var f=e.attr;!function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e.coreBox.width=e.width,e.coreBox.height=e.height,!t){var n="".concat(e.displayName).length;e.width=Math.max(e.coreBox.width,3*n)}}(e,t&&(0===e.node.type&&!!(null===(i=null===(r=null==t?void 0:t.nodeSize)||void 0===r?void 0:r.meta)||void 0===i?void 0:i.width)||1===e.node.type&&(!!(null===(a=null===(o=null==t?void 0:t.nodeSize)||void 0===o?void 0:o.node)||void 0===a?void 0:a.width)||!!f.width)||2===e.node.type&&!!(null===(s=null===(u=null==t?void 0:t.nodeSize)||void 0===u?void 0:u.bridge)||void 0===s?void 0:s.width)))}})}(e,t),e.node.type===d.META&&function(e,t){var n=f(t),r=n.subScene.meta;Object.assign(e,r);var i=n.graph.meta,o={nodesep:i.nodeSep,ranksep:i.rankSep,edgesep:i.edgeSep,align:i.align};Object.assign(e.coreBox,function(e,t){var n=t.ranksep,r=t.nodesep,i=t.edgesep,o=t.align;Object.assign(e.graph(),{ranksep:n,nodesep:r,edgesep:i,align:o});var a=[];if(e.nodes().forEach(function(t){e.node(t).node.type!==d.BRIDGE&&a.push(t)}),!a.length)return{width:0,height:0};Jo(e);var u=1/0,s=1/0,c=-1/0,l=-1/0;return a.forEach(function(t){var n=e.node(t),r=.5*n.width,i=n.x-r,o=n.x+r;u=i<u?i:u,c=o>c?o:c;var a=.5*n.height,f=n.y-a,h=n.y+a;s=f<s?f:s,l=h>l?h:l}),e.edges().forEach(function(t){var n=e.edge(t),r=e.node(n.metaEdge.v),i=e.node(n.metaEdge.w);if(3===n.points.length&&function(e){for(var t=fa(e[0],e[1]),n=1;n<e.length-1;n++){var r=fa(e[n],e[n+1]);if(Math.abs(r-t)>1)return!1;t=r}return!0}(n.points)){if(null!=r){var o=r.expanded?r.x:ha(r);n.points[0].x=o}if(null!=i){var a=i.expanded?i.x:ha(i);n.points[2].x=a}n.points=[n.points[0],n.points[1]]}var f=n.points[n.points.length-2];null!=i&&(n.points[n.points.length-1]=da(f,i));var h=n.points[1];null!=r&&(n.points[0]=da(h,r)),n.points.forEach(function(e){u=e.x<u?e.x:u,c=e.x>c?e.x:c,s=e.y<s?e.y:s,l=e.y>l?e.y:l})}),e.nodes().forEach(function(t){var n=e.node(t);n.x-=u,n.y-=s}),e.edges().forEach(function(t){e.edge(t).points.forEach(function(e){e.x-=u,e.y-=s})}),{width:c-u,height:l-s}}(e.coreGraph,o));var a=0;e.coreGraph.nodeCount()>0&&a++;var u=a<=1?0:a;e.coreBox.width+=u+u,e.coreBox.height=r.labelHeight+e.coreBox.height,e.width=e.coreBox.width+r.paddingLeft+r.paddingRight,e.height=e.paddingTop+e.coreBox.height+e.paddingBottom}(e,t)}function fa(e,t){var n=t.x-e.x,r=t.y-e.y;return 180*Math.atan(r/n)/Math.PI}function ha(e){return e.expanded?e.x:e.x-e.width/2+0+e.coreBox.width/2}function da(e,t){var n,r,i=t.expanded?t.x:ha(t),o=t.y,a=e.x-i,u=e.y-o,s=t.expanded?t.width:t.coreBox.width,c=t.expanded?t.height:t.coreBox.height;return Math.abs(u)*s/2>Math.abs(a)*c/2?(u<0&&(c=-c),n=0===u?0:c/2*a/u,r=c/2):(a<0&&(s=-s),n=s/2,r=0===a?0:s/2*u/a),{x:i+n,y:o+r}}function pa(e,t,n){var o,a,s,c,f=e.nodes.filter(function(e,t,n){return n.findIndex(function(t){return t.id===e.id})!==t}).map(function(e){return e.id});if(f.length)throw new Error("Duplicated ids found: ".concat(f.join(", ")));var h=function(e){var t={nodes:[]},n=e.compound,r=Object.keys(n||{}),o=new Map,a=function e(t){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(o.has(t))return o.get(t);for(var a=0;a<r.length;a++){var u=r[a];if(n&&-1!==n[u].indexOf(t))return i.unshift(u),e(u,i)}return 0===i.length&&o.set(t,i),i},u=function(t){return e.edges.filter(function(e){return e.w===t}).map(function(e){return{name:e.v}})};return e.nodes.forEach(function(e){var n=e.id,r=[].concat(Object(i.a)(a(n)),[n]),o=u(n);t.nodes.push({name:n,path:r,inputs:o,width:e.width,height:e.height,attr:Object.assign({},e)})}),t}(e),d=function(e,t){var n=function(e,t){var n,i=Object(r.a)(t.values());try{for(i.s();!(n=i.n()).done;){if(n.value.includes(e))return!0}}catch(o){i.e(o)}finally{i.f()}return!1};return function e(t){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(0===Object.keys(t).length)return Object(i.a)(new Set(o));var a,s=new Map(Object.keys(t).map(function(e){return[e,t[e]]})),c={},l=Object(r.a)(s);try{for(l.s();!(a=l.n()).done;){var f=Object(u.a)(a.value,2),h=f[0],d=f[1];n(h,s)?c[h]=d:o=o.concat(h,d)}}catch(p){l.e(p)}finally{l.f()}return e(c,o)}(e).filter(function(e){return t.includes(e)})}(e.compound||{},(null==t?void 0:t.expanded)||[]),p=function(e,t){return function(e){return new aa(e)}(function(e,t){var n=t.rankDirection,r=t.align,i=new ia({rankdir:n,align:r});return function(e,t){Object.keys(t.nodes).forEach(function(n){var r=t.nodes[n],i=r.path,o=e.root;o.depth=Math.max(i.length,o.depth);for(var a=0;a<i.length&&(o.depth=Math.max(o.depth,i.length-a),o.cardinality+=r.cardinality,a!==i.length-1);a++){var u=i[a],s=e.node(u);s||((s=ta(u,e.graphOptions)).path=r.path.slice(0,a+1),s.parentNode=o,e.setNode(u,s),o.metaGraph.setNode(u,s)),o=s}e.setNode(r.name,r),r.parentNode=o,o.metaGraph.setNode(r.name,r)})}(i,e),function(e,t){var n=e.getNodeMap(),r=[],i=[],o=function(e,t){for(var n=0;e;)t[n++]=e.name,e=e.parentNode;return n-1};t.edges.forEach(function(a){r=[],i=[];for(var u=o(t.nodes[a.v],r),s=o(t.nodes[a.w],i);r[u]===i[s];)if(s--,--u<0||s<0)throw Error("No difference found between ancestor paths.");var c=n[r[u+1]],l=r[u],f=i[s],h=c.metaGraph.edge(l,f);h||(h=na(l,f),c.metaGraph.setEdge(l,f,h)),h.addBaseEdge(a,e)})}(i,e),i}(function(e){var t=new Ko;return e.nodes.map(function(e){return new Qo(e)}).forEach(function(e){t.nodes[e.name]=e,e.inputs.forEach(function(n){!function(e,t,n){n.name!==t.name&&e.edges.push(Object.assign(Object.assign({},n.attr),{v:n.name,w:t.name}))}(t,e,n)})}),t}(e),t))}(h,{rankDirection:(null===(a=null===(o=null==n?void 0:n.graph)||void 0===o?void 0:o.meta)||void 0===a?void 0:a.rankDir)||(null==t?void 0:t.rankDirection)||l.graph.meta.rankDir,align:(null===(c=null===(s=null==n?void 0:n.graph)||void 0===s?void 0:s.meta)||void 0===c?void 0:c.align)||l.graph.meta.align});return function(e,t){d.forEach(function(t){var n=e.getRenderInfoNodes().find(function(e){return e.displayName===t}),r=n&&n.node&&n.node.name||"",i=e.getRenderNodeByName(r);if(!i)throw new Error("No nodes found: ".concat(r));i.expanded=!0,e.buildSubHierarchy(r)})}(p),la(p.root,n),ya(p.root)}function va(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=JSON.parse(JSON.stringify(e)),r={nodes:[n],edges:Object(i.a)(n.edges)};return n.nodes.forEach(function e(t){(0===t.type||1===t.type)&&r.nodes.push(t),0===t.type&&(r.edges=r.edges.concat(t.edges)),Array.isArray(t.nodes)&&t.nodes.forEach(e)}),t&&r.nodes.forEach(function(e){var t=r.nodes.find(function(t){return t.id===e.parentNodeName});if(t){var n=t.x-t.width/2+t.paddingLeft,i=t.y-t.height/2+t.labelHeight+t.paddingTop;t.id!==y&&(e.x+=n,e.y+=i),0===e.type&&e.edges.forEach(function(t){t.points.forEach(function(t){t.x+=e.x-e.width/2+e.paddingLeft,t.y+=e.y-e.height/2+e.labelHeight+e.paddingTop})})}}),r}function ga(e,t,n,r){var o,a,u=[],s=(null===(o=n.find(function(t){return t.id===e}))||void 0===o?void 0:o.path)||[],c=(null===(a=n.find(function(e){return e.id===t}))||void 0===a?void 0:a.path)||[],l=[y].concat(Object(i.a)(s)).slice(0,s.length).reverse(),f=[y].concat(Object(i.a)(c)).slice(0,c.length);return l.forEach(function(i){var o=n.find(function(e){return e.id===i});u=u.concat(o.edges.filter(function(n){return n.baseEdgeList.some(function(n){return n.v===((null==r?void 0:r.v)||e)&&n.w===((null==r?void 0:r.w)||t)})}))}),f.filter(function(e){return!l.includes(e)}).forEach(function(i){var o=n.find(function(e){return e.id===i});u=u.concat(o.edges.filter(function(n){return n.baseEdgeList.some(function(n){return n.v===((null==r?void 0:r.v)||e)&&n.w===((null==r?void 0:r.w)||t)})}))}),u}function ya(e){var t,n=e.coreGraph.nodes().map(function(t){return e.coreGraph.node(t)});return Object.assign(Object.assign({},ma(e)),{expanded:e.expanded,nodes:e.expanded?(t=n,t.map(function(e){return e.node.type===d.META?ya(e):ma(e)})):[],edges:e.expanded?ba(e):[]})}function ma(e){return{id:e.node.name,name:e.node.name,type:e.node.type,cardinality:e.node.cardinality,attr:e.attr,parentNodeName:e.node.parentNode?e.node.parentNode.name:null,coreBox:Object.assign({},e.coreBox),x:e.x,y:e.y,width:e.width,height:e.height,radius:e.radius,labelHeight:e.labelHeight,labelOffset:e.labelOffset,outboxWidth:e.outboxWidth,paddingLeft:e.paddingLeft,paddingTop:e.paddingTop,paddingRight:e.paddingRight,paddingBottom:e.paddingBottom,path:e.node.path}}function ba(e){return e.coreGraph.edges().map(function(t){return{renderInfoEdge:e.coreGraph.edge(t),edge:t}}).filter(function(e){return e.renderInfoEdge.metaEdge}).map(function(t){var n=t.edge,r=t.renderInfoEdge,i=function(e,t){var n=t.points.map(function(e){return Object.assign({},e)});if(t.adjoiningMetaEdge){var r=t.adjoiningMetaEdge.points,i=t.metaEdge.inbound,o=i?r[r.length-1]:r[0],a=n[i?0:n.length-1],u=e.x-e.width/2,s=e.y-e.height/2,c=o.x-u,l=o.y-s,f=-e.paddingLeft,h=-(e.paddingTop+e.labelHeight);a.x=c+f,a.y=l+h}return n}(e,r);return{adjoiningEdge:r.adjoiningMetaEdge?{w:r.adjoiningMetaEdge.metaEdge.w,v:r.adjoiningMetaEdge.metaEdge.v}:null,inbound:r.metaEdge.inbound,w:n.w,v:n.v,points:i,weight:r.weight,baseEdgeList:r.metaEdge.baseEdgeList,parentNodeName:e.node.name}})}}).call(this,n(62))},function(e,t,n){var r=n(45),i=n(200),o=n(199),a=n(56),u=n(131),s=TypeError,c=Object.defineProperty,l=Object.getOwnPropertyDescriptor;t.f=r?o?function(e,t,n){if(a(e),t=u(t),a(n),"function"===typeof e&&"prototype"===t&&"value"in n&&"writable"in n&&!n.writable){var r=l(e,t);r&&r.writable&&(e[t]=n.value,n={configurable:"configurable"in n?n.configurable:r.configurable,enumerable:"enumerable"in n?n.enumerable:r.enumerable,writable:!1})}return c(e,t,n)}:c:function(e,t,n){if(a(e),t=u(t),a(n),i)try{return c(e,t,n)}catch(r){}if("get"in n||"set"in n)throw s("Accessors not supported");return"value"in n&&(e[t]=n.value),e}},function(e,t,n){var r=n(16),i=n(77),o=n(38),a=o.Set,u=o.proto,s=r(u.forEach),c=r(u.keys),l=c(new a).next;e.exports=function(e,t,n){return n?i(c(e),t,l):s(e,t)}},function(e,t,n){"use strict";var r=n(40),i=n(152),o=n(155);t.a=function(e,t){return Object(o.a)(Object(i.a)(e,t,r.a),e+"")}},function(e,t,n){var r=n(44),i=String,o=TypeError;e.exports=function(e){if(r(e))return e;throw o(i(e)+" is not an object")}},function(e,t,n){var r=n(20),i=n(114),o=TypeError;e.exports=function(e){if(r(e))return e;throw o(i(e)+" is not a function")}},function(e,t,n){"use strict";function r(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}n.d(t,"a",function(){return r})},,,function(e,t,n){"use strict";var r={};n.r(r),n.d(r,"debounce",function(){return Bn.a}),n.d(r,"throttle",function(){return So.a}),n.d(r,"apply",function(){return Ro}),n.d(r,"call",function(){return Lo}),n.d(r,"isAsyncLike",function(){return Io}),n.d(r,"isAsync",function(){return Do}),n.d(r,"toAsyncBoolean",function(){return Bo}),n.d(r,"toDeferredBoolean",function(){return Fo});var i={};n.r(i),n.d(i,"has",function(){return Gi}),n.d(i,"pick",function(){return co}),n.d(i,"merge",function(){return no.a}),n.d(i,"isEqual",function(){return Yi}),n.d(i,"isEmpty",function(){return Xi}),n.d(i,"isObject",function(){return bn.a}),n.d(i,"isPlainObject",function(){return Qi.a}),n.d(i,"clone",function(){return Rn}),n.d(i,"cloneDeep",function(){return Dn}),n.d(i,"defaults",function(){return Hn}),n.d(i,"defaultsDeep",function(){return Jn}),n.d(i,"ensure",function(){return Xo}),n.d(i,"getValue",function(){return Yo}),n.d(i,"getNumber",function(){return $o}),n.d(i,"getBoolean",function(){return Jo}),n.d(i,"isMaliciousProp",function(){return Qo}),n.d(i,"getByPath",function(){return Ko}),n.d(i,"setByPath",function(){return Zo}),n.d(i,"unsetByPath",function(){return ea}),n.d(i,"flatten",function(){return ta}),n.d(i,"applyMixins",function(){return Uo}),n.d(i,"inherit",function(){return Ho}),n.d(i,"createClass",function(){return qo});var o={};n.r(o),n.d(o,"uniq",function(){return Po}),n.d(o,"union",function(){return _o}),n.d(o,"sortedIndex",function(){return ko}),n.d(o,"sortedIndexBy",function(){return Oo}),n.d(o,"sortBy",function(){return go}),n.d(o,"groupBy",function(){return zi}),n.d(o,"difference",function(){return yr}),n.d(o,"max",function(){return to});var a={};n.r(a),n.d(a,"uniqueId",function(){return No}),n.d(a,"lowerFirst",function(){return Ki}),n.d(a,"upperFirst",function(){return ue}),n.d(a,"camelCase",function(){return De}),n.d(a,"kebabCase",function(){return ua}),n.d(a,"pascalCase",function(){return sa}),n.d(a,"constantCase",function(){return ca}),n.d(a,"dotCase",function(){return la}),n.d(a,"pathCase",function(){return fa}),n.d(a,"sentenceCase",function(){return ha}),n.d(a,"titleCase",function(){return da}),n.d(a,"hashcode",function(){return pa}),n.d(a,"uuid",function(){return va}),n.d(a,"getSpellingSuggestion",function(){return ya});var u={};n.r(u),n.d(u,"isNumber",function(){return Ji}),n.d(u,"clamp",function(){return ze}),n.d(u,"mod",function(){return ba}),n.d(u,"random",function(){return wa}),n.d(u,"isPercentage",function(){return Ea}),n.d(u,"normalizePercentage",function(){return xa}),n.d(u,"parseCssNumeric",function(){return ka}),n.d(u,"normalizeSides",function(){return Oa});var s={};n.r(s),n.d(s,"annotate",function(){return Bu}),n.d(s,"findAnnotationsAtIndex",function(){return Fu}),n.d(s,"findAnnotationsBetweenIndexes",function(){return zu}),n.d(s,"shiftAnnotations",function(){return Vu}),n.d(s,"sanitize",function(){return Uu});var c={};n.r(c),n.d(c,"CASE_SENSITIVE_ATTR",function(){return ju}),n.d(c,"getAttribute",function(){return Cu}),n.d(c,"removeAttribute",function(){return _u}),n.d(c,"setAttribute",function(){return Pu}),n.d(c,"setAttributes",function(){return Mu}),n.d(c,"attr",function(){return Nu}),n.d(c,"qualifyAttr",function(){return Ru}),n.d(c,"kebablizeAttrs",function(){return Lu}),n.d(c,"styleToObject",function(){return Iu}),n.d(c,"mergeAttrs",function(){return Du}),n.d(c,"uniqueId",function(){return eu}),n.d(c,"ensureId",function(){return tu}),n.d(c,"isSVGGraphicsElement",function(){return nu}),n.d(c,"ns",function(){return ru}),n.d(c,"svgVersion",function(){return iu}),n.d(c,"createElement",function(){return ou}),n.d(c,"createElementNS",function(){return au}),n.d(c,"createSvgElement",function(){return uu}),n.d(c,"createSvgDocument",function(){return su}),n.d(c,"parseXML",function(){return cu}),n.d(c,"tagName",function(){return lu}),n.d(c,"index",function(){return fu}),n.d(c,"find",function(){return hu}),n.d(c,"findOne",function(){return du}),n.d(c,"findParentByClass",function(){return pu}),n.d(c,"contains",function(){return vu}),n.d(c,"remove",function(){return gu}),n.d(c,"empty",function(){return yu}),n.d(c,"append",function(){return mu}),n.d(c,"prepend",function(){return bu}),n.d(c,"before",function(){return wu}),n.d(c,"after",function(){return Eu}),n.d(c,"appendTo",function(){return xu}),n.d(c,"isElement",function(){return ku}),n.d(c,"isHTMLElement",function(){return Ou}),n.d(c,"children",function(){return Su}),n.d(c,"getClass",function(){return Ya}),n.d(c,"hasClass",function(){return $a}),n.d(c,"addClass",function(){return Ja}),n.d(c,"removeClass",function(){return Qa}),n.d(c,"toggleClass",function(){return Ka}),n.d(c,"setPrefixedStyle",function(){return Ju}),n.d(c,"getComputedStyle",function(){return Qu}),n.d(c,"hasScrollbars",function(){return Ku}),n.d(c,"getVendorPrefixedName",function(){return $u}),n.d(c,"clearSelection",function(){return Zu}),n.d(c,"isCSSVariable",function(){return ts}),n.d(c,"computeStyle",function(){return ns}),n.d(c,"computeStyleInt",function(){return rs}),n.d(c,"css",function(){return is}),n.d(c,"getData",function(){return as}),n.d(c,"setData",function(){return us}),n.d(c,"data",function(){return ss}),n.d(c,"prop",function(){return ls}),n.d(c,"text",function(){return ys}),n.d(c,"measureText",function(){return ms}),n.d(c,"splitTextByLength",function(){return bs}),n.d(c,"breakText",function(){return ws}),n.d(c,"KAPPA",function(){return Es}),n.d(c,"sample",function(){return ks}),n.d(c,"lineToPathData",function(){return Os}),n.d(c,"polygonToPathData",function(){return Ss}),n.d(c,"polylineToPathData",function(){return As}),n.d(c,"getPointsFromSvgElement",function(){return js}),n.d(c,"circleToPathData",function(){return Cs}),n.d(c,"ellipseToPathData",function(){return _s}),n.d(c,"rectangleToPathData",function(){return Ps}),n.d(c,"rectToPathData",function(){return Ms}),n.d(c,"toPath",function(){return Ns}),n.d(c,"toPathData",function(){return Rs}),n.d(c,"createSlicePathData",function(){return Ls}),n.d(c,"createSVGPoint",function(){return Gs}),n.d(c,"createSVGMatrix",function(){return Hs}),n.d(c,"createSVGTransform",function(){return Ws}),n.d(c,"transformStringToMatrix",function(){return qs}),n.d(c,"matrixToTransformString",function(){return Xs}),n.d(c,"parseTransformString",function(){return Ys}),n.d(c,"decomposeMatrix",function(){return Js}),n.d(c,"matrixToScale",function(){return Qs}),n.d(c,"matrixToRotation",function(){return Ks}),n.d(c,"matrixToTranslation",function(){return Zs}),n.d(c,"transform",function(){return ec}),n.d(c,"translate",function(){return tc}),n.d(c,"rotate",function(){return nc}),n.d(c,"scale",function(){return rc}),n.d(c,"getTransformToElement",function(){return ic}),n.d(c,"getTransformToParentElement",function(){return oc}),n.d(c,"toLocalPoint",function(){return ac}),n.d(c,"MouseWheelHandle",function(){return dc}),n.d(c,"offset",function(){return pc}),n.d(c,"width",function(){return vc}),n.d(c,"height",function(){return gc}),n.d(c,"position",function(){return yc}),n.d(c,"EventHook",function(){return Is}),n.d(c,"Event",function(){return lc}),n.d(c,"EventObject",function(){return sc});var l={};n.r(l),n.d(l,"ensure",function(){return Cc}),n.d(l,"clean",function(){return _c});var f={};n.r(f),n.d(f,"dot",function(){return sl}),n.d(f,"fixedDot",function(){return cl}),n.d(f,"mesh",function(){return ll}),n.d(f,"doubleMesh",function(){return fl});var h={};n.r(h),n.d(h,"flipX",function(){return yl}),n.d(h,"flipY",function(){return ml}),n.d(h,"flipXY",function(){return bl}),n.d(h,"watermark",function(){return wl});var d={};n.r(d),n.d(d,"outline",function(){return kl}),n.d(d,"highlight",function(){return Ol}),n.d(d,"blur",function(){return Sl}),n.d(d,"dropShadow",function(){return Al}),n.d(d,"grayScale",function(){return Tl}),n.d(d,"sepia",function(){return jl}),n.d(d,"saturate",function(){return Cl}),n.d(d,"hueRotate",function(){return _l}),n.d(d,"invert",function(){return Pl}),n.d(d,"brightness",function(){return Ml}),n.d(d,"contrast",function(){return Nl});var p={};n.r(p),n.d(p,"block",function(){return Nf}),n.d(p,"classic",function(){return Rf}),n.d(p,"diamond",function(){return Ff}),n.d(p,"path",function(){return Vf}),n.d(p,"cross",function(){return Gf}),n.d(p,"async",function(){return Wf}),n.d(p,"circle",function(){return Xf}),n.d(p,"circlePlus",function(){return Yf}),n.d(p,"ellipse",function(){return Jf});var v={};n.r(v),n.d(v,"ref",function(){return Ll}),n.d(v,"refX",function(){return Il}),n.d(v,"refY",function(){return Dl}),n.d(v,"refDx",function(){return Bl}),n.d(v,"refDy",function(){return Fl}),n.d(v,"refWidth",function(){return zl}),n.d(v,"refHeight",function(){return Vl}),n.d(v,"refRx",function(){return Ul}),n.d(v,"refRy",function(){return Gl}),n.d(v,"refRInscribed",function(){return Hl}),n.d(v,"refRCircumscribed",function(){return Wl}),n.d(v,"refCx",function(){return ql}),n.d(v,"refCy",function(){return Xl}),n.d(v,"refDResetOffset",function(){return Yl}),n.d(v,"refDKeepOffset",function(){return $l}),n.d(v,"refPointsResetOffset",function(){return Jl}),n.d(v,"refPointsKeepOffset",function(){return Ql}),n.d(v,"refR",function(){return Kl}),n.d(v,"refD",function(){return Zl}),n.d(v,"refPoints",function(){return ef}),n.d(v,"refX2",function(){return tf}),n.d(v,"refY2",function(){return nf}),n.d(v,"refWidth2",function(){return rf}),n.d(v,"refHeight2",function(){return of}),n.d(v,"fill",function(){return ff}),n.d(v,"stroke",function(){return hf}),n.d(v,"text",function(){return df}),n.d(v,"textWrap",function(){return pf}),n.d(v,"lineHeight",function(){return gf}),n.d(v,"textVerticalAnchor",function(){return yf}),n.d(v,"textPath",function(){return mf}),n.d(v,"annotations",function(){return bf}),n.d(v,"eol",function(){return wf}),n.d(v,"displayEmpty",function(){return Ef}),n.d(v,"title",function(){return xf}),n.d(v,"xAlign",function(){return kf}),n.d(v,"yAlign",function(){return Of}),n.d(v,"resetOffset",function(){return Sf}),n.d(v,"style",function(){return Tf}),n.d(v,"html",function(){return jf}),n.d(v,"filter",function(){return Cf}),n.d(v,"port",function(){return _f}),n.d(v,"sourceMarker",function(){return Zf}),n.d(v,"targetMarker",function(){return eh}),n.d(v,"vertexMarker",function(){return th}),n.d(v,"connection",function(){return ah}),n.d(v,"atConnectionLengthKeepGradient",function(){return uh}),n.d(v,"atConnectionLengthIgnoreGradient",function(){return sh}),n.d(v,"atConnectionRatioKeepGradient",function(){return ch}),n.d(v,"atConnectionRatioIgnoreGradient",function(){return lh}),n.d(v,"atConnectionLength",function(){return fh}),n.d(v,"atConnectionRatio",function(){return hh});var g={};n.r(g),n.d(g,"className",function(){return yh}),n.d(g,"opacity",function(){return bh}),n.d(g,"stroke",function(){return Oh});var y={};n.r(y),n.d(y,"absolute",function(){return Th}),n.d(y,"ellipse",function(){return jh}),n.d(y,"ellipseSpread",function(){return Ch}),n.d(y,"line",function(){return Rh}),n.d(y,"left",function(){return Lh}),n.d(y,"right",function(){return Ih}),n.d(y,"top",function(){return Dh}),n.d(y,"bottom",function(){return Bh});var m={};n.r(m),n.d(m,"manual",function(){return Uh}),n.d(m,"left",function(){return Gh}),n.d(m,"right",function(){return Hh}),n.d(m,"top",function(){return Wh}),n.d(m,"bottom",function(){return qh}),n.d(m,"outside",function(){return Xh}),n.d(m,"outsideOriented",function(){return Yh}),n.d(m,"inside",function(){return $h}),n.d(m,"insideOriented",function(){return Jh}),n.d(m,"radial",function(){return nd}),n.d(m,"radialOriented",function(){return rd});var b={};n.r(b),n.d(b,"noop",function(){return yd}),n.d(b,"pinRelative",function(){return xd}),n.d(b,"pinAbsolute",function(){return kd});var w={};n.r(w),n.d(w,"center",function(){return Xd}),n.d(w,"top",function(){return Yd}),n.d(w,"bottom",function(){return $d}),n.d(w,"left",function(){return Jd}),n.d(w,"right",function(){return Qd}),n.d(w,"topLeft",function(){return Kd}),n.d(w,"topRight",function(){return Zd}),n.d(w,"bottomLeft",function(){return ep}),n.d(w,"bottomRight",function(){return tp}),n.d(w,"orth",function(){return up}),n.d(w,"nodeCenter",function(){return sp}),n.d(w,"midSide",function(){return cp});var E={};n.r(E),n.d(E,"closest",function(){return vp}),n.d(E,"ratio",function(){return hp}),n.d(E,"length",function(){return dp}),n.d(E,"orth",function(){return gp});var x={};n.r(x),n.d(x,"bbox",function(){return bp}),n.d(x,"rect",function(){return wp}),n.d(x,"boundary",function(){return Ep}),n.d(x,"anchor",function(){return Op});var k={};n.r(k),n.d(k,"normal",function(){return Sp}),n.d(k,"oneSide",function(){return Ap}),n.d(k,"orth",function(){return Mp}),n.d(k,"metro",function(){return ev}),n.d(k,"manhattan",function(){return Kp}),n.d(k,"er",function(){return tv}),n.d(k,"loop",function(){return ov});var O={};n.r(O),n.d(O,"normal",function(){return sv}),n.d(O,"loop",function(){return cv}),n.d(O,"rounded",function(){return lv}),n.d(O,"smooth",function(){return fv}),n.d(O,"jumpover",function(){return wv});var S={};n.r(S),n.d(S,"Rect",function(){return Hv}),n.d(S,"Edge",function(){return Wv}),n.d(S,"Ellipse",function(){return qv}),n.d(S,"Polygon",function(){return $v}),n.d(S,"Polyline",function(){return Jv}),n.d(S,"Path",function(){return Kv}),n.d(S,"TextBlock",function(){return eg}),n.d(S,"Image",function(){return tg}),n.d(S,"Circle",function(){return ng}),n.d(S,"HTML",function(){return Gg});var A=n(11),T=(n(647),n(0)),j=n(1),C=function(){function e(){Object(T.a)(this,e)}return Object(j.a)(e,[{key:"disposed",get:function(){return!0===this._disposed}},{key:"dispose",value:function(){this._disposed=!0}}]),e}();!function(e){(C||(C={})).dispose=function(){return function(e,t,n){var r=n.value,i=e.__proto__;n.value=function(){this.disposed||(r.call(this),i.dispose.call(this))}}}}();var _=function(){function e(){Object(T.a)(this,e),this.isDisposed=!1,this.items=new Set}return Object(j.a)(e,[{key:"disposed",get:function(){return this.isDisposed}},{key:"dispose",value:function(){this.isDisposed||(this.isDisposed=!0,this.items.forEach(function(e){e.dispose()}),this.items.clear())}},{key:"contains",value:function(e){return this.items.has(e)}},{key:"add",value:function(e){this.items.add(e)}},{key:"remove",value:function(e){this.items.delete(e)}},{key:"clear",value:function(){this.items.clear()}}]),e}();!function(e){e.from=function(t){var n=new e;return t.forEach(function(e){n.add(e)}),n}}(_||(_={}));var P=n(2),M=n(3),N=n(5),R=n(29);var L=function(e,t){for(var n=-1,r=null==e?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i},I=n(13),D=n(27),B=1/0,F=R.a?R.a.prototype:void 0,z=F?F.toString:void 0;var V=function e(t){if("string"==typeof t)return t;if(Object(I.a)(t))return L(t,e)+"";if(Object(D.a)(t))return z?z.call(t):"";var n=t+"";return"0"==n&&1/t==-B?"-0":n};var U=function(e){return null==e?"":V(e)};var G=function(e,t,n){var r=-1,i=e.length;t<0&&(t=-t>i?0:i+t),(n=n>i?i:n)<0&&(n+=i),i=t>n?0:n-t>>>0,t>>>=0;for(var o=Array(i);++r<i;)o[r]=e[r+t];return o};var H=function(e,t,n){var r=e.length;return n=void 0===n?r:n,!t&&n>=r?e:G(e,t,n)},W=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");var q=function(e){return W.test(e)};var X=function(e){return e.split("")},Y="[\\ud800-\\udfff]",$="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",J="\\ud83c[\\udffb-\\udfff]",Q="[^\\ud800-\\udfff]",K="(?:\\ud83c[\\udde6-\\uddff]){2}",Z="[\\ud800-\\udbff][\\udc00-\\udfff]",ee="(?:"+$+"|"+J+")"+"?",te="[\\ufe0e\\ufe0f]?"+ee+("(?:\\u200d(?:"+[Q,K,Z].join("|")+")[\\ufe0e\\ufe0f]?"+ee+")*"),ne="(?:"+[Q+$+"?",$,K,Z,Y].join("|")+")",re=RegExp(J+"(?="+J+")|"+ne+te,"g");var ie=function(e){return e.match(re)||[]};var oe=function(e){return q(e)?ie(e):X(e)};var ae=function(e){return function(t){t=U(t);var n=q(t)?oe(t):void 0,r=n?n[0]:t.charAt(0),i=n?H(n,1).join(""):t.slice(1);return r[e]()+i}},ue=ae("toUpperCase");var se=function(e){return ue(U(e).toLowerCase())};var ce=function(e,t,n,r){var i=-1,o=null==e?0:e.length;for(r&&o&&(n=e[++i]);++i<o;)n=t(n,e[i],i,e);return n};var le=function(e){return function(t){return null==e?void 0:e[t]}}({"\xc0":"A","\xc1":"A","\xc2":"A","\xc3":"A","\xc4":"A","\xc5":"A","\xe0":"a","\xe1":"a","\xe2":"a","\xe3":"a","\xe4":"a","\xe5":"a","\xc7":"C","\xe7":"c","\xd0":"D","\xf0":"d","\xc8":"E","\xc9":"E","\xca":"E","\xcb":"E","\xe8":"e","\xe9":"e","\xea":"e","\xeb":"e","\xcc":"I","\xcd":"I","\xce":"I","\xcf":"I","\xec":"i","\xed":"i","\xee":"i","\xef":"i","\xd1":"N","\xf1":"n","\xd2":"O","\xd3":"O","\xd4":"O","\xd5":"O","\xd6":"O","\xd8":"O","\xf2":"o","\xf3":"o","\xf4":"o","\xf5":"o","\xf6":"o","\xf8":"o","\xd9":"U","\xda":"U","\xdb":"U","\xdc":"U","\xf9":"u","\xfa":"u","\xfb":"u","\xfc":"u","\xdd":"Y","\xfd":"y","\xff":"y","\xc6":"Ae","\xe6":"ae","\xde":"Th","\xfe":"th","\xdf":"ss","\u0100":"A","\u0102":"A","\u0104":"A","\u0101":"a","\u0103":"a","\u0105":"a","\u0106":"C","\u0108":"C","\u010a":"C","\u010c":"C","\u0107":"c","\u0109":"c","\u010b":"c","\u010d":"c","\u010e":"D","\u0110":"D","\u010f":"d","\u0111":"d","\u0112":"E","\u0114":"E","\u0116":"E","\u0118":"E","\u011a":"E","\u0113":"e","\u0115":"e","\u0117":"e","\u0119":"e","\u011b":"e","\u011c":"G","\u011e":"G","\u0120":"G","\u0122":"G","\u011d":"g","\u011f":"g","\u0121":"g","\u0123":"g","\u0124":"H","\u0126":"H","\u0125":"h","\u0127":"h","\u0128":"I","\u012a":"I","\u012c":"I","\u012e":"I","\u0130":"I","\u0129":"i","\u012b":"i","\u012d":"i","\u012f":"i","\u0131":"i","\u0134":"J","\u0135":"j","\u0136":"K","\u0137":"k","\u0138":"k","\u0139":"L","\u013b":"L","\u013d":"L","\u013f":"L","\u0141":"L","\u013a":"l","\u013c":"l","\u013e":"l","\u0140":"l","\u0142":"l","\u0143":"N","\u0145":"N","\u0147":"N","\u014a":"N","\u0144":"n","\u0146":"n","\u0148":"n","\u014b":"n","\u014c":"O","\u014e":"O","\u0150":"O","\u014d":"o","\u014f":"o","\u0151":"o","\u0154":"R","\u0156":"R","\u0158":"R","\u0155":"r","\u0157":"r","\u0159":"r","\u015a":"S","\u015c":"S","\u015e":"S","\u0160":"S","\u015b":"s","\u015d":"s","\u015f":"s","\u0161":"s","\u0162":"T","\u0164":"T","\u0166":"T","\u0163":"t","\u0165":"t","\u0167":"t","\u0168":"U","\u016a":"U","\u016c":"U","\u016e":"U","\u0170":"U","\u0172":"U","\u0169":"u","\u016b":"u","\u016d":"u","\u016f":"u","\u0171":"u","\u0173":"u","\u0174":"W","\u0175":"w","\u0176":"Y","\u0177":"y","\u0178":"Y","\u0179":"Z","\u017b":"Z","\u017d":"Z","\u017a":"z","\u017c":"z","\u017e":"z","\u0132":"IJ","\u0133":"ij","\u0152":"Oe","\u0153":"oe","\u0149":"'n","\u017f":"s"}),fe=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,he=RegExp("[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]","g");var de=function(e){return(e=U(e))&&e.replace(fe,le).replace(he,"")},pe=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g;var ve=function(e){return e.match(pe)||[]},ge=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/;var ye=function(e){return ge.test(e)},me="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",be="["+me+"]",we="\\d+",Ee="[\\u2700-\\u27bf]",xe="[a-z\\xdf-\\xf6\\xf8-\\xff]",ke="[^\\ud800-\\udfff"+me+we+"\\u2700-\\u27bfa-z\\xdf-\\xf6\\xf8-\\xffA-Z\\xc0-\\xd6\\xd8-\\xde]",Oe="(?:\\ud83c[\\udde6-\\uddff]){2}",Se="[\\ud800-\\udbff][\\udc00-\\udfff]",Ae="[A-Z\\xc0-\\xd6\\xd8-\\xde]",Te="(?:"+xe+"|"+ke+")",je="(?:"+Ae+"|"+ke+")",Ce="(?:[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]|\\ud83c[\\udffb-\\udfff])?",_e="[\\ufe0e\\ufe0f]?"+Ce+("(?:\\u200d(?:"+["[^\\ud800-\\udfff]",Oe,Se].join("|")+")[\\ufe0e\\ufe0f]?"+Ce+")*"),Pe="(?:"+[Ee,Oe,Se].join("|")+")"+_e,Me=RegExp([Ae+"?"+xe+"+(?:['\u2019](?:d|ll|m|re|s|t|ve))?(?="+[be,Ae,"$"].join("|")+")",je+"+(?:['\u2019](?:D|LL|M|RE|S|T|VE))?(?="+[be,Ae+Te,"$"].join("|")+")",Ae+"?"+Te+"+(?:['\u2019](?:d|ll|m|re|s|t|ve))?",Ae+"+(?:['\u2019](?:D|LL|M|RE|S|T|VE))?","\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",we,Pe].join("|"),"g");var Ne=function(e){return e.match(Me)||[]};var Re=function(e,t,n){return e=U(e),void 0===(t=n?void 0:t)?ye(e)?Ne(e):ve(e):e.match(t)||[]},Le=RegExp("['\u2019]","g");var Ie=function(e){return function(t){return ce(Re(de(t).replace(Le,"")),e,"")}},De=Ie(function(e,t,n){return t=t.toLowerCase(),e+(n?se(t):t)});var Be=function(e,t,n){return e===e&&(void 0!==n&&(e=e<=n?e:n),void 0!==t&&(e=e>=t?e:t)),e},Fe=n(73);var ze=function(e,t,n){return void 0===n&&(n=t,t=void 0),void 0!==n&&(n=(n=Object(Fe.a)(n))===n?n:0),void 0!==t&&(t=(t=Object(Fe.a)(t))===t?t:0),Be(Object(Fe.a)(e),t,n)},Ve=n(69);var Ue=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e},Ge=n(104),He=n(67),We=n(157),qe=n(80),Xe=n(150),Ye=Object(Xe.a)(Object.keys,Object),$e=Object.prototype.hasOwnProperty;var Je=function(e){if(!Object(qe.a)(e))return Ye(e);var t=[];for(var n in Object(e))$e.call(e,n)&&"constructor"!=n&&t.push(n);return t},Qe=n(34);var Ke=function(e){return Object(Qe.a)(e)?Object(We.a)(e):Je(e)};var Ze=function(e,t){return e&&Object(He.a)(t,Ke(t),e)},et=n(41);var tt=function(e,t){return e&&Object(He.a)(t,Object(et.a)(t),e)},nt=n(149),rt=n(148);var it=function(e,t){for(var n=-1,r=null==e?0:e.length,i=0,o=[];++n<r;){var a=e[n];t(a,n,e)&&(o[i++]=a)}return o};var ot=function(){return[]},at=Object.prototype.propertyIsEnumerable,ut=Object.getOwnPropertySymbols,st=ut?function(e){return null==e?[]:(e=Object(e),it(ut(e),function(t){return at.call(e,t)}))}:ot;var ct=function(e,t){return Object(He.a)(e,st(e),t)};var lt=function(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e},ft=n(103),ht=Object.getOwnPropertySymbols?function(e){for(var t=[];e;)lt(t,st(e)),e=Object(ft.a)(e);return t}:ot;var dt=function(e,t){return Object(He.a)(e,ht(e),t)};var pt=function(e,t,n){var r=t(e);return Object(I.a)(e)?r:lt(r,n(e))};var vt=function(e){return pt(e,Ke,st)};var gt=function(e){return pt(e,et.a,ht)},yt=n(42),mt=n(23),bt=Object(yt.a)(mt.a,"DataView"),wt=n(84),Et=Object(yt.a)(mt.a,"Promise"),xt=Object(yt.a)(mt.a,"Set"),kt=Object(yt.a)(mt.a,"WeakMap"),Ot=n(37),St=n(75),At=Object(St.a)(bt),Tt=Object(St.a)(wt.a),jt=Object(St.a)(Et),Ct=Object(St.a)(xt),_t=Object(St.a)(kt),Pt=Ot.a;(bt&&"[object DataView]"!=Pt(new bt(new ArrayBuffer(1)))||wt.a&&"[object Map]"!=Pt(new wt.a)||Et&&"[object Promise]"!=Pt(Et.resolve())||xt&&"[object Set]"!=Pt(new xt)||kt&&"[object WeakMap]"!=Pt(new kt))&&(Pt=function(e){var t=Object(Ot.a)(e),n="[object Object]"==t?e.constructor:void 0,r=n?Object(St.a)(n):"";if(r)switch(r){case At:return"[object DataView]";case Tt:return"[object Map]";case jt:return"[object Promise]";case Ct:return"[object Set]";case _t:return"[object WeakMap]"}return t});var Mt=Pt,Nt=Object.prototype.hasOwnProperty;var Rt=function(e){var t=e.length,n=new e.constructor(t);return t&&"string"==typeof e[0]&&Nt.call(e,"index")&&(n.index=e.index,n.input=e.input),n},Lt=n(105);var It=function(e,t){var n=t?Object(Lt.a)(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)},Dt=/\w*$/;var Bt=function(e){var t=new e.constructor(e.source,Dt.exec(e));return t.lastIndex=e.lastIndex,t},Ft=R.a?R.a.prototype:void 0,zt=Ft?Ft.valueOf:void 0;var Vt=function(e){return zt?Object(zt.call(e)):{}},Ut=n(151),Gt="[object Boolean]",Ht="[object Date]",Wt="[object Map]",qt="[object Number]",Xt="[object RegExp]",Yt="[object Set]",$t="[object String]",Jt="[object Symbol]",Qt="[object ArrayBuffer]",Kt="[object DataView]",Zt="[object Float32Array]",en="[object Float64Array]",tn="[object Int8Array]",nn="[object Int16Array]",rn="[object Int32Array]",on="[object Uint8Array]",an="[object Uint8ClampedArray]",un="[object Uint16Array]",sn="[object Uint32Array]";var cn=function(e,t,n){var r=e.constructor;switch(t){case Qt:return Object(Lt.a)(e);case Gt:case Ht:return new r(+e);case Kt:return It(e,n);case Zt:case en:case tn:case nn:case rn:case on:case an:case un:case sn:return Object(Ut.a)(e,n);case Wt:return new r;case qt:case $t:return new r(e);case Xt:return Bt(e);case Yt:return new r;case Jt:return Vt(e)}},ln=n(159),fn=n(47),hn=n(22),dn="[object Map]";var pn=function(e){return Object(hn.a)(e)&&Mt(e)==dn},vn=n(68),gn=n(74),yn=gn.a&&gn.a.isMap,mn=yn?Object(vn.a)(yn):pn,bn=n(12),wn="[object Set]";var En=function(e){return Object(hn.a)(e)&&Mt(e)==wn},xn=gn.a&&gn.a.isSet,kn=xn?Object(vn.a)(xn):En,On=1,Sn=2,An=4,Tn="[object Arguments]",jn="[object Function]",Cn="[object GeneratorFunction]",_n="[object Object]",Pn={};Pn[Tn]=Pn["[object Array]"]=Pn["[object ArrayBuffer]"]=Pn["[object DataView]"]=Pn["[object Boolean]"]=Pn["[object Date]"]=Pn["[object Float32Array]"]=Pn["[object Float64Array]"]=Pn["[object Int8Array]"]=Pn["[object Int16Array]"]=Pn["[object Int32Array]"]=Pn["[object Map]"]=Pn["[object Number]"]=Pn[_n]=Pn["[object RegExp]"]=Pn["[object Set]"]=Pn["[object String]"]=Pn["[object Symbol]"]=Pn["[object Uint8Array]"]=Pn["[object Uint8ClampedArray]"]=Pn["[object Uint16Array]"]=Pn["[object Uint32Array]"]=!0,Pn["[object Error]"]=Pn[jn]=Pn["[object WeakMap]"]=!1;var Mn=function e(t,n,r,i,o,a){var u,s=n&On,c=n&Sn,l=n&An;if(r&&(u=o?r(t,i,o,a):r(t)),void 0!==u)return u;if(!Object(bn.a)(t))return t;var f=Object(I.a)(t);if(f){if(u=Rt(t),!s)return Object(rt.a)(t,u)}else{var h=Mt(t),d=h==jn||h==Cn;if(Object(fn.a)(t))return Object(nt.a)(t,s);if(h==_n||h==Tn||d&&!o){if(u=c||d?{}:Object(ln.a)(t),!s)return c?dt(t,tt(u,t)):ct(t,Ze(u,t))}else{if(!Pn[h])return o?t:{};u=cn(t,h,s)}}a||(a=new Ve.a);var p=a.get(t);if(p)return p;a.set(t,u),kn(t)?t.forEach(function(i){u.add(e(i,n,r,i,t,a))}):mn(t)&&t.forEach(function(i,o){u.set(o,e(i,n,r,o,t,a))});var v=l?c?gt:vt:c?et.a:Ke,g=f?void 0:v(t);return Ue(g||t,function(i,o){g&&(i=t[o=i]),Object(Ge.a)(u,o,e(i,n,r,o,t,a))}),u},Nn=4;var Rn=function(e){return Mn(e,Nn)},Ln=1,In=4;var Dn=function(e){return Mn(e,Ln|In)},Bn=n(140),Fn=n(55),zn=n(39),Vn=n(94),Un=Object.prototype,Gn=Un.hasOwnProperty,Hn=Object(Fn.a)(function(e,t){e=Object(e);var n=-1,r=t.length,i=r>2?t[2]:void 0;for(i&&Object(Vn.a)(t[0],t[1],i)&&(r=1);++n<r;)for(var o=t[n],a=Object(et.a)(o),u=-1,s=a.length;++u<s;){var c=a[u],l=e[c];(void 0===l||Object(zn.a)(l,Un[c])&&!Gn.call(e,c))&&(e[c]=o[c])}return e}),Wn=n(153),qn=n(107);var Xn=function e(t,n,r,i,o,a){return Object(bn.a)(t)&&Object(bn.a)(n)&&(a.set(n,t),Object(qn.a)(t,n,void 0,e,a),a.delete(n)),t},Yn=n(154),$n=Object(Yn.a)(function(e,t,n,r){Object(qn.a)(e,t,n,r)}),Jn=Object(Fn.a)(function(e){return e.push(void 0,Xn),Object(Wn.a)($n,void 0,e)}),Qn=n(95),Kn="__lodash_hash_undefined__";var Zn=function(e){return this.__data__.set(e,Kn),this};var er=function(e){return this.__data__.has(e)};function tr(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new Qn.a;++t<n;)this.add(e[t])}tr.prototype.add=tr.prototype.push=Zn,tr.prototype.has=er;var nr=tr;var rr=function(e,t,n,r){for(var i=e.length,o=n+(r?1:-1);r?o--:++o<i;)if(t(e[o],o,e))return o;return-1};var ir=function(e){return e!==e};var or=function(e,t,n){for(var r=n-1,i=e.length;++r<i;)if(e[r]===t)return r;return-1};var ar=function(e,t,n){return t===t?or(e,t,n):rr(e,ir,n)};var ur=function(e,t){return!(null==e||!e.length)&&ar(e,t,0)>-1};var sr=function(e,t,n){for(var r=-1,i=null==e?0:e.length;++r<i;)if(n(t,e[r]))return!0;return!1};var cr=function(e,t){return e.has(t)},lr=200;var fr=function(e,t,n,r){var i=-1,o=ur,a=!0,u=e.length,s=[],c=t.length;if(!u)return s;n&&(t=L(t,Object(vn.a)(n))),r?(o=sr,a=!1):t.length>=lr&&(o=cr,a=!1,t=new nr(t));e:for(;++i<u;){var l=e[i],f=null==n?l:n(l);if(l=r||0!==l?l:0,a&&f===f){for(var h=c;h--;)if(t[h]===f)continue e;s.push(l)}else o(t,f,r)||s.push(l)}return s},hr=n(48),dr=R.a?R.a.isConcatSpreadable:void 0;var pr=function(e){return Object(I.a)(e)||Object(hr.a)(e)||!!(dr&&e&&e[dr])};var vr=function e(t,n,r,i,o){var a=-1,u=t.length;for(r||(r=pr),o||(o=[]);++a<u;){var s=t[a];n>0&&r(s)?n>1?e(s,n-1,r,i,o):lt(o,s):i||(o[o.length]=s)}return o},gr=n(72),yr=Object(Fn.a)(function(e,t){return Object(gr.a)(e)?fr(e,vr(t,1,gr.a,!0)):[]}),mr=n(81);var br=function(e,t,n,r){for(var i=-1,o=null==e?0:e.length;++i<o;){var a=e[i];t(r,a,n(a),e)}return r},wr=n(158);var Er=function(e,t){return function(n,r){if(null==n)return n;if(!Object(Qe.a)(n))return e(n,r);for(var i=n.length,o=t?i:-1,a=Object(n);(t?o--:++o<i)&&!1!==r(a[o],o,a););return n}}(function(e,t){return e&&Object(wr.a)(e,t,Ke)});var xr=function(e,t,n,r){return Er(e,function(e,i,o){t(r,e,n(e),o)}),r};var kr=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1},Or=1,Sr=2;var Ar=function(e,t,n,r,i,o){var a=n&Or,u=e.length,s=t.length;if(u!=s&&!(a&&s>u))return!1;var c=o.get(e),l=o.get(t);if(c&&l)return c==t&&l==e;var f=-1,h=!0,d=n&Sr?new nr:void 0;for(o.set(e,t),o.set(t,e);++f<u;){var p=e[f],v=t[f];if(r)var g=a?r(v,p,f,t,e,o):r(p,v,f,e,t,o);if(void 0!==g){if(g)continue;h=!1;break}if(d){if(!kr(t,function(e,t){if(!cr(d,t)&&(p===e||i(p,e,n,r,o)))return d.push(t)})){h=!1;break}}else if(p!==v&&!i(p,v,n,r,o)){h=!1;break}}return o.delete(e),o.delete(t),h},Tr=n(109);var jr=function(e){var t=-1,n=Array(e.size);return e.forEach(function(e,r){n[++t]=[r,e]}),n};var Cr=function(e){var t=-1,n=Array(e.size);return e.forEach(function(e){n[++t]=e}),n},_r=1,Pr=2,Mr="[object Boolean]",Nr="[object Date]",Rr="[object Error]",Lr="[object Map]",Ir="[object Number]",Dr="[object RegExp]",Br="[object Set]",Fr="[object String]",zr="[object Symbol]",Vr="[object ArrayBuffer]",Ur="[object DataView]",Gr=R.a?R.a.prototype:void 0,Hr=Gr?Gr.valueOf:void 0;var Wr=function(e,t,n,r,i,o,a){switch(n){case Ur:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case Vr:return!(e.byteLength!=t.byteLength||!o(new Tr.a(e),new Tr.a(t)));case Mr:case Nr:case Ir:return Object(zn.a)(+e,+t);case Rr:return e.name==t.name&&e.message==t.message;case Dr:case Fr:return e==t+"";case Lr:var u=jr;case Br:var s=r&_r;if(u||(u=Cr),e.size!=t.size&&!s)return!1;var c=a.get(e);if(c)return c==t;r|=Pr,a.set(e,t);var l=Ar(u(e),u(t),r,i,o,a);return a.delete(e),l;case zr:if(Hr)return Hr.call(e)==Hr.call(t)}return!1},qr=1,Xr=Object.prototype.hasOwnProperty;var Yr=function(e,t,n,r,i,o){var a=n&qr,u=vt(e),s=u.length;if(s!=vt(t).length&&!a)return!1;for(var c=s;c--;){var l=u[c];if(!(a?l in t:Xr.call(t,l)))return!1}var f=o.get(e),h=o.get(t);if(f&&h)return f==t&&h==e;var d=!0;o.set(e,t),o.set(t,e);for(var p=a;++c<s;){var v=e[l=u[c]],g=t[l];if(r)var y=a?r(g,v,l,t,e,o):r(v,g,l,e,t,o);if(!(void 0===y?v===g||i(v,g,n,r,o):y)){d=!1;break}p||(p="constructor"==l)}if(d&&!p){var m=e.constructor,b=t.constructor;m!=b&&"constructor"in e&&"constructor"in t&&!("function"==typeof m&&m instanceof m&&"function"==typeof b&&b instanceof b)&&(d=!1)}return o.delete(e),o.delete(t),d},$r=n(66),Jr=1,Qr="[object Arguments]",Kr="[object Array]",Zr="[object Object]",ei=Object.prototype.hasOwnProperty;var ti=function(e,t,n,r,i,o){var a=Object(I.a)(e),u=Object(I.a)(t),s=a?Kr:Mt(e),c=u?Kr:Mt(t),l=(s=s==Qr?Zr:s)==Zr,f=(c=c==Qr?Zr:c)==Zr,h=s==c;if(h&&Object(fn.a)(e)){if(!Object(fn.a)(t))return!1;a=!0,l=!1}if(h&&!l)return o||(o=new Ve.a),a||Object($r.a)(e)?Ar(e,t,n,r,i,o):Wr(e,t,s,n,r,i,o);if(!(n&Jr)){var d=l&&ei.call(e,"__wrapped__"),p=f&&ei.call(t,"__wrapped__");if(d||p){var v=d?e.value():e,g=p?t.value():t;return o||(o=new Ve.a),i(v,g,n,r,o)}}return!!h&&(o||(o=new Ve.a),Yr(e,t,n,r,i,o))};var ni=function e(t,n,r,i,o){return t===n||(null==t||null==n||!Object(hn.a)(t)&&!Object(hn.a)(n)?t!==t&&n!==n:ti(t,n,r,i,e,o))},ri=1,ii=2;var oi=function(e,t,n,r){var i=n.length,o=i,a=!r;if(null==e)return!o;for(e=Object(e);i--;){var u=n[i];if(a&&u[2]?u[1]!==e[u[0]]:!(u[0]in e))return!1}for(;++i<o;){var s=(u=n[i])[0],c=e[s],l=u[1];if(a&&u[2]){if(void 0===c&&!(s in e))return!1}else{var f=new Ve.a;if(r)var h=r(c,l,s,e,t,f);if(!(void 0===h?ni(l,c,ri|ii,r,f):h))return!1}}return!0};var ai=function(e){return e===e&&!Object(bn.a)(e)};var ui=function(e){for(var t=Ke(e),n=t.length;n--;){var r=t[n],i=e[r];t[n]=[r,i,ai(i)]}return t};var si=function(e,t){return function(n){return null!=n&&n[e]===t&&(void 0!==t||e in Object(n))}};var ci=function(e){var t=ui(e);return 1==t.length&&t[0][2]?si(t[0][0],t[0][1]):function(n){return n===e||oi(n,e,t)}},li=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,fi=/^\w*$/;var hi=function(e,t){if(Object(I.a)(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!Object(D.a)(e))||fi.test(e)||!li.test(e)||null!=t&&e in Object(t)},di="Expected a function";function pi(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError(di);var n=function n(){var r=arguments,i=t?t.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var a=e.apply(this,r);return n.cache=o.set(i,a)||o,a};return n.cache=new(pi.Cache||Qn.a),n}pi.Cache=Qn.a;var vi=pi,gi=500;var yi=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,mi=/\\(\\)?/g,bi=function(e){var t=vi(e,function(e){return n.size===gi&&n.clear(),e}),n=t.cache;return t}(function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(yi,function(e,n,r,i){t.push(r?i.replace(mi,"$1"):n||e)}),t});var wi=function(e,t){return Object(I.a)(e)?e:hi(e,t)?[e]:bi(U(e))},Ei=1/0;var xi=function(e){if("string"==typeof e||Object(D.a)(e))return e;var t=e+"";return"0"==t&&1/e==-Ei?"-0":t};var ki=function(e,t){for(var n=0,r=(t=wi(t,e)).length;null!=e&&n<r;)e=e[xi(t[n++])];return n&&n==r?e:void 0};var Oi=function(e,t,n){var r=null==e?void 0:ki(e,t);return void 0===r?n:r};var Si=function(e,t){return null!=e&&t in Object(e)},Ai=n(82),Ti=n(79);var ji=function(e,t,n){for(var r=-1,i=(t=wi(t,e)).length,o=!1;++r<i;){var a=xi(t[r]);if(!(o=null!=e&&n(e,a)))break;e=e[a]}return o||++r!=i?o:!!(i=null==e?0:e.length)&&Object(Ti.a)(i)&&Object(Ai.a)(a,i)&&(Object(I.a)(e)||Object(hr.a)(e))};var Ci=function(e,t){return null!=e&&ji(e,t,Si)},_i=1,Pi=2;var Mi=function(e,t){return hi(e)&&ai(t)?si(xi(e),t):function(n){var r=Oi(n,e);return void 0===r&&r===t?Ci(n,e):ni(t,r,_i|Pi)}},Ni=n(40);var Ri=function(e){return function(t){return null==t?void 0:t[e]}};var Li=function(e){return function(t){return ki(t,e)}};var Ii=function(e){return hi(e)?Ri(xi(e)):Li(e)};var Di=function(e){return"function"==typeof e?e:null==e?Ni.a:"object"==typeof e?Object(I.a)(e)?Mi(e[0],e[1]):ci(e):Ii(e)};var Bi=function(e,t){return function(n,r){var i=Object(I.a)(n)?br:xr,o=t?t():{};return i(n,e,Di(r,2),o)}},Fi=Object.prototype.hasOwnProperty,zi=Bi(function(e,t,n){Fi.call(e,n)?e[n].push(t):Object(mr.a)(e,n,[t])}),Vi=Object.prototype.hasOwnProperty;var Ui=function(e,t){return null!=e&&Vi.call(e,t)};var Gi=function(e,t){return null!=e&&ji(e,t,Ui)},Hi="[object Map]",Wi="[object Set]",qi=Object.prototype.hasOwnProperty;var Xi=function(e){if(null==e)return!0;if(Object(Qe.a)(e)&&(Object(I.a)(e)||"string"==typeof e||"function"==typeof e.splice||Object(fn.a)(e)||Object($r.a)(e)||Object(hr.a)(e)))return!e.length;var t=Mt(e);if(t==Hi||t==Wi)return!e.size;if(Object(qe.a)(e))return!Je(e).length;for(var n in e)if(qi.call(e,n))return!1;return!0};var Yi=function(e,t){return ni(e,t)},$i="[object Number]";var Ji=function(e){return"number"==typeof e||Object(hn.a)(e)&&Object(Ot.a)(e)==$i},Qi=n(142),Ki=ae("toLowerCase");var Zi=function(e,t,n){for(var r=-1,i=e.length;++r<i;){var o=e[r],a=t(o);if(null!=a&&(void 0===u?a===a&&!Object(D.a)(a):n(a,u)))var u=a,s=o}return s};var eo=function(e,t){return e>t};var to=function(e){return e&&e.length?Zi(e,Ni.a,eo):void 0},no=n(240);var ro=function(e,t,n,r){if(!Object(bn.a)(e))return e;for(var i=-1,o=(t=wi(t,e)).length,a=o-1,u=e;null!=u&&++i<o;){var s=xi(t[i]),c=n;if("__proto__"===s||"constructor"===s||"prototype"===s)return e;if(i!=a){var l=u[s];void 0===(c=r?r(l,s,u):void 0)&&(c=Object(bn.a)(l)?l:Object(Ai.a)(t[i+1])?[]:{})}Object(Ge.a)(u,s,c),u=u[s]}return e};var io=function(e,t,n){for(var r=-1,i=t.length,o={};++r<i;){var a=t[r],u=ki(e,a);n(u,a)&&ro(o,wi(a,e),u)}return o};var oo=function(e,t){return io(e,t,function(t,n){return Ci(e,n)})};var ao=function(e){return null!=e&&e.length?vr(e,1):[]},uo=n(152),so=n(155);var co=function(e){return Object(so.a)(Object(uo.a)(e,void 0,ao),e+"")}(function(e,t){return null==e?{}:oo(e,t)});var lo=function(e,t){var n=-1,r=Object(Qe.a)(e)?Array(e.length):[];return Er(e,function(e,i,o){r[++n]=t(e,i,o)}),r};var fo=function(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e};var ho=function(e,t){if(e!==t){var n=void 0!==e,r=null===e,i=e===e,o=Object(D.a)(e),a=void 0!==t,u=null===t,s=t===t,c=Object(D.a)(t);if(!u&&!c&&!o&&e>t||o&&a&&s&&!u&&!c||r&&a&&s||!n&&s||!i)return 1;if(!r&&!o&&!c&&e<t||c&&n&&i&&!r&&!o||u&&n&&i||!a&&i||!s)return-1}return 0};var po=function(e,t,n){for(var r=-1,i=e.criteria,o=t.criteria,a=i.length,u=n.length;++r<a;){var s=ho(i[r],o[r]);if(s)return r>=u?s:s*("desc"==n[r]?-1:1)}return e.index-t.index};var vo=function(e,t,n){t=t.length?L(t,function(e){return Object(I.a)(e)?function(t){return ki(t,1===e.length?e[0]:e)}:e}):[Ni.a];var r=-1;t=L(t,Object(vn.a)(Di));var i=lo(e,function(e,n,i){return{criteria:L(t,function(t){return t(e)}),index:++r,value:e}});return fo(i,function(e,t){return po(e,t,n)})},go=Object(Fn.a)(function(e,t){if(null==e)return[];var n=t.length;return n>1&&Object(Vn.a)(e,t[0],t[1])?t=[]:n>2&&Object(Vn.a)(t[0],t[1],t[2])&&(t=[t[0]]),vo(e,vr(t,1),[])}),yo=4294967294,mo=Math.floor,bo=Math.min;var wo=function(e,t,n,r){var i=0,o=null==e?0:e.length;if(0===o)return 0;for(var a=(t=n(t))!==t,u=null===t,s=Object(D.a)(t),c=void 0===t;i<o;){var l=mo((i+o)/2),f=n(e[l]),h=void 0!==f,d=null===f,p=f===f,v=Object(D.a)(f);if(a)var g=r||p;else g=c?p&&(r||h):u?p&&h&&(r||!d):s?p&&h&&!d&&(r||!v):!d&&!v&&(r?f<=t:f<t);g?i=l+1:o=l}return bo(o,yo)},Eo=2147483647;var xo=function(e,t,n){var r=0,i=null==e?r:e.length;if("number"==typeof t&&t===t&&i<=Eo){for(;r<i;){var o=r+i>>>1,a=e[o];null!==a&&!Object(D.a)(a)&&(n?a<=t:a<t)?r=o+1:i=o}return i}return wo(e,t,Ni.a,n)};var ko=function(e,t){return xo(e,t)};var Oo=function(e,t,n){return wo(e,t,Di(n,2))},So=n(241);var Ao=function(){},To=xt&&1/Cr(new xt([,-0]))[1]==1/0?function(e){return new xt(e)}:Ao,jo=200;var Co=function(e,t,n){var r=-1,i=ur,o=e.length,a=!0,u=[],s=u;if(n)a=!1,i=sr;else if(o>=jo){var c=t?null:To(e);if(c)return Cr(c);a=!1,i=cr,s=new nr}else s=t?[]:u;e:for(;++r<o;){var l=e[r],f=t?t(l):l;if(l=n||0!==l?l:0,a&&f===f){for(var h=s.length;h--;)if(s[h]===f)continue e;t&&s.push(f),u.push(l)}else i(s,f,n)||(s!==u&&s.push(f),u.push(l))}return u},_o=Object(Fn.a)(function(e){return Co(vr(e,1,gr.a,!0))});var Po=function(e){return e&&e.length?Co(e):[]},Mo=0;var No=function(e){var t=++Mo;return U(e)+t};function Ro(e,t,n){if(n)switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2]);case 4:return e.call(t,n[0],n[1],n[2],n[3]);case 5:return e.call(t,n[0],n[1],n[2],n[3],n[4]);case 6:return e.call(t,n[0],n[1],n[2],n[3],n[4],n[5]);default:return e.apply(t,n)}return e.call(t)}function Lo(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];return Ro(e,t,r)}function Io(e){return"object"===typeof e&&e.then&&"function"===typeof e.then}function Do(e){return null!=e&&(e instanceof Promise||Io(e))}function Bo(){for(var e=[],t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(n.forEach(function(t){Array.isArray(t)?e.push.apply(e,Object(N.a)(t)):e.push(t)}),e.some(function(e){return Do(e)})){var i=e.map(function(e){return Do(e)?e:Promise.resolve(!1!==e)});return Promise.all(i).then(function(e){return e.reduce(function(e,t){return!1!==t&&e},!0)})}return e.every(function(e){return!1!==e})}function Fo(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=Bo(t);return"boolean"===typeof r?Promise.resolve(r):r}function zo(e,t){for(var n=[],i=0;i<e.length;i+=2){var o=e[i],a=e[i+1],u=Array.isArray(t)?t:[t],s=r.apply(o,a,u);n.push(s)}return r.toAsyncBoolean(n)}var Vo=function(){function e(){Object(T.a)(this,e),this.listeners={}}return Object(j.a)(e,[{key:"on",value:function(e,t,n){return null==t?this:(this.listeners[e]||(this.listeners[e]=[]),this.listeners[e].push(t,n),this)}},{key:"once",value:function(e,t,n){var r=this;return this.on(e,function i(){r.off(e,i);for(var o=arguments.length,a=new Array(o),u=0;u<o;u++)a[u]=arguments[u];return zo([t,n],a)},this)}},{key:"off",value:function(e,t,n){if(!(e||t||n))return this.listeners={},this;var r=this.listeners;return(e?[e]:Object.keys(r)).forEach(function(e){var i=r[e];if(i)if(t||n)for(var o=i.length-2;o>=0;o-=2)t&&i[o]!==t||n&&i[o+1]!==n||i.splice(o,2);else delete r[e]}),this}},{key:"trigger",value:function(e){for(var t=!0,n=arguments.length,i=new Array(n>1?n-1:0),o=1;o<n;o++)i[o-1]=arguments[o];if("*"!==e){var a=this.listeners[e];null!=a&&(t=zo(Object(N.a)(a),i))}var u=this.listeners["*"];return null!=u?r.toAsyncBoolean([t,zo(Object(N.a)(u),[e].concat(i))]):t}},{key:"emit",value:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return this.trigger.apply(this,[e].concat(n))}}]),e}();function Uo(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];n.forEach(function(t){Object.getOwnPropertyNames(t.prototype).forEach(function(n){"constructor"!==n&&Object.defineProperty(e.prototype,n,Object.getOwnPropertyDescriptor(t.prototype,n))})})}var Go=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])};function Ho(e,t){function n(){this.constructor=e}Go(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var Wo=/^\s*class\s+/.test("".concat(Object(j.a)(function e(){Object(T.a)(this,e)})))||/^\s*class\s*\{/.test("".concat(function(){return Object(j.a)(function e(){Object(T.a)(this,e)})}()));function qo(e,t){var n;return Wo?n=function(e){Object(P.a)(n,e);var t=Object(M.a)(n);function n(){return Object(T.a)(this,n),t.apply(this,arguments)}return Object(j.a)(n)}(t):Ho(n=function(){return t.apply(this,arguments)},t),Object.defineProperty(n,"name",{value:e}),n}function Xo(e,t){return null!=e?e:t}function Yo(e,t,n){var r=null!=e?e[t]:null;return void 0!==n?Xo(r,n):r}function $o(e,t,n){var r=null!=e?e[t]:null;return null==r?n:(r=+r,Number.isNaN(r)||!Number.isFinite(r)?n:r)}function Jo(e,t,n){var r=null!=e?e[t]:null;return null==r?n:!!r}function Qo(e){return"__proto__"===e}function Ko(e,t){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"/",i=Array.isArray(t)?t:t.split(r);if(i.length)for(n=e;i.length;){var o=i.shift();if(!(Object(n)===n&&o&&o in n))return;n=n[o]}return n}function Zo(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"/",i=Array.isArray(t)?t:t.split(r),o=i.pop();if(o&&!Qo(o)){var a=e;i.forEach(function(e){Qo(e)||(null==a[e]&&(a[e]={}),a=a[e])}),a[o]=n}return e}function ea(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"/",r=Array.isArray(t)?t.slice():t.split(n),i=r.pop();if(i)if(r.length>0){var o=Ko(e,r);o&&delete o[i]}else delete e[i];return e}function ta(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"/",n=arguments.length>2?arguments[2]:void 0,r={};for(var i in Object.keys(e).forEach(function(i){var o=e[i],a="object"===typeof o||Array.isArray(o);if(a&&n&&n(o)&&(a=!1),a){var u=ta(o,t,n);Object.keys(u).forEach(function(e){r[i+t+e]=u[e]})}else r[i]=o}),e)Object.prototype.hasOwnProperty.call(e,i);return r}var na=function(e){Object(P.a)(n,e);var t=Object(M.a)(n);function n(){return Object(T.a)(this,n),t.apply(this,arguments)}return Object(j.a)(n)}(Vo);(na||(na={})).dispose=C.dispose,i.applyMixins(na,C);var ra=Ie(function(e,t,n){return e+(n?" ":"")+ue(t)}),ia=Ie(function(e,t,n){return e+(n?" ":"")+t.toUpperCase()}),oa=Ie(function(e,t,n){return e+(n?" ":"")+t.toLowerCase()}),aa=function(e){var t=Object.create(null);return function(n){return t[n]||(t[n]=e(n))}},ua=aa(function(e){return e.replace(/\B([A-Z])/g,"-$1").toLowerCase()}),sa=aa(function(e){return ra(De(e)).replace(/ /g,"")}),ca=aa(function(e){return ia(e).replace(/ /g,"_")}),la=aa(function(e){return oa(e).replace(/ /g,".")}),fa=aa(function(e){return oa(e).replace(/ /g,"/")}),ha=aa(function(e){return ue(oa(e))}),da=aa(function(e){return ra(De(e))});function pa(e){for(var t=2166136261,n=!1,r=e,i=0,o=r.length;i<o;i+=1){var a=r.charCodeAt(i);a>127&&!n&&(a=(r=unescape(encodeURIComponent(r))).charCodeAt(i),n=!0),t^=a,t+=(t<<1)+(t<<4)+(t<<7)+(t<<8)+(t<<24)}return t>>>0}function va(){for(var e="",t="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx",n=0,r=t.length;n<r;n+=1){var i=t[n],o=16*Math.random()|0;e+=("x"===i?o:"y"===i?3&o|8:i).toString(16)}return e}var ga=n(124);function ya(e,t,n){var r,i,o=Math.min(2,Math.floor(.34*e.length)),a=Math.floor(.4*e.length)+1,u=!1,s=e.toLowerCase(),c=Object(ga.a)(t);try{for(c.s();!(i=c.n()).done;){var l=i.value,f=n(l);if(void 0!==f&&Math.abs(f.length-s.length)<=o){var h=f.toLowerCase();if(h===s){if(f===e)continue;return l}if(u)continue;if(f.length<3)continue;var d=ma(s,h,a-1);if(void 0===d)continue;d<3?(u=!0,r=l):(a=d,r=l)}}}catch(p){c.e(p)}finally{c.f()}return r}function ma(e,t,n){for(var r=new Array(t.length+1),i=new Array(t.length+1),o=n+1,a=0;a<=t.length;a+=1)r[a]=a;for(var u=1;u<=e.length;u+=1){var s=e.charCodeAt(u-1),c=u>n?u-n:1,l=t.length>n+u?n+u:t.length;i[0]=u;for(var f=u,h=1;h<c;h+=1)i[h]=o;for(var d=c;d<=l;d+=1){var p=s===t.charCodeAt(d-1)?r[d-1]:Math.min(r[d]+1,i[d-1]+1,r[d-1]+2);i[d]=p,f=Math.min(f,p)}for(var v=l+1;v<=t.length;v+=1)i[v]=o;if(f>n)return;var g=r;r=i,i=g}var y=r[t.length];return y>n?void 0:y}function ba(e,t){return(e%t+t)%t}function wa(e,t){if(null==t)t=null==e?1:e,e=0;else if(t<e){var n=e;e=t,t=n}return Math.floor(Math.random()*(t-e+1)+e)}function Ea(e){return"string"===typeof e&&"%"===e.slice(-1)}function xa(e,t){if(null==e)return 0;var n;if("string"===typeof e){if(n=parseFloat(e),Ea(e)&&(n/=100,Number.isFinite(n)))return n*t}else n=e;return Number.isFinite(n)?n>0&&n<1?n*t:n:0}function ka(e,t){var n,r=parseFloat(e);if(Number.isNaN(r))return null;if(null==t)n="[A-Za-z]*";else if(Array.isArray(t)){if(0===t.length)return null;n=t.join("|")}else"string"===typeof t&&(n=t);var i=function(t){var n=new RegExp("(?:\\d+(?:\\.\\d+)*)(".concat(t,")$")).exec(e);return n?n[1]:null}(n);return null===i?null:{unit:i,value:r}}function Oa(e){if("object"===typeof e){var t=0,n=0,r=0,i=0;return null!=e.vertical&&Number.isFinite(e.vertical)&&(n=i=e.vertical),null!=e.horizontal&&Number.isFinite(e.horizontal)&&(r=t=e.horizontal),null!=e.left&&Number.isFinite(e.left)&&(t=e.left),null!=e.top&&Number.isFinite(e.top)&&(n=e.top),null!=e.right&&Number.isFinite(e.right)&&(r=e.right),null!=e.bottom&&Number.isFinite(e.bottom)&&(i=e.bottom),{top:n,right:r,bottom:i,left:t}}var o=0;return null!=e&&Number.isFinite(e)&&(o=e),{top:o,right:o,bottom:o,left:o}}var Sa,Aa=!1,Ta=!1,ja=!1,Ca=!1,_a=!1,Pa=!1,Ma=!1,Na=!1,Ra=!1,La=!1,Ia=!1,Da=!1,Ba=!1,Fa=!1,za=!1,Va=!1;if("object"===typeof navigator){var Ua=navigator.userAgent;Aa=Ua.indexOf("Macintosh")>=0,Ta=!!Ua.match(/(iPad|iPhone|iPod)/g),ja=Ua.indexOf("Windows")>=0,Ca=Ua.indexOf("MSIE")>=0,_a=!!Ua.match(/Trident\/7\./),Pa=!!Ua.match(/Edge\//),Ma=Ua.indexOf("Mozilla/")>=0&&Ua.indexOf("MSIE")<0&&Ua.indexOf("Edge/")<0,Ra=Ua.indexOf("Chrome/")>=0&&Ua.indexOf("Edge/")<0,La=Ua.indexOf("Opera/")>=0||Ua.indexOf("OPR/")>=0,Ia=Ua.indexOf("Firefox/")>=0,Da=Ua.indexOf("AppleWebKit/")>=0&&Ua.indexOf("Chrome/")<0&&Ua.indexOf("Edge/")<0,"object"===typeof document&&(Va=!document.createElementNS||"[object SVGForeignObjectElement]"!=="".concat(document.createElementNS("http://www.w3.org/2000/svg","foreignObject"))||Ua.indexOf("Opera/")>=0)}if("object"===typeof window&&(Na=null!=window.chrome&&null!=window.chrome.app&&null!=window.chrome.app.runtime,Fa=null!=window.PointerEvent&&!Aa),"object"===typeof document){Ba="ontouchstart"in document.documentElement;try{var Ga=Object.defineProperty({},"passive",{get:function(){za=!0}}),Ha=document.createElement("div");Ha.addEventListener&&Ha.addEventListener("click",function(){},Ga)}catch(Hg){}}!function(e){e.IS_MAC=Aa,e.IS_IOS=Ta,e.IS_WINDOWS=ja,e.IS_IE=Ca,e.IS_IE11=_a,e.IS_EDGE=Pa,e.IS_NETSCAPE=Ma,e.IS_CHROME_APP=Na,e.IS_CHROME=Ra,e.IS_OPERA=La,e.IS_FIREFOX=Ia,e.IS_SAFARI=Da,e.SUPPORT_TOUCH=Ba,e.SUPPORT_POINTER=Fa,e.SUPPORT_PASSIVE=za,e.NO_FOREIGNOBJECT=Va,e.SUPPORT_FOREIGNOBJECT=!e.NO_FOREIGNOBJECT}(Sa||(Sa={})),function(e){function t(){var e=window.module;return null!=e&&null!=e.hot&&null!=e.hot.status?e.hot.status():"unkonwn"}e.getHMRStatus=t,e.isApplyingHMR=function(){return"apply"===t()};var n={select:"input",change:"input",submit:"form",reset:"form",error:"img",load:"img",abort:"img"};e.isEventSupported=function(e){var t=document.createElement(n[e]||"div"),r="on".concat(e),i=r in t;return i||(t.setAttribute(r,"return;"),i="function"===typeof t[r]),i}}(Sa||(Sa={}));var Wa=/[\t\r\n\f]/g,qa=/\S+/g,Xa=function(e){return" ".concat(e," ")};function Ya(e){return e&&e.getAttribute&&e.getAttribute("class")||""}function $a(e,t){if(null==e||null==t)return!1;var n=Xa(Ya(e)),r=Xa(t);return 1===e.nodeType&&n.replace(Wa," ").includes(r)}function Ja(e,t){if(null!=e&&null!=t){if("function"===typeof t)return Ja(e,t(Ya(e)));if("string"===typeof t&&1===e.nodeType){var n=t.match(qa)||[],r=Xa(Ya(e)).replace(Wa," "),i=n.reduce(function(e,t){return e.indexOf(Xa(t))<0?"".concat(e).concat(t," "):e},r);r!==(i=i.trim())&&e.setAttribute("class",i)}}}function Qa(e,t){if(null!=e){if("function"===typeof t)return Qa(e,t(Ya(e)));if((!t||"string"===typeof t)&&1===e.nodeType){var n=(t||"").match(qa)||[],r=Xa(Ya(e)).replace(Wa," "),i=n.reduce(function(e,t){var n=Xa(t);return e.indexOf(n)>-1?e.replace(n," "):e},r);r!==(i=t?i.trim():"")&&e.setAttribute("class",i)}}}function Ka(e,t,n){if(null!=e&&null!=t)if(null==n||"string"!==typeof t){if("function"===typeof t)return Ka(e,t(Ya(e),n),n);if("string"===typeof t)(t.match(qa)||[]).forEach(function(t){$a(e,t)?Qa(e,t):Ja(e,t)})}else n?Ja(e,t):Qa(e,t)}var Za=0;function eu(){return"v".concat(Za+=1)}function tu(e){return null!=e.id&&""!==e.id||(e.id=eu()),e.id}function nu(e){return null!=e&&("function"===typeof e.getScreenCTM&&e instanceof SVGElement)}var ru={svg:"http://www.w3.org/2000/svg",xmlns:"http://www.w3.org/2000/xmlns/",xml:"http://www.w3.org/XML/1998/namespace",xlink:"http://www.w3.org/1999/xlink",xhtml:"http://www.w3.org/1999/xhtml"},iu="1.1";function ou(e){return(arguments.length>1&&void 0!==arguments[1]?arguments[1]:document).createElement(e)}function au(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ru.xhtml;return(arguments.length>2&&void 0!==arguments[2]?arguments[2]:document).createElementNS(t,e)}function uu(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:document;return au(e,ru.svg,t)}function su(e){if(e)return cu('<svg xmlns="'.concat(ru.svg,'" xmlns:xlink="').concat(ru.xlink,'" version="').concat(iu,'">').concat(e,"</svg>"),{async:!1}).documentElement;var t=document.createElementNS(ru.svg,"svg");return t.setAttributeNS(ru.xmlns,"xmlns:xlink",ru.xlink),t.setAttribute("version",iu),t}function cu(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{var r=new DOMParser;if(null!=n.async)r.async=n.async;t=r.parseFromString(e,n.mimeType||"text/xml")}catch(i){t=void 0}if(!t||t.getElementsByTagName("parsererror").length)throw new Error("Invalid XML: ".concat(e));return t}function lu(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=e.nodeName;return t?n.toLowerCase():n.toUpperCase()}function fu(e){for(var t=0,n=e.previousSibling;n;)1===n.nodeType&&(t+=1),n=n.previousSibling;return t}function hu(e,t){return e.querySelectorAll(t)}function du(e,t){return e.querySelector(t)}function pu(e,t,n){for(var r=e.ownerSVGElement,i=e.parentNode;i&&i!==n&&i!==r;){if($a(i,t))return i;i=i.parentNode}return null}function vu(e,t){var n=t&&t.parentNode;return e===n||!!(n&&1===n.nodeType&&16&e.compareDocumentPosition(n))}function gu(e){e&&(Array.isArray(e)?e:[e]).forEach(function(e){e.parentNode&&e.parentNode.removeChild(e)})}function yu(e){for(;e.firstChild;)e.removeChild(e.firstChild)}function mu(e,t){(Array.isArray(t)?t:[t]).forEach(function(t){null!=t&&e.appendChild(t)})}function bu(e,t){var n=e.firstChild;return n?wu(n,t):mu(e,t)}function wu(e,t){var n=e.parentNode;n&&(Array.isArray(t)?t:[t]).forEach(function(t){null!=t&&n.insertBefore(t,e)})}function Eu(e,t){var n=e.parentNode;n&&(Array.isArray(t)?t:[t]).forEach(function(t){null!=t&&n.insertBefore(t,e.nextSibling)})}function xu(e,t){null!=t&&t.appendChild(e)}function ku(e){return!!e&&1===e.nodeType}function Ou(e){try{return e instanceof HTMLElement}catch(t){return"object"===typeof e&&1===e.nodeType&&"object"===typeof e.style&&"object"===typeof e.ownerDocument}}function Su(e,t){for(var n=[],r=e.firstChild;r;r=r.nextSibling)1===r.nodeType&&(t&&!$a(r,t)||n.push(r));return n}var Au,Tu,ju=["viewBox","attributeName","attributeType","repeatCount","textLength","lengthAdjust"];function Cu(e,t){return e.getAttribute(t)}function _u(e,t){var n=Ru(t);n.ns?e.hasAttributeNS(n.ns,n.local)&&e.removeAttributeNS(n.ns,n.local):e.hasAttribute(t)&&e.removeAttribute(t)}function Pu(e,t,n){if(null==n)return _u(e,t);var r=Ru(t);r.ns&&"string"===typeof n?e.setAttributeNS(r.ns,t,n):"id"===t?e.id="".concat(n):e.setAttribute(t,"".concat(n))}function Mu(e,t){Object.keys(t).forEach(function(n){Pu(e,n,t[n])})}function Nu(e,t,n){if(null==t){for(var r=e.attributes,i={},o=0;o<r.length;o+=1)i[r[o].name]=r[o].value;return i}if("string"===typeof t&&void 0===n)return e.getAttribute(t);"object"===typeof t?Mu(e,t):Pu(e,t,n)}function Ru(e){if(-1!==e.indexOf(":")){var t=e.split(":");return{ns:ru[t[0]],local:t[1]}}return{ns:null,local:e}}function Lu(e){var t={};return Object.keys(e).forEach(function(n){var r=ju.includes(n)?n:ua(n);t[r]=e[n]}),t}function Iu(e){var t={};return e.split(";").forEach(function(e){var n=e.trim();if(n){var r=n.split("=");r.length&&(t[r[0].trim()]=r[1]?r[1].trim():"")}}),t}function Du(e,t){return Object.keys(t).forEach(function(n){if("class"===n)e[n]=e[n]?"".concat(e[n]," ").concat(t[n]):t[n];else if("style"===n){var r,i,o="object"===typeof e[n],a="object"===typeof t[n];o&&a?(r=e[n],i=t[n]):o?(r=e[n],i=Iu(t[n])):a?(r=Iu(e[n]),i=t[n]):(r=Iu(e[n]),i=Iu(t[n])),e[n]=Du(r,i)}else e[n]=t[n]}),e}function Bu(e,t){for(var n,r,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=o.offset||0,u=[],s=[],c=null,l=0;l<e.length;l+=1){n=s[l]=e[l];for(var f=0,h=t.length;f<h;f+=1){var d=t[f],p=d.start+a,v=d.end+a;l>=p&&l<v&&("string"===typeof n?n=s[l]={t:e[l],attrs:d.attrs}:n.attrs=Du(Du({},n.attrs),d.attrs),o.includeAnnotationIndices&&(null==n.annotations&&(n.annotations=[]),n.annotations.push(f)))}(r=s[l-1])?i.isObject(n)&&i.isObject(r)?(c=c,JSON.stringify(n.attrs)===JSON.stringify(r.attrs)?c.t+=n.t:(u.push(c),c=n)):i.isObject(n)?(c=c,u.push(c),c=n):i.isObject(r)?(c=c,u.push(c),c=n):c=(c||"")+n:c=n}return null!=c&&u.push(c),u}function Fu(e,t){return e?e.filter(function(e){return e.start<t&&t<=e.end}):[]}function zu(e,t,n){return e?e.filter(function(e){return t>=e.start&&t<e.end||n>e.start&&n<=e.end||e.start>=t&&e.end<n}):[]}function Vu(e,t,n){return e&&e.forEach(function(e){e.start<t&&e.end>=t?e.end+=n:e.start>=t&&(e.start+=n,e.end+=n)}),e}function Uu(e){return e.replace(/ /g,"\xa0")}!function(e){function t(e){return"data:"===e.substr(0,"data:".length)}function n(e){var t,n=e.replace(/\s/g,""),r=(n=decodeURIComponent(n)).indexOf(","),i=n.slice(0,r),o=i.split(":")[1].split(";")[0],a=n.slice(r+1);t=i.indexOf("base64")>=0?atob(a):unescape(encodeURIComponent(a));for(var u=new Uint8Array(t.length),s=0;s<t.length;s+=1)u[s]=t.charCodeAt(s);return new Blob([u],{type:o})}function r(e,t){var n=window.navigator.msSaveBlob;if(n)n(e,t);else{var r=window.URL.createObjectURL(e),i=document.createElement("a");i.href=r,i.download=t,document.body.appendChild(i),i.click(),document.body.removeChild(i),window.URL.revokeObjectURL(r)}}function i(e){var t=parseFloat(e);return Number.isNaN(t)?null:t}e.isDataUrl=t,e.imageToDataUri=function(e,n){if(e&&!t(e)){var r=function(){n(new Error("Failed to load image: ".concat(e)))},i=window.FileReader?function(e){if(200===e.status){var t=new FileReader;t.onload=function(e){var t=e.target.result;n(null,t)},t.onerror=r,t.readAsDataURL(e.response)}else r()}:function(t){if(200===t.status){var i=e.split(".").pop()||"png";"svg"===i&&(i="svg+xml");var o="data:image/".concat(i,";base64,"),a=new Uint8Array(t.response),u=o+btoa(function(e){for(var t=[],n=0;n<e.length;n+=32768)t.push(String.fromCharCode.apply(null,e.subarray(n,n+32768)));return t.join("")}(a));n(null,u)}else r()},o=new XMLHttpRequest;o.responseType=window.FileReader?"blob":"arraybuffer",o.open("GET",e,!0),o.addEventListener("error",r),o.addEventListener("load",function(){return i(o)}),o.send()}else setTimeout(function(){return n(null,e)})},e.dataUriToBlob=n,e.downloadBlob=r,e.downloadDataUri=function(e,t){r(n(e),t)},e.svgToDataUrl=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=null,r=function(t){return null==n&&(n=function(e){var t=e.match(/<svg[^>]*viewBox\s*=\s*(["']?)(.+?)\1[^>]*>/i);return t&&t[2]?t[2].replace(/\s+/," ").split(" "):null}(e)),null!=n?i(n[t]):null},o=function(t){var n=e.match(t);return n&&n[2]?i(n[2]):null},a=t.width;if(null==a&&(a=o(/<svg[^>]*width\s*=\s*(["']?)(.+?)\1[^>]*>/i)),null==a&&(a=r(2)),null==a)throw new Error("Can not parse width from svg string");var u=t.height;if(null==u&&(u=o(/<svg[^>]*height\s*=\s*(["']?)(.+?)\1[^>]*>/i)),null==u&&(u=r(3)),null==u)throw new Error("Can not parse height from svg string");var s=encodeURIComponent(e).replace(/'/g,"%27").replace(/"/g,"%22");return"".concat("data:image/svg+xml",",").concat(s)}}(Au||(Au={}));var Gu,Hu={px:function(e){return e},mm:function(e){return Tu*e},cm:function(e){return Tu*e*10},in:function(e){return Tu*e*25.4},pt:function(e){return Tu*(25.4*e/72)},pc:function(e){return Tu*(25.4*e/6)}};!function(e){function t(e,t,n){var r=document.createElement("div"),i=r.style;i.display="inline-block",i.position="absolute",i.left="-15000px",i.top="-15000px",i.width=e+(n||"px"),i.height=t+(n||"px"),document.body.appendChild(r);var o=r.getBoundingClientRect(),a={width:o.width||0,height:o.height||0};return document.body.removeChild(r),a}e.measure=t,e.toPx=function(e,n){null==Tu&&(Tu=t("1","1","mm").width);var r=n?Hu[n]:null;return r?r(e):e}}(Gu||(Gu={}));var Wu=/-(.)/g;var qu={},Xu=["webkit","ms","moz","o"],Yu=document?document.createElement("div").style:{};function $u(e){var t=e.replace(Wu,function(e,t){return t.toUpperCase()});if(null==qu[t]){var n=t.charAt(0).toUpperCase()+t.slice(1);qu[t]=t in Yu?t:function(e){for(var t=0;t<Xu.length;t+=1){var n=Xu[t]+e;if(n in Yu)return n}return null}(n)}return qu[t]}function Ju(e,t,n){var r=$u(t);null!=r&&(e[r]=n),e[t]=n}function Qu(e,t){var n=e.ownerDocument&&e.ownerDocument.defaultView&&e.ownerDocument.defaultView.opener?e.ownerDocument.defaultView.getComputedStyle(e,null):window.getComputedStyle(e,null);return n&&t?n.getPropertyValue(t)||n[t]:n}function Ku(e){var t=Qu(e);return null!=t&&("scroll"===t.overflow||"auto"===t.overflow)}var Zu=function(){var e=document;return e.selection?function(){e.selection.empty()}:window.getSelection?function(){var e=window.getSelection();e&&(e.empty?e.empty():e.removeAllRanges&&e.removeAllRanges())}:function(){}}(),es={animationIterationCount:!0,columnCount:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0};function ts(e){return/^--/.test(e)}function ns(e,t,n){var r=window.getComputedStyle(e,null);return n?r.getPropertyValue(t)||void 0:r[t]||e.style[t]}function rs(e,t){return parseInt(ns(e,t),10)||0}function is(e,t,n){if("string"!==typeof t)for(var r in t)is(e,r,t[r]);else{var i=ts(t);if(i||(t=$u(t)),void 0===n)return ns(e,t,i);i||(n=function(e,t){return es[e]||"number"!==typeof t?t:"".concat(t,"px")}(t,n));var o=e.style;i?o.setProperty(t,n):o[t]=n}}var os=new WeakMap;function as(e,t){var n=a.camelCase(t),r=os.get(e);if(r)return r[n]}function us(e,t,n){var r=a.camelCase(t),i=os.get(e);i?i[r]=n:os.set(e,Object(A.a)({},r,n))}function ss(e,t,n){if(!t){var r={};return Object.keys(os).forEach(function(t){r[t]=as(e,t)}),r}if("string"===typeof t)return void 0===n?as(e,t):void us(e,t,n);for(var i in t)ss(e,i,t[i])}var cs={class:"className",contenteditable:"contentEditable",for:"htmlFor",readonly:"readOnly",maxlength:"maxLength",tabindex:"tabIndex",colspan:"colSpan",rowspan:"rowSpan",usemap:"useMap"};function ls(e,t,n){if(t){if("string"===typeof t)return t=cs[t]||t,arguments.length<3?e[t]:void(e[t]=n);for(var r in t)ls(e,r,t[r])}}var fs=n(14),hs=function(e){function t(e,n,r){if(Object(T.a)(this,t),!e)throw new TypeError("Invalid element to create vector");var i;if(t.isVector(e))i=e.node;else if("string"===typeof e)if("svg"===e.toLowerCase())i=su();else if("<"===e[0]){var o=su(e);i=document.importNode(o.firstChild,!0)}else i=document.createElementNS(ru.svg,e);else i=e;this.node=i,n&&this.setAttributes(n),r&&this.append(r)}return Object(j.a)(t,[{key:e,get:function(){return t.toStringTag}},{key:"type",get:function(){return this.node.nodeName}},{key:"id",get:function(){return this.node.id}},{key:"id",set:function(e){this.node.id=e}},{key:"transform",value:function(e,t){return null==e?ec(this.node):(ec(this.node,e,t),this)}},{key:"translate",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return null==e?tc(this.node):(tc(this.node,e,t,n),this)}},{key:"rotate",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return null==e?nc(this.node):(nc(this.node,e,t,n,r),this)}},{key:"scale",value:function(e,t){return null==e?rc(this.node):(rc(this.node,e,t),this)}},{key:"getTransformToElement",value:function(e){var n=t.toNode(e);return ic(this.node,n)}},{key:"removeAttribute",value:function(e){return _u(this.node,e),this}},{key:"getAttribute",value:function(e){return Cu(this.node,e)}},{key:"setAttribute",value:function(e,t){return Pu(this.node,e,t),this}},{key:"setAttributes",value:function(e){return Mu(this.node,e),this}},{key:"attr",value:function(e,t){return null==e?Nu(this.node):"string"===typeof e&&void 0===t?Nu(this.node,e):("object"===typeof e?Nu(this.node,e):Nu(this.node,e,t),this)}},{key:"svg",value:function(){return this.node instanceof SVGSVGElement?this:t.create(this.node.ownerSVGElement)}},{key:"defs",value:function(){var e=this.svg()||this,n=e.node.getElementsByTagName("defs")[0];return n?t.create(n):t.create("defs").appendTo(e)}},{key:"text",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return ys(this.node,e,t),this}},{key:"tagName",value:function(){return lu(this.node)}},{key:"clone",value:function(){return t.create(this.node.cloneNode(!0))}},{key:"remove",value:function(){return gu(this.node),this}},{key:"empty",value:function(){return yu(this.node),this}},{key:"append",value:function(e){return mu(this.node,t.toNodes(e)),this}},{key:"appendTo",value:function(e){return xu(this.node,t.isVector(e)?e.node:e),this}},{key:"prepend",value:function(e){return bu(this.node,t.toNodes(e)),this}},{key:"before",value:function(e){return wu(this.node,t.toNodes(e)),this}},{key:"replace",value:function(e){return this.node.parentNode&&this.node.parentNode.replaceChild(t.toNode(e),this.node),t.create(e)}},{key:"first",value:function(){return this.node.firstChild?t.create(this.node.firstChild):null}},{key:"last",value:function(){return this.node.lastChild?t.create(this.node.lastChild):null}},{key:"get",value:function(e){var n=this.node.childNodes[e];return n?t.create(n):null}},{key:"indexOf",value:function(e){return Array.prototype.slice.call(this.node.childNodes).indexOf(t.toNode(e))}},{key:"find",value:function(e){var n=[],r=hu(this.node,e);if(r)for(var i=0,o=r.length;i<o;i+=1)n.push(t.create(r[i]));return n}},{key:"findOne",value:function(e){var n=du(this.node,e);return n?t.create(n):null}},{key:"findParentByClass",value:function(e,n){var r=pu(this.node,e,n);return r?t.create(r):null}},{key:"matches",value:function(e){var t=this.node,n=(this.node.matches,t.matches||t.matchesSelector||t.msMatchesSelector||t.mozMatchesSelector||t.webkitMatchesSelector||t.oMatchesSelector||null);return n&&n.call(t,e)}},{key:"contains",value:function(e){return vu(this.node,t.isVector(e)?e.node:e)}},{key:"wrap",value:function(e){var n=t.create(e),r=this.node.parentNode;return null!=r&&r.insertBefore(n.node,this.node),n.append(this)}},{key:"parent",value:function(e){var n=this;if(null==n.node.parentNode)return null;if(n=t.create(n.node.parentNode),null==e)return n;do{if("string"===typeof e?n.matches(e):n instanceof e)return n}while(n=t.create(n.node.parentNode));return n}},{key:"children",value:function(){for(var e=this.node.childNodes,n=[],r=0;r<e.length;r+=1){1===e[r].nodeType&&n.push(t.create(e[r]))}return n}},{key:"eachChild",value:function(e,t){for(var n=this.children(),r=0,i=n.length;r<i;r+=1)e.call(n[r],n[r],r,n),t&&n[r].eachChild(e,t);return this}},{key:"index",value:function(){return fu(this.node)}},{key:"hasClass",value:function(e){return $a(this.node,e)}},{key:"addClass",value:function(e){return Ja(this.node,e),this}},{key:"removeClass",value:function(e){return Qa(this.node,e),this}},{key:"toggleClass",value:function(e,t){return Ka(this.node,e,t),this}},{key:"toLocalPoint",value:function(e,t){return ac(this.node,e,t)}},{key:"sample",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return this.node instanceof SVGPathElement?ks(this.node,e):[]}},{key:"toPath",value:function(){return t.create(Ns(this.node))}},{key:"toPathData",value:function(){return Rs(this.node)}}]),t}(Symbol.toStringTag);!function(e){function t(t){if(null==t)return!1;if(t instanceof e)return!0;var n=t[Symbol.toStringTag],r=t;return(null==n||n===e.toStringTag)&&r.node instanceof SVGElement&&"function"===typeof r.sample&&"function"===typeof r.toPath}function n(t,n,r){return new e(t,n,r)}function r(e){return t(e)?e.node:e}e.toStringTag="X6.".concat(e.name),e.isVector=t,e.create=n,e.createVectors=function(e){if("<"===e[0]){for(var t=su(e),r=[],i=0,o=t.childNodes.length;i<o;i+=1){var a=t.childNodes[i];r.push(n(document.importNode(a,!0)))}return r}return[n(e)]},e.toNode=r,e.toNodes=function(e){return Array.isArray(e)?e.map(function(e){return r(e)}):[r(e)]}}(hs||(hs={}));var ds=document.createElement("canvas").getContext("2d");function ps(e,t,n){for(var r,i=n.eol,o=n.baseSize,a=n.lineHeight,u=0,s={},c=t.length-1,l=0;l<=c;l+=1){var f=t[l],h=null;if("object"===typeof f){var d=f.attrs,p=hs.create("tspan",d);r=p.node;var v=f.t;i&&l===c&&(v+=i),r.textContent=v;var g=d.class;g&&p.addClass(g),n.includeAnnotationIndices&&p.attr("annotations",f.annotations.join(",")),void 0===(h=parseFloat(d["font-size"]))&&(h=o),h&&h>u&&(u=h)}else i&&l===c&&(f+=i),r=document.createTextNode(f||" "),o&&o>u&&(u=o);e.appendChild(r)}return u&&(s.maxFontSize=u),a?s.lineHeight=a:u&&(s.lineHeight=1.2*u),s}var vs=/em$/;function gs(e,t){var n=parseFloat(e);return vs.test(e)?n*t:n}function ys(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};t=s.sanitize(t);var r=n.eol,i=n.textPath,o=n.textVerticalAnchor,a="middle"===o||"bottom"===o||"top"===o,u=n.x;void 0===u&&(u=e.getAttribute("x")||0);var c=n.includeAnnotationIndices,l=n.annotations;l&&!Array.isArray(l)&&(l=[l]);var f=n.lineHeight,h="auto"===f,d=h?"1.5em":f||"1em",p=!0,v=e.children;1===v.length&&"TITLE"===v[0].tagName.toUpperCase()&&(p=!1),p&&yu(e),Nu(e,{"xml:space":"preserve",display:t||n.displayEmpty?null:"none"});var g,y,m=Nu(e,"font-size"),b=parseFloat(m);b||(b=16,!a&&!l||m||Nu(e,"font-size","".concat(b))),i?("string"===typeof i&&(i={d:i}),g=function(e,t){var n=hs.create(t),r=hs.create("textPath"),i=e.d;if(i&&void 0===e["xlink:href"]){var o=hs.create("path").attr("d",i).appendTo(n.defs());r.attr("xlink:href","#".concat(o.id))}return"object"===typeof e&&r.attr(e),r.node}(i,e)):g=document.createDocumentFragment();for(var w,E=0,x=t.split("\n"),k=[],O=x.length-1,S=0;S<=O;S+=1){y=d;var A="v-line",T=uu("tspan"),j=void 0,C=x[S];if(C)if(l){var _=(j=ps(T,s.annotate(C,l,{offset:-E,includeAnnotationIndices:c}),{eol:S!==O&&r,baseSize:b,lineHeight:h?null:d,includeAnnotationIndices:c})).lineHeight;_&&h&&0!==S&&(y=_),0===S&&(w=.8*j.maxFontSize)}else r&&S!==O&&(C+=r),T.textContent=C;else{T.textContent="-",A+=" v-empty-line";var P=T.style;P.fillOpacity=0,P.strokeOpacity=0,l&&(j={})}j&&k.push(j),S>0&&T.setAttribute("dy",y),(S>0||i)&&T.setAttribute("x",u),T.className.baseVal=A,g.appendChild(T),E+=C.length+1}if(a)if(l)y=function(e,t,n,r){if(!Array.isArray(t))return 0;var i=t.length;if(!i)return 0;for(var o=t[0],a=gs(o.maxFontSize,n)||n,u=0,s=gs(r,n),c=1;c<i;c+=1)u+=gs((o=t[c]).lineHeight,n)||s;var l,f=gs(o.maxFontSize,n)||n;switch(e){case"middle":l=a/2-.15*f-u/2;break;case"bottom":l=-.25*f-u;break;case"top":default:l=.8*a}return l}(o,k,b,d);else if("top"===o)y="0.8em";else{var M;switch(O>0?(M=parseFloat(d)||1,M*=O,vs.test(d)||(M/=b)):M=0,o){case"middle":y="".concat(.3-M/2,"em");break;case"bottom":y="".concat(-M-.3,"em")}}else 0===o?y="0em":o?y=o:(y=0,null==e.getAttribute("y")&&e.setAttribute("y","".concat(w||"0.8em")));g.firstChild.setAttribute("dy",y),e.appendChild(g)}function ms(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!e)return{width:0};var n=[],r=t["font-size"]?"".concat(parseFloat(t["font-size"]),"px"):"14px";return n.push(t["font-style"]||"normal"),n.push(t["font-variant"]||"normal"),n.push(t["font-weight"]||400),n.push(r),n.push(t["font-family"]||"sans-serif"),ds.font=n.join(" "),ds.measureText(e)}function bs(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};if(t>=n)return[e,""];var i=e.length,o={},a=Math.round(t/n*i-1);for(a<0&&(a=0);a>=0&&a<i;){var u=e.slice(0,a),s=o[u]||ms(u,r).width,c=e.slice(0,a+1),l=o[c]||ms(c,r).width;if(o[u]=s,o[c]=l,s>t)a-=1;else{if(!(l<=t))break;a+=1}}return[e.slice(0,a),e.slice(a)]}function ws(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=t.width,o=t.height,a=r.eol||"\n",u=ms(e,n).width;if(u<i)return e;var s=[],c=n.fontSize||14,l=n.lineHeight?parseFloat(n.lineHeight):Math.ceil(1.4*c),f=Math.floor(o/l),h=e,d=u,p=r.ellipsis,v=0;p&&("string"!==typeof p&&(p="\u2026"),v=ms(p,n).width);for(var g=0;g<f;g+=1){if(!(d>i)){s.push(h);break}if(g===f-1){var y=bs(h,i-v,d,n),m=Object(fs.a)(y,1)[0];s.push(p?"".concat(m).concat(p):m)}else{var b=bs(h,i,d,n),w=Object(fs.a)(b,2),E=w[0],x=w[1];s.push(E),d=ms(h=x,n).width}}return s.join(a)}var Es=.551784;function xs(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:NaN,r=e.getAttribute(t);if(null==r)return n;var i=parseFloat(r);return Number.isNaN(i)?n:i}function ks(e){for(var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,r=e.getTotalLength(),i=[],o=0;o<r;)t=e.getPointAtLength(o),i.push({distance:o,x:t.x,y:t.y}),o+=n;return i}function Os(e){return["M",xs(e,"x1"),xs(e,"y1"),"L",xs(e,"x2"),xs(e,"y2")].join(" ")}function Ss(e){var t=js(e);return 0===t.length?null:"".concat(Ts(t)," Z")}function As(e){var t=js(e);return 0===t.length?null:Ts(t)}function Ts(e){var t=e.map(function(e){return"".concat(e.x," ").concat(e.y)});return"M ".concat(t.join(" L"))}function js(e){var t=[],n=e.points;if(n)for(var r=0,i=n.numberOfItems;r<i;r+=1)t.push(n.getItem(r));return t}function Cs(e){var t=xs(e,"cx",0),n=xs(e,"cy",0),r=xs(e,"r"),i=r*Es;return["M",t,n-r,"C",t+i,n-r,t+r,n-i,t+r,n,"C",t+r,n+i,t+i,n+r,t,n+r,"C",t-i,n+r,t-r,n+i,t-r,n,"C",t-r,n-i,t-i,n-r,t,n-r,"Z"].join(" ")}function _s(e){var t=xs(e,"cx",0),n=xs(e,"cy",0),r=xs(e,"rx"),i=xs(e,"ry")||r,o=r*Es,a=i*Es;return["M",t,n-i,"C",t+o,n-i,t+r,n-a,t+r,n,"C",t+r,n+a,t+o,n+i,t,n+i,"C",t-o,n+i,t-r,n+a,t-r,n,"C",t-r,n-a,t-o,n-i,t,n-i,"Z"].join(" ")}function Ps(e){return Ms({x:xs(e,"x",0),y:xs(e,"y",0),width:xs(e,"width",0),height:xs(e,"height",0),rx:xs(e,"rx",0),ry:xs(e,"ry",0)})}function Ms(e){var t=e.x,n=e.y,r=e.width,i=e.height,o=Math.min(e.rx||e["top-rx"]||0,r/2),a=Math.min(e.rx||e["bottom-rx"]||0,r/2),u=Math.min(e.ry||e["top-ry"]||0,i/2),s=Math.min(e.ry||e["bottom-ry"]||0,i/2);return(o||a||u||s?["M",t,n+u,"v",i-u-s,"a",a,s,0,0,0,a,s,"h",r-2*a,"a",a,s,0,0,0,a,-s,"v",-(i-s-u),"a",o,u,0,0,0,-o,-u,"h",-(r-2*o),"a",o,u,0,0,0,-o,u,"Z"]:["M",t,n,"H",t+r,"V",n+i,"H",t,"V",n,"Z"]).join(" ")}function Ns(e){var t=uu("path");Nu(t,Nu(e));var n=Rs(e);return n&&t.setAttribute("d",n),t}function Rs(e){var t=e.tagName.toLowerCase();switch(t){case"path":return e.getAttribute("d");case"line":return Os(e);case"polygon":return Ss(e);case"polyline":return As(e);case"ellipse":return _s(e);case"circle":return Cs(e);case"rect":return Ps(e)}throw new Error('"'.concat(t,'" cannot be converted to svg path element.'))}function Ls(e,t,n,r){var i=2*Math.PI-1e-6,o=e,a=t,u=n,s=r;if(s<u){var c=u;u=s,s=c}var l=s-u,f=l<Math.PI?"0":"1",h=Math.cos(u),d=Math.sin(u),p=Math.cos(s),v=Math.sin(s);return l>=i?o?"M0,".concat(a,"A").concat(a,",").concat(a," 0 1,1 0,").concat(-a,"A").concat(a,",").concat(a," 0 1,1 0,").concat(a,"M0,").concat(o,"A").concat(o,",").concat(o," 0 1,0 0,").concat(-o,"A").concat(o,",").concat(o," 0 1,0 0,").concat(o,"Z"):"M0,".concat(a,"A").concat(a,",").concat(a," 0 1,1 0,").concat(-a,"A").concat(a,",").concat(a," 0 1,1 0,").concat(a,"Z"):o?"M".concat(a*h,",").concat(a*d,"A").concat(a,",").concat(a," 0 ").concat(f,",1 ").concat(a*p,",").concat(a*v,"L").concat(o*p,",").concat(o*v,"A").concat(o,",").concat(o," 0 ").concat(f,",0 ").concat(o*h,",").concat(o*d,"Z"):"M".concat(a*h,",").concat(a*d,"A").concat(a,",").concat(a," 0 ").concat(f,",1 ").concat(a*p,",").concat(a*v,"L0,0")+"Z"}var Is,Ds,Bs,Fs=uu("svg"),zs=/(\w+)\(([^,)]+),?([^)]+)?\)/gi,Vs=/[ ,]+/,Us=/^(\w+)\((.*)\)/;function Gs(e,t){var n=Fs.createSVGPoint();return n.x=e,n.y=t,n}function Hs(e){var t=Fs.createSVGMatrix();if(null!=e){var n=e,r=t;for(var i in n)r[i]=n[i]}return t}function Ws(e){return null!=e?(e instanceof DOMMatrix||(e=Hs(e)),Fs.createSVGTransformFromMatrix(e)):Fs.createSVGTransform()}function qs(e){var t=Hs(),n=null!=e&&e.match(zs);if(!n)return t;for(var r=0,i=n.length;r<i;r+=1){var o=n[r].match(Us);if(o){var a=void 0,u=void 0,s=void 0,c=void 0,l=void 0,f=Hs(),h=o[2].split(Vs);switch(o[1].toLowerCase()){case"scale":a=parseFloat(h[0]),u=void 0===h[1]?a:parseFloat(h[1]),f=f.scaleNonUniform(a,u);break;case"translate":s=parseFloat(h[0]),c=parseFloat(h[1]),f=f.translate(s,c);break;case"rotate":l=parseFloat(h[0]),s=parseFloat(h[1])||0,c=parseFloat(h[2])||0,f=0!==s||0!==c?f.translate(s,c).rotate(l).translate(-s,-c):f.rotate(l);break;case"skewx":l=parseFloat(h[0]),f=f.skewX(l);break;case"skewy":l=parseFloat(h[0]),f=f.skewY(l);break;case"matrix":f.a=parseFloat(h[0]),f.b=parseFloat(h[1]),f.c=parseFloat(h[2]),f.d=parseFloat(h[3]),f.e=parseFloat(h[4]),f.f=parseFloat(h[5]);break;default:continue}t=t.multiply(f)}}return t}function Xs(e){var t=e||{},n=null!=t.a?t.a:1,r=null!=t.b?t.b:0,i=null!=t.c?t.c:0,o=null!=t.d?t.d:1,a=null!=t.e?t.e:0,u=null!=t.f?t.f:0;return"matrix(".concat(n,",").concat(r,",").concat(i,",").concat(o,",").concat(a,",").concat(u,")")}function Ys(e){var t,n,r;if(e){var i=Vs;if(e.trim().indexOf("matrix")>=0){var o=Js(qs(e));t=[o.translateX,o.translateY],n=[o.rotation],r=[o.scaleX,o.scaleY];var a=[];0===t[0]&&0===t[1]||a.push("translate(".concat(t.join(","),")")),1===r[0]&&1===r[1]||a.push("scale(".concat(r.join(","),")")),0!==n[0]&&a.push("rotate(".concat(n[0],")")),e=a.join(" ")}else{var u=e.match(/translate\((.*?)\)/);u&&(t=u[1].split(i));var s=e.match(/rotate\((.*?)\)/);s&&(n=s[1].split(i));var c=e.match(/scale\((.*?)\)/);c&&(r=c[1].split(i))}}var l=r&&r[0]?parseFloat(r[0]):1;return{raw:e||"",translation:{tx:t&&t[0]?parseInt(t[0],10):0,ty:t&&t[1]?parseInt(t[1],10):0},rotation:{angle:n&&n[0]?parseInt(n[0],10):0,cx:n&&n[1]?parseInt(n[1],10):void 0,cy:n&&n[2]?parseInt(n[2],10):void 0},scale:{sx:l,sy:r&&r[1]?parseFloat(r[1]):l}}}function $s(e,t){return{x:t.x*e.a+t.y*e.c+0,y:t.x*e.b+t.y*e.d+0}}function Js(e){var t=$s(e,{x:0,y:1}),n=$s(e,{x:1,y:0}),r=180/Math.PI*Math.atan2(t.y,t.x)-90;return{skewX:r,skewY:180/Math.PI*Math.atan2(n.y,n.x),translateX:e.e,translateY:e.f,scaleX:Math.sqrt(e.a*e.a+e.b*e.b),scaleY:Math.sqrt(e.c*e.c+e.d*e.d),rotation:r}}function Qs(e){var t,n,r,i;return e?(t=null==e.a?1:e.a,i=null==e.d?1:e.d,n=e.b,r=e.c):t=i=1,{sx:n?Math.sqrt(t*t+n*n):t,sy:r?Math.sqrt(r*r+i*i):i}}function Ks(e){var t={x:0,y:1};e&&(t=$s(e,t));var n=180*Math.atan2(t.y,t.x)/Math.PI%360-90;return{angle:n%360+(n<0?360:0)}}function Zs(e){return{tx:e&&e.e||0,ty:e&&e.f||0}}function ec(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(null==t)return qs(Nu(e,"transform"));if(n.absolute)e.setAttribute("transform",Xs(t));else{var r=e.transform,i=Ws(t);r.baseVal.appendItem(i)}}function tc(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=Nu(e,"transform"),o=Ys(i);if(null==t)return o.translation;i=(i=o.raw).replace(/translate\([^)]*\)/g,"").trim();var a=r.absolute?t:o.translation.tx+t,u=r.absolute?n:o.translation.ty+n,s="translate(".concat(a,",").concat(u,")");e.setAttribute("transform","".concat(s," ").concat(i).trim())}function nc(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},o=Nu(e,"transform"),a=Ys(o);if(null==t)return a.rotation;o=(o=a.raw).replace(/rotate\([^)]*\)/g,"").trim(),t%=360;var u=i.absolute?t:a.rotation.angle+t,s=null!=n&&null!=r?",".concat(n,",").concat(r):"",c="rotate(".concat(u).concat(s,")");e.setAttribute("transform","".concat(o," ").concat(c).trim())}function rc(e,t,n){var r=Nu(e,"transform"),i=Ys(r);if(null==t)return i.scale;n=null==n?t:n,r=(r=i.raw).replace(/scale\([^)]*\)/g,"").trim();var o="scale(".concat(t,",").concat(n,")");e.setAttribute("transform","".concat(r," ").concat(o).trim())}function ic(e,t){if(nu(t)&&nu(e)){var n=t.getScreenCTM(),r=e.getScreenCTM();if(n&&r)return n.inverse().multiply(r)}return Hs()}function oc(e,t){var n=Hs();if(nu(t)&&nu(e)){for(var r=e,i=[];r&&r!==t;){var o=qs(r.getAttribute("transform")||null);i.push(o),r=r.parentNode}i.reverse().forEach(function(e){n=n.multiply(e)})}return n}function ac(e,t,n){var r=e instanceof SVGSVGElement?e:e.ownerSVGElement,i=r.createSVGPoint();i.x=t,i.y=n;try{var o=r.getScreenCTM(),a=i.matrixTransform(o.inverse()),u=ic(e,r).inverse();return a.matrixTransform(u)}catch(s){return i}}!function(e){var t={};e.get=function(e){return t[e]||{}},e.register=function(e,n){t[e]=n},e.unregister=function(e){delete t[e]}}(Is||(Is={})),function(e){var t=new WeakMap;e.ensure=function(e){return t.has(e)||t.set(e,{events:Object.create(null)}),t.get(e)},e.get=function(e){return t.get(e)},e.remove=function(e){return t.delete(e)}}(Ds||(Ds={})),function(e){e.returnTrue=function(){return!0},e.returnFalse=function(){return!1},e.stopPropagationCallback=function(e){e.stopPropagation()},e.addEventListener=function(e,t,n){null!=e.addEventListener&&e.addEventListener(t,n)},e.removeEventListener=function(e,t,n){null!=e.removeEventListener&&e.removeEventListener(t,n)}}(Bs||(Bs={})),function(e){var t=/[^\x20\t\r\n\f]+/g,n=/^([^.]*)(?:\.(.+)|)/;e.splitType=function(e){return(e||"").match(t)||[""]},e.normalizeType=function(e){var t=n.exec(e)||[];return{originType:t[1]?t[1].trim():t[1],namespaces:t[2]?t[2].split(".").map(function(e){return e.trim()}).sort():[]}},e.isValidTarget=function(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType},e.isValidSelector=function(e,t){if(t){var n=e;return null!=n.querySelector&&null!=n.querySelector(t)}return!0}}(Bs||(Bs={})),function(e){var t=0,n=new WeakMap;e.ensureHandlerId=function(e){return n.has(e)||(n.set(e,t),t+=1),n.get(e)},e.getHandlerId=function(e){return n.get(e)},e.removeHandlerId=function(e){return n.delete(e)},e.setHandlerId=function(e,t){return n.set(e,t)}}(Bs||(Bs={})),function(e){(Bs||(Bs={})).getHandlerQueue=function(e,t){var n=[],r=Ds.get(e),i=r&&r.events&&r.events[t.type],o=i&&i.handlers||[],a=i?i.delegateCount:0;if(a>0&&!("click"===t.type&&"number"===typeof t.button&&t.button>=1))for(var u=t.target;u!==e;u=u.parentNode||e)if(1===u.nodeType&&("click"!==t.type||!0!==u.disabled)){for(var s=[],c={},l=function(){var t=o[f],n=t.selector;if(null!=n&&null==c[n]){var r=[];e.querySelectorAll(n).forEach(function(e){r.push(e)}),c[n]=r.includes(u)}c[n]&&s.push(t)},f=0;f<a;f+=1)l();s.length&&n.push({elem:u,handlers:s})}return a<o.length&&n.push({elem:e,handlers:o.slice(a)}),n}}(),function(e){(Bs||(Bs={})).isWindow=function(e){return null!=e&&e===e.window}}(),function(e){(Bs||(Bs={})).contains=function(e,t){var n=9===e.nodeType?e.documentElement:e,r=t&&t.parentNode;return e===r||!(!r||1!==r.nodeType||!(n.contains?n.contains(r):e.compareDocumentPosition&&16&e.compareDocumentPosition(r)))}}();var uc,sc=function(){function e(t,n){Object(T.a)(this,e),this.isDefaultPrevented=Bs.returnFalse,this.isPropagationStopped=Bs.returnFalse,this.isImmediatePropagationStopped=Bs.returnFalse,this.isSimulated=!1,"string"===typeof t?this.type=t:t.type&&(this.originalEvent=t,this.type=t.type,this.isDefaultPrevented=t.defaultPrevented?Bs.returnTrue:Bs.returnFalse,this.target=t.target,this.currentTarget=t.currentTarget,this.relatedTarget=t.relatedTarget,this.timeStamp=t.timeStamp),n&&Object.assign(this,n),this.timeStamp||(this.timeStamp=Date.now())}return Object(j.a)(e,[{key:"preventDefault",value:function(){var e=this.originalEvent;this.isDefaultPrevented=Bs.returnTrue,e&&!this.isSimulated&&e.preventDefault()}},{key:"stopPropagation",value:function(){var e=this.originalEvent;this.isPropagationStopped=Bs.returnTrue,e&&!this.isSimulated&&e.stopPropagation()}},{key:"stopImmediatePropagation",value:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=Bs.returnTrue,e&&!this.isSimulated&&e.stopImmediatePropagation(),this.stopPropagation()}}]),e}();!function(e){e.create=function(t){return t instanceof e?t:new e(t)}}(sc||(sc={})),function(e){e.addProperty=function(t,n){Object.defineProperty(e.prototype,t,{enumerable:!0,configurable:!0,get:"function"===typeof n?function(){if(this.originalEvent)return n(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[t]},set:function(e){Object.defineProperty(this,t,{enumerable:!0,configurable:!0,writable:!0,value:e})}})}}(sc||(sc={})),function(e){var t={bubbles:!0,cancelable:!0,eventPhase:!0,detail:!0,view:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pageX:!0,pageY:!0,screenX:!0,screenY:!0,toElement:!0,pointerId:!0,pointerType:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,touches:!0,changedTouches:!0,targetTouches:!0,which:!0,altKey:!0,ctrlKey:!0,metaKey:!0,shiftKey:!0};Object.keys(t).forEach(function(n){return e.addProperty(n,t[n])})}(sc||(sc={})),uc||(uc={}),Is.register("load",{noBubble:!0}),uc||(uc={}),Is.register("beforeunload",{postDispatch:function(e,t){void 0!==t.result&&t.originalEvent&&(t.originalEvent.returnValue=t.result)}}),uc||(uc={}),Is.register("mouseenter",{delegateType:"mouseover",bindType:"mouseover",handle:function(e,t){var n,r=t.relatedTarget,i=t.handleObj;return r&&(r===e||Bs.contains(e,r))||(t.type=i.originType,n=i.handler.call(e,t),t.type="mouseover"),n}}),Is.register("mouseleave",{delegateType:"mouseout",bindType:"mouseout",handle:function(e,t){var n,r=t.relatedTarget,i=t.handleObj;return r&&(r===e||Bs.contains(e,r))||(t.type=i.originType,n=i.handler.call(e,t),t.type="mouseout"),n}});var cc,lc,fc,hc=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};!function(e){var t;function n(e,t){var n=sc.create(t);n.delegateTarget=e;var r=Is.get(n.type);if(!r.preDispatch||!1!==r.preDispatch(e,n)){for(var i=Bs.getHandlerQueue(e,n),o=arguments.length,a=new Array(o>2?o-2:0),u=2;u<o;u++)a[u-2]=arguments[u];for(var s=0,c=i.length;s<c&&!n.isPropagationStopped();s+=1){var l=i[s];n.currentTarget=l.elem;for(var f=0,h=l.handlers.length;f<h&&!n.isImmediatePropagationStopped();f+=1){var d=l.handlers[f];if(null==n.rnamespace||d.namespace&&n.rnamespace.test(d.namespace)){var p;n.handleObj=d,n.data=d.data;var v=Is.get(d.originType).handle,g=v?v.apply(void 0,[l.elem,n].concat(a)):(p=d.handler).call.apply(p,[l.elem,n].concat(a));void 0!==g&&(n.result=g,!1===g&&(n.preventDefault(),n.stopPropagation()))}}}return r.postDispatch&&r.postDispatch(e,n),n.result}}e.on=function(e,r,i,o,a){if(Bs.isValidTarget(e)){var u;if("function"!==typeof i){var s=i,c=s.handler,l=s.selector,f=hc(i,["handler","selector"]);i=c,a=l,u=f}var h=Ds.ensure(e),d=h.handler;null==d&&(d=h.handler=function(r){for(var i=arguments.length,o=new Array(i>1?i-1:0),a=1;a<i;a++)o[a-1]=arguments[a];return t!==r.type?n.apply(void 0,[e,r].concat(o)):void 0});var p=Bs.ensureHandlerId(i);Bs.splitType(r).forEach(function(t){var n=Bs.normalizeType(t),r=n.originType,s=n.namespaces;if(r){var c=r,l=Is.get(c);c=(a?l.delegateType:l.bindType)||c,l=Is.get(c);var f=Object.assign({type:c,originType:r,data:o,selector:a,guid:p,handler:i,namespace:s.join(".")},u),v=h.events,g=v[c];g||(g=v[c]={handlers:[],delegateCount:0},l.setup&&!1!==l.setup(e,o,s,d)||Bs.addEventListener(e,c,d)),l.add&&(Bs.removeHandlerId(f.handler),l.add(e,f),Bs.setHandlerId(f.handler,p)),a?(g.handlers.splice(g.delegateCount,0,f),g.delegateCount+=1):g.handlers.push(f)}})}},e.off=function e(t,n,r,i,o){var a=Ds.get(t);if(a){var u=a.events;u&&(Bs.splitType(n).forEach(function(n){var s=Bs.normalizeType(n),c=s.originType,l=s.namespaces;if(c){var f=c,h=Is.get(f);f=(i?h.delegateType:h.bindType)||f;for(var d=u[f]||{},p=l.length>0?new RegExp("(^|\\.)".concat(l.join("\\.(?:.*\\.|)"),"(\\.|$)")):null,v=d.handlers.length,g=d.handlers.length-1;g>=0;g-=1){var y=d.handlers[g];!o&&c!==y.originType||r&&Bs.getHandlerId(r)!==y.guid||!(null==p||y.namespace&&p.test(y.namespace))||!(null==i||i===y.selector||"**"===i&&y.selector)||(d.handlers.splice(g,1),y.selector&&(d.delegateCount-=1),h.remove&&h.remove(t,y))}v&&0===d.handlers.length&&(h.teardown&&!1!==h.teardown(t,l,a.handler)||Bs.removeEventListener(t,f,a.handler),delete u[f])}else Object.keys(u).forEach(function(o){e(t,o+n,r,i,!0)})}),0===Object.keys(u).length&&Ds.remove(t))}},e.dispatch=n,e.trigger=function(e,n,r,i){var o=e,a="string"===typeof e?e:e.type,u="string"===typeof e||null==o.namespace?[]:o.namespace.split("."),s=r;if(3!==s.nodeType&&8!==s.nodeType){a.indexOf(".")>-1&&(u=a.split("."),a=u.shift(),u.sort());var c=a.indexOf(":")<0&&"on".concat(a);(o=e instanceof sc?e:new sc(a,"object"===typeof e?e:null)).namespace=u.join("."),o.rnamespace=o.namespace?new RegExp("(^|\\.)".concat(u.join("\\.(?:.*\\.|)"),"(\\.|$)")):null,o.result=void 0,o.target||(o.target=s);var l=[o];Array.isArray(n)?l.push.apply(l,Object(N.a)(n)):l.push(n);var f=Is.get(a);if(i||!f.trigger||!1!==f.trigger(s,o,n)){var h,d=[s];if(!i&&!f.noBubble&&!Bs.isWindow(s)){h=f.delegateType||a;for(var p=s,v=s.parentNode;null!=v;)d.push(v),p=v,v=v.parentNode;if(p===(s.ownerDocument||document)){var g=p.defaultView||p.parentWindow||window;d.push(g)}}for(var y=s,m=0,b=d.length;m<b&&!o.isPropagationStopped();m+=1){var w=d[m];y=w,o.type=m>1?h:f.bindType||a;var E,x=Ds.get(w);x&&x.events[o.type]&&x.handler&&(E=x.handler).call.apply(E,[w].concat(l));var k=c&&w[c]||null;k&&Bs.isValidTarget(w)&&(o.result=k.call.apply(k,[w].concat(l)),!1===o.result&&o.preventDefault())}if(o.type=a,!i&&!o.isDefaultPrevented()){var O=f.preventDefault;if((null==O||!1===O(d.pop(),o,n))&&Bs.isValidTarget(s)&&c&&"function"===typeof s[a]&&!Bs.isWindow(s)){var S=s[c];S&&(s[c]=null),t=a,o.isPropagationStopped()&&y.addEventListener(a,Bs.stopPropagationCallback),s[a](),o.isPropagationStopped()&&y.removeEventListener(a,Bs.stopPropagationCallback),t=void 0,S&&(s[c]=S)}}return o.result}}}}(cc||(cc={})),function(e){e.on=function(e,t,n,r,i){return fc.on(e,t,n,r,i),e},e.once=function(e,t,n,r,i){return fc.on(e,t,n,r,i,!0),e},e.off=function(e,t,n,r){return fc.off(e,t,n,r),e},e.trigger=function(e,t,n,r){return cc.trigger(t,n,e,r),e}}(lc||(lc={})),function(e){e.on=function t(n,r,i,o,a,u){if("object"===typeof r)return"string"!==typeof i&&(o=o||i,i=void 0),void Object.keys(r).forEach(function(e){return t(n,e,i,o,r[e],u)});if(null==o&&null==a?(a=i,o=i=void 0):null==a&&("string"===typeof i?(a=o,o=void 0):(a=o,o=i,i=void 0)),!1===a)a=Bs.returnFalse;else if(!a)return;if(u){var s=a;a=function(t){e.off(n,t);for(var r=arguments.length,i=new Array(r>1?r-1:0),o=1;o<r;o++)i[o-1]=arguments[o];return s.call.apply(s,[this,t].concat(i))},Bs.setHandlerId(a,Bs.ensureHandlerId(s))}cc.on(n,r,a,o,i)},e.off=function e(t,n,r,i){var o=n;if(o&&null!=o.preventDefault&&null!=o.handleObj){var a=o.handleObj;e(o.delegateTarget,a.namespace?"".concat(a.originType,".").concat(a.namespace):a.originType,a.selector,a.handler)}else if("object"!==typeof n)!1!==r&&"function"!==typeof r||(i=r,r=void 0),!1===i&&(i=Bs.returnFalse),cc.off(t,n,i,r);else{var u=n;Object.keys(u).forEach(function(n){return e(t,n,r,u[n])})}}}(fc||(fc={}));var dc=function(){function e(t,n,r){Object(T.a)(this,e),this.animationFrameId=0,this.deltaX=0,this.deltaY=0,this.eventName=Sa.isEventSupported("wheel")?"wheel":"mousewheel",this.target=t,this.onWheelCallback=n,this.onWheelGuard=r,this.onWheel=this.onWheel.bind(this),this.didWheel=this.didWheel.bind(this)}return Object(j.a)(e,[{key:"enable",value:function(){this.target.addEventListener(this.eventName,this.onWheel,{passive:!1})}},{key:"disable",value:function(){this.target.removeEventListener(this.eventName,this.onWheel)}},{key:"onWheel",value:function(e){var t,n=this;(null==this.onWheelGuard||this.onWheelGuard(e))&&(this.deltaX+=e.deltaX,this.deltaY+=e.deltaY,e.preventDefault(),0===this.deltaX&&0===this.deltaY||(e.stopPropagation(),t=!0),!0===t&&0===this.animationFrameId&&(this.animationFrameId=requestAnimationFrame(function(){n.didWheel(e)})))}},{key:"didWheel",value:function(e){this.animationFrameId=0,this.onWheelCallback(e,this.deltaX,this.deltaY),this.deltaX=0,this.deltaY=0}}]),e}();function pc(e){var t=e.getBoundingClientRect(),n=e.ownerDocument.defaultView;return{top:t.top+n.pageYOffset,left:t.left+n.pageXOffset}}function vc(e){return e.getBoundingClientRect().width}function gc(e){return e.getBoundingClientRect().height}function yc(e){var t,n="fixed"===ns(e,"position");if(n){var r=e.getBoundingClientRect();t={left:r.left,top:r.top}}else t=pc(e);if(!n){for(var i=e.ownerDocument,o=e.offsetParent||i.documentElement;(o===i.body||o===i.documentElement)&&"static"===ns(o,"position");)o=o.parentNode;if(o!==e&&ku(o)){var a=pc(o);t.top-=a.top+rs(o,"borderTopWidth"),t.left-=a.left+rs(o,"borderLeftWidth")}}return{top:t.top-rs(e,"marginTop"),left:t.left-rs(e,"marginLeft")}}function mc(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:60,r=null;return function(){for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];r&&clearTimeout(r),r=window.setTimeout(function(){e.apply(t,o)},n)}}var bc,wc="undefined"!==typeof ResizeObserver?function(e){var t=null,n=[],r=mc(function(){n.forEach(function(t){t(e)})}),i=function(){t&&(t.disconnect(),n=[],t=null)};return{element:e,bind:function(i){t||(t=function(){var t=new ResizeObserver(r);return t.observe(e),r(),t}()),-1===n.indexOf(i)&&n.push(i)},destroy:i,unbind:function(e){var r=n.indexOf(e);-1!==r&&n.splice(r,1),0===n.length&&t&&i()}}}:function(e){var t=null,n=[],r=mc(function(){n.forEach(function(t){return t(e)})}),i=function(){t&&t.parentNode&&(t.contentDocument&&t.contentDocument.defaultView.removeEventListener("resize",r),t.parentNode.removeChild(t),t=null,n=[])};return{element:e,bind:function(i){t||(t=function(){"static"===getComputedStyle(e).position&&(e.style.position="relative");var t=document.createElement("object");return t.onload=function(){t.contentDocument.defaultView.addEventListener("resize",r),r()},t.style.display="block",t.style.position="absolute",t.style.top="0",t.style.left="0",t.style.height="100%",t.style.width="100%",t.style.overflow="hidden",t.style.pointerEvents="none",t.style.zIndex="-1",t.style.opacity="0",t.setAttribute("tabindex","-1"),t.type="text/html",e.appendChild(t),t.data="about:blank",t}()),-1===n.indexOf(i)&&n.push(i)},destroy:i,unbind:function(e){var r=n.indexOf(e);-1!==r&&n.splice(r,1),0===n.length&&t&&i()}}};!function(e){var t=new WeakMap;function n(e){var n=t.get(e);return n||(n=wc(e),t.set(e,n),n)}e.bind=function(e,t){var r=n(e);return r.bind(t),function(){return r.unbind(t)}},e.clear=function(e){!function(e){e.destroy(),t.delete(e.element)}(n(e))}}(bc||(bc={}));var Ec,xc=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object(T.a)(this,e),this.comparator=t.comparator||e.defaultComparator,this.index={},this.data=t.data||[],this.heapify()}return Object(j.a)(e,[{key:"isEmpty",value:function(){return 0===this.data.length}},{key:"insert",value:function(e,t,n){var r={priority:e,value:t},i=this.data.length;return n&&(r.id=n,this.index[n]=i),this.data.push(r),this.bubbleUp(i),this}},{key:"peek",value:function(){return this.data[0]?this.data[0].value:null}},{key:"peekPriority",value:function(){return this.data[0]?this.data[0].priority:null}},{key:"updatePriority",value:function(e,t){var n=this.index[e];if("undefined"===typeof n)throw new Error("Node with id '".concat(e,"' was not found in the heap."));var r=this.data,i=r[n].priority,o=this.comparator(t,i);o<0?(r[n].priority=t,this.bubbleUp(n)):o>0&&(r[n].priority=t,this.bubbleDown(n))}},{key:"remove",value:function(){var e=this.data,t=e[0],n=e.pop();return t.id&&delete this.index[t.id],e.length>0&&(e[0]=n,n.id&&(this.index[n.id]=0),this.bubbleDown(0)),t?t.value:null}},{key:"heapify",value:function(){for(var e=0;e<this.data.length;e+=1)this.bubbleUp(e)}},{key:"bubbleUp",value:function(e){for(var t,n,r=this.data,i=e;i>0&&(n=i-1>>>1,this.comparator(r[i].priority,r[n].priority)<0);){t=r[n],r[n]=r[i];var o=r[i].id;null!=o&&(this.index[o]=n),r[i]=t,null!=(o=r[i].id)&&(this.index[o]=i),i=n}}},{key:"bubbleDown",value:function(e){for(var t=this.data,n=t.length-1,r=e;;){var i=1+(r<<1),o=i+1,a=r;if(i<=n&&this.comparator(t[i].priority,t[a].priority)<0&&(a=i),o<=n&&this.comparator(t[o].priority,t[a].priority)<0&&(a=o),a===r)break;var u=t[a];t[a]=t[r];var s=t[r].id;null!=s&&(this.index[s]=a),t[r]=u,null!=(s=t[r].id)&&(this.index[s]=r),r=a}}}]),e}();(xc||(xc={})).defaultComparator=function(e,t){return e-t},function(e){(Ec||(Ec={})).run=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(e,t){return 1},r={},i={},o={},a=new xc;for(r[t]=0,Object.keys(e).forEach(function(e){e!==t&&(r[e]=1/0),a.insert(r[e],e,e)});!a.isEmpty();){var u=a.remove();o[u]=!0;for(var s=e[u]||[],c=0;c<s.length;c+=1){var l=s[c];if(!o[l]){var f=r[u]+n(u,l);f<r[l]&&(r[l]=f,i[l]=u,a.updatePriority(l,f))}}}return i}}();var kc=function(){function e(t,n,r,i){return Object(T.a)(this,e),null==t?this.set(255,255,255,1):"number"===typeof t?this.set(t,n,r,i):"string"===typeof t?e.fromString(t)||this:Array.isArray(t)?this.set(t):void this.set(t.r,t.g,t.b,null==t.a?1:t.a)}return Object(j.a)(e,[{key:"blend",value:function(e,t,n){this.set(e.r+(t.r-e.r)*n,e.g+(t.g-e.g)*n,e.b+(t.b-e.b)*n,e.a+(t.a-e.a)*n)}},{key:"lighten",value:function(t){var n=e.lighten(this.toArray(),t);this.r=n[0],this.g=n[1],this.b=n[2],this.a=n[3]}},{key:"darken",value:function(e){this.lighten(-e)}},{key:"set",value:function(e,t,n,r){var i=Array.isArray(e)?e[0]:e,o=Array.isArray(e)?e[1]:t,a=Array.isArray(e)?e[2]:n,s=Array.isArray(e)?e[3]:r;return this.r=Math.round(u.clamp(i,0,255)),this.g=Math.round(u.clamp(o,0,255)),this.b=Math.round(u.clamp(a,0,255)),this.a=null==s?1:u.clamp(s,0,1),this}},{key:"toHex",value:function(){var e=this,t=["r","g","b"].map(function(t){var n=e[t].toString(16);return n.length<2?"0".concat(n):n});return"#".concat(t.join(""))}},{key:"toRGBA",value:function(){return this.toArray()}},{key:"toHSLA",value:function(){return e.rgba2hsla(this.r,this.g,this.b,this.a)}},{key:"toCSS",value:function(e){var t="".concat(this.r,",").concat(this.g,",").concat(this.b,",");return e?"rgb(".concat(t,")"):"rgba(".concat(t,",").concat(this.a,")")}},{key:"toGrey",value:function(){return e.makeGrey(Math.round((this.r+this.g+this.b)/3),this.a)}},{key:"toArray",value:function(){return[this.r,this.g,this.b,this.a]}},{key:"toString",value:function(){return this.toCSS()}}]),e}();!function(e){function t(t){return new e([].concat(Object(N.a)(s(t)),[1]))}function n(t){var n=t.toLowerCase().match(/^rgba?\(([\s.,0-9]+)\)/);if(n){var r=n[1].split(/\s*,\s*/).map(function(e){return parseInt(e,10)});return new e(r)}return null}function r(e,t,n){n<0&&++n,n>1&&--n;var r=6*n;return r<1?e+(t-e)*r:2*n<1?t:3*n<2?e+(t-e)*(2/3-n)*6:e}function i(t){var n=t.toLowerCase().match(/^hsla?\(([\s.,0-9]+)\)/);if(n){var r=n[2].split(/\s*,\s*/),i=(parseFloat(r[0])%360+360)%360/360,a=parseFloat(r[1])/100,u=parseFloat(r[2])/100,s=null==r[3]?1:parseInt(r[3],10);return new e(o(i,a,u,s))}return null}function o(e,t,n,i){var o=Array.isArray(e)?e[0]:e,a=Array.isArray(e)?e[1]:t,u=Array.isArray(e)?e[2]:n,s=Array.isArray(e)?e[3]:i,c=u<=.5?u*(a+1):u+a-u*a,l=2*u-c;return[256*r(l,c,o+1/3),256*r(l,c,o),256*r(l,c,o-1/3),null==s?1:s]}function a(t){return new e(Math.round(256*Math.random()),Math.round(256*Math.random()),Math.round(256*Math.random()),t?void 0:parseFloat(Math.random().toFixed(2)))}function s(e){var t=0===e.indexOf("#")?e:"#".concat(e),n=Number("0x".concat(t.substr(1)));if(4!==t.length&&7!==t.length||Number.isNaN(n))throw new Error("Invalid hex color.");var r=4===t.length?4:8,i=(1<<r)-1,o=["b","g","r"].map(function(){var e=n&i;return n>>=r,4===r?17*e:e});return[o[2],o[1],o[0]]}function c(e,t,n){var r=function(e){return e.length<2?"0".concat(e):e};return"".concat(r(e.toString(16))).concat(r(t.toString(16))).concat(r(n.toString(16)))}function l(e,t){if("string"===typeof e){var n="#"===e[0],r=parseInt(n?e.substr(1):e,16),i=u.clamp((r>>16)+t,0,255),o=u.clamp((r>>8&255)+t,0,255),a=u.clamp((255&r)+t,0,255);return"".concat(n?"#":"").concat((a|o<<8|i<<16).toString(16))}var f=s(l(c(e[0],e[1],e[2]),t));return[f[0],f[1],f[2],e[3]]}e.fromArray=function(t){return new e(t)},e.fromHex=t,e.fromRGBA=n,e.fromHSLA=i,e.fromString=function(r){if(r.startsWith("#"))return t(r);if(r.startsWith("rgb"))return n(r);var o=e.named[r];return o?t(o):i(r)},e.makeGrey=function(t,n){return e.fromArray([t,t,t,n])},e.rgba2hsla=function(e,t,n,r){var i=Array.isArray(e)?e[0]:e,o=Array.isArray(e)?e[1]:t,a=Array.isArray(e)?e[2]:n,u=Array.isArray(e)?e[3]:r,s=Math.max(i,o,a),c=Math.min(i,o,a),l=(s+c)/2,f=0,h=0;if(c!==s){var d=s-c;switch(h=l>.5?d/(2-s-c):d/(s+c),s){case i:f=(o-a)/d+(o<a?6:0);break;case o:f=(a-i)/d+2;break;case a:f=(i-o)/d+4}f/=6}return[f,h,l,null==u?1:u]},e.hsla2rgba=o,e.random=a,e.randomHex=function(){for(var e="#",t=0;t<6;t+=1)e+="0123456789ABCDEF"[Math.floor(16*Math.random())];return e},e.randomRGBA=function(e){return a(e).toString()},e.invert=function(e,t){if("string"===typeof e){var n="#"===e[0],r=s(e),i=Object(fs.a)(r,3),o=i[0],a=i[1],u=i[2];return t?.299*o+.587*a+.114*u>186?"#000000":"#ffffff":"".concat(n?"#":"").concat(c(255-o,255-a,255-u))}var l=e[0],f=e[1],h=e[2],d=e[3];return t?.299*l+.587*f+.114*h>186?[0,0,0,d]:[255,255,255,d]:[255-l,255-f,255-h,d]},e.lighten=function(e,t){return l(e,t)},e.darken=function(e,t){return l(e,-t)}}(kc||(kc={})),(kc||(kc={})).named={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",burntsienna:"#ea7e5d",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"};var Oc,Sc,Ac,Tc=function(){function e(){Object(T.a)(this,e),this.clear()}return Object(j.a)(e,[{key:"clear",value:function(){this.map=new WeakMap,this.arr=[]}},{key:"has",value:function(e){return this.map.has(e)}},{key:"get",value:function(e){return this.map.get(e)}},{key:"set",value:function(e,t){this.map.set(e,t),this.arr.push(e)}},{key:"delete",value:function(e){var t=this.arr.indexOf(e);t>=0&&this.arr.splice(t,1);var n=this.map.get(e);return this.map.delete(e),n}},{key:"each",value:function(e){var t=this;this.arr.forEach(function(n){var r=t.map.get(n);e(r,n)})}},{key:"dispose",value:function(){this.clear()}}]),e}();!function(e){function t(e){var t=[],n=[];return Array.isArray(e)?t.push.apply(t,Object(N.a)(e)):e.split("|").forEach(function(e){-1===e.indexOf("&")?t.push(e):n.push.apply(n,Object(N.a)(e.split("&")))}),{or:t,and:n}}e.parse=t,e.equals=function(e,n){if(null!=e&&null!=n){var r=t(e),i=t(n),o=r.or.sort(),a=i.or.sort(),u=r.and.sort(),s=i.and.sort(),c=function(e,t){return e.length===t.length&&(0===e.length||e.every(function(e,n){return e===t[n]}))};return c(o,a)&&c(u,s)}return null==e&&null==n},e.isMatch=function(e,n,r){if(null==n||Array.isArray(n)&&0===n.length)return!r||!0!==e.altKey&&!0!==e.ctrlKey&&!0!==e.metaKey&&!0!==e.shiftKey;var i=t(n),o=i.or,a=i.and,u=function(t){var n="".concat(t.toLowerCase(),"Key");return!0===e[n]};return o.some(function(e){return u(e)})&&a.every(function(e){return u(e)})}}(Oc||(Oc={})),function(e){e.linear=function(e){return e},e.quad=function(e){return e*e},e.cubic=function(e){return e*e*e},e.inout=function(e){if(e<=0)return 0;if(e>=1)return 1;var t=e*e,n=t*e;return 4*(e<.5?n:3*(e-t)+n-.75)},e.exponential=function(e){return Math.pow(2,10*(e-1))},e.bounce=function(e){for(var t=0,n=1;;t+=n,n/=2)if(e>=(7-4*t)/11){var r=(11-6*t-11*e)/4;return-r*r+n*n}}}(Sc||(Sc={})),function(e){e.decorators={reverse:function(e){return function(t){return 1-e(1-t)}},reflect:function(e){return function(t){return.5*(t<.5?e(2*t):2-e(2-2*t))}},clamp:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return function(r){var i=e(r);return i<t?t:i>n?n:i}},back:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1.70158;return function(t){return t*t*((e+1)*t-e)}},elastic:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1.5;return function(t){return Math.pow(2,10*(t-1))*Math.cos(20*Math.PI*e/3*t)}}}}(Sc||(Sc={})),function(e){function t(e){var t=e/1;if(t<1/2.75)return 7.5625*t*t;if(t<2/2.75){var n=t-1.5/2.75;return 7.5625*n*n+.75}if(t<2.5/2.75){var r=t-2.25/2.75;return 7.5625*r*r+.9375}var i=t-2.625/2.75;return 7.5625*i*i+.984375}function n(e){return 1-t(1-e)}e.easeInSine=function(e){return-1*Math.cos(e*(Math.PI/2))+1},e.easeOutSine=function(e){return Math.sin(e*(Math.PI/2))},e.easeInOutSine=function(e){return-.5*(Math.cos(Math.PI*e)-1)},e.easeInQuad=function(e){return e*e},e.easeOutQuad=function(e){return e*(2-e)},e.easeInOutQuad=function(e){return e<.5?2*e*e:(4-2*e)*e-1},e.easeInCubic=function(e){return e*e*e},e.easeOutCubic=function(e){var t=e-1;return t*t*t+1},e.easeInOutCubic=function(e){return e<.5?4*e*e*e:(e-1)*(2*e-2)*(2*e-2)+1},e.easeInQuart=function(e){return e*e*e*e},e.easeOutQuart=function(e){var t=e-1;return 1-t*t*t*t},e.easeInOutQuart=function(e){var t=e-1;return e<.5?8*e*e*e*e:1-8*t*t*t*t},e.easeInQuint=function(e){return e*e*e*e*e},e.easeOutQuint=function(e){var t=e-1;return 1+t*t*t*t*t},e.easeInOutQuint=function(e){var t=e-1;return e<.5?16*e*e*e*e*e:1+16*t*t*t*t*t},e.easeInExpo=function(e){return 0===e?0:Math.pow(2,10*(e-1))},e.easeOutExpo=function(e){return 1===e?1:1-Math.pow(2,-10*e)},e.easeInOutExpo=function(e){if(0===e||1===e)return e;var t=2*e,n=t-1;return t<1?.5*Math.pow(2,10*n):.5*(2-Math.pow(2,-10*n))},e.easeInCirc=function(e){var t=e/1;return-1*(Math.sqrt(1-t*e)-1)},e.easeOutCirc=function(e){var t=e-1;return Math.sqrt(1-t*t)},e.easeInOutCirc=function(e){var t=2*e,n=t-2;return t<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-n*n)+1)},e.easeInBack=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1.70158;return e*e*((t+1)*e-t)},e.easeOutBack=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1.70158,n=e/1-1;return n*n*((t+1)*n+t)+1},e.easeInOutBack=function(e){var t=2*e,n=t-2,r=1.525*(arguments.length>1&&void 0!==arguments[1]?arguments[1]:1.70158);return t<1?.5*t*t*((r+1)*t-r):.5*(n*n*((r+1)*n+r)+2)},e.easeInElastic=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.7;if(0===e||1===e)return e;var n=e/1-1,r=1-t,i=r/(2*Math.PI)*Math.asin(1);return-Math.pow(2,10*n)*Math.sin((n-i)*(2*Math.PI)/r)},e.easeOutElastic=function(e){var t=1-(arguments.length>1&&void 0!==arguments[1]?arguments[1]:.7),n=2*e;if(0===e||1===e)return e;var r=t/(2*Math.PI)*Math.asin(1);return Math.pow(2,-10*n)*Math.sin((n-r)*(2*Math.PI)/t)+1},e.easeInOutElastic=function(e){var t=1-(arguments.length>1&&void 0!==arguments[1]?arguments[1]:.65);if(0===e||1===e)return e;var n=2*e,r=n-1,i=t/(2*Math.PI)*Math.asin(1);return n<1?Math.pow(2,10*r)*Math.sin((r-i)*(2*Math.PI)/t)*-.5:Math.pow(2,-10*r)*Math.sin((r-i)*(2*Math.PI)/t)*.5+1},e.easeOutBounce=t,e.easeInBounce=n,e.easeInOutBounce=function(e){return e<.5?.5*n(2*e):.5*t(2*e-1)+.5}}(Sc||(Sc={})),function(e){e.number=function(e,t){var n=t-e;return function(t){return e+n*t}},e.object=function(e,t){var n=Object.keys(e);return function(r){for(var i={},o=n.length-1;-1!==o;o-=1){var a=n[o];i[a]=e[a]+(t[a]-e[a])*r}return i}},e.unit=function(e,t){var n=/(-?[0-9]*.[0-9]*)(px|em|cm|mm|in|pt|pc|%)/,r=n.exec(e),i=n.exec(t),o=i?i[1]:"",a=r?+r[1]:0,u=i?+i[1]:0,s=o.indexOf("."),c=s>0?o[1].length-s-1:0,l=u-a,f=r?r[2]:"";return function(e){return(a+l*e).toFixed(c)+f}},e.color=function(e,t){var n=parseInt(e.slice(1),16),r=parseInt(t.slice(1),16),i=255&n,o=(255&r)-i,a=65280&n,u=(65280&r)-a,s=16711680&n,c=(16711680&r)-s;return function(e){return"#".concat((1<<24|i+o*e&255|a+u*e&65280|s+c*e&16711680).toString(16).slice(1))}}}(Ac||(Ac={}));var jc=[];function Cc(e,t){var n=jc.find(function(t){return t.name===e});if(!(n&&(n.loadTimes+=1,n.loadTimes>1))&&!Sa.isApplyingHMR()){var r=document.createElement("style");r.setAttribute("type","text/css"),r.textContent=t;var i=document.querySelector("head");i&&i.insertBefore(r,i.firstChild),jc.push({name:e,loadTimes:1,styleElement:r})}}function _c(e){var t=jc.findIndex(function(t){return t.name===e});if(t>-1){var n=jc[t];if(n.loadTimes-=1,n.loadTimes>0)return;var r=n.styleElement;r&&r.parentNode&&r.parentNode.removeChild(r),r=null,jc.splice(t,1)}}var Pc,Mc,Nc=n(15);!function(e){e.toDeg=function(e){return 180*e/Math.PI%360},e.toRad=function(e){return(arguments.length>1&&void 0!==arguments[1]&&arguments[1]?e:e%360)*Math.PI/180},e.normalize=function(e){return e%360+(e<0?360:0)}}(Pc||(Pc={})),function(e){e.round=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return Number.isInteger(e)?e:+e.toFixed(t)},e.random=function(e,t){var n,r;if(null==t?(r=null==e?1:e,n=0):(r=t,n=null==e?0:e),r<n){var i=n;n=r,r=i}return Math.floor(Math.random()*(r-n+1)+n)},e.clamp=function(e,t,n){return Number.isNaN(e)?NaN:Number.isNaN(t)||Number.isNaN(n)?0:t<n?e<t?t:e>n?n:e:e<n?n:e>t?t:e},e.snapToGrid=function(e,t){return t*Math.round(e/t)},e.containsPoint=function(e,t){return null!=t&&null!=e&&t.x>=e.x&&t.x<=e.x+e.width&&t.y>=e.y&&t.y<=e.y+e.height},e.squaredLength=function(e,t){var n=e.x-t.x,r=e.y-t.y;return n*n+r*r}}(Mc||(Mc={}));var Rc=function(){function e(){Object(T.a)(this,e)}return Object(j.a)(e,[{key:"valueOf",value:function(){return this.toJSON()}},{key:"toString",value:function(){return JSON.stringify(this.toJSON())}}]),e}(),Lc=function(e){Object(P.a)(n,e);var t=Object(M.a)(n);function n(e,r){var i;return Object(T.a)(this,n),(i=t.call(this)).x=null==e?0:e,i.y=null==r?0:r,i}return Object(j.a)(n,[{key:"round",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return this.x=Mc.round(this.x,e),this.y=Mc.round(this.y,e),this}},{key:"add",value:function(e,t){var r=n.create(e,t);return this.x+=r.x,this.y+=r.y,this}},{key:"update",value:function(e,t){var r=n.create(e,t);return this.x=r.x,this.y=r.y,this}},{key:"translate",value:function(e,t){var r=n.create(e,t);return this.x+=r.x,this.y+=r.y,this}},{key:"rotate",value:function(e,t){var r=n.rotate(this,e,t);return this.x=r.x,this.y=r.y,this}},{key:"scale",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new n,i=n.create(r);return this.x=i.x+e*(this.x-i.x),this.y=i.y+t*(this.y-i.y),this}},{key:"closest",value:function(e){var t=this;if(1===e.length)return n.create(e[0]);var r=null,i=1/0;return e.forEach(function(e){var n=t.squaredDistance(e);n<i&&(r=e,i=n)}),r?n.create(r):null}},{key:"distance",value:function(e){return Math.sqrt(this.squaredDistance(e))}},{key:"squaredDistance",value:function(e){var t=n.create(e),r=this.x-t.x,i=this.y-t.y;return r*r+i*i}},{key:"manhattanDistance",value:function(e){var t=n.create(e);return Math.abs(t.x-this.x)+Math.abs(t.y-this.y)}},{key:"magnitude",value:function(){return Math.sqrt(this.x*this.x+this.y*this.y)||.01}},{key:"theta",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new n,t=n.create(e),r=-(t.y-this.y),i=t.x-this.x,o=Math.atan2(r,i);return o<0&&(o=2*Math.PI+o),180*o/Math.PI}},{key:"angleBetween",value:function(e,t){if(this.equals(e)||this.equals(t))return NaN;var n=this.theta(t)-this.theta(e);return n<0&&(n+=360),n}},{key:"vectorAngle",value:function(e){return new n(0,0).angleBetween(this,e)}},{key:"toPolar",value:function(e){return this.update(n.toPolar(this,e)),this}},{key:"changeInAngle",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new n;return this.clone().translate(-e,-t).theta(r)-this.theta(r)}},{key:"adhereToRect",value:function(e){return Mc.containsPoint(e,this)||(this.x=Math.min(Math.max(this.x,e.x),e.x+e.width),this.y=Math.min(Math.max(this.y,e.y),e.y+e.height)),this}},{key:"bearing",value:function(e){var t=n.create(e),r=Pc.toRad(this.y),i=Pc.toRad(t.y),o=this.x,a=t.x,u=Pc.toRad(a-o),s=Math.sin(u)*Math.cos(i),c=Math.cos(r)*Math.sin(i)-Math.sin(r)*Math.cos(i)*Math.cos(u),l=Pc.toDeg(Math.atan2(s,c))-22.5;return l<0&&(l+=360),["NE","E","SE","S","SW","W","NW","N"][l=parseInt(l/45,10)]}},{key:"cross",value:function(e,t){if(null!=e&&null!=t){var r=n.create(e),i=n.create(t);return(i.x-this.x)*(r.y-this.y)-(i.y-this.y)*(r.x-this.x)}return NaN}},{key:"dot",value:function(e){var t=n.create(e);return this.x*t.x+this.y*t.y}},{key:"diff",value:function(e,t){if("number"===typeof e)return new n(this.x-e,this.y-t);var r=n.create(e);return new n(this.x-r.x,this.y-r.y)}},{key:"lerp",value:function(e,t){var r=n.create(e);return new n((1-t)*this.x+t*r.x,(1-t)*this.y+t*r.y)}},{key:"normalize",value:function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:1)/this.magnitude();return this.scale(e,e)}},{key:"move",value:function(e,t){var r=n.create(e),i=Pc.toRad(r.theta(this));return this.translate(Math.cos(i)*t,-Math.sin(i)*t)}},{key:"reflection",value:function(e){return n.create(e).move(this,this.distance(e))}},{key:"snapToGrid",value:function(e,t){return this.x=Mc.snapToGrid(this.x,e),this.y=Mc.snapToGrid(this.y,null==t?e:t),this}},{key:"equals",value:function(e){var t=n.create(e);return null!=t&&t.x===this.x&&t.y===this.y}},{key:"clone",value:function(){return n.clone(this)}},{key:"toJSON",value:function(){return n.toJSON(this)}},{key:"serialize",value:function(){return"".concat(this.x," ").concat(this.y)}}]),n}(Rc);!function(e){e.isPoint=function(t){return null!=t&&t instanceof e}}(Lc||(Lc={})),function(e){e.isPointLike=function(e){return null!=e&&"object"===typeof e&&"number"===typeof e.x&&"number"===typeof e.y},e.isPointData=function(e){return null!=e&&Array.isArray(e)&&2===e.length&&"number"===typeof e[0]&&"number"===typeof e[1]}}(Lc||(Lc={})),function(e){function t(t){return e.isPoint(t)?new e(t.x,t.y):Array.isArray(t)?new e(t[0],t[1]):new e(t.x,t.y)}function n(e,t){return e===t||null!=e&&null!=t&&(e.x===t.x&&e.y===t.y)}function r(n,r,i){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:new e,a=t(n),u=t(o),s=a.x-u.x,c=a.y-u.y,l=c*r+s*i;return new e(s*r-c*i+u.x,l+u.y)}e.create=function(n,r){return null==n||"number"===typeof n?new e(n,r):t(n)},e.clone=t,e.toJSON=function(t){return e.isPoint(t)?{x:t.x,y:t.y}:Array.isArray(t)?{x:t[0],y:t[1]}:{x:t.x,y:t.y}},e.fromPolar=function(n,r){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new e,o=Math.abs(n*Math.cos(r)),a=Math.abs(n*Math.sin(r)),u=t(i),s=Pc.normalize(Pc.toDeg(r));return s<90?a=-a:s<180?(o=-o,a=-a):s<270&&(o=-o),new e(u.x+o,u.y+a)},e.toPolar=function(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new e,i=t(n),o=t(r),a=i.x-o.x,u=i.y-o.y;return new e(Math.sqrt(a*a+u*u),Pc.toRad(o.theta(i)))},e.equals=n,e.equalPoints=function(e,t){if(null==e&&null!=t||null!=e&&null==t||null!=e&&null!=t&&e.length!==t.length)return!1;if(null!=e&&null!=t)for(var r=0,i=e.length;r<i;r+=1)if(!n(e[r],t[r]))return!1;return!0},e.random=function(t,n,r,i){return new e(Mc.random(t,n),Mc.random(r,i))},e.rotate=function(e,t,n){var i=Pc.toRad(Pc.normalize(-t)),o=Math.sin(i);return r(e,Math.cos(i),o,n)},e.rotateEx=r}(Lc||(Lc={}));var Ic=function(e){Object(P.a)(n,e);var t=Object(M.a)(n);function n(e,r,i,o){var a;return Object(T.a)(this,n),(a=t.call(this)).x=null==e?0:e,a.y=null==r?0:r,a.width=null==i?0:i,a.height=null==o?0:o,a}return Object(j.a)(n,[{key:"left",get:function(){return this.x}},{key:"top",get:function(){return this.y}},{key:"right",get:function(){return this.x+this.width}},{key:"bottom",get:function(){return this.y+this.height}},{key:"origin",get:function(){return new Lc(this.x,this.y)}},{key:"topLeft",get:function(){return new Lc(this.x,this.y)}},{key:"topCenter",get:function(){return new Lc(this.x+this.width/2,this.y)}},{key:"topRight",get:function(){return new Lc(this.x+this.width,this.y)}},{key:"center",get:function(){return new Lc(this.x+this.width/2,this.y+this.height/2)}},{key:"bottomLeft",get:function(){return new Lc(this.x,this.y+this.height)}},{key:"bottomCenter",get:function(){return new Lc(this.x+this.width/2,this.y+this.height)}},{key:"bottomRight",get:function(){return new Lc(this.x+this.width,this.y+this.height)}},{key:"corner",get:function(){return new Lc(this.x+this.width,this.y+this.height)}},{key:"rightMiddle",get:function(){return new Lc(this.x+this.width,this.y+this.height/2)}},{key:"leftMiddle",get:function(){return new Lc(this.x,this.y+this.height/2)}},{key:"topLine",get:function(){return new Dc(this.topLeft,this.topRight)}},{key:"rightLine",get:function(){return new Dc(this.topRight,this.bottomRight)}},{key:"bottomLine",get:function(){return new Dc(this.bottomLeft,this.bottomRight)}},{key:"leftLine",get:function(){return new Dc(this.topLeft,this.bottomLeft)}},{key:"getOrigin",value:function(){return this.origin}},{key:"getTopLeft",value:function(){return this.topLeft}},{key:"getTopCenter",value:function(){return this.topCenter}},{key:"getTopRight",value:function(){return this.topRight}},{key:"getCenter",value:function(){return this.center}},{key:"getCenterX",value:function(){return this.x+this.width/2}},{key:"getCenterY",value:function(){return this.y+this.height/2}},{key:"getBottomLeft",value:function(){return this.bottomLeft}},{key:"getBottomCenter",value:function(){return this.bottomCenter}},{key:"getBottomRight",value:function(){return this.bottomRight}},{key:"getCorner",value:function(){return this.corner}},{key:"getRightMiddle",value:function(){return this.rightMiddle}},{key:"getLeftMiddle",value:function(){return this.leftMiddle}},{key:"getTopLine",value:function(){return this.topLine}},{key:"getRightLine",value:function(){return this.rightLine}},{key:"getBottomLine",value:function(){return this.bottomLine}},{key:"getLeftLine",value:function(){return this.leftLine}},{key:"bbox",value:function(e){if(!e)return this.clone();var t=Pc.toRad(e),r=Math.abs(Math.sin(t)),i=Math.abs(Math.cos(t)),o=this.width*i+this.height*r,a=this.width*r+this.height*i;return new n(this.x+(this.width-o)/2,this.y+(this.height-a)/2,o,a)}},{key:"round",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return this.x=Mc.round(this.x,e),this.y=Mc.round(this.y,e),this.width=Mc.round(this.width,e),this.height=Mc.round(this.height,e),this}},{key:"add",value:function(e,t,r,i){var o=n.create(e,t,r,i),a=Math.min(this.x,o.x),u=Math.min(this.y,o.y),s=Math.max(this.x+this.width,o.x+o.width),c=Math.max(this.y+this.height,o.y+o.height);return this.x=a,this.y=u,this.width=s-a,this.height=c-u,this}},{key:"update",value:function(e,t,r,i){var o=n.create(e,t,r,i);return this.x=o.x,this.y=o.y,this.width=o.width,this.height=o.height,this}},{key:"inflate",value:function(e,t){var n=e,r=null!=t?t:e;return this.x-=n,this.y-=r,this.width+=2*n,this.height+=2*r,this}},{key:"snapToGrid",value:function(e,t){var n=this.origin.snapToGrid(e,t),r=this.corner.snapToGrid(e,t);return this.x=n.x,this.y=n.y,this.width=r.x-n.x,this.height=r.y-n.y,this}},{key:"translate",value:function(e,t){var n=Lc.create(e,t);return this.x+=n.x,this.y+=n.y,this}},{key:"scale",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new Lc,r=this.origin.scale(e,t,n);return this.x=r.x,this.y=r.y,this.width*=e,this.height*=t,this}},{key:"rotate",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.getCenter();if(0!==e){var r=Pc.toRad(e),i=Math.cos(r),o=Math.sin(r),a=this.getOrigin(),u=this.getTopRight(),s=this.getBottomRight(),c=this.getBottomLeft();a=Lc.rotateEx(a,i,o,t),u=Lc.rotateEx(u,i,o,t),s=Lc.rotateEx(s,i,o,t),c=Lc.rotateEx(c,i,o,t);var l=new n(a.x,a.y,0,0);l.add(u.x,u.y,0,0),l.add(s.x,s.y,0,0),l.add(c.x,c.y,0,0),this.update(l)}return this}},{key:"rotate90",value:function(){var e=(this.width-this.height)/2;this.x+=e,this.y-=e;var t=this.width;return this.width=this.height,this.height=t,this}},{key:"moveAndExpand",value:function(e){var t=n.clone(e);return this.x+=t.x||0,this.y+=t.y||0,this.width+=t.width||0,this.height+=t.height||0,this}},{key:"getMaxScaleToFit",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.center,r=n.clone(e),i=t.x,o=t.y,a=1/0,u=1/0,s=1/0,c=1/0,l=1/0,f=1/0,h=1/0,d=1/0,p=r.topLeft;p.x<i&&(a=(this.x-i)/(p.x-i)),p.y<o&&(l=(this.y-o)/(p.y-o));var v=r.bottomRight;v.x>i&&(u=(this.x+this.width-i)/(v.x-i)),v.y>o&&(f=(this.y+this.height-o)/(v.y-o));var g=r.topRight;g.x>i&&(s=(this.x+this.width-i)/(g.x-i)),g.y<o&&(h=(this.y-o)/(g.y-o));var y=r.bottomLeft;return y.x<i&&(c=(this.x-i)/(y.x-i)),y.y>o&&(d=(this.y+this.height-o)/(y.y-o)),{sx:Math.min(a,u,s,c),sy:Math.min(l,f,h,d)}}},{key:"getMaxUniformScaleToFit",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.center,n=this.getMaxScaleToFit(e,t);return Math.min(n.sx,n.sy)}},{key:"containsPoint",value:function(e,t){return Mc.containsPoint(this,Lc.create(e,t))}},{key:"containsRect",value:function(e,t,r,i){var o=n.create(e,t,r,i),a=this.x,u=this.y,s=this.width,c=this.height,l=o.x,f=o.y,h=o.width,d=o.height;return 0!==s&&0!==c&&0!==h&&0!==d&&(l>=a&&f>=u&&l+h<=a+s&&f+d<=u+c)}},{key:"intersectsWithLine",value:function(e){var t=[this.topLine,this.rightLine,this.bottomLine,this.leftLine],n=[],r=[];return t.forEach(function(t){var i=e.intersectsWithLine(t);null!==i&&r.indexOf(i.toString())<0&&(n.push(i),r.push(i.toString()))}),n.length>0?n:null}},{key:"intersectsWithLineFromCenterToPoint",value:function(e,t){var n=Lc.clone(e),r=this.center,i=null;null!=t&&0!==t&&n.rotate(t,r);for(var o=[this.topLine,this.rightLine,this.bottomLine,this.leftLine],a=new Dc(r,n),u=o.length-1;u>=0;u-=1){var s=o[u].intersectsWithLine(a);if(null!==s){i=s;break}}return i&&null!=t&&0!==t&&i.rotate(-t,r),i}},{key:"intersectsWithRect",value:function(e,t,r,i){var o=n.create(e,t,r,i);if(!this.isIntersectWithRect(o))return null;var a=this.origin,u=this.corner,s=o.origin,c=o.corner,l=Math.max(a.x,s.x),f=Math.max(a.y,s.y);return new n(l,f,Math.min(u.x,c.x)-l,Math.min(u.y,c.y)-f)}},{key:"isIntersectWithRect",value:function(e,t,r,i){var o=n.create(e,t,r,i),a=this.origin,u=this.corner,s=o.origin,c=o.corner;return!(c.x<=a.x||c.y<=a.y||s.x>=u.x||s.y>=u.y)}},{key:"normalize",value:function(){var e=this.x,t=this.y,n=this.width,r=this.height;return this.width<0&&(e=this.x+this.width,n=-this.width),this.height<0&&(t=this.y+this.height,r=-this.height),this.x=e,this.y=t,this.width=n,this.height=r,this}},{key:"union",value:function(e){var t=n.clone(e),r=this.origin,i=this.corner,o=t.origin,a=t.corner,u=Math.min(r.x,o.x),s=Math.min(r.y,o.y);return new n(u,s,Math.max(i.x,a.x)-u,Math.max(i.y,a.y)-s)}},{key:"getNearestSideToPoint",value:function(e){var t=Lc.clone(e),n=t.x-this.x,r=this.x+this.width-t.x,i=t.y-this.y,o=n,a="left";return r<o&&(o=r,a="right"),i<o&&(o=i,a="top"),this.y+this.height-t.y<o&&(a="bottom"),a}},{key:"getNearestPointToPoint",value:function(e){var t=Lc.clone(e);if(this.containsPoint(t)){var n=this.getNearestSideToPoint(t);if("left"===n)return new Lc(this.x,t.y);if("top"===n)return new Lc(t.x,this.y);if("right"===n)return new Lc(this.x+this.width,t.y);if("bottom"===n)return new Lc(t.x,this.y+this.height)}return t.adhereToRect(this)}},{key:"equals",value:function(e){return null!=e&&e.x===this.x&&e.y===this.y&&e.width===this.width&&e.height===this.height}},{key:"clone",value:function(){return new n(this.x,this.y,this.width,this.height)}},{key:"toJSON",value:function(){return{x:this.x,y:this.y,width:this.width,height:this.height}}},{key:"serialize",value:function(){return"".concat(this.x," ").concat(this.y," ").concat(this.width," ").concat(this.height)}}]),n}(Rc);!function(e){e.isRectangle=function(t){return null!=t&&t instanceof e}}(Ic||(Ic={})),function(e){(Ic||(Ic={})).isRectangleLike=function(e){return null!=e&&"object"===typeof e&&"number"===typeof e.x&&"number"===typeof e.y&&"number"===typeof e.width&&"number"===typeof e.height}}(),function(e){function t(t){return e.isRectangle(t)?t.clone():Array.isArray(t)?new e(t[0],t[1],t[2],t[3]):new e(t.x,t.y,t.width,t.height)}e.create=function(n,r,i,o){return null==n||"number"===typeof n?new e(n,r,i,o):t(n)},e.clone=t,e.fromEllipse=function(t){return new e(t.x-t.a,t.y-t.b,2*t.a,2*t.b)},e.fromSize=function(t){return new e(0,0,t.width,t.height)},e.fromPositionAndSize=function(t,n){return new e(t.x,t.y,n.width,n.height)}}(Ic||(Ic={}));var Dc=function(e){Object(P.a)(n,e);var t=Object(M.a)(n);function n(e,r,i,o){var a;return Object(T.a)(this,n),a=t.call(this),"number"===typeof e&&"number"===typeof r?(a.start=new Lc(e,r),a.end=new Lc(i,o)):(a.start=Lc.create(e),a.end=Lc.create(r)),a}return Object(j.a)(n,[{key:"center",get:function(){return new Lc((this.start.x+this.end.x)/2,(this.start.y+this.end.y)/2)}},{key:"getCenter",value:function(){return this.center}},{key:"round",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return this.start.round(e),this.end.round(e),this}},{key:"translate",value:function(e,t){return"number"===typeof e?(this.start.translate(e,t),this.end.translate(e,t)):(this.start.translate(e),this.end.translate(e)),this}},{key:"rotate",value:function(e,t){return this.start.rotate(e,t),this.end.rotate(e,t),this}},{key:"scale",value:function(e,t,n){return this.start.scale(e,t,n),this.end.scale(e,t,n),this}},{key:"length",value:function(){return Math.sqrt(this.squaredLength())}},{key:"squaredLength",value:function(){var e=this.start.x-this.end.x,t=this.start.y-this.end.y;return e*e+t*t}},{key:"setLength",value:function(e){var t=this.length();if(!t)return this;var n=e/t;return this.scale(n,n,this.start)}},{key:"parallel",value:function(e){var t=this.clone();if(!t.isDifferentiable())return t;var n=t.start,r=t.end,i=n.clone().rotate(270,r),o=r.clone().rotate(90,n);return n.move(o,e),r.move(i,e),t}},{key:"vector",value:function(){return new Lc(this.end.x-this.start.x,this.end.y-this.start.y)}},{key:"angle",value:function(){var e=new Lc(this.start.x+1,this.start.y);return this.start.angleBetween(this.end,e)}},{key:"bbox",value:function(){var e=Math.min(this.start.x,this.end.x),t=Math.min(this.start.y,this.end.y),n=Math.max(this.start.x,this.end.x),r=Math.max(this.start.y,this.end.y);return new Ic(e,t,n-e,r-t)}},{key:"bearing",value:function(){return this.start.bearing(this.end)}},{key:"closestPoint",value:function(e){return this.pointAt(this.closestPointNormalizedLength(e))}},{key:"closestPointLength",value:function(e){return this.closestPointNormalizedLength(e)*this.length()}},{key:"closestPointTangent",value:function(e){return this.tangentAt(this.closestPointNormalizedLength(e))}},{key:"closestPointNormalizedLength",value:function(e){var t=this.vector().dot(new n(this.start,e).vector()),r=Math.min(1,Math.max(0,t/this.squaredLength()));return Number.isNaN(r)?0:r}},{key:"pointAt",value:function(e){var t=this.start,n=this.end;return e<=0?t.clone():e>=1?n.clone():t.lerp(n,e)}},{key:"pointAtLength",value:function(e){var t=this.start,n=this.end,r=!0;e<0&&(r=!1,e=-e);var i=this.length();if(e>=i)return r?n.clone():t.clone();var o=(r?e:i-e)/i;return this.pointAt(o)}},{key:"divideAt",value:function(e){var t=this.pointAt(e);return[new n(this.start,t),new n(t,this.end)]}},{key:"divideAtLength",value:function(e){var t=this.pointAtLength(e);return[new n(this.start,t),new n(t,this.end)]}},{key:"containsPoint",value:function(e){var t=this.start,r=this.end;if(0!==t.cross(e,r))return!1;var i=this.length();return!(new n(t,e).length()>i)&&!(new n(e,r).length()>i)}},{key:"intersect",value:function(e,t){var n=e.intersectsWithLine(this,t);return n?Array.isArray(n)?n:[n]:null}},{key:"intersectsWithLine",value:function(e){var t=new Lc(this.end.x-this.start.x,this.end.y-this.start.y),n=new Lc(e.end.x-e.start.x,e.end.y-e.start.y),r=t.x*n.y-t.y*n.x,i=new Lc(e.start.x-this.start.x,e.start.y-this.start.y),o=i.x*n.y-i.y*n.x,a=i.x*t.y-i.y*t.x;if(0===r||o*r<0||a*r<0)return null;if(r>0){if(o>r||a>r)return null}else if(o<r||a<r)return null;return new Lc(this.start.x+o*t.x/r,this.start.y+o*t.y/r)}},{key:"isDifferentiable",value:function(){return!this.start.equals(this.end)}},{key:"pointOffset",value:function(e){var t=Lc.clone(e),n=this.start,r=this.end;return((r.x-n.x)*(t.y-n.y)-(r.y-n.y)*(t.x-n.x))/this.length()}},{key:"pointSquaredDistance",value:function(e,t){var n=Lc.create(e,t);return this.closestPoint(n).squaredDistance(n)}},{key:"pointDistance",value:function(e,t){var n=Lc.create(e,t);return this.closestPoint(n).distance(n)}},{key:"tangentAt",value:function(e){if(!this.isDifferentiable())return null;var t=this.start,r=this.end,i=this.pointAt(e),o=new n(t,r);return o.translate(i.x-t.x,i.y-t.y),o}},{key:"tangentAtLength",value:function(e){if(!this.isDifferentiable())return null;var t=this.start,r=this.end,i=this.pointAtLength(e),o=new n(t,r);return o.translate(i.x-t.x,i.y-t.y),o}},{key:"relativeCcw",value:function(e,t){var n=Lc.create(e,t),r=n.x-this.start.x,i=n.y-this.start.y,o=this.end.x-this.start.x,a=this.end.y-this.start.y,u=r*a-i*o;return 0===u&&(u=r*o+i*a)>0&&(u=(r-=o)*o+(i-=a)*a)<0&&(u=0),u<0?-1:u>0?1:0}},{key:"equals",value:function(e){return null!=e&&this.start.x===e.start.x&&this.start.y===e.start.y&&this.end.x===e.end.x&&this.end.y===e.end.y}},{key:"clone",value:function(){return new n(this.start,this.end)}},{key:"toJSON",value:function(){return{start:this.start.toJSON(),end:this.end.toJSON()}}},{key:"serialize",value:function(){return[this.start.serialize(),this.end.serialize()].join(" ")}}]),n}(Rc);!function(e){e.isLine=function(t){return null!=t&&t instanceof e}}(Dc||(Dc={}));var Bc=function(e){Object(P.a)(n,e);var t=Object(M.a)(n);function n(e,r,i,o){var a;return Object(T.a)(this,n),(a=t.call(this)).x=null==e?0:e,a.y=null==r?0:r,a.a=null==i?0:i,a.b=null==o?0:o,a}return Object(j.a)(n,[{key:"center",get:function(){return new Lc(this.x,this.y)}},{key:"bbox",value:function(){return Ic.fromEllipse(this)}},{key:"getCenter",value:function(){return this.center}},{key:"inflate",value:function(e,t){var n=e,r=null!=t?t:e;return this.a+=2*n,this.b+=2*r,this}},{key:"normalizedDistance",value:function(e,t){var n=Lc.create(e,t),r=n.x-this.x,i=n.y-this.y,o=this.a,a=this.b;return r*r/(o*o)+i*i/(a*a)}},{key:"containsPoint",value:function(e,t){return this.normalizedDistance(e,t)<=1}},{key:"intersectsWithLine",value:function(e){var t=[],n=this.a,r=this.b,i=e.start,o=e.end,a=e.vector(),u=i.diff(new Lc(this.x,this.y)),s=new Lc(a.x/(n*n),a.y/(r*r)),c=new Lc(u.x/(n*n),u.y/(r*r)),l=a.dot(s),f=a.dot(c),h=f*f-l*(u.dot(c)-1);if(h<0)return null;if(h>0){var d=Math.sqrt(h),p=(-f-d)/l,v=(-f+d)/l;if((p<0||p>1)&&(v<0||v>1))return null;p>=0&&p<=1&&t.push(i.lerp(o,p)),v>=0&&v<=1&&t.push(i.lerp(o,v))}else{var g=-f/l;if(!(g>=0&&g<=1))return null;t.push(i.lerp(o,g))}return t}},{key:"intersectsWithLineFromCenterToPoint",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=Lc.clone(e);t&&n.rotate(t,this.getCenter());var r,i=n.x-this.x,o=n.y-this.y;if(0===i)return r=this.bbox().getNearestPointToPoint(n),t?r.rotate(-t,this.getCenter()):r;var a=o/i,u=a*a,s=this.a*this.a,c=this.b*this.b,l=Math.sqrt(1/(1/s+u/c)),f=a*(l=i<0?-l:l);return r=new Lc(this.x+l,this.y+f),t?r.rotate(-t,this.getCenter()):r}},{key:"tangentTheta",value:function(e){var t,n,r=Lc.clone(e),i=r.x,o=r.y,a=this.a,u=this.b,s=this.bbox().center,c=s.x,l=s.y,f=i>s.x+a/2,h=i<s.x-a/2;return f||h?t=a*a/(i-c)-a*a*(o-l)*((n=i>s.x?o-30:o+30)-l)/(u*u*(i-c))+c:n=u*u/(o-l)-u*u*(i-c)*((t=o>s.y?i+30:i-30)-c)/(a*a*(o-l))+l,new Lc(t,n).theta(r)}},{key:"scale",value:function(e,t){return this.a*=e,this.b*=t,this}},{key:"rotate",value:function(e,t){var r=Ic.fromEllipse(this);r.rotate(e,t);var i=n.fromRect(r);return this.a=i.a,this.b=i.b,this.x=i.x,this.y=i.y,this}},{key:"translate",value:function(e,t){var n=Lc.create(e,t);return this.x+=n.x,this.y+=n.y,this}},{key:"equals",value:function(e){return null!=e&&e.x===this.x&&e.y===this.y&&e.a===this.a&&e.b===this.b}},{key:"clone",value:function(){return new n(this.x,this.y,this.a,this.b)}},{key:"toJSON",value:function(){return{x:this.x,y:this.y,a:this.a,b:this.b}}},{key:"serialize",value:function(){return"".concat(this.x," ").concat(this.y," ").concat(this.a," ").concat(this.b)}}]),n}(Rc);!function(e){e.isEllipse=function(t){return null!=t&&t instanceof e}}(Bc||(Bc={})),function(e){function t(t){return e.isEllipse(t)?t.clone():Array.isArray(t)?new e(t[0],t[1],t[2],t[3]):new e(t.x,t.y,t.a,t.b)}e.create=function(n,r,i,o){return null==n||"number"===typeof n?new e(n,r,i,o):t(n)},e.parse=t,e.fromRect=function(t){var n=t.center;return new e(n.x,n.y,t.width/2,t.height/2)}}(Bc||(Bc={}));var Fc=new RegExp("^[\\s\\dLMCZz,.]*$");function zc(e){return"string"===typeof e&&Fc.test(e)}function Vc(e,t){return(e%t+t)%t}function Uc(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=[];return e&&e.length&&e.forEach(function(e){Array.isArray(e)?n.push({x:e[0],y:e[1]}):n.push({x:e.x,y:e.y})}),function(e,t,n,r,i){var o=[],a=e[e.length-1],u=null!=t&&t>0,s=t||0;if(r&&u){var c=(e=e.slice())[0],l=new Lc(a.x+(c.x-a.x)/2,a.y+(c.y-a.y)/2);e.splice(0,0,l)}var f=e[0],h=1;for(n?o.push("M",f.x,f.y):o.push("L",f.x,f.y);h<(r?e.length:e.length-1);){var d=e[Vc(h,e.length)],p=f.x-d.x,v=f.y-d.y;if(u&&(0!==p||0!==v)&&(null==i||i.indexOf(h-1)<0)){var g=Math.sqrt(p*p+v*v),y=p*Math.min(s,g/2)/g,m=v*Math.min(s,g/2)/g,b=d.x+y,w=d.y+m;o.push("L",b,w);for(var E=e[Vc(h+1,e.length)];h<e.length-2&&0===Math.round(E.x-d.x)&&0===Math.round(E.y-d.y);)E=e[Vc(h+2,e.length)],h+=1;p=E.x-d.x,v=E.y-d.y,g=Math.max(1,Math.sqrt(p*p+v*v));var x=p*Math.min(s,g/2)/g,k=v*Math.min(s,g/2)/g,O=d.x+x,S=d.y+k;o.push("Q",d.x,d.y,O,S),d=new Lc(O,S)}else o.push("L",d.x,d.y);f=d,h+=1}return r?o.push("Z"):o.push("L",a.x,a.y),o.map(function(e){return"string"===typeof e?e:+e.toFixed(3)}).join(" ")}(n,t.round,null==t.initialMove||t.initialMove,t.close,t.exclude)}function Gc(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:0,u=arguments.length>7?arguments[7]:void 0,s=arguments.length>8?arguments[8]:void 0;if(0===n||0===r)return[];u-=e,s-=t,n=Math.abs(n),r=Math.abs(r);var c,l=-u/2,f=-s/2,h=Math.cos(i*Math.PI/180),d=Math.sin(i*Math.PI/180),p=h*l+d*f,v=-1*d*l+h*f,g=p*p,y=v*v,m=n*n,b=r*r,w=g/m+y/b;if(w>1)n=Math.sqrt(w)*n,r=Math.sqrt(w)*r,c=0;else{var E=1;o===a&&(E=-1),c=E*Math.sqrt((m*b-m*y-b*g)/(m*y+b*g))}var x=c*n*v/r,k=-1*c*r*p/n,O=h*x-d*k+u/2,S=d*x+h*k+s/2,A=Math.atan2((v-k)/r,(p-x)/n)-Math.atan2(0,1),T=A>=0?A:2*Math.PI+A,j=(A=Math.atan2((-v-k)/r,(-p-x)/n)-Math.atan2((v-k)/r,(p-x)/n))>=0?A:2*Math.PI+A;0===a&&j>0?j-=2*Math.PI:0!==a&&j<0&&(j+=2*Math.PI);for(var C=2*j/Math.PI,_=Math.ceil(C<0?-1*C:C),P=j/_,M=8/3*Math.sin(P/4)*Math.sin(P/4)/Math.sin(P/2),N=h*n,R=h*r,L=d*n,I=d*r,D=Math.cos(T),B=Math.sin(T),F=-M*(N*B+I*D),z=-M*(L*B-R*D),V=0,U=0,G=[],H=0;H<_;H+=1){T+=P,V=N*(D=Math.cos(T))-I*(B=Math.sin(T))+O,U=L*D+R*B+S;var W=-M*(N*B+I*D),q=-M*(L*B-R*D),X=6*H;G[X]=Number(F+e),G[X+1]=Number(z+t),G[X+2]=Number(V-W+e),G[X+3]=Number(U-q+t),G[X+4]=Number(V+e),G[X+5]=Number(U+t),F=V+W,z=U+q}return G.map(function(e){return+e.toFixed(2)})}function Hc(e,t,n,r){var i=[],o=Gc(e,t,n,r,arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,arguments.length>6&&void 0!==arguments[6]?arguments[6]:0,arguments.length>7?arguments[7]:void 0,arguments.length>8?arguments[8]:void 0);if(null!=o)for(var a=0,u=o.length;a<u;a+=6)i.push("C",o[a],o[a+1],o[a+2],o[a+3],o[a+4],o[a+5]);return i.join(" ")}var Wc=n(102),qc=function(e){Object(P.a)(n,e);var t=Object(M.a)(n);function n(e){var r;if(Object(T.a)(this,n),r=t.call(this),null!=e){if("string"===typeof e)return Object(Wc.a)(r,n.parse(e));r.points=e.map(function(e){return Lc.create(e)})}else r.points=[];return r}return Object(j.a)(n,[{key:"start",get:function(){return this.points[0]||null}},{key:"end",get:function(){return this.points[this.points.length-1]||null}},{key:"scale",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new Lc;return this.points.forEach(function(r){return r.scale(e,t,n)}),this}},{key:"rotate",value:function(e,t){return this.points.forEach(function(n){return n.rotate(e,t)}),this}},{key:"translate",value:function(e,t){var n=Lc.create(e,t);return this.points.forEach(function(e){return e.translate(n.x,n.y)}),this}},{key:"round",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return this.points.forEach(function(t){return t.round(e)}),this}},{key:"bbox",value:function(){if(0===this.points.length)return new Ic;for(var e=1/0,t=-1/0,n=1/0,r=-1/0,i=this.points,o=0,a=i.length;o<a;o+=1){var u=i[o],s=u.x,c=u.y;s<e&&(e=s),s>t&&(t=s),c<n&&(n=c),c>r&&(r=c)}return new Ic(e,n,t-e,r-n)}},{key:"closestPoint",value:function(e){var t=this.closestPointLength(e);return this.pointAtLength(t)}},{key:"closestPointLength",value:function(e){var t=this.points,n=t.length;if(0===n||1===n)return 0;for(var r=0,i=0,o=1/0,a=0,u=n-1;a<u;a+=1){var s=new Dc(t[a],t[a+1]),c=s.length(),l=s.closestPointNormalizedLength(e),f=s.pointAt(l).squaredDistance(e);f<o&&(o=f,i=r+l*c),r+=c}return i}},{key:"closestPointNormalizedLength",value:function(e){var t=this.length();return 0===t?0:this.closestPointLength(e)/t}},{key:"closestPointTangent",value:function(e){var t=this.closestPointLength(e);return this.tangentAtLength(t)}},{key:"containsPoint",value:function(e){if(0===this.points.length)return!1;for(var t=Lc.clone(e),n=t.x,r=t.y,i=this.points,o=i.length,a=o-1,u=0,s=0;s<o;s+=1){var c=i[a],l=i[s];if(t.equals(c))return!0;var f=new Dc(c,l);if(f.containsPoint(e))return!0;if(r<=c.y&&r>l.y||r>c.y&&r<=l.y){var h=c.x-n>l.x-n?c.x-n:l.x-n;if(h>=0){var d=new Lc(n+h,r),p=new Dc(e,d);f.intersectsWithLine(p)&&(u+=1)}}a=s}return u%2===1}},{key:"intersectsWithLine",value:function(e){for(var t=[],n=0,r=this.points.length-1;n<r;n+=1){var i=this.points[n],o=this.points[n+1],a=e.intersectsWithLine(new Dc(i,o));a&&t.push(a)}return t.length>0?t:null}},{key:"isDifferentiable",value:function(){for(var e=0,t=this.points.length-1;e<t;e+=1){var n=this.points[e],r=this.points[e+1];if(new Dc(n,r).isDifferentiable())return!0}return!1}},{key:"length",value:function(){for(var e=0,t=0,n=this.points.length-1;t<n;t+=1){var r=this.points[t],i=this.points[t+1];e+=r.distance(i)}return e}},{key:"pointAt",value:function(e){var t=this.points,n=t.length;if(0===n)return null;if(1===n)return t[0].clone();if(e<=0)return t[0].clone();if(e>=1)return t[n-1].clone();var r=this.length()*e;return this.pointAtLength(r)}},{key:"pointAtLength",value:function(e){var t=this.points,n=t.length;if(0===n)return null;if(1===n)return t[0].clone();var r=!0;e<0&&(r=!1,e=-e);for(var i=0,o=0,a=n-1;o<a;o+=1){var u=r?o:a-1-o,s=t[u],c=t[u+1],l=new Dc(s,c),f=s.distance(c);if(e<=i+f)return l.pointAtLength((r?1:-1)*(e-i));i+=f}return(r?t[n-1]:t[0]).clone()}},{key:"tangentAt",value:function(e){var t=this.points.length;if(0===t||1===t)return null;e<0&&(e=0),e>1&&(e=1);var n=this.length()*e;return this.tangentAtLength(n)}},{key:"tangentAtLength",value:function(e){var t=this.points,n=t.length;if(0===n||1===n)return null;var r,i=!0;e<0&&(i=!1,e=-e);for(var o=0,a=0,u=n-1;a<u;a+=1){var s=i?a:u-1-a,c=t[s],l=t[s+1],f=new Dc(c,l),h=c.distance(l);if(f.isDifferentiable()){if(e<=o+h)return f.tangentAtLength((i?1:-1)*(e-o));r=f}o+=h}if(r){var d=i?1:0;return r.tangentAt(d)}return null}},{key:"simplify",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this.points;if(t.length<3)return this;for(var n=e.threshold||0,r=0;t[r+2];){var i=r+1,o=r+2,a=t[r],u=t[i],s=t[o];new Dc(a,s).closestPoint(u).distance(u)<=n?t.splice(i,1):r+=1}return this}},{key:"toHull",value:function(){var e=this.points,t=e.length;if(0===t)return new n;for(var r=e[0],i=1;i<t;i+=1)e[i].y<r.y?r=e[i]:e[i].y===r.y&&e[i].x>r.x&&(r=e[i]);for(var o=[],a=0;a<t;a+=1){var u=r.theta(e[a]);0===u&&(u=360),o.push([e[a],a,u])}if(o.sort(function(e,t){var n=e[2]-t[2];return 0===n&&(n=t[1]-e[1]),n}),o.length>2){var s=o[o.length-1];o.unshift(s)}for(var c,l={},f=[],h=function(e){return"".concat(e[0].toString(),"@").concat(e[1])};0!==o.length;){var d=o.pop(),p=d[0];if(!l[h(d)])for(var v=!1;!v;)if(f.length<2)f.push(d),v=!0;else{var g=f.pop(),y=g[0],m=f.pop(),b=m[0],w=b.cross(y,p);if(w<0)f.push(m),f.push(g),f.push(d),v=!0;else if(0===w){var E=y.angleBetween(b,p);Math.abs(E-180)<1e-10?(l[h(g)]=y,f.push(m)):y.equals(p)||b.equals(y)?(l[h(g)]=y,f.push(m)):Math.abs((E+1)%360-1)<1e-10&&(f.push(m),o.push(g))}else l[h(g)]=y,f.push(m)}}f.length>2&&f.pop();for(var x=-1,k=0,O=f.length;k<O;k+=1){var S=f[k][1];(void 0===c||S<c)&&(c=S,x=k)}var A=[];if(x>0){var T=f.slice(x),j=f.slice(0,x);A=T.concat(j)}else A=f;for(var C=[],_=0,P=A.length;_<P;_+=1)C.push(A[_][0]);return new n(C)}},{key:"equals",value:function(e){var t=this;return null!=e&&(e.points.length===this.points.length&&e.points.every(function(e,n){return e.equals(t.points[n])}))}},{key:"clone",value:function(){return new n(this.points.map(function(e){return e.clone()}))}},{key:"toJSON",value:function(){return this.points.map(function(e){return e.toJSON()})}},{key:"serialize",value:function(){return this.points.map(function(e){return"".concat(e.serialize())}).join(" ")}}]),n}(Rc);!function(e){e.isPolyline=function(t){return null!=t&&t instanceof e}}(qc||(qc={})),function(e){e.parse=function(t){var n=t.trim();if(""===n)return new e;for(var r=[],i=n.split(/\s*,\s*|\s+/),o=0,a=i.length;o<a;o+=2)r.push({x:+i[o],y:+i[o+1]});return new e(r)}}(qc||(qc={}));var Xc=function(e){Object(P.a)(n,e);var t=Object(M.a)(n);function n(e,r,i,o){var a;return Object(T.a)(this,n),(a=t.call(this)).PRECISION=3,a.start=Lc.create(e),a.controlPoint1=Lc.create(r),a.controlPoint2=Lc.create(i),a.end=Lc.create(o),a}return Object(j.a)(n,[{key:"bbox",value:function(){for(var e,t,n,r,i,o,a,u,s,c,l,f=this.start,h=this.controlPoint1,d=this.controlPoint2,p=this.end,v=f.x,g=f.y,y=h.x,m=h.y,b=d.x,w=d.y,E=p.x,x=p.y,k=[],O=[],S=[[],[]],A=0;A<2;A+=1)if(0===A?(t=6*v-12*y+6*b,e=-3*v+9*y-9*b+3*E,n=3*y-3*v):(t=6*g-12*m+6*w,e=-3*g+9*m-9*w+3*x,n=3*m-3*g),Math.abs(e)<1e-12){if(Math.abs(t)<1e-12)continue;(r=-n/t)>0&&r<1&&O.push(r)}else a=t*t-4*n*e,u=Math.sqrt(a),a<0||((i=(-t+u)/(2*e))>0&&i<1&&O.push(i),(o=(-t-u)/(2*e))>0&&o<1&&O.push(o));for(var T=O.length,j=T;T;)s=(l=1-(r=O[T-=1]))*l*l*v+3*l*l*r*y+3*l*r*r*b+r*r*r*E,S[0][T]=s,c=l*l*l*g+3*l*l*r*m+3*l*r*r*w+r*r*r*x,S[1][T]=c,k[T]={X:s,Y:c};O[j]=0,O[j+1]=1,k[j]={X:v,Y:g},k[j+1]={X:E,Y:x},S[0][j]=v,S[1][j]=g,S[0][j+1]=E,S[1][j+1]=x,O.length=j+2,S[0].length=j+2,S[1].length=j+2,k.length=j+2;var C=Math.min.apply(null,S[0]),_=Math.min.apply(null,S[1]),P=Math.max.apply(null,S[0]),M=Math.max.apply(null,S[1]);return new Ic(C,_,P-C,M-_)}},{key:"closestPoint",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.pointAtT(this.closestPointT(e,t))}},{key:"closestPointLength",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this.getOptions(t);return this.lengthAtT(this.closestPointT(e,n),n)}},{key:"closestPointNormalizedLength",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this.getOptions(t),r=this.closestPointLength(e,n);if(!r)return 0;var i=this.length(n);return 0===i?0:r/i}},{key:"closestPointT",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this.getPrecision(t),r=this.getDivisions(t),i=Math.pow(10,-n),o=null,a=0,u=0,s=0,c=0,l=0,f=null,h=r.length,d=h>0?1/h:0;for(r.forEach(function(t,n){var r=t.start.distance(e),i=t.end.distance(e),h=r+i;(null==f||h<f)&&(o=t,a=n*d,u=(n+1)*d,s=r,c=i,f=h,l=t.endpointDistance())});;){var p=s?Math.abs(s-c)/s:0,v=null!=c?Math.abs(s-c)/c:0;if(p<i||v<i||(!s||s<l*i||(!c||c<l*i)))return s<=c?a:u;var g=o.divide(.5);d/=2;var y=g[0].start.distance(e),m=g[0].end.distance(e),b=y+m,w=g[1].start.distance(e),E=g[1].end.distance(e);b<=w+E?(o=g[0],u-=d,s=y,c=m):(o=g[1],a+=d,s=w,c=E)}}},{key:"closestPointTangent",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.tangentAtT(this.closestPointT(e,t))}},{key:"containsPoint",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.toPolyline(t).containsPoint(e)}},{key:"divideAt",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(e<=0)return this.divideAtT(0);if(e>=1)return this.divideAtT(1);var n=this.tAt(e,t);return this.divideAtT(n)}},{key:"divideAtLength",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this.tAtLength(e,t);return this.divideAtT(n)}},{key:"divide",value:function(e){return this.divideAtT(e)}},{key:"divideAtT",value:function(e){var t=this.start,r=this.controlPoint1,i=this.controlPoint2,o=this.end;if(e<=0)return[new n(t,t,t,t),new n(t,r,i,o)];if(e>=1)return[new n(t,r,i,o),new n(o,o,o,o)];var a=this.getSkeletonPoints(e),u=a.startControlPoint1,s=a.startControlPoint2,c=a.divider,l=a.dividerControlPoint1,f=a.dividerControlPoint2;return[new n(t,u,s,c),new n(c,l,f,o)]}},{key:"endpointDistance",value:function(){return this.start.distance(this.end)}},{key:"getSkeletonPoints",value:function(e){var t=this.start,n=this.controlPoint1,r=this.controlPoint2,i=this.end;if(e<=0)return{startControlPoint1:t.clone(),startControlPoint2:t.clone(),divider:t.clone(),dividerControlPoint1:n.clone(),dividerControlPoint2:r.clone()};if(e>=1)return{startControlPoint1:n.clone(),startControlPoint2:r.clone(),divider:i.clone(),dividerControlPoint1:i.clone(),dividerControlPoint2:i.clone()};var o=new Dc(t,n).pointAt(e),a=new Dc(n,r).pointAt(e),u=new Dc(r,i).pointAt(e),s=new Dc(o,a).pointAt(e),c=new Dc(a,u).pointAt(e);return{startControlPoint1:o,startControlPoint2:s,divider:new Dc(s,c).pointAt(e),dividerControlPoint1:c,dividerControlPoint2:u}}},{key:"getSubdivisions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this.getPrecision(e),r=[new n(this.start,this.controlPoint1,this.controlPoint2,this.end)];if(0===t)return r;for(var i=this.endpointDistance(),o=Math.pow(10,-t),a=0,u=function(){a+=1;var e=[];r.forEach(function(t){var n=t.divide(.5);e.push(n[0],n[1])});var t=e.reduce(function(e,t){return e+t.endpointDistance()},0);if(a>1&&(0!==t?(t-i)/t:0)<o)return{v:e};r=e,i=t};;){var s=u();if("object"===typeof s)return s.v}}},{key:"length",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.getDivisions(e).reduce(function(e,t){return e+t.endpointDistance()},0)}},{key:"lengthAtT",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(e<=0)return 0;var n=void 0===t.precision?this.PRECISION:t.precision;return this.divide(e)[0].length({precision:n})}},{key:"pointAt",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(e<=0)return this.start.clone();if(e>=1)return this.end.clone();var n=this.tAt(e,t);return this.pointAtT(n)}},{key:"pointAtLength",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this.tAtLength(e,t);return this.pointAtT(n)}},{key:"pointAtT",value:function(e){return e<=0?this.start.clone():e>=1?this.end.clone():this.getSkeletonPoints(e).divider}},{key:"isDifferentiable",value:function(){var e=this.start,t=this.controlPoint1,n=this.controlPoint2,r=this.end;return!(e.equals(t)&&t.equals(n)&&n.equals(r))}},{key:"tangentAt",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!this.isDifferentiable())return null;e<0?e=0:e>1&&(e=1);var n=this.tAt(e,t);return this.tangentAtT(n)}},{key:"tangentAtLength",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!this.isDifferentiable())return null;var n=this.tAtLength(e,t);return this.tangentAtT(n)}},{key:"tangentAtT",value:function(e){if(!this.isDifferentiable())return null;e<0&&(e=0),e>1&&(e=1);var t=this.getSkeletonPoints(e),n=t.startControlPoint2,r=t.dividerControlPoint1,i=t.divider,o=new Dc(n,r);return o.translate(i.x-n.x,i.y-n.y),o}},{key:"getPrecision",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return null==e.precision?this.PRECISION:e.precision}},{key:"getDivisions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(null!=e.subdivisions)return e.subdivisions;var t=this.getPrecision(e);return this.getSubdivisions({precision:t})}},{key:"getOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{precision:this.getPrecision(e),subdivisions:this.getDivisions(e)}}},{key:"tAt",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(e<=0)return 0;if(e>=1)return 1;var n=this.getOptions(t),r=this.length(n)*e;return this.tAtLength(r,n)}},{key:"tAtLength",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=!0;e<0&&(n=!1,e=-e);for(var r,i,o=this.getPrecision(t),a=this.getDivisions(t),u={precision:o,subdivisions:a},s=null,c=0,l=0,f=0,h=a.length,d=h>0?1/h:0,p=0;p<h;p+=1){var v=n?p:h-1-p,g=a[p],y=g.endpointDistance();if(e<=f+y){s=g,r=v*d,i=(v+1)*d,c=n?e-f:y+f-e,l=n?y+f-e:e-f;break}f+=y}if(null==s)return n?1:0;for(var m=this.length(u),b=Math.pow(10,-o);;){if((0!==m?c/m:0)<b)return r;if((0!==m?l/m:0)<b)return i;var w=void 0,E=void 0,x=s.divide(.5);d/=2;var k=x[0].endpointDistance(),O=x[1].endpointDistance();c<=k?(s=x[0],i-=d,E=k-(w=c)):(s=x[1],r+=d,E=O-(w=c-k)),c=w,l=E}}},{key:"toPoints",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this.getDivisions(e),n=[t[0].start.clone()];return t.forEach(function(e){return n.push(e.end.clone())}),n}},{key:"toPolyline",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new qc(this.toPoints(e))}},{key:"scale",value:function(e,t,n){return this.start.scale(e,t,n),this.controlPoint1.scale(e,t,n),this.controlPoint2.scale(e,t,n),this.end.scale(e,t,n),this}},{key:"rotate",value:function(e,t){return this.start.rotate(e,t),this.controlPoint1.rotate(e,t),this.controlPoint2.rotate(e,t),this.end.rotate(e,t),this}},{key:"translate",value:function(e,t){return"number"===typeof e?(this.start.translate(e,t),this.controlPoint1.translate(e,t),this.controlPoint2.translate(e,t),this.end.translate(e,t)):(this.start.translate(e),this.controlPoint1.translate(e),this.controlPoint2.translate(e),this.end.translate(e)),this}},{key:"equals",value:function(e){return null!=e&&this.start.equals(e.start)&&this.controlPoint1.equals(e.controlPoint1)&&this.controlPoint2.equals(e.controlPoint2)&&this.end.equals(e.end)}},{key:"clone",value:function(){return new n(this.start,this.controlPoint1,this.controlPoint2,this.end)}},{key:"toJSON",value:function(){return{start:this.start.toJSON(),controlPoint1:this.controlPoint1.toJSON(),controlPoint2:this.controlPoint2.toJSON(),end:this.end.toJSON()}}},{key:"serialize",value:function(){return[this.start.serialize(),this.controlPoint1.serialize(),this.controlPoint2.serialize(),this.end.serialize()].join(" ")}}]),n}(Rc);!function(e){e.isCurve=function(t){return null!=t&&t instanceof e}}(Xc||(Xc={})),function(e){function t(e){var t=e.length,n=[],r=[],i=2;n[0]=e[0]/i;for(var o=1;o<t;o+=1)r[o]=1/i,i=(o<t-1?4:3.5)-r[o],n[o]=(e[o]-n[o-1])/i;for(var a=1;a<t;a+=1)n[t-a-1]-=r[t-a]*n[t-a];return n}e.throughPoints=function(n){if(null==n||Array.isArray(n)&&n.length<2)throw new Error("At least 2 points are required");for(var r=function(e){var n=e.map(function(e){return Lc.clone(e)}),r=[],i=[],o=n.length-1;if(1===o)return r[0]=new Lc((2*n[0].x+n[1].x)/3,(2*n[0].y+n[1].y)/3),i[0]=new Lc(2*r[0].x-n[0].x,2*r[0].y-n[0].y),[r,i];for(var a=[],u=1;u<o-1;u+=1)a[u]=4*n[u].x+2*n[u+1].x;a[0]=n[0].x+2*n[1].x,a[o-1]=(8*n[o-1].x+n[o].x)/2;for(var s=t(a),c=1;c<o-1;c+=1)a[c]=4*n[c].y+2*n[c+1].y;a[0]=n[0].y+2*n[1].y,a[o-1]=(8*n[o-1].y+n[o].y)/2;for(var l=t(a),f=0;f<o;f+=1)r.push(new Lc(s[f],l[f])),f<o-1?i.push(new Lc(2*n[f+1].x-s[f+1],2*n[f+1].y-l[f+1])):i.push(new Lc((n[o].x+s[o-1])/2,(n[o].y+l[o-1])/2));return[r,i]}(n),i=[],o=0,a=r[0].length;o<a;o+=1){var u=new Lc(r[0][o].x,r[0][o].y),s=new Lc(r[1][o].x,r[1][o].y);i.push(new e(n[o],u,s,n[o+1]))}return i}}(Xc||(Xc={}));var Yc=function(e){Object(P.a)(n,e);var t=Object(M.a)(n);function n(){var e;return Object(T.a)(this,n),(e=t.apply(this,arguments)).isVisible=!0,e.isSegment=!0,e.isSubpathStart=!1,e}return Object(j.a)(n,[{key:"end",get:function(){return this.endPoint}},{key:"start",get:function(){if(null==this.previousSegment)throw new Error("Missing previous segment. (This segment cannot be the first segment of a path, or segment has not yet been added to a path.)");return this.previousSegment.end}},{key:"closestPointT",value:function(e,t){if(this.closestPointNormalizedLength)return this.closestPointNormalizedLength(e);throw new Error("Neither `closestPointT` nor `closestPointNormalizedLength` method is implemented.")}},{key:"lengthAtT",value:function(e,t){if(e<=0)return 0;var n=this.length();return e>=1?n:n*e}},{key:"divideAtT",value:function(e){if(this.divideAt)return this.divideAt(e);throw new Error("Neither `divideAtT` nor `divideAt` method is implemented.")}},{key:"pointAtT",value:function(e){if(this.pointAt)return this.pointAt(e);throw new Error("Neither `pointAtT` nor `pointAt` method is implemented.")}},{key:"tangentAtT",value:function(e){if(this.tangentAt)return this.tangentAt(e);throw new Error("Neither `tangentAtT` nor `tangentAt` method is implemented.")}}]),n}(Rc),$c=function(e){Object(P.a)(n,e);var t=Object(M.a)(n);function n(e,r){var i;return Object(T.a)(this,n),i=t.call(this),Dc.isLine(e)?i.endPoint=e.end.clone().round(2):i.endPoint=Lc.create(e,r).round(2),i}return Object(j.a)(n,[{key:"type",get:function(){return"L"}},{key:"line",get:function(){return new Dc(this.start,this.end)}},{key:"bbox",value:function(){return this.line.bbox()}},{key:"closestPoint",value:function(e){return this.line.closestPoint(e)}},{key:"closestPointLength",value:function(e){return this.line.closestPointLength(e)}},{key:"closestPointNormalizedLength",value:function(e){return this.line.closestPointNormalizedLength(e)}},{key:"closestPointTangent",value:function(e){return this.line.closestPointTangent(e)}},{key:"length",value:function(){return this.line.length()}},{key:"divideAt",value:function(e){var t=this.line.divideAt(e);return[new n(t[0]),new n(t[1])]}},{key:"divideAtLength",value:function(e){var t=this.line.divideAtLength(e);return[new n(t[0]),new n(t[1])]}},{key:"getSubdivisions",value:function(){return[]}},{key:"pointAt",value:function(e){return this.line.pointAt(e)}},{key:"pointAtLength",value:function(e){return this.line.pointAtLength(e)}},{key:"tangentAt",value:function(e){return this.line.tangentAt(e)}},{key:"tangentAtLength",value:function(e){return this.line.tangentAtLength(e)}},{key:"isDifferentiable",value:function(){return null!=this.previousSegment&&!this.start.equals(this.end)}},{key:"clone",value:function(){return new n(this.end)}},{key:"scale",value:function(e,t,n){return this.end.scale(e,t,n),this}},{key:"rotate",value:function(e,t){return this.end.rotate(e,t),this}},{key:"translate",value:function(e,t){return"number"===typeof e?this.end.translate(e,t):this.end.translate(e),this}},{key:"equals",value:function(e){return this.type===e.type&&this.start.equals(e.start)&&this.end.equals(e.end)}},{key:"toJSON",value:function(){return{type:this.type,start:this.start.toJSON(),end:this.end.toJSON()}}},{key:"serialize",value:function(){var e=this.end;return"".concat(this.type," ").concat(e.x," ").concat(e.y)}}]),n}(Yc);!function(e){e.create=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=n.length,o=n[0];if(Dc.isLine(o))return new e(o);if(Lc.isPointLike(o))return 1===i?new e(o):n.map(function(t){return new e(t)});if(2===i)return new e(+n[0],+n[1]);for(var a=[],u=0;u<i;u+=2){var s=+n[u],c=+n[u+1];a.push(new e(s,c))}return a}}($c||($c={}));var Jc=function(e){Object(P.a)(n,e);var t=Object(M.a)(n);function n(){return Object(T.a)(this,n),t.apply(this,arguments)}return Object(j.a)(n,[{key:"end",get:function(){if(!this.subpathStartSegment)throw new Error("Missing subpath start segment. (This segment needs a subpath start segment (e.g. MoveTo), or segment has not yet been added to a path.)");return this.subpathStartSegment.end}},{key:"type",get:function(){return"Z"}},{key:"line",get:function(){return new Dc(this.start,this.end)}},{key:"bbox",value:function(){return this.line.bbox()}},{key:"closestPoint",value:function(e){return this.line.closestPoint(e)}},{key:"closestPointLength",value:function(e){return this.line.closestPointLength(e)}},{key:"closestPointNormalizedLength",value:function(e){return this.line.closestPointNormalizedLength(e)}},{key:"closestPointTangent",value:function(e){return this.line.closestPointTangent(e)}},{key:"length",value:function(){return this.line.length()}},{key:"divideAt",value:function(e){var t=this.line.divideAt(e);return[t[1].isDifferentiable()?new $c(t[0]):this.clone(),new $c(t[1])]}},{key:"divideAtLength",value:function(e){var t=this.line.divideAtLength(e);return[t[1].isDifferentiable()?new $c(t[0]):this.clone(),new $c(t[1])]}},{key:"getSubdivisions",value:function(){return[]}},{key:"pointAt",value:function(e){return this.line.pointAt(e)}},{key:"pointAtLength",value:function(e){return this.line.pointAtLength(e)}},{key:"tangentAt",value:function(e){return this.line.tangentAt(e)}},{key:"tangentAtLength",value:function(e){return this.line.tangentAtLength(e)}},{key:"isDifferentiable",value:function(){return!(!this.previousSegment||!this.subpathStartSegment)&&!this.start.equals(this.end)}},{key:"scale",value:function(){return this}},{key:"rotate",value:function(){return this}},{key:"translate",value:function(){return this}},{key:"equals",value:function(e){return this.type===e.type&&this.start.equals(e.start)&&this.end.equals(e.end)}},{key:"clone",value:function(){return new n}},{key:"toJSON",value:function(){return{type:this.type,start:this.start.toJSON(),end:this.end.toJSON()}}},{key:"serialize",value:function(){return this.type}}]),n}(Yc);!function(e){e.create=function(){return new e}}(Jc||(Jc={}));var Qc=function(e){Object(P.a)(n,e);var t=Object(M.a)(n);function n(e,r){var i;return Object(T.a)(this,n),(i=t.call(this)).isVisible=!1,i.isSubpathStart=!0,Dc.isLine(e)||Xc.isCurve(e)?i.endPoint=e.end.clone().round(2):i.endPoint=Lc.create(e,r).round(2),i}return Object(j.a)(n,[{key:"start",get:function(){throw new Error("Illegal access. Moveto segments should not need a start property.")}},{key:"type",get:function(){return"M"}},{key:"bbox",value:function(){return null}},{key:"closestPoint",value:function(){return this.end.clone()}},{key:"closestPointLength",value:function(){return 0}},{key:"closestPointNormalizedLength",value:function(){return 0}},{key:"closestPointT",value:function(){return 1}},{key:"closestPointTangent",value:function(){return null}},{key:"length",value:function(){return 0}},{key:"lengthAtT",value:function(){return 0}},{key:"divideAt",value:function(){return[this.clone(),this.clone()]}},{key:"divideAtLength",value:function(){return[this.clone(),this.clone()]}},{key:"getSubdivisions",value:function(){return[]}},{key:"pointAt",value:function(){return this.end.clone()}},{key:"pointAtLength",value:function(){return this.end.clone()}},{key:"pointAtT",value:function(){return this.end.clone()}},{key:"tangentAt",value:function(){return null}},{key:"tangentAtLength",value:function(){return null}},{key:"tangentAtT",value:function(){return null}},{key:"isDifferentiable",value:function(){return!1}},{key:"scale",value:function(e,t,n){return this.end.scale(e,t,n),this}},{key:"rotate",value:function(e,t){return this.end.rotate(e,t),this}},{key:"translate",value:function(e,t){return"number"===typeof e?this.end.translate(e,t):this.end.translate(e),this}},{key:"clone",value:function(){return new n(this.end)}},{key:"equals",value:function(e){return this.type===e.type&&this.end.equals(e.end)}},{key:"toJSON",value:function(){return{type:this.type,end:this.end.toJSON()}}},{key:"serialize",value:function(){var e=this.end;return"".concat(this.type," ").concat(e.x," ").concat(e.y)}}]),n}(Yc);!function(e){e.create=function(){var t=arguments.length,n=arguments.length<=0?void 0:arguments[0];if(Dc.isLine(n))return new e(n);if(Xc.isCurve(n))return new e(n);if(Lc.isPointLike(n)){if(1===t)return new e(n);for(var r=[],i=0;i<t;i+=1)0===i?r.push(new e(i<0||arguments.length<=i?void 0:arguments[i])):r.push(new $c(i<0||arguments.length<=i?void 0:arguments[i]));return r}if(2===t)return new e(+(arguments.length<=0?void 0:arguments[0]),+(arguments.length<=1?void 0:arguments[1]));for(var o=[],a=0;a<t;a+=2){var u=+(a<0||arguments.length<=a?void 0:arguments[a]),s=+(a+1<0||arguments.length<=a+1?void 0:arguments[a+1]);0===a?o.push(new e(u,s)):o.push(new $c(u,s))}return o}}(Qc||(Qc={}));var Kc=function(e){Object(P.a)(n,e);var t=Object(M.a)(n);function n(e,r,i,o,a,u){var s;return Object(T.a)(this,n),s=t.call(this),Xc.isCurve(e)?(s.controlPoint1=e.controlPoint1.clone().round(2),s.controlPoint2=e.controlPoint2.clone().round(2),s.endPoint=e.end.clone().round(2)):"number"===typeof e?(s.controlPoint1=new Lc(e,r).round(2),s.controlPoint2=new Lc(i,o).round(2),s.endPoint=new Lc(a,u).round(2)):(s.controlPoint1=Lc.create(e).round(2),s.controlPoint2=Lc.create(r).round(2),s.endPoint=Lc.create(i).round(2)),s}return Object(j.a)(n,[{key:"type",get:function(){return"C"}},{key:"curve",get:function(){return new Xc(this.start,this.controlPoint1,this.controlPoint2,this.end)}},{key:"bbox",value:function(){return this.curve.bbox()}},{key:"closestPoint",value:function(e){return this.curve.closestPoint(e)}},{key:"closestPointLength",value:function(e){return this.curve.closestPointLength(e)}},{key:"closestPointNormalizedLength",value:function(e){return this.curve.closestPointNormalizedLength(e)}},{key:"closestPointTangent",value:function(e){return this.curve.closestPointTangent(e)}},{key:"length",value:function(){return this.curve.length()}},{key:"divideAt",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=this.curve.divideAt(e,t);return[new n(r[0]),new n(r[1])]}},{key:"divideAtLength",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=this.curve.divideAtLength(e,t);return[new n(r[0]),new n(r[1])]}},{key:"divideAtT",value:function(e){var t=this.curve.divideAtT(e);return[new n(t[0]),new n(t[1])]}},{key:"getSubdivisions",value:function(){return[]}},{key:"pointAt",value:function(e){return this.curve.pointAt(e)}},{key:"pointAtLength",value:function(e){return this.curve.pointAtLength(e)}},{key:"tangentAt",value:function(e){return this.curve.tangentAt(e)}},{key:"tangentAtLength",value:function(e){return this.curve.tangentAtLength(e)}},{key:"isDifferentiable",value:function(){if(!this.previousSegment)return!1;var e=this.start,t=this.controlPoint1,n=this.controlPoint2,r=this.end;return!(e.equals(t)&&t.equals(n)&&n.equals(r))}},{key:"scale",value:function(e,t,n){return this.controlPoint1.scale(e,t,n),this.controlPoint2.scale(e,t,n),this.end.scale(e,t,n),this}},{key:"rotate",value:function(e,t){return this.controlPoint1.rotate(e,t),this.controlPoint2.rotate(e,t),this.end.rotate(e,t),this}},{key:"translate",value:function(e,t){return"number"===typeof e?(this.controlPoint1.translate(e,t),this.controlPoint2.translate(e,t),this.end.translate(e,t)):(this.controlPoint1.translate(e),this.controlPoint2.translate(e),this.end.translate(e)),this}},{key:"equals",value:function(e){return this.start.equals(e.start)&&this.end.equals(e.end)&&this.controlPoint1.equals(e.controlPoint1)&&this.controlPoint2.equals(e.controlPoint2)}},{key:"clone",value:function(){return new n(this.controlPoint1,this.controlPoint2,this.end)}},{key:"toJSON",value:function(){return{type:this.type,start:this.start.toJSON(),controlPoint1:this.controlPoint1.toJSON(),controlPoint2:this.controlPoint2.toJSON(),end:this.end.toJSON()}}},{key:"serialize",value:function(){var e=this.controlPoint1,t=this.controlPoint2,n=this.end;return[this.type,e.x,e.y,t.x,t.y,n.x,n.y].join(" ")}}]),n}(Yc);function Zc(e,t,n){return{x:e*Math.cos(n)-t*Math.sin(n),y:e*Math.sin(n)+t*Math.cos(n)}}function el(e,t,n,r,i,o){return[1/3*e+2/3*n,1/3*t+2/3*r,1/3*i+2/3*n,1/3*o+2/3*r,i,o]}function tl(e){var t=function(e){if(!e)return null;var t="\t\n\v\f\r \xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029",n=new RegExp("([a-z])[".concat(t,",]*((-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?[").concat(t,"]*,?[").concat(t,"]*)+)"),"ig"),r=new RegExp("(-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?)[".concat(t,"]*,?[").concat(t,"]*"),"ig"),i={a:7,c:6,h:1,l:2,m:2,q:4,s:4,t:2,v:1,z:0},o=[];return e.replace(n,function(e,t,n){var a=[],u=t.toLowerCase();n.replace(r,function(e,t){return t&&a.push(+t),e}),"m"===u&&a.length>2&&(o.push([t].concat(Object(N.a)(a.splice(0,2)))),u="l",t="m"===t?"l":"L");for(var s=i[u];a.length>=s&&(o.push([t].concat(Object(N.a)(a.splice(0,s)))),s););return e}),o}(e);if(!t||!t.length)return[["M",0,0]];for(var n=0,r=0,i=0,o=0,a=[],u=0,s=t.length;u<s;u+=1){var c=[];a.push(c);var l=t[u],f=l[0];if(f!==f.toUpperCase())switch(c[0]=f.toUpperCase(),c[0]){case"A":c[1]=l[1],c[2]=l[2],c[3]=l[3],c[4]=l[4],c[5]=l[5],c[6]=+l[6]+n,c[7]=+l[7]+r;break;case"V":c[1]=+l[1]+r;break;case"H":c[1]=+l[1]+n;break;case"M":i=+l[1]+n,o=+l[2]+r;for(var h=1,d=l.length;h<d;h+=1)c[h]=+l[h]+(h%2?n:r);break;default:for(var p=1,v=l.length;p<v;p+=1)c[p]=+l[p]+(p%2?n:r)}else for(var g=0,y=l.length;g<y;g+=1)c[g]=l[g];switch(c[0]){case"Z":n=+i,r=+o;break;case"H":n=c[1];break;case"V":r=c[1];break;case"M":i=c[c.length-2],o=c[c.length-1],n=c[c.length-2],r=c[c.length-1];break;default:n=c[c.length-2],r=c[c.length-1]}}return a}function nl(e){var t=tl(e),n={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null};function r(e,t,n){var r,i;if(!e)return["C",t.x,t.y,t.x,t.y,t.x,t.y];switch(e[0]in{T:1,Q:1}||(t.qx=null,t.qy=null),e[0]){case"M":t.X=e[1],t.Y=e[2];break;case"A":return 0===parseFloat(e[1])||0===parseFloat(e[2])?["L",e[6],e[7]]:["C"].concat(function e(t,n,r,i,o,a,u,s,c,l){var f,h,d,p,v,g=120*Math.PI/180,y=Math.PI/180*(+o||0),m=[];if(l)h=l[0],d=l[1],p=l[2],v=l[3];else{t=(f=Zc(t,n,-y)).x,n=f.y;var b=(t-(s=(f=Zc(s,c,-y)).x))/2,w=(n-(c=f.y))/2,E=b*b/(r*r)+w*w/(i*i);E>1&&(r*=E=Math.sqrt(E),i*=E);var x=r*r,k=i*i,O=(a===u?-1:1)*Math.sqrt(Math.abs((x*k-x*w*w-k*b*b)/(x*w*w+k*b*b)));p=O*r*w/i+(t+s)/2,v=O*-i*b/r+(n+c)/2,h=Math.asin((n-v)/i),d=Math.asin((c-v)/i),h=t<p?Math.PI-h:h,d=s<p?Math.PI-d:d,h<0&&(h=2*Math.PI+h),d<0&&(d=2*Math.PI+d),u&&h>d&&(h-=2*Math.PI),!u&&d>h&&(d-=2*Math.PI)}var S=d-h;if(Math.abs(S)>g){var A=d,T=s,j=c;d=h+g*(u&&d>h?1:-1),m=e(s=p+r*Math.cos(d),c=v+i*Math.sin(d),r,i,o,0,u,T,j,[d,A,p,v])}S=d-h;var C=Math.cos(h),_=Math.sin(h),P=Math.cos(d),M=Math.sin(d),N=Math.tan(S/4),R=4/3*(r*N),L=4/3*(i*N),I=[t,n],D=[t+R*_,n-L*C],B=[s+R*M,c-L*P],F=[s,c];if(D[0]=2*I[0]-D[0],D[1]=2*I[1]-D[1],l)return[D,B,F].concat(m);for(var z=[],V=(m=[D,B,F].concat(m).join().split(",")).length,U=0;U<V;U+=1)z[U]=U%2?Zc(+m[U-1],+m[U],y).y:Zc(+m[U],+m[U+1],y).x;return z}.apply(0,[t.x,t.y].concat(e.slice(1))));case"S":return"C"===n||"S"===n?(r=2*t.x-t.bx,i=2*t.y-t.by):(r=t.x,i=t.y),["C",r,i].concat(e.slice(1));case"T":return"Q"===n||"T"===n?(t.qx=2*t.x-t.qx,t.qy=2*t.y-t.qy):(t.qx=t.x,t.qy=t.y),["C"].concat(el(t.x,t.y,t.qx,t.qy,e[1],e[2]));case"Q":return t.qx=e[1],t.qy=e[2],["C"].concat(el(t.x,t.y,e[1],e[2],e[3],e[4]));case"H":return["L"].concat(e[1],t.y);case"V":return["L"].concat(t.x,e[1])}return e}function i(e,n){if(e[n].length>7){e[n].shift();for(var r=e[n];r.length;)o[n]="A",n+=1,e.splice(n,0,["C"].concat(r.splice(0,6)));e.splice(n,1),u=t.length}}for(var o=[],a="",u=t.length,s=0;s<u;s+=1){var c="";t[s]&&(c=t[s][0]),"C"!==c&&(o[s]=c,s>0&&(a=o[s-1])),t[s]=r(t[s],n,a),"A"!==o[s]&&"C"===c&&(o[s]="C"),i(t,s);var l=t[s],f=l.length;n.x=l[f-2],n.y=l[f-1],n.bx=parseFloat(l[f-4])||n.x,n.by=parseFloat(l[f-3])||n.y}return t[0][0]&&"M"===t[0][0]||t.unshift(["M",0,0]),t}function rl(e){return nl(e).map(function(e){return e.map(function(e){return"string"===typeof e?e:Mc.round(e,2)})}).join(",").split(",").join(" ")}!function(e){e.create=function(){var t=arguments.length,n=arguments.length<=0?void 0:arguments[0];if(Xc.isCurve(n))return new e(n);if(Lc.isPointLike(n)){if(3===t)return new e(arguments.length<=0?void 0:arguments[0],arguments.length<=1?void 0:arguments[1],arguments.length<=2?void 0:arguments[2]);for(var r=[],i=0;i<t;i+=3)r.push(new e(i<0||arguments.length<=i?void 0:arguments[i],i+1<0||arguments.length<=i+1?void 0:arguments[i+1],i+2<0||arguments.length<=i+2?void 0:arguments[i+2]));return r}if(6===t)return new e(arguments.length<=0?void 0:arguments[0],arguments.length<=1?void 0:arguments[1],arguments.length<=2?void 0:arguments[2],arguments.length<=3?void 0:arguments[3],arguments.length<=4?void 0:arguments[4],arguments.length<=5?void 0:arguments[5]);for(var o=[],a=0;a<t;a+=6)o.push(new e(a<0||arguments.length<=a?void 0:arguments[a],a+1<0||arguments.length<=a+1?void 0:arguments[a+1],a+2<0||arguments.length<=a+2?void 0:arguments[a+2],a+3<0||arguments.length<=a+3?void 0:arguments[a+3],a+4<0||arguments.length<=a+4?void 0:arguments[a+4],a+5<0||arguments.length<=a+5?void 0:arguments[a+5]));return o}}(Kc||(Kc={}));var il,ol=function(e){Object(P.a)(n,e);var t=Object(M.a)(n);function n(e){var r;if(Object(T.a)(this,n),(r=t.call(this)).PRECISION=3,r.segments=[],Array.isArray(e))if(Dc.isLine(e[0])||Xc.isCurve(e[0])){var i=null;e.forEach(function(e,t){0===t&&r.appendSegment(n.createSegment("M",e.start)),null==i||i.end.equals(e.start)||r.appendSegment(n.createSegment("M",e.start)),Dc.isLine(e)?r.appendSegment(n.createSegment("L",e.end)):Xc.isCurve(e)&&r.appendSegment(n.createSegment("C",e.controlPoint1,e.controlPoint2,e.end)),i=e})}else{e.forEach(function(e){e.isSegment&&r.appendSegment(e)})}else null!=e&&(Dc.isLine(e)?(r.appendSegment(n.createSegment("M",e.start)),r.appendSegment(n.createSegment("L",e.end))):Xc.isCurve(e)?(r.appendSegment(n.createSegment("M",e.start)),r.appendSegment(n.createSegment("C",e.controlPoint1,e.controlPoint2,e.end))):qc.isPolyline(e)?e.points&&e.points.length&&e.points.forEach(function(e,t){var i=0===t?n.createSegment("M",e):n.createSegment("L",e);r.appendSegment(i)}):e.isSegment&&r.appendSegment(e));return r}return Object(j.a)(n,[{key:"start",get:function(){var e=this.segments,t=e.length;if(0===t)return null;for(var n=0;n<t;n+=1){var r=e[n];if(r.isVisible)return r.start}return e[t-1].end}},{key:"end",get:function(){var e=this.segments,t=e.length;if(0===t)return null;for(var n=t-1;n>=0;n-=1){var r=e[n];if(r.isVisible)return r.end}return e[t-1].end}},{key:"moveTo",value:function(){for(var e,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return this.appendSegment((e=Qc.create).call.apply(e,[null].concat(n)))}},{key:"lineTo",value:function(){for(var e,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return this.appendSegment((e=$c.create).call.apply(e,[null].concat(n)))}},{key:"curveTo",value:function(){for(var e,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return this.appendSegment((e=Kc.create).call.apply(e,[null].concat(n)))}},{key:"arcTo",value:function(e,t,n,r,i,o,a){var u=this.end||new Lc,s="number"===typeof o?Gc(u.x,u.y,e,t,n,r,i,o,a):Gc(u.x,u.y,e,t,n,r,i,o.x,o.y);if(null!=s)for(var c=0,l=s.length;c<l;c+=6)this.curveTo(s[c],s[c+1],s[c+2],s[c+3],s[c+4],s[c+5]);return this}},{key:"quadTo",value:function(e,t,r,i){var o=this.end||new Lc,a=["M",o.x,o.y];if("number"===typeof e)a.push("Q",e,t,r,i);else{var u=t;a.push("Q",e.x,e.y,u.x,u.y)}var s=n.parse(a.join(" "));return this.appendSegment(s.segments.slice(1)),this}},{key:"close",value:function(){return this.appendSegment(Jc.create())}},{key:"drawPoints",value:function(e){var t=Uc(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}),r=n.parse(t);r&&r.segments&&this.appendSegment(r.segments)}},{key:"bbox",value:function(){var e,t=this.segments,n=t.length;if(0===n)return null;for(var r=0;r<n;r+=1){var i=t[r];if(i.isVisible){var o=i.bbox();null!=o&&(e=e?e.union(o):o)}}if(null!=e)return e;var a=t[n-1];return new Ic(a.end.x,a.end.y,0,0)}},{key:"appendSegment",value:function(e){var t,n=this.segments.length,r=0!==n?this.segments[n-1]:null;if(Array.isArray(e))for(var i=0,o=e.length;i<o;i+=1){var a=e[i];t=this.prepareSegment(a,r,null),this.segments.push(t),r=t}else null!=e&&e.isSegment&&(t=this.prepareSegment(e,r,null),this.segments.push(t));return this}},{key:"insertSegment",value:function(e,t){var n,r=this.segments.length;if(e<0&&(e=r+e+1),e>r||e<0)throw new Error("Index out of range.");var i=null,o=null;if(0!==r&&(e>=1?o=(i=this.segments[e-1]).nextSegment:(i=null,o=this.segments[0])),Array.isArray(t))for(var a=0,u=t.length;a<u;a+=1){var s=t[a];n=this.prepareSegment(s,i,o),this.segments.splice(e+a,0,n),i=n}else n=this.prepareSegment(t,i,o),this.segments.splice(e,0,n);return this}},{key:"removeSegment",value:function(e){var t=this.fixIndex(e),n=this.segments.splice(t,1)[0],r=n.previousSegment,i=n.nextSegment;return r&&(r.nextSegment=i),i&&(i.previousSegment=r),n.isSubpathStart&&i&&this.updateSubpathStartSegment(i),n}},{key:"replaceSegment",value:function(e,t){var n,r=this.fixIndex(e),i=this.segments[r],o=i.previousSegment,a=i.nextSegment,u=i.isSubpathStart;if(Array.isArray(t)){this.segments.splice(e,1);for(var s=0,c=t.length;s<c;s+=1){var l=t[s];n=this.prepareSegment(l,o,a),this.segments.splice(e+s,0,n),o=n,u&&n.isSubpathStart&&(u=!1)}}else n=this.prepareSegment(t,o,a),this.segments.splice(r,1,n),u&&n.isSubpathStart&&(u=!1);u&&a&&this.updateSubpathStartSegment(a)}},{key:"getSegment",value:function(e){var t=this.fixIndex(e);return this.segments[t]}},{key:"fixIndex",value:function(e){var t=this.segments.length;if(0===t)throw new Error("Path has no segments.");for(var n=e;n<0;)n=t+n;if(n>=t||n<0)throw new Error("Index out of range.");return n}},{key:"segmentAt",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this.segmentIndexAt(e,t);return n?this.getSegment(n):null}},{key:"segmentAtLength",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this.segmentIndexAtLength(e,t);return n?this.getSegment(n):null}},{key:"segmentIndexAt",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(0===this.segments.length)return null;var n=Mc.clamp(e,0,1),r=this.getOptions(t),i=this.length(r)*n;return this.segmentIndexAtLength(i,r)}},{key:"segmentIndexAtLength",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this.segments.length;if(0===n)return null;var r=!0;e<0&&(r=!1,e=-e);for(var i=this.getPrecision(t),o=this.getSubdivisions(t),a=0,u=null,s=0;s<n;s+=1){var c=r?s:n-1-s,l=this.segments[c],f=o[c],h=l.length({precision:i,subdivisions:f});if(l.isVisible){if(e<=a+h)return c;u=c}a+=h}return u}},{key:"getSegmentSubdivisions",value:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this.getPrecision(e),n=[],r=0,i=this.segments.length;r<i;r+=1){var o=this.segments[r].getSubdivisions({precision:t});n.push(o)}return n}},{key:"updateSubpathStartSegment",value:function(e){for(var t=e.previousSegment,n=e;n&&!n.isSubpathStart;)n.subpathStartSegment=null!=t?t.subpathStartSegment:null,t=n,n=n.nextSegment}},{key:"prepareSegment",value:function(e,t,n){e.previousSegment=t,e.nextSegment=n,null!=t&&(t.nextSegment=e),null!=n&&(n.previousSegment=e);var r=e;return e.isSubpathStart&&(e.subpathStartSegment=e,r=n),null!=r&&this.updateSubpathStartSegment(r),e}},{key:"closestPoint",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this.closestPointT(e,t);return n?this.pointAtT(n):null}},{key:"closestPointLength",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this.getOptions(t),r=this.closestPointT(e,n);return r?this.lengthAtT(r,n):0}},{key:"closestPointNormalizedLength",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this.getOptions(t),r=this.closestPointLength(e,n);if(0===r)return 0;var i=this.length(n);return 0===i?0:r/i}},{key:"closestPointT",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(0===this.segments.length)return null;for(var n,r=this.getPrecision(t),i=this.getSubdivisions(t),o=1/0,a=0,u=this.segments.length;a<u;a+=1){var s=this.segments[a],c=i[a];if(s.isVisible){var l=s.closestPointT(e,{precision:r,subdivisions:c}),f=s.pointAtT(l),h=Mc.squaredLength(f,e);h<o&&(n={segmentIndex:a,value:l},o=h)}}return n||{segmentIndex:this.segments.length-1,value:1}}},{key:"closestPointTangent",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(0===this.segments.length)return null;for(var n,r=this.getPrecision(t),i=this.getSubdivisions(t),o=1/0,a=0,u=this.segments.length;a<u;a+=1){var s=this.segments[a],c=i[a];if(s.isDifferentiable()){var l=s.closestPointT(e,{precision:r,subdivisions:c}),f=s.pointAtT(l),h=Mc.squaredLength(f,e);h<o&&(n=s.tangentAtT(l),o=h)}}return n||null}},{key:"containsPoint",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this.toPolylines(t);if(!n)return!1;for(var r=0,i=0,o=n.length;i<o;i+=1){n[i].containsPoint(e)&&(r+=1)}return r%2===1}},{key:"pointAt",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(0===this.segments.length)return null;if(e<=0)return this.start.clone();if(e>=1)return this.end.clone();var n=this.getOptions(t),r=this.length(n)*e;return this.pointAtLength(r,n)}},{key:"pointAtLength",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(0===this.segments.length)return null;if(0===e)return this.start.clone();var n=!0;e<0&&(n=!1,e=-e);for(var r,i=this.getPrecision(t),o=this.getSubdivisions(t),a=0,u=0,s=this.segments.length;u<s;u+=1){var c=n?u:s-1-u,l=this.segments[c],f=o[c],h=l.length({precision:i,subdivisions:f});if(l.isVisible){if(e<=a+h)return l.pointAtLength((n?1:-1)*(e-a),{precision:i,subdivisions:f});r=l}a+=h}return r?n?r.end:r.start:this.segments[this.segments.length-1].end.clone()}},{key:"pointAtT",value:function(e){var t=this.segments,n=t.length;if(0===n)return null;var r=e.segmentIndex;if(r<0)return t[0].pointAtT(0);if(r>=n)return t[n-1].pointAtT(1);var i=Mc.clamp(e.value,0,1);return t[r].pointAtT(i)}},{key:"divideAt",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(0===this.segments.length)return null;var n=Mc.clamp(e,0,1),r=this.getOptions(t),i=this.length(r)*n;return this.divideAtLength(i,r)}},{key:"divideAtLength",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(0===this.segments.length)return null;var r=!0;e<0&&(r=!1,e=-e);for(var i,o,a,u,s,c=this.getPrecision(t),l=this.getSubdivisions(t),f=0,h=0,d=this.segments.length;h<d;h+=1){var p=r?h:d-1-h,v=this.getSegment(p),g={precision:c,subdivisions:l[p]},y=v.length(g);if(v.isDifferentiable()&&(a=v,u=p,e<=f+y)){o=p,i=v.divideAtLength((r?1:-1)*(e-f),g);break}f+=y}if(!a)return null;i||(o=u,s=r?1:0,i=a.divideAtT(s));var m=this.clone(),b=o;m.replaceSegment(b,i);var w=b,E=b+1,x=b+2;i[0].isDifferentiable()||(m.removeSegment(w),E-=1,x-=1);var k=m.getSegment(E).start;m.insertSegment(E,n.createSegment("M",k)),x+=1,i[1].isDifferentiable()||(m.removeSegment(x-1),x-=1);for(var O=x-w-1,S=x,A=m.segments.length;S<A;S+=1){var T=this.getSegment(S-O),j=m.getSegment(S);if("Z"===j.type&&!T.subpathStartSegment.end.equals(j.subpathStartSegment.end)){var C=n.createSegment("L",T.end);m.replaceSegment(S,C)}}return[new n(m.segments.slice(0,E)),new n(m.segments.slice(E))]}},{key:"intersectsWithLine",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this.toPolylines(t);if(null==n)return null;for(var r=null,i=0,o=n.length;i<o;i+=1){var a,u=n[i],s=e.intersect(u);if(s)if(null==r&&(r=[]),Array.isArray(s))(a=r).push.apply(a,Object(N.a)(s));else r.push(s)}return r}},{key:"isDifferentiable",value:function(){for(var e=0,t=this.segments.length;e<t;e+=1){if(this.segments[e].isDifferentiable())return!0}return!1}},{key:"isValid",value:function(){var e=this.segments,t=0===e.length||"M"===e[0].type;return t}},{key:"length",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(0===this.segments.length)return 0;for(var t=this.getSubdivisions(e),n=0,r=0,i=this.segments.length;r<i;r+=1){var o=this.segments[r],a=t[r];n+=o.length({subdivisions:a})}return n}},{key:"lengthAtT",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this.segments.length;if(0===n)return 0;var r=e.segmentIndex;if(r<0)return 0;var i=Mc.clamp(e.value,0,1);r>=n&&(r=n-1,i=1);for(var o=this.getPrecision(t),a=this.getSubdivisions(t),u=0,s=0;s<r;s+=1){var c=this.segments[s],l=a[s];u+=c.length({precision:o,subdivisions:l})}var f=this.segments[r],h=a[r];return u+=f.lengthAtT(i,{precision:o,subdivisions:h})}},{key:"tangentAt",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(0===this.segments.length)return null;var n=Mc.clamp(e,0,1),r=this.getOptions(t),i=this.length(r)*n;return this.tangentAtLength(i,r)}},{key:"tangentAtLength",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(0===this.segments.length)return null;var n=!0;e<0&&(n=!1,e=-e);for(var r,i=this.getPrecision(t),o=this.getSubdivisions(t),a=0,u=0,s=this.segments.length;u<s;u+=1){var c=n?u:s-1-u,l=this.segments[c],f=o[c],h=l.length({precision:i,subdivisions:f});if(l.isDifferentiable()){if(e<=a+h)return l.tangentAtLength((n?1:-1)*(e-a),{precision:i,subdivisions:f});r=l}a+=h}if(r){var d=n?1:0;return r.tangentAtT(d)}return null}},{key:"tangentAtT",value:function(e){var t=this.segments.length;if(0===t)return null;var n=e.segmentIndex;if(n<0)return this.segments[0].tangentAtT(0);if(n>=t)return this.segments[t-1].tangentAtT(1);var r=Mc.clamp(e.value,0,1);return this.segments[n].tangentAtT(r)}},{key:"getPrecision",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return null==e.precision?this.PRECISION:e.precision}},{key:"getSubdivisions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(null==e.segmentSubdivisions){var t=this.getPrecision(e);return this.getSegmentSubdivisions({precision:t})}return e.segmentSubdivisions}},{key:"getOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{precision:this.getPrecision(e),segmentSubdivisions:this.getSubdivisions(e)}}},{key:"toPoints",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this.segments,n=t.length;if(0===n)return null;for(var r=this.getSubdivisions(e),i=[],o=[],a=0;a<n;a+=1){var u=t[a];if(u.isVisible){var s=r[a];s.length>0?s.forEach(function(e){return o.push(e.start)}):o.push(u.start)}else o.length>0&&(o.push(t[a-1].end),i.push(o),o=[])}return o.length>0&&(o.push(this.end),i.push(o)),i}},{key:"toPolylines",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this.toPoints(e);return t?t.map(function(e){return new qc(e)}):null}},{key:"scale",value:function(e,t,n){return this.segments.forEach(function(r){return r.scale(e,t,n)}),this}},{key:"rotate",value:function(e,t){return this.segments.forEach(function(n){return n.rotate(e,t)}),this}},{key:"translate",value:function(e,t){return"number"===typeof e?this.segments.forEach(function(n){return n.translate(e,t)}):this.segments.forEach(function(t){return t.translate(e)}),this}},{key:"clone",value:function(){var e=new n;return this.segments.forEach(function(t){return e.appendSegment(t.clone())}),e}},{key:"equals",value:function(e){if(null==e)return!1;var t=this.segments,n=e.segments,r=t.length;if(n.length!==r)return!1;for(var i=0;i<r;i+=1){var o=t[i],a=n[i];if(o.type!==a.type||!o.equals(a))return!1}return!0}},{key:"toJSON",value:function(){return this.segments.map(function(e){return e.toJSON()})}},{key:"serialize",value:function(){if(!this.isValid())throw new Error("Invalid path segments.");return this.segments.map(function(e){return e.serialize()}).join(" ")}},{key:"toString",value:function(){return this.serialize()}}]),n}(Rc);!function(e){e.isPath=function(t){return null!=t&&t instanceof e}}(ol||(ol={})),function(e){function t(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i,o,a;if("M"===e)return(i=Qc.create).call.apply(i,[null].concat(n));if("L"===e)return(o=$c.create).call.apply(o,[null].concat(n));if("C"===e)return(a=Kc.create).call.apply(a,[null].concat(n));if("z"===e||"Z"===e)return Jc.create();throw new Error('Invalid path segment type "'.concat(e,'"'))}e.parse=function(n){if(!n)return new e;var r=new e,i=e.normalize(n).match(/(?:[a-zA-Z] *)(?:(?:-?\d+(?:\.\d+)?(?:e[-+]?\d+)? *,? *)|(?:-?\.\d+ *,? *))+|(?:[a-zA-Z] *)(?! |\d|-|\.)/g);if(null!=i)for(var o=0,a=i.length;o<a;o+=1){var u=i[o].match(/(?:[a-zA-Z])|(?:(?:-?\d+(?:\.\d+)?(?:e[-+]?\d+)?))|(?:(?:-?\.\d+))/g);if(null!=u){var s=u[0],c=u.slice(1).map(function(e){return+e}),l=t.call.apply(t,[null,s].concat(Object(N.a)(c)));r.appendSegment(l)}}return r},e.createSegment=t}(ol||(ol={})),(il=ol||(ol={})).normalize=rl,il.isValid=zc,il.drawArc=Hc,il.drawPoints=Uc,il.arcToCurves=Gc;var al=function(){function e(t){Object(T.a)(this,e),this.options=Object.assign({},t),this.data=this.options.data||{},this.register=this.register.bind(this),this.unregister=this.unregister.bind(this)}return Object(j.a)(e,[{key:"names",get:function(){return Object.keys(this.data)}},{key:"register",value:function(e,t){var n=this,i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if("object"!==typeof e){!this.exist(e)||i||Sa.isApplyingHMR()||this.onDuplicated(e);var o=this.options.process,a=o?r.call(o,this,e,t):t;return this.data[e]=a,a}Object.entries(e).forEach(function(e){var r=Object(fs.a)(e,2),i=r[0],o=r[1];n.register(i,o,t)})}},{key:"unregister",value:function(e){var t=e?this.data[e]:null;return delete this.data[e],t}},{key:"get",value:function(e){return e?this.data[e]:null}},{key:"exist",value:function(e){return!!e&&null!=this.data[e]}},{key:"onDuplicated",value:function(e){try{throw this.options.onConflict&&r.call(this.options.onConflict,this,e),new Error("".concat(a.upperFirst(this.options.type)," with name '").concat(e,"' already registered."))}catch(Hg){throw Hg}}},{key:"onNotFound",value:function(e,t){throw new Error(this.getSpellingSuggestion(e,t))}},{key:"getSpellingSuggestion",value:function(e,t){var n=this.getSpellingSuggestionForName(e),r=t?"".concat(t," ").concat(a.lowerFirst(this.options.type)):this.options.type;return"".concat(a.upperFirst(r)," with name '").concat(e,"' does not exist.").concat(n?" Did you mean '".concat(n,"'?"):"")}},{key:"getSpellingSuggestionForName",value:function(e){return a.getSpellingSuggestion(e,Object.keys(this.data),function(e){return e})}}]),e}();!function(e){e.create=function(t){return new e(t)}}(al||(al={}));var ul,sl={color:"#aaaaaa",thickness:1,markup:"rect",update:function(e,t){var n=t.thickness*t.sx,r=t.thickness*t.sy;c.attr(e,{width:n,height:r,rx:n,ry:r,fill:t.color})}},cl={color:"#aaaaaa",thickness:1,markup:"rect",update:function(e,t){var n=t.sx<=1?t.thickness*t.sx:t.thickness;c.attr(e,{width:n,height:n,rx:n,ry:n,fill:t.color})}},ll={color:"rgba(224,224,224,1)",thickness:1,markup:"path",update:function(e,t){var n,r=t.width,i=t.height,o=t.thickness;n=r-o>=0&&i-o>=0?["M",r,0,"H0 M0 0 V0",i].join(" "):"M 0 0 0 0",c.attr(e,{d:n,stroke:t.color,"stroke-width":t.thickness})}},fl=[{color:"rgba(224,224,224,1)",thickness:1,markup:"path",update:function(e,t){var n,r=t.width,i=t.height,o=t.thickness;n=r-o>=0&&i-o>=0?["M",r,0,"H0 M0 0 V0",i].join(" "):"M 0 0 0 0",c.attr(e,{d:n,stroke:t.color,"stroke-width":t.thickness})}},{color:"rgba(224,224,224,0.2)",thickness:3,factor:4,markup:"path",update:function(e,t){var n,r=t.factor||1,i=t.width*r,o=t.height*r,a=t.thickness;n=i-a>=0&&o-a>=0?["M",i,0,"H0 M0 0 V0",o].join(" "):"M 0 0 0 0",t.width=i,t.height=o,c.attr(e,{d:n,stroke:t.color,"stroke-width":t.thickness})}}],hl=function(){function e(){Object(T.a)(this,e),this.patterns={},this.root=hs.create(c.createSvgDocument(),{width:"100%",height:"100%"},[c.createSvgElement("defs")]).node}return Object(j.a)(e,[{key:"add",value:function(e,t){var n=this.root.childNodes[0];n&&n.appendChild(t),this.patterns[e]=t,hs.create("rect",{width:"100%",height:"100%",fill:"url(#".concat(e,")")}).appendTo(this.root)}},{key:"get",value:function(e){return this.patterns[e]}},{key:"has",value:function(e){return null!=this.patterns[e]}}]),e}();(ul=hl||(hl={})).presets=f,ul.registry=al.create({type:"grid"}),ul.registry.register(ul.presets,!0);var dl,pl,vl,gl,yl=function(e){var t=document.createElement("canvas"),n=e.width,r=e.height;t.width=2*n,t.height=r;var i=t.getContext("2d");return i.drawImage(e,0,0,n,r),i.translate(2*n,0),i.scale(-1,1),i.drawImage(e,0,0,n,r),t},ml=function(e){var t=document.createElement("canvas"),n=e.width,r=e.height;t.width=n,t.height=2*r;var i=t.getContext("2d");return i.drawImage(e,0,0,n,r),i.translate(0,2*r),i.scale(1,-1),i.drawImage(e,0,0,n,r),t},bl=function(e){var t=document.createElement("canvas"),n=e.width,r=e.height;t.width=2*n,t.height=2*r;var i=t.getContext("2d");return i.drawImage(e,0,0,n,r),i.setTransform(-1,0,0,-1,t.width,t.height),i.drawImage(e,0,0,n,r),i.setTransform(-1,0,0,1,t.width,0),i.drawImage(e,0,0,n,r),i.setTransform(1,0,0,-1,0,t.height),i.drawImage(e,0,0,n,r),t},wl=function(e,t){var n=e.width,r=e.height,i=document.createElement("canvas");i.width=3*n,i.height=3*r;for(var o=i.getContext("2d"),a=null!=t.angle?-t.angle:-20,u=Pc.toRad(a),s=i.width/4,c=i.height/4,l=0;l<4;l+=1)for(var f=0;f<4;f+=1)(l+f)%2>0&&(o.setTransform(1,0,0,1,(2*l-1)*s,(2*f-1)*c),o.rotate(u),o.drawImage(e,-n/2,-r/2,n,r));return i};function El(e,t){return null!=e?e:t}function xl(e,t){return null!=e&&Number.isFinite(e)?e:t}function kl(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=El(e.color,"blue"),n=xl(e.width,1),r=xl(e.margin,2),i=xl(e.opacity,1),o=r,a=r+n;return'\n    <filter>\n      <feFlood flood-color="'.concat(t,'" flood-opacity="').concat(i,'" result="colored"/>\n      <feMorphology in="SourceAlpha" result="morphedOuter" operator="dilate" radius="').concat(a,'" />\n      <feMorphology in="SourceAlpha" result="morphedInner" operator="dilate" radius="').concat(o,'" />\n      <feComposite result="morphedOuterColored" in="colored" in2="morphedOuter" operator="in"/>\n      <feComposite operator="xor" in="morphedOuterColored" in2="morphedInner" result="outline"/>\n      <feMerge>\n        <feMergeNode in="outline"/>\n        <feMergeNode in="SourceGraphic"/>\n      </feMerge>\n    </filter>\n  ').trim()}function Ol(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=El(e.color,"red"),n=xl(e.blur,0),r=xl(e.width,1),i=xl(e.opacity,1);return'\n      <filter>\n        <feFlood flood-color="'.concat(t,'" flood-opacity="').concat(i,'" result="colored"/>\n        <feMorphology result="morphed" in="SourceGraphic" operator="dilate" radius="').concat(r,'"/>\n        <feComposite result="composed" in="colored" in2="morphed" operator="in"/>\n        <feGaussianBlur result="blured" in="composed" stdDeviation="').concat(n,'"/>\n        <feBlend in="SourceGraphic" in2="blured" mode="normal"/>\n      </filter>\n    ').trim()}function Sl(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=xl(e.x,2),n=null!=e.y&&Number.isFinite(e.y)?[t,e.y]:t;return'\n    <filter>\n      <feGaussianBlur stdDeviation="'.concat(n,'"/>\n    </filter>\n  ').trim()}function Al(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=xl(e.dx,0),n=xl(e.dy,0),r=El(e.color,"black"),i=xl(e.blur,4),o=xl(e.opacity,1);return"SVGFEDropShadowElement"in window?'<filter>\n         <feDropShadow stdDeviation="'.concat(i,'" dx="').concat(t,'" dy="').concat(n,'" flood-color="').concat(r,'" flood-opacity="').concat(o,'" />\n       </filter>').trim():'<filter>\n         <feGaussianBlur in="SourceAlpha" stdDeviation="'.concat(i,'" />\n         <feOffset dx="').concat(t,'" dy="').concat(n,'" result="offsetblur" />\n         <feFlood flood-color="').concat(r,'" />\n         <feComposite in2="offsetblur" operator="in" />\n         <feComponentTransfer>\n           <feFuncA type="linear" slope="').concat(o,'" />\n         </feComponentTransfer>\n         <feMerge>\n           <feMergeNode/>\n           <feMergeNode in="SourceGraphic"/>\n         </feMerge>\n       </filter>').trim()}function Tl(){var e=xl((arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).amount,1),t=.7152-.7152*(1-e),n=.0722-.0722*(1-e),r=.2126-.2126*(1-e),i=.7152+.2848*(1-e),o=.0722-.0722*(1-e),a=.2126-.2126*(1-e),u=.0722+.9278*(1-e);return'\n    <filter>\n      <feColorMatrix type="matrix" values="'.concat(.2126+.7874*(1-e)," ").concat(t," ").concat(n," 0 0 ").concat(r," ").concat(i," ").concat(o," 0 0 ").concat(a," ").concat(t," ").concat(u,' 0 0 0 0 0 1 0"/>\n    </filter>\n  ').trim()}function jl(){var e=xl((arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).amount,1),t=.769-.769*(1-e),n=.189-.189*(1-e),r=.349-.349*(1-e),i=.686+.314*(1-e),o=.168-.168*(1-e),a=.272-.272*(1-e),u=.534-.534*(1-e),s=.131+.869*(1-e);return'\n      <filter>\n        <feColorMatrix type="matrix" values="'.concat(.393+.607*(1-e)," ").concat(t," ").concat(n," 0 0 ").concat(r," ").concat(i," ").concat(o," 0 0 ").concat(a," ").concat(u," ").concat(s,' 0 0 0 0 0 1 0"/>\n      </filter>\n    ').trim()}function Cl(){var e=xl((arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).amount,1);return'\n      <filter>\n        <feColorMatrix type="saturate" values="'.concat(1-e,'"/>\n      </filter>\n    ').trim()}function _l(){var e=xl((arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).angle,0);return'\n      <filter>\n        <feColorMatrix type="hueRotate" values="'.concat(e,'"/>\n      </filter>\n    ').trim()}function Pl(){var e=xl((arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).amount,1),t=1-e;return'\n      <filter>\n        <feComponentTransfer>\n          <feFuncR type="table" tableValues="'.concat(e," ").concat(t,'"/>\n          <feFuncG type="table" tableValues="').concat(e," ").concat(t,'"/>\n          <feFuncB type="table" tableValues="').concat(e," ").concat(t,'"/>\n        </feComponentTransfer>\n      </filter>\n    ').trim()}function Ml(){var e=xl((arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).amount,1);return'\n    <filter>\n      <feComponentTransfer>\n        <feFuncR type="linear" slope="'.concat(e,'"/>\n        <feFuncG type="linear" slope="').concat(e,'"/>\n        <feFuncB type="linear" slope="').concat(e,'"/>\n      </feComponentTransfer>\n    </filter>\n  ').trim()}function Nl(){var e=xl((arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).amount,1),t=.5-e/2;return'\n    <filter>\n     <feComponentTransfer>\n        <feFuncR type="linear" slope="'.concat(e,'" intercept="').concat(t,'"/>\n        <feFuncG type="linear" slope="').concat(e,'" intercept="').concat(t,'"/>\n        <feFuncB type="linear" slope="').concat(e,'" intercept="').concat(t,'"/>\n      </feComponentTransfer>\n    </filter>\n  ').trim()}(pl=dl||(dl={})).presets=Object.assign({},h),pl.presets["flip-x"]=yl,pl.presets["flip-y"]=ml,pl.presets["flip-xy"]=bl,pl.registry=al.create({type:"background pattern"}),pl.registry.register(pl.presets,!0),(gl=vl||(vl={})).presets=d,gl.registry=al.create({type:"filter"}),gl.registry.register(gl.presets,!0);var Rl={xlinkHref:"xlink:href",xlinkShow:"xlink:show",xlinkRole:"xlink:role",xlinkType:"xlink:type",xlinkArcrole:"xlink:arcrole",xlinkTitle:"xlink:title",xlinkActuate:"xlink:actuate",xmlSpace:"xml:space",xmlBase:"xml:base",xmlLang:"xml:lang",preserveAspectRatio:"preserveAspectRatio",requiredExtension:"requiredExtension",requiredFeatures:"requiredFeatures",systemLanguage:"systemLanguage",externalResourcesRequired:"externalResourceRequired"},Ll={},Il={position:af("x","width","origin")},Dl={position:af("y","height","origin")},Bl={position:af("x","width","corner")},Fl={position:af("y","height","corner")},zl={set:uf("width","width")},Vl={set:uf("height","height")},Ul={set:uf("rx","width")},Gl={set:uf("ry","height")},Hl={set:function(e){var t=uf("r","width"),n=uf("r","height");return function(e,i){var o=i.refBBox,a=o.height>o.width?t:n;return r.call(a,this,e,i)}}()},Wl={set:function(e,t){var n=t.refBBox,r=parseFloat(e),i=u.isPercentage(e);i&&(r/=100);var o,a=Math.sqrt(n.height*n.height+n.width*n.width);return Number.isFinite(r)&&(o=i||r>=0&&r<=1?r*a:Math.max(r+a,0)),{r:o}}},ql={set:uf("cx","width")},Xl={set:uf("cy","height")},Yl={set:cf({resetOffset:!0})},$l={set:cf({resetOffset:!1})},Jl={set:lf({resetOffset:!0})},Ql={set:lf({resetOffset:!1})},Kl=Hl,Zl=Yl,ef=Jl,tf=Il,nf=Dl,rf=zl,of=Vl;function af(e,t,n){return function(r,i){var o=i.refBBox;if(null==r)return null;var a,s=parseFloat(r),c=u.isPercentage(r);if(c&&(s/=100),Number.isFinite(s)){var l=o[n];a=c||s>0&&s<1?l[e]+o[t]*s:l[e]+s}var f=new Lc;return f[e]=a||0,f}}function uf(e,t){return function(n,r){var i=r.refBBox,o=parseFloat(n),a=u.isPercentage(n);a&&(o/=100);var s={};if(Number.isFinite(o)){var c=a||o>=0&&o<=1?o*i[t]:Math.max(o+i[t],0);s[e]=c}return s}}function sf(e,t){var n=t&&t.resetOffset;return function(t,r){var i=r.elem,o=r.refBBox,a=c.data(i,"x6-shape");if(!a||a.value!==t){var u=e(t);a={value:t,shape:u,shapeBBox:u.bbox()},c.data(i,"x6-shape",a)}var s=a.shape.clone(),l=a.shapeBBox.clone(),f=l.getOrigin(),h=o.getOrigin();l.x=h.x,l.y=h.y;var d=o.getMaxScaleToFit(l,h),p=0===l.width||0===o.width?1:d.sx,v=0===l.height||0===o.height?1:d.sy;return s.scale(p,v,f),n&&s.translate(-f.x,-f.y),s}}function cf(e){var t=sf(function(e){return ol.parse(e)},e);return function(e,n){return{d:t(e,n).serialize()}}}function lf(e){var t=sf(function(e){return new qc(e)},e);return function(e,n){return{points:t(e,n).serialize()}}}var ff={qualify:i.isPlainObject,set:function(e,t){var n=t.view;return"url(#".concat(n.graph.defineGradient(e),")")}},hf={qualify:i.isPlainObject,set:function(e,t){var n=t.view,r=n.cell,i=Object.assign({},e);if(r.isEdge()&&"linearGradient"===i.type){var o=n,a=o.sourcePoint,u=o.targetPoint;i.id="gradient-".concat(i.type,"-").concat(r.id),i.attrs=Object.assign(Object.assign({},i.attrs),{x1:a.x,y1:a.y,x2:u.x,y2:u.y,gradientUnits:"userSpaceOnUse"}),n.graph.defs.remove(i.id)}return"url(#".concat(n.graph.defineGradient(i),")")}},df={qualify:function(e,t){var n=t.attrs;return null==n.textWrap||!i.isPlainObject(n.textWrap)},set:function(e,t){var n=t.view,r=t.elem,i=t.attrs,o=c.data(r,"x6-text"),a=function(e){try{return JSON.parse(e)}catch(t){return e}},u={x:i.x,eol:i.eol,annotations:a(i.annotations),textPath:a(i["text-path"]||i.textPath),textVerticalAnchor:i["text-vertical-anchor"]||i.textVerticalAnchor,displayEmpty:"true"===(i["display-empty"]||i.displayEmpty),lineHeight:i["line-height"]||i.lineHeight},s=i["font-size"]||i.fontSize,l=JSON.stringify([e,u]);if(s&&r.setAttribute("font-size",s),null==o||o!==l){var f=u.textPath;if(null!=f&&"object"===typeof f){var h=f.selector;if("string"===typeof h){var d=n.find(h)[0];d instanceof SVGPathElement&&(c.ensureId(d),u.textPath=Object.assign({"xlink:href":"#".concat(d.id)},f))}}c.text(r,"".concat(e),u),c.data(r,"x6-text",l)}}},pf={qualify:i.isPlainObject,set:function(e,t){var n=t.view,i=t.elem,o=t.attrs,a=t.refBBox,s=e,l=s.width||0;u.isPercentage(l)?a.width*=parseFloat(l)/100:l<=0?a.width+=l:a.width=l;var f,h=s.height||0;u.isPercentage(h)?a.height*=parseFloat(h)/100:h<=0?a.height+=h:a.height=h;var d=s.text;null==d&&(d=o.text),f=null!=d?c.breakText("".concat(d),a,{"font-weight":o["font-weight"]||o.fontWeight,"font-size":o["font-size"]||o.fontSize,"font-family":o["font-family"]||o.fontFamily,lineHeight:o.lineHeight},{ellipsis:s.ellipsis}):"",r.call(df.set,this,f,{view:n,elem:i,attrs:o,refBBox:a,cell:n.cell})}},vf=function(e,t){return void 0!==t.attrs.text},gf={qualify:vf},yf={qualify:vf},mf={qualify:vf},bf={qualify:vf},wf={qualify:vf},Ef={qualify:vf},xf={qualify:function(e,t){return t.elem instanceof SVGElement},set:function(e,t){var n=t.elem,r="".concat(e),i=c.data(n,"x6-title");if(null==i||i!==r){c.data(n,"x6-title",r);var o=n.firstChild;if(o&&"TITLE"===o.tagName.toUpperCase()){o.textContent=r}else{var a=document.createElementNS(n.namespaceURI,"title");a.textContent=r,n.insertBefore(a,o)}}}},kf={offset:Af("x","width","right")},Of={offset:Af("y","height","bottom")},Sf={offset:function(e,t){var n=t.refBBox;return e?{x:-n.x,y:-n.y}:{x:0,y:0}}};function Af(e,t,n){return function(r,i){var o,a=i.refBBox,s=new Lc;return o="middle"===r?a[t]/2:r===n?a[t]:"number"===typeof r&&Number.isFinite(r)?r>-1&&r<1?-a[t]*r:-r:u.isPercentage(r)?a[t]*parseFloat(r)/100:0,s[e]=-(a[e]+o),s}}var Tf={qualify:i.isPlainObject,set:function(e,t){var n=t.elem;c.css(n,e)}},jf={set:function(e,t){t.elem.innerHTML="".concat(e)}},Cf={qualify:i.isPlainObject,set:function(e,t){var n=t.view;return"url(#".concat(n.graph.defineFilter(e),")")}},_f={set:function(e){return null!=e&&"object"===typeof e&&e.id?e.id:e}};function Pf(e,t,n){var r,i;"object"===typeof t?(r=t.x,i=t.y):(r=t,i=n);var o=ol.parse(e),a=o.bbox();if(a){var u=-a.height/2-a.y,s=-a.width/2-a.x;"number"===typeof r&&(s-=r),"number"===typeof i&&(u-=i),o.translate(s,u)}return o.serialize()}var Mf=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},Nf=function(e){return Lf({size:e.size,width:e.width,height:e.height,offset:e.offset},!0===e.open,!0,void 0,Mf(e,["size","width","height","offset","open"]))},Rf=function(e){return Lf({size:e.size,width:e.width,height:e.height,offset:e.offset},!1,!1,e.factor,Mf(e,["size","width","height","offset","factor"]))};function Lf(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.75,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},o=e.size||10,a=e.width||o,s=e.height||o,c=new ol,l={};if(t)c.moveTo(a,0).lineTo(0,s/2).lineTo(a,s),l.fill="none";else{if(c.moveTo(0,s/2),c.lineTo(a,0),!n){var f=u.clamp(r,0,1);c.lineTo(a*f,s/2)}c.lineTo(a,s),c.close()}return Object.assign(Object.assign(Object.assign({},l),i),{tagName:"path",d:Pf(c.serialize(),{x:null!=e.offset?e.offset:-a/2})})}var If,Df,Bf=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},Ff=function(e){var t=e.size,n=e.width,r=e.height,i=e.offset,o=Bf(e,["size","width","height","offset"]),a=t||10,u=n||a,s=r||a,c=new ol;return c.moveTo(0,s/2).lineTo(u/2,0).lineTo(u,s/2).lineTo(u/2,s).close(),Object.assign(Object.assign({},o),{tagName:"path",d:Pf(c.serialize(),null==i?-u/2:i)})},zf=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},Vf=function(e){var t=e.d,n=e.offsetX,r=e.offsetY,i=zf(e,["d","offsetX","offsetY"]);return Object.assign(Object.assign({},i),{tagName:"path",d:Pf(t,n,r)})},Uf=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},Gf=function(e){var t=e.size,n=e.width,r=e.height,i=e.offset,o=Uf(e,["size","width","height","offset"]),a=t||10,u=n||a,s=r||a,c=new ol;return c.moveTo(0,0).lineTo(u,s).moveTo(0,s).lineTo(u,0),Object.assign(Object.assign({},o),{tagName:"path",fill:"none",d:Pf(c.serialize(),i||-u/2)})},Hf=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},Wf=function(e){var t=e.width,n=e.height,r=e.offset,i=e.open,o=e.flip,a=Hf(e,["width","height","offset","open","flip"]),u=n||6,s=t||10,c=!0===i,l=!0===o,f=Object.assign(Object.assign({},a),{tagName:"path"});l&&(u=-u);var h=new ol;return h.moveTo(0,u).lineTo(s,0),c?f.fill="none":(h.lineTo(s,u),h.close()),f.d=Pf(h.serialize(),{x:r||-s/2,y:u/2}),f},qf=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},Xf=function(e){var t=e.r,n=qf(e,["r"]),r=t||5;return Object.assign(Object.assign({cx:r},n),{tagName:"circle",r:r})},Yf=function(e){var t=e.r,n=qf(e,["r"]),r=t||5,i=new ol;return i.moveTo(r,0).lineTo(r,2*r),i.moveTo(0,r).lineTo(2*r,r),{children:[Object.assign(Object.assign({},Xf({r:r})),{fill:"none"}),Object.assign(Object.assign({},n),{tagName:"path",d:Pf(i.serialize(),-r)})]}},$f=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},Jf=function(e){var t=e.rx,n=e.ry,r=$f(e,["rx","ry"]),i=t||5,o=n||5;return Object.assign(Object.assign({cx:i},r),{tagName:"ellipse",rx:i,ry:o})};(Df=If||(If={})).presets=p,Df.registry=al.create({type:"marker"}),Df.registry.register(Df.presets,!0),(If||(If={})).normalize=Pf;var Qf=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};function Kf(e){return"string"===typeof e||i.isPlainObject(e)}var Zf={qualify:Kf,set:function(e,t){return nh("marker-start",e,t.view,t.attrs)}},eh={qualify:Kf,set:function(e,t){return nh("marker-end",e,t.view,t.attrs,{transform:"rotate(180)"})}},th={qualify:Kf,set:function(e,t){return nh("marker-mid",e,t.view,t.attrs)}};function nh(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},o="string"===typeof t?{name:t}:t,a=o.name,u=o.args,s=Qf(o,["name","args"]),c=s;if(a&&"string"===typeof a){var l=If.registry.get(a);if(!l)return If.registry.onNotFound(a);c=l(Object.assign(Object.assign({},s),u))}var f=Object.assign(Object.assign(Object.assign({},function(e,t){var n={},r=e.stroke;"string"===typeof r&&(n.stroke=r,n.fill=r);var i=e.strokeOpacity;null==i&&(i=e["stroke-opacity"]);null==i&&(i=e.opacity);null!=i&&(n["stroke-opacity"]=i,n["fill-opacity"]=i);if("marker-mid"!==t){var o=parseFloat(e.strokeWidth||e["stroke-width"]);if(Number.isFinite(o)&&o>1){var a=Math.ceil(o/2);n.refX="marker-start"===t?a:-a}}return n}(r,e)),i),c);return Object(A.a)({},e,"url(#".concat(n.graph.defineMarker(f),")"))}var rh,ih,oh=function(e,t){return t.view.cell.isEdge()},ah={qualify:oh,set:function(e,t){var n,r,i,o,a,u=t.view,s=e.reverse||!1,c=e.stubs||0;if(Number.isFinite(c)&&0!==c)if(s){var l,f,h=u.getConnectionLength()||0;c<0?(l=(h+c)/2,f=-c):(l=c,f=h-2*c);var d=u.getConnection();a=null===(o=null===(i=null===(r=null===(n=null===d||void 0===d?void 0:d.divideAtLength(l))||void 0===n?void 0:n[1])||void 0===r?void 0:r.divideAtLength(f))||void 0===i?void 0:i[0])||void 0===o?void 0:o.serialize()}else{var p;if(c<0)p=((u.getConnectionLength()||0)+c)/2;else p=c;var v=u.getConnection();if(v){var g=v.divideAtLength(p),y=v.divideAtLength(-p);g&&y&&(a="".concat(g[0].serialize()," ").concat(y[1].serialize()))}}return{d:a||u.getConnectionPathData()}}},uh={qualify:oh,set:dh("getTangentAtLength",{rotate:!0})},sh={qualify:oh,set:dh("getTangentAtLength",{rotate:!1})},ch={qualify:oh,set:dh("getTangentAtRatio",{rotate:!0})},lh={qualify:oh,set:dh("getTangentAtRatio",{rotate:!1})},fh=uh,hh=ch;function dh(e,t){var n={x:1,y:0};return function(r,i){var o,a,u=i.view,s=u[e](Number(r));return s?(a=t.rotate?s.vector().vectorAngle(n):0,o=s.start):(o=u.path.start,a=0),0===a?{transform:"translate(".concat(o.x,",").concat(o.y,"')")}:{transform:"translate(".concat(o.x,",").concat(o.y,"') rotate(").concat(a,")")}}}!function(e){(rh||(rh={})).isValidDefinition=function(e,t,n){if(null!=e){if("string"===typeof e)return!0;if("function"!==typeof e.qualify||r.call(e.qualify,this,t,n))return!0}return!1}}(),(ih=rh||(rh={})).presets=Object.assign(Object.assign({},Rl),v),ih.registry=al.create({type:"attribute definition"}),ih.registry.register(ih.presets,!0);var ph,vh={prefixCls:"x6",autoInsertCSS:!0,useCSSSelector:!0,prefix:function(e){return"".concat(vh.prefixCls,"-").concat(e)}},gh=vh.prefix("highlighted"),yh={highlight:function(e,t,n){var r=n&&n.className||gh;c.addClass(t,r)},unhighlight:function(e,t,n){var r=n&&n.className||gh;c.removeClass(t,r)}},mh=vh.prefix("highlight-opacity"),bh={highlight:function(e,t){c.addClass(t,mh)},unhighlight:function(e,t){c.removeClass(t,mh)}};!function(e){var t=c.createSvgElement("svg");function n(e,t){var n=c.createSVGPoint(e.x,e.y).matrixTransform(t);return new Lc(n.x,n.y)}function r(e,n){var r=t.createSVGPoint();r.x=e.x,r.y=e.y;var i=r.matrixTransform(n);r.x=e.x+e.width,r.y=e.y;var o=r.matrixTransform(n);r.x=e.x+e.width,r.y=e.y+e.height;var a=r.matrixTransform(n);r.x=e.x,r.y=e.y+e.height;var u=r.matrixTransform(n),s=Math.min(i.x,o.x,a.x,u.x),c=Math.max(i.x,o.x,a.x,u.x),l=Math.min(i.y,o.y,a.y,u.y),f=Math.max(i.y,o.y,a.y,u.y);return new Ic(s,l,c-s,f-l)}function i(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!e.ownerSVGElement||!c.isSVGGraphicsElement(e)){if(c.isHTMLElement(e)){var a=o(e),u=a.left,s=a.top,l=a.width,f=a.height;return new Ic(u,s,l,f)}return new Ic(0,0,0,0)}var h=n.target;if(!n.recursive){try{t=e.getBBox()}catch(m){t={x:e.clientLeft,y:e.clientTop,width:e.clientWidth,height:e.clientHeight}}return h?r(t,c.getTransformToElement(e,h)):Ic.create(t)}var d=e.childNodes,p=d.length;if(0===p)return i(e,{target:h});h||(h=e);for(var v=0;v<p;v+=1){var g=d[v],y=void 0;y=0===g.childNodes.length?i(g,{target:h}):i(g,{target:h,recursive:!0}),t=t?t.union(y):y}return t}function o(e){var t=0,n=0,r=0,i=0;if(e){for(var o=e;o;)t+=o.offsetLeft,n+=o.offsetTop,(o=o.offsetParent)&&(t+=parseInt(c.getComputedStyle(o,"borderLeft"),10),n+=parseInt(c.getComputedStyle(o,"borderTop"),10));r=e.offsetWidth,i=e.offsetHeight}return{left:t,top:n,width:r,height:i}}function a(e){var t=function(t){var n=e.getAttribute(t),r=n?parseFloat(n):0;return Number.isNaN(r)?0:r};switch(e instanceof SVGElement&&e.nodeName.toLowerCase()){case"rect":return new Ic(t("x"),t("y"),t("width"),t("height"));case"circle":return new Bc(t("cx"),t("cy"),t("r"),t("r"));case"ellipse":return new Bc(t("cx"),t("cy"),t("rx"),t("ry"));case"polyline":var n=c.getPointsFromSvgElement(e);return new qc(n);case"polygon":var r=c.getPointsFromSvgElement(e);return r.length>1&&r.push(r[0]),new qc(r);case"path":var o=e.getAttribute("d");return ol.isValid(o)||(o=ol.normalize(o)),ol.parse(o);case"line":return new Dc(t("x1"),t("y1"),t("x2"),t("y2"))}return i(e)}function u(e){if(null==e)return null;var t=e;do{var n=t.tagName;if("string"!==typeof n)return null;if(n=n.toUpperCase(),c.hasClass(t,"x6-port"))t=t.nextElementSibling;else if("G"===n)t=t.firstElementChild;else{if("TITLE"!==n)break;t=t.nextElementSibling}}while(t);return t}e.transformPoint=n,e.transformLine=function(e,t){return new Dc(n(e.start,t),n(e.end,t))},e.transformPolyline=function(e,t){var r=e instanceof qc?e.points:e;return Array.isArray(r)||(r=[]),new qc(r.map(function(e){return n(e,t)}))},e.transformRectangle=r,e.bbox=function(e,t,n){var i,o=e.ownerSVGElement;if(!o)return new Ic(0,0,0,0);try{i=e.getBBox()}catch(a){i={x:e.clientLeft,y:e.clientTop,width:e.clientWidth,height:e.clientHeight}}return t?Ic.create(i):r(i,c.getTransformToElement(e,n||o))},e.getBBox=i,e.getBoundingOffsetRect=o,e.toGeometryShape=a,e.translateAndAutoOrient=function(e,t,n,r){var o=Lc.create(t),a=Lc.create(n);r||(r=e instanceof SVGSVGElement?e:e.ownerSVGElement);var u=c.scale(e);e.setAttribute("transform","");var s=i(e,{target:r}).scale(u.sx,u.sy),l=c.createSVGTransform();l.setTranslate(-s.x-s.width/2,-s.y-s.height/2);var f=c.createSVGTransform(),h=o.angleBetween(a,o.clone().translate(1,0));h&&f.setRotate(h,0,0);var d=c.createSVGTransform(),p=o.clone().move(a,s.width/2);d.setTranslate(2*o.x-p.x,2*o.y-p.y);var v=c.getTransformToElement(e,r),g=c.createSVGTransform();g.setMatrix(d.matrix.multiply(f.matrix.multiply(l.matrix.multiply(v.scale(u.sx,u.sy))))),e.setAttribute("transform",c.matrixToTransformString(g.matrix))},e.findShapeNode=u,e.getBBoxV2=function(e){var t=u(e);if(!c.isSVGGraphicsElement(t)){if(c.isHTMLElement(e)){var n=o(e),r=n.left,i=n.top,s=n.width,l=n.height;return new Ic(r,i,s,l)}return new Ic(0,0,0,0)}return a(t).bbox()||Ic.create()}}(ph||(ph={}));var wh,Eh,xh,kh={padding:3,rx:0,ry:0,attrs:{"stroke-width":3,stroke:"#FEB663"}},Oh={highlight:function(e,t,n){var r=wh.getHighlighterId(t,n);if(!wh.hasCache(r)){n=i.defaultsDeep({},n,kh);var o,a,u=hs.create(t);try{o=u.toPathData()}catch(E){a=ph.bbox(u.node,!0),o=c.rectToPathData(Object.assign(Object.assign({},n),a))}var s=c.createSvgElement("path");if(c.attr(s,Object.assign({d:o,"pointer-events":"none","vector-effect":"non-scaling-stroke",fill:"none"},n.attrs?c.kebablizeAttrs(n.attrs):null)),e.isEdgeElement(t))c.attr(s,"d",e.getConnectionPathData());else{var l=u.getTransformToElement(e.container),f=n.padding;if(f){null==a&&(a=ph.bbox(u.node,!0));var h=a.x+a.width/2,d=a.y+a.height/2;a=ph.transformRectangle(a,l);var p=Math.max(a.width,1),v=Math.max(a.height,1),g=(p+f)/p,y=(v+f)/v,m=c.createSVGMatrix({a:g,b:0,c:0,d:y,e:h-g*h,f:d-y*d});l=l.multiply(m)}c.transform(s,l)}c.addClass(s,vh.prefix("highlight-stroke"));var b=e.cell,w=function(){return wh.removeHighlighter(r)};b.on("removed",w),b.model&&b.model.on("reseted",w),e.container.appendChild(s),wh.setCache(r,s)}},unhighlight:function(e,t,n){wh.removeHighlighter(wh.getHighlighterId(t,n))}};function Sh(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new Lc(u.normalizePercentage(t.x,e.width),u.normalizePercentage(t.y,e.height))}function Ah(e,t,n){return Object.assign({angle:t,position:e.toJSON()},n)}!function(e){e.getHighlighterId=function(e,t){return c.ensureId(e),e.id+JSON.stringify(t)};var t={};e.setCache=function(e,n){t[e]=n},e.hasCache=function(e){return null!=t[e]},e.removeHighlighter=function(e){var n=t[e];n&&(c.remove(n),delete t[e])}}(wh||(wh={})),function(e){(Eh||(Eh={})).check=function(e,t){if("function"!==typeof t.highlight)throw new Error("Highlighter '".concat(e,"' is missing required `highlight()` method"));if("function"!==typeof t.unhighlight)throw new Error("Highlighter '".concat(e,"' is missing required `unhighlight()` method"))}}(),(xh=Eh||(Eh={})).presets=g,xh.registry=al.create({type:"highlighter"}),xh.registry.register(xh.presets,!0);var Th=function(e,t){return e.map(function(e){var n=e.x,r=e.y,i=e.angle;return Ah(Sh(t,{x:n,y:r}),i||0)})},jh=function(e,t,n){var r=n.start||0,i=n.step||20;return _h(e,t,r,function(e,t){return(e+.5-t/2)*i})},Ch=function(e,t,n){var r=n.start||0,i=n.step||360/e.length;return _h(e,t,r,function(e){return e*i})};function _h(e,t,n,r){var i=t.getCenter(),o=t.getTopCenter(),a=t.width/t.height,u=Bc.fromRect(t),s=e.length;return e.map(function(e,t){var c=n+r(t,s),l=o.clone().rotate(-c,i).scale(a,1,i),f=e.compensateRotate?-u.tangentTheta(l):0;return(e.dx||e.dy)&&l.translate(e.dx||0,e.dy||0),e.dr&&l.move(i,e.dr),Ah(l.round(),f,e)})}var Ph,Mh,Nh=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},Rh=function(e,t,n){return Fh(e,Sh(t,n.start||t.getOrigin()),Sh(t,n.end||t.getCorner()),n)},Lh=function(e,t,n){return Fh(e,t.getTopLeft(),t.getBottomLeft(),n)},Ih=function(e,t,n){return Fh(e,t.getTopRight(),t.getBottomRight(),n)},Dh=function(e,t,n){return Fh(e,t.getTopLeft(),t.getTopRight(),n)},Bh=function(e,t,n){return Fh(e,t.getBottomLeft(),t.getBottomRight(),n)};function Fh(e,t,n,r){var i=new Dc(t,n),o=e.length;return e.map(function(e,t){var n=e.strict,a=Nh(e,["strict"]),u=n||r.strict?(t+1)/(o+1):(t+.5)/o,s=i.pointAt(u);return(a.dx||a.dy)&&s.translate(a.dx||0,a.dy||0),Ah(s.round(),0,a)})}(Mh=Ph||(Ph={})).presets=y,Mh.registry=al.create({type:"port layout"}),Mh.registry.register(Mh.presets,!0);var zh={position:{x:0,y:0},angle:0,attrs:{".":{y:"0","text-anchor":"start"}}};function Vh(e,t){var n=t||{},r=n.x,o=n.y,a=n.angle,u=n.attrs;return i.defaultsDeep({},{angle:a,attrs:u,position:{x:r,y:o}},e,zh)}var Uh=function(e,t,n){return Vh({position:t.getTopLeft()},n)},Gh=function(e,t,n){return Vh({position:{x:-15,y:0},attrs:{".":{y:".3em","text-anchor":"end"}}},n)},Hh=function(e,t,n){return Vh({position:{x:15,y:0},attrs:{".":{y:".3em","text-anchor":"start"}}},n)},Wh=function(e,t,n){return Vh({position:{x:0,y:-15},attrs:{".":{"text-anchor":"middle"}}},n)},qh=function(e,t,n){return Vh({position:{x:0,y:15},attrs:{".":{y:".6em","text-anchor":"middle"}}},n)},Xh=function(e,t,n){return Qh(e,t,!1,n)},Yh=function(e,t,n){return Qh(e,t,!0,n)},$h=function(e,t,n){return Kh(e,t,!1,n)},Jh=function(e,t,n){return Kh(e,t,!0,n)};function Qh(e,t,n,r){var i,o,a,u,s=null!=r.offset?r.offset:15,c=t.getCenter().theta(e),l=Zh(t),f=0;return c<l[1]||c>l[2]?(i=".3em",o=s,a=0,u="start"):c<l[0]?(i="0",o=0,a=-s,n?(f=-90,u="start"):u="middle"):c<l[3]?(i=".3em",o=-s,a=0,u="end"):(i=".6em",o=0,a=s,n?(f=90,u="start"):u="middle"),Vh({position:{x:Math.round(o),y:Math.round(a)},angle:f,attrs:{".":{y:i,"text-anchor":u}}},r)}function Kh(e,t,n,r){var i,o,a,u,s=null!=r.offset?r.offset:15,c=t.getCenter().theta(e),l=Zh(t),f=0;return c<l[1]||c>l[2]?(i=".3em",o=-s,a=0,u="end"):c<l[0]?(i=".6em",o=0,a=s,n?(f=90,u="start"):u="middle"):c<l[3]?(i=".3em",o=s,a=0,u="start"):(i="0em",o=0,a=-s,n?(f=-90,u="start"):u="middle"),Vh({position:{x:Math.round(o),y:Math.round(a)},angle:f,attrs:{".":{y:i,"text-anchor":u}}},r)}function Zh(e){var t=e.getCenter(),n=t.theta(e.getTopLeft()),r=t.theta(e.getBottomLeft()),i=t.theta(e.getBottomRight());return[n,t.theta(e.getTopRight()),i,r]}var ed,td,nd=function(e,t,n){return id(e.diff(t.getCenter()),!1,n)},rd=function(e,t,n){return id(e.diff(t.getCenter()),!0,n)};function id(e,t,n){var r,i=null!=n.offset?n.offset:20,o=new Lc(0,0),a=-e.theta(o),u=".3em",s=a;return(a+90)%180===0?(r=t?"end":"middle",t||-270!==a||(u="0em")):a>-270&&a<-90?(r="start",s=a-180):r="end",Vh({position:e.clone().move(o,i).diff(e).round().round().toJSON(),angle:t?s:0,attrs:{".":{y:u,"text-anchor":r}}},n)}(td=ed||(ed={})).presets=m,td.registry=al.create({type:"port label layout"}),td.registry.register(td.presets,!0);var od,ad=n(10),ud=n(7),sd=function(e){Object(P.a)(n,e);var t=Object(M.a)(n);function n(){var e;return Object(T.a)(this,n),(e=t.call(this)).cid=od.uniqueId(),n.views[e.cid]=Object(Nc.a)(e),e}return Object(j.a)(n,[{key:"priority",get:function(){return 2}},{key:"confirmUpdate",value:function(e,t){return 0}},{key:"empty",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.container;return c.empty(e),this}},{key:"unmount",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.container;return c.remove(e),this}},{key:"remove",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.container;return e===this.container&&(this.removeEventListeners(document),this.onRemove(),delete n.views[this.cid]),this.unmount(e),this}},{key:"onRemove",value:function(){}},{key:"setClass",value:function(e){(arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.container).classList.value=Array.isArray(e)?e.join(" "):e}},{key:"addClass",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.container;return c.addClass(t,Array.isArray(e)?e.join(" "):e),this}},{key:"removeClass",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.container;return c.removeClass(t,Array.isArray(e)?e.join(" "):e),this}},{key:"setStyle",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.container;return c.css(t,e),this}},{key:"setAttrs",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.container;return null!=e&&null!=t&&c.attr(t,e),this}},{key:"findAttr",value:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.container;t&&1===t.nodeType;){var n=t.getAttribute(e);if(null!=n)return n;if(t===this.container)return null;t=t.parentNode}return null}},{key:"find",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.container,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.selectors;return n.find(e,t,r).elems}},{key:"findOne",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.container,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.selectors,r=this.find(e,t,n);return r.length>0?r[0]:null}},{key:"findByAttr",value:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.container;t&&t.getAttribute;){var n=t.getAttribute(e);if((null!=n||t===this.container)&&"false"!==n)return t;t=t.parentNode}return null}},{key:"getSelector",value:function(e,t){var n;if(e===this.container)return"string"===typeof t&&(n="> ".concat(t)),n;if(e){var r=c.index(e)+1;n="".concat(e.tagName.toLowerCase(),":nth-child(").concat(r,")"),t&&(n+=" > ".concat(t)),n=this.getSelector(e.parentNode,n)}return n}},{key:"prefixClassName",value:function(e){return vh.prefix(e)}},{key:"delegateEvents",value:function(e,t){var n=this;if(null==e)return this;t||this.undelegateEvents();var r=/^(\S+)\s*(.*)$/;return Object.keys(e).forEach(function(t){var i=t.match(r);if(null!=i){var o=n.getEventHandler(e[t]);"function"===typeof o&&n.delegateEvent(i[1],i[2],o)}}),this}},{key:"undelegateEvents",value:function(){return c.Event.off(this.container,this.getEventNamespace()),this}},{key:"delegateDocumentEvents",value:function(e,t){return this.addEventListeners(document,e,t),this}},{key:"undelegateDocumentEvents",value:function(){return this.removeEventListeners(document),this}},{key:"delegateEvent",value:function(e,t,n){return c.Event.on(this.container,e+this.getEventNamespace(),t,n),this}},{key:"undelegateEvent",value:function(e,t,n){var r=e+this.getEventNamespace();return null==t?c.Event.off(this.container,r):"string"===typeof t?c.Event.off(this.container,r,t,n):c.Event.off(this.container,r,t),this}},{key:"addEventListeners",value:function(e,t,n){var r=this;if(null==t)return this;var i=this.getEventNamespace();return Object.keys(t).forEach(function(o){var a=r.getEventHandler(t[o]);"function"===typeof a&&c.Event.on(e,o+i,n,a)}),this}},{key:"removeEventListeners",value:function(e){return null!=e&&c.Event.off(e,this.getEventNamespace()),this}},{key:"getEventNamespace",value:function(){return".".concat(vh.prefixCls,"-event-").concat(this.cid)}},{key:"getEventHandler",value:function(e){var t,n=this;if("string"===typeof e){var r=this[e];"function"===typeof r&&(t=function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return r.call.apply(r,[n].concat(t))})}else t=function(){for(var t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];return e.call.apply(e,[n].concat(r))};return t}},{key:"getEventTarget",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.target,r=e.type,i=e.clientX,o=void 0===i?0:i,a=e.clientY,u=void 0===a?0:a;return t.fromPoint||"touchmove"===r||"touchend"===r?document.elementFromPoint(o,u):n}},{key:"stopPropagation",value:function(e){return this.setEventData(e,{propagationStopped:!0}),this}},{key:"isPropagationStopped",value:function(e){return!0===this.getEventData(e).propagationStopped}},{key:"getEventData",value:function(e){return this.eventData(e)}},{key:"setEventData",value:function(e,t){return this.eventData(e,t)}},{key:"eventData",value:function(e,t){if(null==e)throw new TypeError("Event object required");var n=e.data,r="__".concat(this.cid,"__");return null==t?null==n?{}:n[r]||{}:(null==n&&(n=e.data={}),null==n[r]?n[r]=Object.assign({},t):n[r]=Object.assign(Object.assign({},n[r]),t),n[r])}},{key:"normalizeEvent",value:function(e){return n.normalizeEvent(e)}}]),n}(na);!function(e){e.createElement=function(e,t){return t?c.createSvgElement(e||"g"):c.createElementNS(e||"div")},e.find=function(e,t,n){if(!e||"."===e)return{elems:[t]};if(n){var r=n[e];if(r)return{elems:Array.isArray(r)?r:[r]}}if(vh.useCSSSelector){var i=e.includes(">")?":scope ".concat(e):e;return{isCSSSelector:!0,elems:Array.prototype.slice.call(t.querySelectorAll(i))}}return{elems:[]}},e.normalizeEvent=function(e){var t=e,n=e.originalEvent,r=n&&n.changedTouches&&n.changedTouches[0];if(r){for(var i in e)void 0===r[i]&&(r[i]=e[i]);t=r}var o=t.target;if(o){var a=o.correspondingUseElement;a&&(t.target=a)}return t}}(sd||(sd={})),function(e){e.views={},e.getView=function(t){return e.views[t]||null}}(sd||(sd={})),function(e){var t=0;e.uniqueId=function(){var e="v".concat(t);return t+=1,e}}(od||(od={}));var cd,ld=function(){function e(t){Object(T.a)(this,e),this.view=t,this.clean()}return Object(j.a)(e,[{key:"clean",value:function(){this.elemCache&&this.elemCache.dispose(),this.elemCache=new Tc,this.pathCache={}}},{key:"get",value:function(e){return this.elemCache.has(e)||this.elemCache.set(e,{}),this.elemCache.get(e)}},{key:"getData",value:function(e){var t=this.get(e);return t.data||(t.data={}),t.data}},{key:"getMatrix",value:function(e){var t=this.get(e);if(null==t.matrix){var n=this.view.container;t.matrix=c.getTransformToParentElement(e,n)}return c.createSVGMatrix(t.matrix)}},{key:"getShape",value:function(e){var t=this.get(e);return null==t.shape&&(t.shape=ph.toGeometryShape(e)),t.shape.clone()}},{key:"getBoundingRect",value:function(e){var t=this.get(e);return null==t.boundingRect&&(t.boundingRect=ph.getBBoxV2(e)),t.boundingRect.clone()}}]),e}();!function(e){function t(e){return null!=e&&"string"===typeof e}function n(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{ns:c.ns.svg},n=document.createDocumentFragment(),r={},i={},o=[{markup:Array.isArray(e)?e:[e],parent:n,ns:t.ns}],a=function(){var e=o.pop(),t=e.ns||c.ns.svg,n=e.markup,a=e.parent;n.forEach(function(e){var n=e.tagName;if(!n)throw new TypeError("Invalid tagName");e.ns&&(t=e.ns);var u=t?c.createElementNS(n,t):c.createElement(n),s=e.attrs;s&&c.attr(u,c.kebablizeAttrs(s));var l=e.style;l&&c.css(u,l);var f=e.className;null!=f&&u.setAttribute("class",Array.isArray(f)?f.join(" "):f),e.textContent&&(u.textContent=e.textContent);var h=e.selector;if(null!=h){if(i[h])throw new TypeError("Selector must be unique");i[h]=u}if(e.groupSelector){var d=e.groupSelector;Array.isArray(d)||(d=[d]),d.forEach(function(e){r[e]||(r[e]=[]),r[e].push(u)})}a.appendChild(u);var p=e.children;Array.isArray(p)&&o.push({ns:t,markup:p,parent:u})})};o.length>0;)a();return Object.keys(r).forEach(function(e){if(i[e])throw new Error("Ambiguous group selector");i[e]=r[e]}),{fragment:n,selectors:i,groups:r}}function r(e){return e instanceof SVGElement?c.createSvgElement("g"):c.createElement("div")}e.isJSONMarkup=function(e){return null!=e&&!t(e)},e.isStringMarkup=t,e.clone=function(e){return null==e||t(e)?e:i.cloneDeep(e)},e.sanitize=function(e){return"".concat(e).trim().replace(/[\r|\n]/g," ").replace(/>\s+</g,"><")},e.parseJSONMarkup=n,e.renderMarkup=function(e){if(t(e)){var i=hs.createVectors(e),o=i.length;if(1===o)return{elem:i[0].node};if(o>1){var a=r(i[0].node);return i.forEach(function(e){a.appendChild(e.node)}),{elem:a}}return{}}var u=n(e),s=u.fragment,c=null;return s.childNodes.length>1?(c=r(s.firstChild)).appendChild(s):c=s.firstChild,{elem:c,selectors:u.selectors}},e.parseLabelStringMarkup=function(e){for(var t=hs.createVectors(e),n=document.createDocumentFragment(),r=0,i=t.length;r<i;r+=1){var o=t[r].node;n.appendChild(o)}return{fragment:n,selectors:{}}}}(cd||(cd={})),function(e){(cd||(cd={})).getSelector=function e(t,n,r){if(null!=t){var i,o=t.tagName.toLowerCase();if(t===n)return i="string"===typeof r?"> ".concat(o," > ").concat(r):"> ".concat(o);var a=t.parentNode;if(a&&a.childNodes.length>1){var u=c.index(t)+1;i="".concat(o,":nth-child(").concat(u,")")}else i=o;return r&&(i+=" > ".concat(r)),e(t.parentNode,n,i)}return r}}(),function(e){e.getPortContainerMarkup=function(){return"g"},e.getPortMarkup=function(){return{tagName:"circle",selector:"circle",attrs:{r:10,fill:"#FFFFFF",stroke:"#000000"}}},e.getPortLabelMarkup=function(){return{tagName:"text",selector:"text",attrs:{fill:"#000000"}}}}(cd||(cd={})),function(e){(cd||(cd={})).getEdgeMarkup=function(){return[{tagName:"path",selector:"wrap",groupSelector:"lines",attrs:{fill:"none",cursor:"pointer",stroke:"transparent",strokeLinecap:"round"}},{tagName:"path",selector:"line",groupSelector:"lines",attrs:{fill:"none",pointerEvents:"none"}}]}}(),function(e){(cd||(cd={})).getForeignObjectMarkup=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return{tagName:"foreignObject",selector:"fo",children:[{ns:c.ns.xhtml,tagName:"body",selector:"foBody",attrs:{xmlns:c.ns.xhtml},style:{width:"100%",height:"100%",background:"transparent"},children:e?[]:[{tagName:"div",selector:"foContent",style:{width:"100%",height:"100%"}}]}]}}}();var fd,hd=function(){function e(t){Object(T.a)(this,e),this.view=t}return Object(j.a)(e,[{key:"cell",get:function(){return this.view.cell}},{key:"getDefinition",value:function(e){return this.cell.getAttrDefinition(e)}},{key:"processAttrs",value:function(e,t){var n,i,o,u,s=this,l=[];return Object.keys(t).forEach(function(i){var o=t[i],u=s.getDefinition(i),f=r.call(rh.isValidDefinition,s.view,u,o,{elem:e,attrs:t,cell:s.cell,view:s.view});if(u&&f)"string"===typeof u?(null==n&&(n={}),n[u]=o):null!==o&&l.push({name:i,definition:u});else{null==n&&(n={});var h=c.CASE_SENSITIVE_ATTR.includes(i)?i:a.kebabCase(i);n[h]=o}}),l.forEach(function(e){var n=e.name,r=e.definition,a=t[n];"function"===typeof r.set&&(null==i&&(i={}),i[n]=a),"function"===typeof r.offset&&(null==o&&(o={}),o[n]=a),"function"===typeof r.position&&(null==u&&(u={}),u[n]=a)}),{raw:t,normal:n,set:i,offset:o,position:u}}},{key:"mergeProcessedAttrs",value:function(e,t){e.set=Object.assign(Object.assign({},e.set),t.set),e.position=Object.assign(Object.assign({},e.position),t.position),e.offset=Object.assign(Object.assign({},e.offset),t.offset);var n=e.normal&&e.normal.transform;null!=n&&t.normal&&(t.normal.transform=n),e.normal=t.normal}},{key:"findAttrs",value:function(e,t,n,r){var a=[],u=new Tc;return Object.keys(e).forEach(function(s){var c=e[s];if(i.isPlainObject(c)){var l=sd.find(s,t,r),f=l.isCSSSelector,h=l.elems;n[s]=h;for(var d=0,p=h.length;d<p;d+=1){var v=h[d],g=r&&r[s]===v,y=u.get(v);if(y){y.array||(a.push(v),y.array=!0,y.attrs=[y.attrs],y.priority=[y.priority]);var m=y.attrs,b=y.priority;if(g)m.unshift(c),b.unshift(-1);else{var w=o.sortedIndex(b,f?-1:p);m.splice(w,0,c),b.splice(w,0,p)}}else u.set(v,{elem:v,attrs:c,priority:g?-1:p,array:!1})}}}),a.forEach(function(e){var t=u.get(e),n=t.attrs;t.attrs=n.reduceRight(function(e,t){return i.merge(e,t)},{})}),u}},{key:"updateRelativeAttrs",value:function(e,t,n){var i=this,o=t.raw||{},a=t.normal||{},u=t.set,s=t.position,l=t.offset,f=function(){return{elem:e,cell:i.cell,view:i.view,attrs:o,refBBox:n.clone()}};if(null!=u&&Object.keys(u).forEach(function(e){var t=u[e],n=i.getDefinition(e);if(null!=n){var o=r.call(n.set,i.view,t,f());"object"===typeof o?a=Object.assign(Object.assign({},a),o):null!=o&&(a[e]=o)}}),e instanceof HTMLElement)this.view.setAttrs(a,e);else{var h=a.transform,d=h?"".concat(h):null,p=c.transformStringToMatrix(d),v=new Lc(p.e,p.f);h&&(delete a.transform,p.e=0,p.f=0);var g=!1;null!=s&&Object.keys(s).forEach(function(e){var t=s[e],n=i.getDefinition(e);if(null!=n){var o=r.call(n.position,i.view,t,f());null!=o&&(g=!0,v.translate(Lc.create(o)))}}),this.view.setAttrs(a,e);var y=!1;if(null!=l){var m=this.view.getBoundingRectOfElement(e);if(m.width>0&&m.height>0){var b=ph.transformRectangle(m,p);Object.keys(l).forEach(function(t){var n=l[t],a=i.getDefinition(t);if(null!=a){var u=r.call(a.offset,i.view,n,{elem:e,cell:i.cell,view:i.view,attrs:o,refBBox:b});null!=u&&(y=!0,v.translate(Lc.create(u)))}})}}(null!=h||g||y)&&(v.round(1),p.e=v.x,p.f=v.y,e.setAttribute("transform",c.matrixToTransformString(p)))}}},{key:"update",value:function(e,t,n){var r=this,i={},o=this.findAttrs(n.attrs||t,e,i,n.selectors),a=n.attrs?this.findAttrs(t,e,i,n.selectors):o,u=[];o.each(function(t){var o=t.elem,s=t.attrs,c=r.processAttrs(o,s);if(null==c.set&&null==c.position&&null==c.offset)r.view.setAttrs(c.normal,o);else{var l,f=a.get(o),h=f?f.attrs:null,d=h&&null==s.ref?h.ref:s.ref;if(d){if(!(l=(i[d]||r.view.find(d,e,n.selectors))[0]))throw new Error('"'.concat(d,'" reference does not exist.'))}else l=null;var p={node:o,refNode:l,attributes:h,processedAttributes:c},v=u.findIndex(function(e){return e.refNode===o});v>-1?u.splice(v,0,p):u.push(p)}});var s,l=new Tc;u.forEach(function(t){var i,o,a=t.node,u=t.refNode,f=null!=u&&null!=n.rotatableNode&&c.contains(n.rotatableNode,u);if(u&&(i=l.get(u)),!i){var h=f?n.rotatableNode:e;i=u?ph.getBBox(u,{target:h}):n.rootBBox,u&&l.set(u,i)}n.attrs&&t.attributes?(o=r.processAttrs(a,t.attributes),r.mergeProcessedAttrs(o,t.processedAttributes)):o=t.processedAttributes;var d=i;f&&null!=n.rotatableNode&&!n.rotatableNode.contains(a)&&(s||(s=c.transformStringToMatrix(c.attr(n.rotatableNode,"transform"))),d=ph.transformRectangle(i,s)),r.updateRelativeAttrs(a,o,d)})}}]),e}(),dd=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];Object(T.a)(this,e),this.view=t;var i={},o={},a=0;Object.keys(n).forEach(function(e){var t=n[e];Array.isArray(t)||(t=[t]),t.forEach(function(t){var n=i[t];n||(a+=1,n=i[t]=1<<a),o[e]|=n})});var u=r;if(Array.isArray(u)||(u=[u]),u.forEach(function(e){i[e]||(a+=1,i[e]=1<<a)}),a>25)throw new Error("Maximum number of flags exceeded.");this.flags=i,this.attrs=o,this.bootstrap=r}return Object(j.a)(e,[{key:"cell",get:function(){return this.view.cell}},{key:"getFlag",value:function(e){var t=this.flags;return null==t?0:Array.isArray(e)?e.reduce(function(e,n){return e|t[n]},0):0|t[e]}},{key:"hasAction",value:function(e,t){return e&this.getFlag(t)}},{key:"removeAction",value:function(e,t){return e^e&this.getFlag(t)}},{key:"getBootstrapFlag",value:function(){return this.getFlag(this.bootstrap)}},{key:"getChangedFlag",value:function(){var e=this,t=0;return this.attrs?(Object.keys(this.attrs).forEach(function(n){e.cell.hasChanged(n)&&(t|=e.attrs[n])}),t):t}}]),e}(),pd=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},vd=function(e,t){Object(P.a)(a,e);var n=Object(M.a)(a);function a(e){var t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object(T.a)(this,a),(t=n.call(this)).cell=e,t.options=t.ensureOptions(r),t.graph=t.options.graph,t.attr=new hd(Object(Nc.a)(t)),t.flag=new dd(Object(Nc.a)(t),t.options.actions,t.options.bootstrap),t.cache=new ld(Object(Nc.a)(t)),t.setContainer(t.ensureContainer()),t.setup(),t.init(),t}return Object(j.a)(a,[{key:t,get:function(){return a.toStringTag}},{key:"init",value:function(){}},{key:"onRemove",value:function(){this.removeTools()}},{key:"priority",get:function(){return this.options.priority}},{key:"rootSelector",get:function(){return this.options.rootSelector}},{key:"getConstructor",value:function(){return this.constructor}},{key:"ensureOptions",value:function(e){return this.getConstructor().getOptions(e)}},{key:"getContainerTagName",value:function(){return this.options.isSvgElement?"g":"div"}},{key:"getContainerStyle",value:function(){}},{key:"getContainerAttrs",value:function(){return{"data-cell-id":this.cell.id,"data-shape":this.cell.shape}}},{key:"getContainerClassName",value:function(){return this.prefixClassName("cell")}},{key:"ensureContainer",value:function(){return sd.createElement(this.getContainerTagName(),this.options.isSvgElement)}},{key:"setContainer",value:function(e){if(this.container!==e){this.undelegateEvents(),this.container=e,null!=this.options.events&&this.delegateEvents(this.options.events);var t=this.getContainerAttrs();null!=t&&this.setAttrs(t,e);var n=this.getContainerStyle();null!=n&&this.setStyle(n,e);var r=this.getContainerClassName();null!=r&&this.addClass(r,e)}return this}},{key:"isNodeView",value:function(){return!1}},{key:"isEdgeView",value:function(){return!1}},{key:"render",value:function(){return this}},{key:"confirmUpdate",value:function(e){arguments.length>1&&void 0!==arguments[1]&&arguments[1];return 0}},{key:"getBootstrapFlag",value:function(){return this.flag.getBootstrapFlag()}},{key:"getFlag",value:function(e){return this.flag.getFlag(e)}},{key:"hasAction",value:function(e,t){return this.flag.hasAction(e,t)}},{key:"removeAction",value:function(e,t){return this.flag.removeAction(e,t)}},{key:"handleAction",value:function(e,t,n,r){if(this.hasAction(e,t)){n();var i=[t];return r&&("string"===typeof r?i.push(r):i.push.apply(i,Object(N.a)(r))),this.removeAction(e,i)}return e}},{key:"setup",value:function(){var e=this;this.cell.on("changed",function(t){var n=t.options;return e.onAttrsChange(n)})}},{key:"onAttrsChange",value:function(e){var t=this.flag.getChangedFlag();!e.updated&&t&&(e.dirty&&this.hasAction(t,"update")&&(t|=this.getFlag("render")),e.toolId&&(e.async=!1),null!=this.graph&&this.graph.renderer.requestViewUpdate(this,t,e))}},{key:"parseJSONMarkup",value:function(e,t){var n=cd.parseJSONMarkup(e),r=n.selectors,i=this.rootSelector;if(t&&i){if(r[i])throw new Error("Invalid root selector");r[i]=t}return n}},{key:"can",value:function(e){var t=this.graph.options.interacting;if("function"===typeof t&&(t=r.call(t,this.graph,this)),"object"===typeof t){var n=t[e];return"function"===typeof n&&(n=r.call(n,this.graph,this)),!1!==n}return"boolean"===typeof t&&t}},{key:"cleanCache",value:function(){return this.cache.clean(),this}},{key:"getCache",value:function(e){return this.cache.get(e)}},{key:"getDataOfElement",value:function(e){return this.cache.getData(e)}},{key:"getMatrixOfElement",value:function(e){return this.cache.getMatrix(e)}},{key:"getShapeOfElement",value:function(e){return this.cache.getShape(e)}},{key:"getBoundingRectOfElement",value:function(e){return this.cache.getBoundingRect(e)}},{key:"getBBoxOfElement",value:function(e){var t=this.getBoundingRectOfElement(e),n=this.getMatrixOfElement(e),r=this.getRootRotatedMatrix(),i=this.getRootTranslatedMatrix();return ph.transformRectangle(t,i.multiply(r).multiply(n))}},{key:"getUnrotatedBBoxOfElement",value:function(e){var t=this.getBoundingRectOfElement(e),n=this.getMatrixOfElement(e),r=this.getRootTranslatedMatrix();return ph.transformRectangle(t,r.multiply(n))}},{key:"getBBox",value:function(){var e;if((arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).useCellGeometry){var t=this.cell,n=t.isNode()?t.getAngle():0;e=t.getBBox().bbox(n)}else e=this.getBBoxOfElement(this.container);return this.graph.coord.localToGraphRect(e)}},{key:"getRootTranslatedMatrix",value:function(){var e=this.cell,t=e.isNode()?e.getPosition():{x:0,y:0};return c.createSVGMatrix().translate(t.x,t.y)}},{key:"getRootRotatedMatrix",value:function(){var e=c.createSVGMatrix(),t=this.cell,n=t.isNode()?t.getAngle():0;if(n){var r=t.getBBox(),i=r.width/2,o=r.height/2;e=e.translate(i,o).rotate(n).translate(-i,-o)}return e}},{key:"findMagnet",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.container;return this.findByAttr("magnet",e)}},{key:"updateAttrs",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};null==n.rootBBox&&(n.rootBBox=new Ic),null==n.selectors&&(n.selectors=this.selectors),this.attr.update(e,t,n)}},{key:"isEdgeElement",value:function(e){return this.cell.isEdge()&&(null==e||e===this.container)}},{key:"prepareHighlight",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e||this.container;return t.partial=n===this.container,n}},{key:"highlight",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this.prepareHighlight(e,t);return this.notify("cell:highlight",{magnet:n,options:t,view:this,cell:this.cell}),this.isEdgeView()?this.notify("edge:highlight",{magnet:n,options:t,view:this,edge:this.cell,cell:this.cell}):this.isNodeView()&&this.notify("node:highlight",{magnet:n,options:t,view:this,node:this.cell,cell:this.cell}),this}},{key:"unhighlight",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this.prepareHighlight(e,t);return this.notify("cell:unhighlight",{magnet:n,options:t,view:this,cell:this.cell}),this.isNodeView()?this.notify("node:unhighlight",{magnet:n,options:t,view:this,node:this.cell,cell:this.cell}):this.isEdgeView()&&this.notify("edge:unhighlight",{magnet:n,options:t,view:this,edge:this.cell,cell:this.cell}),this}},{key:"notifyUnhighlight",value:function(e,t){}},{key:"getEdgeTerminal",value:function(e,t,n,r,i){var o=this.cell,a=this.findAttr("port",e),u=e.getAttribute("data-selector"),s={cell:o.id};return null!=u&&(s.magnet=u),null!=a?(s.port=a,o.isNode()&&(o.hasPort(a)||null!=u||(s.selector=this.getSelector(e)))):null==u&&this.container!==e&&(s.selector=this.getSelector(e)),s}},{key:"getMagnetFromEdgeTerminal",value:function(e){var t,n=this.cell,r=this.container,i=e.port,o=e.magnet;return null!=i&&n.isNode()&&n.hasPort(i)?t=this.findPortElem(i,o)||r:(o||(o=e.selector),o||null==i||(o='[port="'.concat(i,'"]')),t=this.findOne(o,r,this.selectors)),t}},{key:"hasTools",value:function(e){var t=this.tools;return null!=t&&(null==e||t.name===e)}},{key:"addTools",value:function(e){if(!this.can("toolsAddable"))return this;if(this.removeTools(),e){var t=gd.isToolsView(e)?e:new gd(e);this.tools=t,t.config({view:this}),t.mount()}return this}},{key:"updateTools",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.tools&&this.tools.update(e),this}},{key:"removeTools",value:function(){return this.tools&&(this.tools.remove(),this.tools=null),this}},{key:"hideTools",value:function(){return this.tools&&this.tools.hide(),this}},{key:"showTools",value:function(){return this.tools&&this.tools.show(),this}},{key:"renderTools",value:function(){var e=this.cell.getTools();return this.addTools(e),this}},{key:"notify",value:function(e,t){return this.trigger(e,t),this.graph.trigger(e,t),this}},{key:"getEventArgs",value:function(e,t,n){var r=this.cell;return null==t||null==n?{e:e,view:this,cell:r}:{e:e,x:t,y:n,view:this,cell:r}}},{key:"onClick",value:function(e,t,n){this.notify("cell:click",this.getEventArgs(e,t,n))}},{key:"onDblClick",value:function(e,t,n){this.notify("cell:dblclick",this.getEventArgs(e,t,n))}},{key:"onContextMenu",value:function(e,t,n){this.notify("cell:contextmenu",this.getEventArgs(e,t,n))}},{key:"onMouseDown",value:function(e,t,n){this.cell.model&&(this.cachedModelForMouseEvent=this.cell.model,this.cachedModelForMouseEvent.startBatch("mouse")),this.notify("cell:mousedown",this.getEventArgs(e,t,n))}},{key:"onMouseUp",value:function(e,t,n){this.notify("cell:mouseup",this.getEventArgs(e,t,n)),this.cachedModelForMouseEvent&&(this.cachedModelForMouseEvent.stopBatch("mouse",{cell:this.cell}),this.cachedModelForMouseEvent=null)}},{key:"onMouseMove",value:function(e,t,n){this.notify("cell:mousemove",this.getEventArgs(e,t,n))}},{key:"onMouseOver",value:function(e){this.notify("cell:mouseover",this.getEventArgs(e))}},{key:"onMouseOut",value:function(e){this.notify("cell:mouseout",this.getEventArgs(e))}},{key:"onMouseEnter",value:function(e){this.notify("cell:mouseenter",this.getEventArgs(e))}},{key:"onMouseLeave",value:function(e){this.notify("cell:mouseleave",this.getEventArgs(e))}},{key:"onMouseWheel",value:function(e,t,n,r){this.notify("cell:mousewheel",Object.assign({delta:r},this.getEventArgs(e,t,n)))}},{key:"onCustomEvent",value:function(e,t,n,r){this.notify("cell:customevent",Object.assign({name:t},this.getEventArgs(e,n,r))),this.notify(t,Object.assign({},this.getEventArgs(e,n,r)))}},{key:"onMagnetMouseDown",value:function(e,t,n,r){}},{key:"onMagnetDblClick",value:function(e,t,n,r){}},{key:"onMagnetContextMenu",value:function(e,t,n,r){}},{key:"onLabelMouseDown",value:function(e,t,n){}},{key:"checkMouseleave",value:function(e){var t=this.getEventTarget(e,{fromPoint:!0}),n=this.graph.findViewByElem(t);n!==this&&(this.onMouseLeave(e),n&&n.onMouseEnter(e))}}],[{key:"getDefaults",value:function(){return this.defaults}},{key:"config",value:function(e){this.defaults=this.getOptions(e)}},{key:"getOptions",value:function(e){var t=function(e,t){return null!=t?o.uniq([].concat(Object(N.a)(Array.isArray(e)?e:[e]),Object(N.a)(Array.isArray(t)?t:[t]))):Array.isArray(e)?Object(N.a)(e):[e]},n=i.cloneDeep(this.getDefaults()),r=e.bootstrap,a=e.actions,u=e.events,s=e.documentEvents,c=pd(e,["bootstrap","actions","events","documentEvents"]);return r&&(n.bootstrap=t(n.bootstrap,r)),a&&Object.entries(a).forEach(function(e){var r=Object(fs.a)(e,2),i=r[0],o=r[1],a=n.actions[i];o&&a?n.actions[i]=t(a,o):o&&(n.actions[i]=t(o))}),u&&(n.events=Object.assign(Object.assign({},n.events),u)),e.documentEvents&&(n.documentEvents=Object.assign(Object.assign({},n.documentEvents),s)),i.merge(n,c)}}]),a}(sd,Symbol.toStringTag);vd.defaults={isSvgElement:!0,rootSelector:"root",priority:0,bootstrap:[],actions:{}},(fd=vd||(vd={})).Flag=dd,fd.Attr=hd,function(e){e.toStringTag="X6.".concat(e.name),e.isCellView=function(t){if(null==t)return!1;if(t instanceof e)return!0;var n=t[Symbol.toStringTag],r=t;return(null==n||n===e.toStringTag)&&"function"===typeof r.isNodeView&&"function"===typeof r.isEdgeView&&"function"===typeof r.confirmUpdate}}(vd||(vd={})),function(e){e.priority=function(e){return function(t){t.config({priority:e})}},e.bootstrap=function(e){return function(t){t.config({bootstrap:e})}}}(vd||(vd={})),(vd||(vd={})).registry=al.create({type:"view"});var gd=function(e,t){Object(P.a)(r,e);var n=Object(M.a)(r);function r(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(T.a)(this,r),(e=n.call(this)).svgContainer=e.createContainer(!0,t),e.htmlContainer=e.createContainer(!1,t),e.config(t),e}return Object(j.a)(r,[{key:"name",get:function(){return this.options.name}},{key:"graph",get:function(){return this.cellView.graph}},{key:"cell",get:function(){return this.cellView.cell}},{key:t,get:function(){return r.toStringTag}},{key:"createContainer",value:function(e,t){var n=e?sd.createElement("g",!0):sd.createElement("div",!1);return c.addClass(n,this.prefixClassName("cell-tools")),t.className&&c.addClass(n,t.className),n}},{key:"config",value:function(e){if(this.options=Object.assign(Object.assign({},this.options),e),!vd.isCellView(e.view)||e.view===this.cellView)return this;this.cellView=e.view,this.cell.isEdge()?(c.addClass(this.svgContainer,this.prefixClassName("edge-tools")),c.addClass(this.htmlContainer,this.prefixClassName("edge-tools"))):this.cell.isNode()&&(c.addClass(this.svgContainer,this.prefixClassName("node-tools")),c.addClass(this.htmlContainer,this.prefixClassName("node-tools"))),this.svgContainer.setAttribute("data-cell-id",this.cell.id),this.htmlContainer.setAttribute("data-cell-id",this.cell.id),this.name&&(this.svgContainer.setAttribute("data-tools-name",this.name),this.htmlContainer.setAttribute("data-tools-name",this.name));var t=this.options.items;if(!Array.isArray(t))return this;this.tools=[];var n=[];t.forEach(function(e){r.ToolItem.isToolItem(e)?"vertices"===e.name?n.unshift(e):n.push(e):"vertices"===("object"===typeof e?e.name:e)?n.unshift(e):n.push(e)});for(var i=0;i<n.length;i+=1){var o=n[i],a=void 0;if(r.ToolItem.isToolItem(o))a=o;else{var u="object"===typeof o?o.name:o,s="object"===typeof o&&o.args||{};if(u)if(this.cell.isNode()){var l=Ud.registry.get(u);if(!l)return Ud.registry.onNotFound(u);a=new l(s)}else if(this.cell.isEdge()){var f=Hd.registry.get(u);if(!f)return Hd.registry.onNotFound(u);a=new f(s)}}if(a)a.config(this.cellView,this),a.render(),(!1!==a.options.isSVGElement?this.svgContainer:this.htmlContainer).appendChild(a.container),this.tools.push(a)}return this}},{key:"update",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this.tools;return t&&t.forEach(function(t){e.toolId!==t.cid&&t.isVisible()&&t.update()}),this}},{key:"focus",value:function(e){var t=this.tools;return t&&t.forEach(function(t){e===t?t.show():t.hide()}),this}},{key:"blur",value:function(e){var t=this.tools;return t&&t.forEach(function(t){t===e||t.isVisible()||(t.show(),t.update())}),this}},{key:"hide",value:function(){return this.focus(null)}},{key:"show",value:function(){return this.blur(null)}},{key:"remove",value:function(){var e=this.tools;return e&&(e.forEach(function(e){return e.remove()}),this.tools=null),c.remove(this.svgContainer),c.remove(this.htmlContainer),Object(ad.a)(Object(ud.a)(r.prototype),"remove",this).call(this)}},{key:"mount",value:function(){var e=this.tools,t=this.cellView;if(t&&e){var n=e.some(function(e){return!1!==e.options.isSVGElement}),r=e.some(function(e){return!1===e.options.isSVGElement});if(n)(this.options.local?t.container:t.graph.view.decorator).appendChild(this.svgContainer);r&&this.graph.container.appendChild(this.htmlContainer)}return this}}]),r}(sd,Symbol.toStringTag);!function(e){e.toStringTag="X6.".concat(e.name),e.isToolsView=function(t){if(null==t)return!1;if(t instanceof e)return!0;var n=t[Symbol.toStringTag],r=t;return(null==n||n===e.toStringTag)&&null!=r.graph&&null!=r.cell&&"function"===typeof r.config&&"function"===typeof r.update&&"function"===typeof r.focus&&"function"===typeof r.blur&&"function"===typeof r.show&&"function"===typeof r.hide}}(gd||(gd={})),function(e){var t=function(e,t){Object(P.a)(r,e);var n=Object(M.a)(r);function r(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(T.a)(this,r),(e=n.call(this)).visible=!0,e.options=e.getOptions(t),e.container=sd.createElement(e.options.tagName||"g",!1!==e.options.isSVGElement),c.addClass(e.container,e.prefixClassName("cell-tool")),"string"===typeof e.options.className&&c.addClass(e.container,e.options.className),e.init(),e}return Object(j.a)(r,[{key:"graph",get:function(){return this.cellView.graph}},{key:"cell",get:function(){return this.cellView.cell}},{key:"name",get:function(){return this.options.name}},{key:t,get:function(){return r.toStringTag}},{key:"init",value:function(){}},{key:"getOptions",value:function(e){return this.constructor.getOptions(e)}},{key:"delegateEvents",value:function(){return this.options.events&&Object(ad.a)(Object(ud.a)(r.prototype),"delegateEvents",this).call(this,this.options.events),this}},{key:"config",value:function(e,t){return this.cellView=e,this.parent=t,this.stamp(this.container),this.cell.isEdge()?c.addClass(this.container,this.prefixClassName("edge-tool")):this.cell.isNode()&&c.addClass(this.container,this.prefixClassName("node-tool")),this.name&&this.container.setAttribute("data-tool-name",this.name),this.delegateEvents(),this}},{key:"render",value:function(){this.empty();var e=this.options.markup;if(e){var t=cd.parseJSONMarkup(e);this.container.appendChild(t.fragment),this.childNodes=t.selectors}return this.onRender(),this}},{key:"onRender",value:function(){}},{key:"update",value:function(){return this}},{key:"stamp",value:function(e){e&&e.setAttribute("data-cell-id",this.cellView.cell.id)}},{key:"show",value:function(){return this.container.style.display="",this.visible=!0,this}},{key:"hide",value:function(){return this.container.style.display="none",this.visible=!1,this}},{key:"isVisible",value:function(){return this.visible}},{key:"focus",value:function(){var e=this.options.focusOpacity;return null!=e&&Number.isFinite(e)&&(this.container.style.opacity="".concat(e)),this.parent.focus(this),this}},{key:"blur",value:function(){return this.container.style.opacity="",this.parent.blur(this),this}},{key:"guard",value:function(e){return null==this.graph||null==this.cellView||this.graph.view.guard(e,this.cellView)}}],[{key:"getDefaults",value:function(){return this.defaults}},{key:"config",value:function(e){this.defaults=this.getOptions(e)}},{key:"getOptions",value:function(e){return i.merge(i.cloneDeep(this.getDefaults()),e)}}]),r}(sd,Symbol.toStringTag);t.defaults={isSVGElement:!0,tagName:"g"},e.ToolItem=t,function(e){var t=0;e.define=function(e){var n,r=i.createClass((n=e.name)?a.pascalCase(n):"CustomTool".concat(t+=1),this);return r.config(e),r}}(t=e.ToolItem||(e.ToolItem={})),function(e){e.toStringTag="X6.".concat(e.name),e.isToolItem=function(t){if(null==t)return!1;if(t instanceof e)return!0;var n=t[Symbol.toStringTag],r=t;return(null==n||n===e.toStringTag)&&null!=r.graph&&null!=r.cell&&"function"===typeof r.config&&"function"===typeof r.update&&"function"===typeof r.focus&&"function"===typeof r.blur&&"function"===typeof r.show&&"function"===typeof r.hide&&"function"===typeof r.isVisible}}(t=e.ToolItem||(e.ToolItem={}))}(gd||(gd={}));var yd=function(e){return e};function md(e,t){return 0===t?"0%":"".concat(Math.round(e/t*100),"%")}function bd(e){return function(t,n,r,i){return n.isEdgeElement(r)?function(e,t,n,r,i){var o=n.getConnection();if(!o)return t;var a=o.closestPointLength(i);if(e){var u=o.length();t.anchor={name:"ratio",args:{ratio:a/u}}}else t.anchor={name:"length",args:{length:a}};return t}(e,t,n,0,i):function(e,t,n,r,i){var o=n.cell,a=o.getAngle(),u=n.getUnrotatedBBoxOfElement(r),s=o.getBBox().getCenter(),c=Lc.create(i).rotate(a,s),l=c.x-u.x,f=c.y-u.y;return e&&(l=md(l,u.width),f=md(f,u.height)),t.anchor={name:"topLeft",args:{dx:l,dy:f,rotate:!0}},t}(e,t,n,r,i)}}var wd,Ed,xd=bd(!0),kd=bd(!1);function Od(e,t,n,i){return r.call(wd.presets.pinRelative,this.graph,{},t,n,e,this.cell,i,{}).anchor}function Sd(e,t){return t?e.cell.getBBox():e.cell.isEdge()?e.getConnection().bbox():e.getUnrotatedBBoxOfElement(e.container)}(Ed=wd||(wd={})).presets=b,Ed.registry=al.create({type:"connection strategy"}),Ed.registry.register(Ed.presets,!0);var Ad,Td=function(e){Object(P.a)(n,e);var t=Object(M.a)(n);function n(){return Object(T.a)(this,n),t.apply(this,arguments)}return Object(j.a)(n,[{key:"onRender",value:function(){c.addClass(this.container,this.prefixClassName("cell-tool-button")),this.update()}},{key:"update",value:function(){return this.updatePosition(),this}},{key:"updatePosition",value:function(){var e=this.cellView.cell.isEdge()?this.getEdgeMatrix():this.getNodeMatrix();c.transform(this.container,e,{absolute:!0})}},{key:"getNodeMatrix",value:function(){var e=this.cellView,t=this.options,n=t.x,r=void 0===n?0:n,i=t.y,o=void 0===i?0:i,a=t.offset,s=t.useCellGeometry,l=t.rotate,f=Sd(e,s),h=e.cell.getAngle();l||(f=f.bbox(h));var d=0,p=0;"number"===typeof a?(d=a,p=a):"object"===typeof a&&(d=a.x,p=a.y),r=u.normalizePercentage(r,f.width),o=u.normalizePercentage(o,f.height);var v=c.createSVGMatrix().translate(f.x+f.width/2,f.y+f.height/2);return l&&(v=v.rotate(h)),v=v.translate(r+d-f.width/2,o+p-f.height/2)}},{key:"getEdgeMatrix",value:function(){var e,t,n,r=this.cellView,i=this.options,o=i.offset,a=void 0===o?0:o,s=i.distance,l=void 0===s?0:s,f=i.rotate,h=u.normalizePercentage(l,1);(e=h>=0&&h<=1?r.getTangentAtRatio(h):r.getTangentAtLength(h))?(t=e.start,n=e.vector().vectorAngle(new Lc(1,0))||0):(t=r.getConnection().start,n=0);var d=c.createSVGMatrix().translate(t.x,t.y).rotate(n);return d="object"===typeof a?d.translate(a.x||0,a.y||0):d.translate(0,a),f||(d=d.rotate(-n)),d}},{key:"onMouseDown",value:function(e){if(!this.guard(e)){e.stopPropagation(),e.preventDefault();var t=this.options.onClick;"function"===typeof t&&r.call(t,this.cellView,{e:e,view:this.cellView,cell:this.cellView.cell,btn:this})}}}]),n}(gd.ToolItem);(Td||(Td={})).config({name:"button",useCellGeometry:!0,events:{mousedown:"onMouseDown",touchstart:"onMouseDown"}}),(Ad=Td||(Td={})).Remove=Ad.define({name:"button-remove",markup:[{tagName:"circle",selector:"button",attrs:{r:7,fill:"#FF1D00",cursor:"pointer"}},{tagName:"path",selector:"icon",attrs:{d:"M -3 -3 3 3 M -3 3 3 -3",fill:"none",stroke:"#FFFFFF","stroke-width":2,"pointer-events":"none"}}],distance:60,offset:0,useCellGeometry:!0,onClick:function(e){var t=e.view,n=e.btn;n.parent.remove(),t.cell.remove({ui:!0,toolId:n.cid})}});var jd=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},Cd=function(e){Object(P.a)(n,e);var t=Object(M.a)(n);function n(){return Object(T.a)(this,n),t.apply(this,arguments)}return Object(j.a)(n,[{key:"onRender",value:function(){if(c.addClass(this.container,this.prefixClassName("cell-tool-boundary")),this.options.attrs){var e=this.options.attrs,t=e.class,n=jd(e,["class"]);c.attr(this.container,c.kebablizeAttrs(n)),t&&c.addClass(this.container,t)}this.update()}},{key:"update",value:function(){var e=this.cellView,t=this.options,n=t.useCellGeometry,r=t.rotate,i=u.normalizeSides(t.padding),o=Sd(e,n).moveAndExpand({x:-i.left,y:-i.top,width:i.left+i.right,height:i.top+i.bottom}),a=e.cell;if(a.isNode()){var s=a.getAngle();if(s)if(r){var l=a.getBBox().getCenter();c.rotate(this.container,s,l.x,l.y,{absolute:!0})}else o=o.bbox(s)}return c.attr(this.container,o.toJSON()),this}}]),n}(gd.ToolItem);(Cd||(Cd={})).config({name:"boundary",tagName:"rect",padding:10,useCellGeometry:!0,attrs:{fill:"none",stroke:"#333","stroke-width":.5,"stroke-dasharray":"5, 5","pointer-events":"none"}});var _d=function(e){Object(P.a)(n,e);var t=Object(M.a)(n);function n(){var e;return Object(T.a)(this,n),(e=t.apply(this,arguments)).handles=[],e}return Object(j.a)(n,[{key:"vertices",get:function(){return this.cellView.cell.getVertices()}},{key:"onRender",value:function(){return this.addClass(this.prefixClassName("edge-tool-vertices")),this.options.addable&&this.updatePath(),this.resetHandles(),this.renderHandles(),this}},{key:"update",value:function(){return this.vertices.length===this.handles.length?this.updateHandles():(this.resetHandles(),this.renderHandles()),this.options.addable&&this.updatePath(),this}},{key:"resetHandles",value:function(){var e=this,t=this.handles;this.handles=[],t&&t.forEach(function(t){e.stopHandleListening(t),t.remove()})}},{key:"renderHandles",value:function(){for(var e=this,t=this.vertices,n=0,r=t.length;n<r;n+=1){var i=t[n],o=this.options.createHandle,a=this.options.processHandle,u=o({index:n,graph:this.graph,guard:function(t){return e.guard(t)},attrs:this.options.attrs||{}});a&&a(u),u.updatePosition(i.x,i.y),this.stamp(u.container),this.container.appendChild(u.container),this.handles.push(u),this.startHandleListening(u)}}},{key:"updateHandles",value:function(){for(var e=this.vertices,t=0,n=e.length;t<n;t+=1){var r=e[t],i=this.handles[t];i&&i.updatePosition(r.x,r.y)}}},{key:"updatePath",value:function(){var e=this.childNodes.connection;e&&e.setAttribute("d",this.cellView.getConnectionPathData())}},{key:"startHandleListening",value:function(e){var t=this.cellView;t.can("vertexMovable")&&(e.on("change",this.onHandleChange,this),e.on("changing",this.onHandleChanging,this),e.on("changed",this.onHandleChanged,this)),t.can("vertexDeletable")&&e.on("remove",this.onHandleRemove,this)}},{key:"stopHandleListening",value:function(e){var t=this.cellView;t.can("vertexMovable")&&(e.off("change",this.onHandleChange,this),e.off("changing",this.onHandleChanging,this),e.off("changed",this.onHandleChanged,this)),t.can("vertexDeletable")&&e.off("remove",this.onHandleRemove,this)}},{key:"getNeighborPoints",value:function(e){var t=this.cellView,n=this.vertices,r=e>0?n[e-1]:t.sourceAnchor,i=e<n.length-1?n[e+1]:t.targetAnchor;return{prev:Lc.create(r),next:Lc.create(i)}}},{key:"getMouseEventArgs",value:function(e){var t=this.normalizeEvent(e),n=this.graph.snapToGrid(t.clientX,t.clientY);return{e:t,x:n.x,y:n.y}}},{key:"onHandleChange",value:function(e){var t=e.e;this.focus();var n=this.cellView;if(n.cell.startBatch("move-vertex",{ui:!0,toolId:this.cid}),!this.options.stopPropagation){var r=this.getMouseEventArgs(t),i=r.e,o=r.x,a=r.y;n.notifyMouseDown(i,o,a)}}},{key:"onHandleChanging",value:function(e){var t=e.handle,n=e.e,r=this.cellView,i=t.options.index,o=this.getMouseEventArgs(n),a=o.e,u=o.x,s=o.y,c={x:u,y:s};this.snapVertex(c,i),r.cell.setVertexAt(i,c,{ui:!0,toolId:this.cid}),t.updatePosition(c.x,c.y),this.options.stopPropagation||r.notifyMouseMove(a,u,s)}},{key:"onHandleChanged",value:function(e){var t=e.e,n=this.options,r=this.cellView;if(n.addable&&this.updatePath(),n.removeRedundancies){r.removeRedundantLinearVertices({ui:!0,toolId:this.cid})&&this.render(),this.blur(),r.cell.stopBatch("move-vertex",{ui:!0,toolId:this.cid}),this.eventData(t).vertexAdded&&r.cell.stopBatch("add-vertex",{ui:!0,toolId:this.cid});var i=this.getMouseEventArgs(t),o=i.e,a=i.x,u=i.y;this.options.stopPropagation||r.notifyMouseUp(o,a,u),r.checkMouseleave(o),n.onChanged&&n.onChanged({edge:r.cell,edgeView:r})}}},{key:"snapVertex",value:function(e,t){var n=this.options.snapRadius||0;if(n>0){var r=this.getNeighborPoints(t),i=r.prev,o=r.next;Math.abs(e.x-i.x)<n?e.x=i.x:Math.abs(e.x-o.x)<n&&(e.x=o.x),Math.abs(e.y-i.y)<n?e.y=r.prev.y:Math.abs(e.y-o.y)<n&&(e.y=o.y)}}},{key:"onHandleRemove",value:function(e){var t=e.handle,n=e.e;if(this.options.removable){var r=t.options.index,i=this.cellView;i.cell.removeVertexAt(r,{ui:!0}),this.options.addable&&this.updatePath(),i.checkMouseleave(this.normalizeEvent(n))}}},{key:"onPathMouseDown",value:function(e){var t=this.cellView;if(!this.guard(e)&&this.options.addable&&t.can("vertexAddable")){e.stopPropagation(),e.preventDefault();var n=this.normalizeEvent(e),r=this.graph.snapToGrid(n.clientX,n.clientY).toJSON();t.cell.startBatch("add-vertex",{ui:!0,toolId:this.cid});var i=t.getVertexIndex(r.x,r.y);this.snapVertex(r,i),t.cell.insertVertex(r,i,{ui:!0,toolId:this.cid}),this.render();var o=this.handles[i];this.eventData(n,{vertexAdded:!0}),o.onMouseDown(n)}}},{key:"onRemove",value:function(){this.resetHandles()}}]),n}(gd.ToolItem);!function(e){var t=function(t){Object(P.a)(r,t);var n=Object(M.a)(r);function r(e){var t;return Object(T.a)(this,r),(t=n.call(this)).options=e,t.render(),t.delegateEvents({mousedown:"onMouseDown",touchstart:"onMouseDown",dblclick:"onDoubleClick"}),t}return Object(j.a)(r,[{key:"graph",get:function(){return this.options.graph}},{key:"render",value:function(){this.container=sd.createElement("circle",!0);var t=this.options.attrs;if("function"===typeof t){var n=e.getDefaults();this.setAttrs(Object.assign(Object.assign({},n.attrs),t(this)))}else this.setAttrs(t);this.addClass(this.prefixClassName("edge-tool-vertex"))}},{key:"updatePosition",value:function(e,t){this.setAttrs({cx:e,cy:t})}},{key:"onMouseDown",value:function(e){this.options.guard(e)||(e.stopPropagation(),e.preventDefault(),this.graph.view.undelegateEvents(),this.delegateDocumentEvents({mousemove:"onMouseMove",touchmove:"onMouseMove",mouseup:"onMouseUp",touchend:"onMouseUp",touchcancel:"onMouseUp"},e.data),this.emit("change",{e:e,handle:this}))}},{key:"onMouseMove",value:function(e){this.emit("changing",{e:e,handle:this})}},{key:"onMouseUp",value:function(e){this.emit("changed",{e:e,handle:this}),this.undelegateDocumentEvents(),this.graph.view.delegateEvents()}},{key:"onDoubleClick",value:function(e){this.emit("remove",{e:e,handle:this})}}]),r}(sd);e.Handle=t}(_d||(_d={})),function(e){var t,n=vh.prefix("edge-tool-vertex-path");e.config({name:"vertices",snapRadius:20,addable:!0,removable:!0,removeRedundancies:!0,stopPropagation:!0,attrs:{r:6,fill:"#333",stroke:"#fff",cursor:"move","stroke-width":2},createHandle:function(t){return new e.Handle(t)},markup:[{tagName:"path",selector:"connection",className:n,attrs:{fill:"none",stroke:"transparent","stroke-width":10,cursor:"pointer"}}],events:(t={},Object(A.a)(t,"mousedown .".concat(n),"onPathMouseDown"),Object(A.a)(t,"touchstart .".concat(n),"onPathMouseDown"),t)})}(_d||(_d={}));var Pd,Md=function(e){Object(P.a)(n,e);var t=Object(M.a)(n);function n(){var e;return Object(T.a)(this,n),(e=t.apply(this,arguments)).handles=[],e}return Object(j.a)(n,[{key:"vertices",get:function(){return this.cellView.cell.getVertices()}},{key:"update",value:function(){return this.render(),this}},{key:"onRender",value:function(){c.addClass(this.container,this.prefixClassName("edge-tool-segments")),this.resetHandles();var e=this.cellView,t=Object(N.a)(this.vertices);t.unshift(e.sourcePoint),t.push(e.targetPoint);for(var n=0,r=t.length;n<r-1;n+=1){var i=t[n],o=t[n+1],a=this.renderHandle(i,o,n);this.stamp(a.container),this.handles.push(a)}return this}},{key:"renderHandle",value:function(e,t,n){var r=this,i=this.options.createHandle({index:n,graph:this.graph,guard:function(e){return r.guard(e)},attrs:this.options.attrs||{}});return this.options.processHandle&&this.options.processHandle(i),this.updateHandle(i,e,t),this.container.appendChild(i.container),this.startHandleListening(i),i}},{key:"startHandleListening",value:function(e){e.on("change",this.onHandleChange,this),e.on("changing",this.onHandleChanging,this),e.on("changed",this.onHandleChanged,this)}},{key:"stopHandleListening",value:function(e){e.off("change",this.onHandleChange,this),e.off("changing",this.onHandleChanging,this),e.off("changed",this.onHandleChanged,this)}},{key:"resetHandles",value:function(){var e=this,t=this.handles;this.handles=[],t&&t.forEach(function(t){e.stopHandleListening(t),t.remove()})}},{key:"shiftHandleIndexes",value:function(e){for(var t=this.handles,n=0,r=t.length;n<r;n+=1)t[n].options.index+=e}},{key:"resetAnchor",value:function(e,t){var n=this.cellView.cell,r={ui:!0,toolId:this.cid};t?n.prop([e,"anchor"],t,r):n.removeProp([e,"anchor"],r)}},{key:"snapHandle",value:function(e,t,n){var r=e.options.axis,i=e.options.index,o=this.cellView.cell.getVertices(),a=o[i-2]||n.sourceAnchor,u=o[i+1]||n.targetAnchor,s=this.options.snapRadius;return Math.abs(t[r]-a[r])<s?t[r]=a[r]:Math.abs(t[r]-u[r])<s&&(t[r]=u[r]),t}},{key:"onHandleChanging",value:function(e){var t=e.handle,n=e.e,o=this.graph,a=this.options,u=this.cellView,s=a.anchor,c=t.options.axis,l=t.options.index-1,f=this.getEventData(n),h=this.normalizeEvent(n),d=o.snapToGrid(h.clientX,h.clientY),p=this.snapHandle(t,d.clone(),f),v=i.cloneDeep(this.vertices),g=v[l],y=v[l+1],m=u.sourceView,b=u.sourceBBox,w=!1,E=!1;if(g?0===l?b.containsPoint(g)?(v.shift(),this.shiftHandleIndexes(-1),w=!0):(g[c]=p[c],E=!0):g[c]=p[c]:((g=u.sourceAnchor.toJSON())[c]=p[c],b.containsPoint(g)?w=!0:(v.unshift(g),this.shiftHandleIndexes(1),E=!0)),"function"===typeof s&&m){if(w){var x=f.sourceAnchor.clone();x[c]=p[c];var k=r.call(s,u,x,m,u.sourceMagnet||m.container,"source",u,this);this.resetAnchor("source",k)}E&&this.resetAnchor("source",f.sourceAnchorDef)}var O=u.targetView,S=u.targetBBox,A=!1,T=!1;if(y?l===v.length-2?S.containsPoint(y)?(v.pop(),A=!0):(y[c]=p[c],T=!0):y[c]=p[c]:((y=u.targetAnchor.toJSON())[c]=p[c],S.containsPoint(y)?A=!0:(v.push(y),T=!0)),"function"===typeof s&&O){if(A){var j=f.targetAnchor.clone();j[c]=p[c];var C=r.call(s,u,j,O,u.targetMagnet||O.container,"target",u,this);this.resetAnchor("target",C)}T&&this.resetAnchor("target",f.targetAnchorDef)}Lc.equalPoints(v,this.vertices)||this.cellView.cell.setVertices(v,{ui:!0,toolId:this.cid}),this.updateHandle(t,g,y,0),a.stopPropagation||u.notifyMouseMove(h,d.x,d.y)}},{key:"onHandleChange",value:function(e){var t=e.handle,n=e.e,r=this.options,o=this.handles,a=this.cellView,u=t.options.index;if(Array.isArray(o)){for(var s=0,c=o.length;s<c;s+=1)s!==u&&o[s].hide();if(this.focus(),this.setEventData(n,{sourceAnchor:a.sourceAnchor.clone(),targetAnchor:a.targetAnchor.clone(),sourceAnchorDef:i.cloneDeep(this.cell.prop(["source","anchor"])),targetAnchorDef:i.cloneDeep(this.cell.prop(["target","anchor"]))}),this.cell.startBatch("move-segment",{ui:!0,toolId:this.cid}),!r.stopPropagation){var l=this.normalizeEvent(n),f=this.graph.snapToGrid(l.clientX,l.clientY);a.notifyMouseDown(l,f.x,f.y)}}}},{key:"onHandleChanged",value:function(e){var t=e.e,n=this.options,r=this.cellView;n.removeRedundancies&&r.removeRedundantLinearVertices({ui:!0,toolId:this.cid});var i=this.normalizeEvent(t),o=this.graph.snapToGrid(i.clientX,i.clientY);this.render(),this.blur(),this.cell.stopBatch("move-segment",{ui:!0,toolId:this.cid}),n.stopPropagation||r.notifyMouseUp(i,o.x,o.y),r.checkMouseleave(i),n.onChanged&&n.onChanged({edge:r.cell,edgeView:r})}},{key:"updateHandle",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=this.options.precision||0,o=Math.abs(t.x-n.x)<i,a=Math.abs(t.y-n.y)<i;if(o||a){var u=new Dc(t,n);if(u.length()<this.options.threshold)e.hide();else{var s=u.getCenter(),c=o?"x":"y";s[c]+=r||0;var l=u.vector().vectorAngle(new Lc(1,0));e.updatePosition(s.x,s.y,l,this.cellView),e.show(),e.options.axis=c}}else e.hide()}},{key:"onRemove",value:function(){this.resetHandles()}}]),n}(gd.ToolItem);!function(e){var t=function(t){Object(P.a)(r,t);var n=Object(M.a)(r);function r(e){var t;return Object(T.a)(this,r),(t=n.call(this)).options=e,t.render(),t.delegateEvents({mousedown:"onMouseDown",touchstart:"onMouseDown"}),t}return Object(j.a)(r,[{key:"render",value:function(){this.container=sd.createElement("rect",!0);var t=this.options.attrs;if("function"===typeof t){var n=e.getDefaults();this.setAttrs(Object.assign(Object.assign({},n.attrs),t(this)))}else this.setAttrs(t);this.addClass(this.prefixClassName("edge-tool-segment"))}},{key:"updatePosition",value:function(e,t,n,r){var i=r.getClosestPoint(new Lc(e,t))||new Lc(e,t),o=c.createSVGMatrix().translate(i.x,i.y);if(i.equals({x:e,y:t}))o=o.rotate(n);else{var a=new Dc(e,t,i.x,i.y).vector().vectorAngle(new Lc(1,0));0!==a&&(a+=90),o=o.rotate(a)}this.setAttrs({transform:c.matrixToTransformString(o),cursor:n%180===0?"row-resize":"col-resize"})}},{key:"onMouseDown",value:function(e){this.options.guard(e)||(this.trigger("change",{e:e,handle:this}),e.stopPropagation(),e.preventDefault(),this.options.graph.view.undelegateEvents(),this.delegateDocumentEvents({mousemove:"onMouseMove",touchmove:"onMouseMove",mouseup:"onMouseUp",touchend:"onMouseUp",touchcancel:"onMouseUp"},e.data))}},{key:"onMouseMove",value:function(e){this.emit("changing",{e:e,handle:this})}},{key:"onMouseUp",value:function(e){this.emit("changed",{e:e,handle:this}),this.undelegateDocumentEvents(),this.options.graph.view.delegateEvents()}},{key:"show",value:function(){this.container.style.display=""}},{key:"hide",value:function(){this.container.style.display="none"}}]),r}(sd);e.Handle=t}(Md||(Md={})),(Pd=Md||(Md={})).config({name:"segments",precision:.5,threshold:40,snapRadius:10,stopPropagation:!0,removeRedundancies:!0,attrs:{width:20,height:8,x:-10,y:-4,rx:4,ry:4,fill:"#333",stroke:"#fff","stroke-width":2},createHandle:function(e){return new Pd.Handle(e)},anchor:Od});var Nd=function(e){Object(P.a)(n,e);var t=Object(M.a)(n);function n(){return Object(T.a)(this,n),t.apply(this,arguments)}return Object(j.a)(n,[{key:"type",get:function(){return this.options.type}},{key:"onRender",value:function(){c.addClass(this.container,this.prefixClassName("edge-tool-".concat(this.type,"-anchor"))),this.toggleArea(!1),this.update()}},{key:"update",value:function(){var e=this.type;return this.cellView.getTerminalView(e)?(this.updateAnchor(),this.updateArea(),this.container.style.display=""):this.container.style.display="none",this}},{key:"updateAnchor",value:function(){var e=this.childNodes;if(e){var t=e.anchor;if(t){var n=this.type,r=this.cellView,i=this.options,o=r.getTerminalAnchor(n),a=r.cell.prop([n,"anchor"]);t.setAttribute("transform","translate(".concat(o.x,", ").concat(o.y,")"));var u=a?i.customAnchorAttrs:i.defaultAnchorAttrs;u&&Object.keys(u).forEach(function(e){t.setAttribute(e,u[e])})}}}},{key:"updateArea",value:function(){var e=this.childNodes;if(e){var t=e.area;if(t){var n=this.type,r=this.cellView,i=r.getTerminalView(n);if(i){var o,a,u,s=i.cell,l=r.getTerminalMagnet(n),f=this.options.areaPadding||0;Number.isFinite(f)||(f=0),i.isEdgeElement(l)?(a=0,u=(o=i.getBBox()).getCenter()):(o=i.getUnrotatedBBoxOfElement(l),a=s.getAngle(),u=o.getCenter(),a&&u.rotate(-a,s.getBBox().getCenter())),o.inflate(f),c.attr(t,{x:-o.width/2,y:-o.height/2,width:o.width,height:o.height,transform:"translate(".concat(u.x,", ").concat(u.y,") rotate(").concat(a,")")})}}}}},{key:"toggleArea",value:function(e){if(this.childNodes){var t=this.childNodes.area;t&&(t.style.display=e?"":"none")}}},{key:"onMouseDown",value:function(e){this.guard(e)||(e.stopPropagation(),e.preventDefault(),this.graph.view.undelegateEvents(),this.options.documentEvents&&this.delegateDocumentEvents(this.options.documentEvents),this.focus(),this.toggleArea(this.options.restrictArea),this.cell.startBatch("move-anchor",{ui:!0,toolId:this.cid}))}},{key:"resetAnchor",value:function(e){var t=this.type,n=this.cell;e?n.prop([t,"anchor"],e,{rewrite:!0,ui:!0,toolId:this.cid}):n.removeProp([t,"anchor"],{ui:!0,toolId:this.cid})}},{key:"onMouseMove",value:function(e){var t=this.type,n=this.cellView,i=n.getTerminalView(t);if(null!=i){var o,a=this.normalizeEvent(e),u=i.cell,s=n.getTerminalMagnet(t),c=this.graph.coord.clientToLocalPoint(a.clientX,a.clientY),l=this.options.snap;if("function"===typeof l){var f=r.call(l,n,c,i,s,t,n,this);c=Lc.create(f)}if(this.options.restrictArea)if(i.isEdgeElement(s)){var h=i.getClosestPoint(c);h&&(c=h)}else{var d=i.getUnrotatedBBoxOfElement(s),p=u.getAngle(),v=u.getBBox().getCenter(),g=c.clone().rotate(p,v);d.containsPoint(g)||(c=d.getNearestPointToPoint(g).rotate(-p,v))}var y=this.options.anchor;"function"===typeof y&&(o=r.call(y,n,c,i,s,t,n,this)),this.resetAnchor(o),this.update()}}},{key:"onMouseUp",value:function(e){this.graph.view.delegateEvents(),this.undelegateDocumentEvents(),this.blur(),this.toggleArea(!1);var t=this.cellView;this.options.removeRedundancies&&t.removeRedundantLinearVertices({ui:!0,toolId:this.cid}),this.cell.stopBatch("move-anchor",{ui:!0,toolId:this.cid})}},{key:"onDblClick",value:function(){var e=this.options.resetAnchor;e&&this.resetAnchor(!0===e?void 0:e),this.update()}}]),n}(gd.ToolItem);(Nd||(Nd={})).config({tagName:"g",markup:[{tagName:"circle",selector:"anchor",attrs:{cursor:"pointer"}},{tagName:"rect",selector:"area",attrs:{"pointer-events":"none",fill:"none",stroke:"#33334F","stroke-dasharray":"2,4",rx:5,ry:5}}],events:{mousedown:"onMouseDown",touchstart:"onMouseDown",dblclick:"onDblClick"},documentEvents:{mousemove:"onMouseMove",touchmove:"onMouseMove",mouseup:"onMouseUp",touchend:"onMouseUp",touchcancel:"onMouseUp"},customAnchorAttrs:{"stroke-width":4,stroke:"#33334F",fill:"#FFFFFF",r:5},defaultAnchorAttrs:{"stroke-width":2,stroke:"#FFFFFF",fill:"#33334F",r:6},areaPadding:6,snapRadius:10,resetAnchor:!0,restrictArea:!0,removeRedundancies:!0,anchor:Od,snap:function(e,t,n,r,i,o){var a=o.options.snapRadius||0,u="source"===r,s=u?0:-1,c=this.cell.getVertexAt(s)||this.getTerminalAnchor(u?"target":"source");return c&&(Math.abs(c.x-e.x)<a&&(e.x=c.x),Math.abs(c.y-e.y)<a&&(e.y=c.y)),e}});var Rd=Nd.define({name:"source-anchor",type:"source"}),Ld=Nd.define({name:"target-anchor",type:"target"}),Id=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},Dd=function(e){Object(P.a)(n,e);var t=Object(M.a)(n);function n(){return Object(T.a)(this,n),t.apply(this,arguments)}return Object(j.a)(n,[{key:"type",get:function(){return this.options.type}},{key:"ratio",get:function(){return this.options.ratio}},{key:"init",value:function(){if(this.options.attrs){var e=this.options.attrs,t=e.class,n=Id(e,["class"]);this.setAttrs(n,this.container),t&&c.addClass(this.container,t)}}},{key:"onRender",value:function(){c.addClass(this.container,this.prefixClassName("edge-tool-".concat(this.type,"-arrowhead"))),this.update()}},{key:"update",value:function(){var e=this.ratio,t=this.cellView,n=t.getTangentAtRatio(e),r=n?n.start:t.getPointAtRatio(e),i=n&&n.vector().vectorAngle(new Lc(1,0))||0;if(!r)return this;var o=c.createSVGMatrix().translate(r.x,r.y).rotate(i);return c.transform(this.container,o,{absolute:!0}),this}},{key:"onMouseDown",value:function(e){if(!this.guard(e)){e.stopPropagation(),e.preventDefault();var t=this.cellView;if(t.can("arrowheadMovable")){t.cell.startBatch("move-arrowhead",{ui:!0,toolId:this.cid});var n=this.graph.snapToGrid(e.clientX,e.clientY),r=t.prepareArrowheadDragging(this.type,{x:n.x,y:n.y,options:Object.assign(Object.assign({},this.options),{toolId:this.cid})});this.cellView.setEventData(e,r),this.delegateDocumentEvents(this.options.documentEvents,e.data),t.graph.view.undelegateEvents(),this.container.style.pointerEvents="none"}this.focus()}}},{key:"onMouseMove",value:function(e){var t=this.normalizeEvent(e),n=this.graph.snapToGrid(t.clientX,t.clientY);this.cellView.onMouseMove(t,n.x,n.y),this.update()}},{key:"onMouseUp",value:function(e){this.undelegateDocumentEvents();var t=this.normalizeEvent(e),n=this.cellView,r=this.graph.snapToGrid(t.clientX,t.clientY);n.onMouseUp(t,r.x,r.y),this.graph.view.delegateEvents(),this.blur(),this.container.style.pointerEvents="",n.cell.stopBatch("move-arrowhead",{ui:!0,toolId:this.cid})}}]),n}(gd.ToolItem);(Dd||(Dd={})).config({tagName:"path",isSVGElement:!0,events:{mousedown:"onMouseDown",touchstart:"onMouseDown"},documentEvents:{mousemove:"onMouseMove",touchmove:"onMouseMove",mouseup:"onMouseUp",touchend:"onMouseUp",touchcancel:"onMouseUp"}});var Bd,Fd=Dd.define({name:"source-arrowhead",type:"source",ratio:0,attrs:{d:"M 10 -8 -10 0 10 8 Z",fill:"#333",stroke:"#fff","stroke-width":2,cursor:"move"}}),zd=Dd.define({name:"target-arrowhead",type:"target",ratio:1,attrs:{d:"M -10 -8 10 0 -10 8 Z",fill:"#333",stroke:"#fff","stroke-width":2,cursor:"move"}}),Vd=function(e){Object(P.a)(n,e);var t=Object(M.a)(n);function n(){var e;return Object(T.a)(this,n),(e=t.apply(this,arguments)).labelIndex=-1,e.distance=.5,e}return Object(j.a)(n,[{key:"onRender",value:function(){var e=this;this.graph.on("cell:dblclick",function(t){var n=t.e;t.cell===e.cell&&e.onCellDblClick(n)})}},{key:"createElement",value:function(){var e=[this.prefixClassName("".concat(this.cell.isEdge()?"edge":"node","-tool-editor")),this.prefixClassName("cell-tool-editor")];this.editor=gd.createElement("div",!1),this.addClass(e,this.editor),this.editor.contentEditable="true",this.container.appendChild(this.editor)}},{key:"removeElement",value:function(){this.undelegateDocumentEvents(),this.editor&&this.container.removeChild(this.editor)}},{key:"updateEditor",value:function(){var e=this.cell,t=this.editor,n=t.style;e.isNode()?this.updateNodeEditorTransform():e.isEdge()&&this.updateEdgeEditorTransform();var i,o=this.options.attrs;n.fontSize="".concat(o.fontSize,"px"),n.fontFamily=o.fontFamily,n.color=o.color,n.backgroundColor=o.backgroundColor;var a=this.options.getText;return"function"===typeof a&&(i=r.call(a,this.cellView,{cell:this.cell,index:this.labelIndex})),t.innerText=i||"",this.setCellText(""),this}},{key:"updateNodeEditorTransform",value:function(){var e=this.graph,t=this.cell,n=this.editor,r=Lc.create(),i=20,o="",a=this.options,s=a.x,c=a.y;if("undefined"!==typeof s&&"undefined"!==typeof c){var l=t.getBBox();s=u.normalizePercentage(s,l.width),c=u.normalizePercentage(c,l.height),r=l.topLeft.translate(s,c),i=l.width-2*s}else{var f=t.getBBox();r=f.center,i=f.width-4,o="translate(-50%, -50%)"}var h=e.scale(),d=n.style;r=e.localToGraph(r),d.left="".concat(r.x,"px"),d.top="".concat(r.y,"px"),d.transform="scale(".concat(h.sx,", ").concat(h.sy,") ").concat(o),d.minWidth="".concat(i,"px")}},{key:"updateEdgeEditorTransform",value:function(){if(this.event){var e=Lc.create(),t=20,n=this.graph,r=this.editor.style,i=this.event.target,o=i.parentElement;if(o&&c.hasClass(o,this.prefixClassName("edge-label"))){var a=o.getAttribute("data-index")||"0";this.labelIndex=parseInt(a,10);var u=o.getAttribute("transform"),s=c.parseTransformString(u).translation;e=new Lc(s.tx,s.ty),t=ph.getBBox(i).width}else{if(!this.options.labelAddable)return this;e=n.clientToLocal(Lc.create(this.event.clientX,this.event.clientY));var l=this.cellView.path.closestPointLength(e);this.distance=l,this.labelIndex=-1}e=n.localToGraph(e);var f=n.scale();r.left="".concat(e.x,"px"),r.top="".concat(e.y,"px"),r.minWidth="".concat(t,"px"),r.transform="scale(".concat(f.sx,", ").concat(f.sy,") translate(-50%, -50%)")}}},{key:"onDocumentMouseDown",value:function(e){if(e.target!==this.editor){var t=this.editor.innerText.replace(/\n$/,"")||"";this.setCellText(""!==t?t:null),this.removeElement()}}},{key:"onCellDblClick",value:function(e){e.stopPropagation(),this.event=e,this.createElement(),this.updateEditor(),this.autoFocus(),this.delegateDocumentEvents(this.options.documentEvents)}},{key:"onMouseDown",value:function(e){e.stopPropagation()}},{key:"autoFocus",value:function(){var e=this;setTimeout(function(){e.editor.focus(),e.selectText()})}},{key:"selectText",value:function(){if(window.getSelection){var e=document.createRange(),t=window.getSelection();e.selectNodeContents(this.editor),t.removeAllRanges(),t.addRange(e)}}},{key:"setCellText",value:function(e){var t=this.options.setText;"function"===typeof t&&r.call(t,this.cellView,{cell:this.cell,value:e,index:this.labelIndex,distance:this.distance})}},{key:"onRemove",value:function(){this.removeElement()}}]),n}(gd.ToolItem);(Vd||(Vd={})).config({tagName:"div",isSVGElement:!1,events:{mousedown:"onMouseDown"},documentEvents:{mousedown:"onDocumentMouseDown"}}),(Bd=Vd||(Vd={})).NodeEditor=Bd.define({attrs:{fontSize:14,fontFamily:"Arial, helvetica, sans-serif",color:"#000",backgroundColor:"#fff"},getText:function(e){return e.cell.attr("text/text")},setText:function(e){var t=e.cell,n=e.value;null!==n&&t.attr("text/text",n)}}),Bd.EdgeEditor=Bd.define({attrs:{fontSize:14,fontFamily:"Arial, helvetica, sans-serif",color:"#000",backgroundColor:"#fff"},labelAddable:!0,getText:function(e){var t=e.cell,n=e.index;return-1===n?"":t.prop("labels/".concat(n,"/attrs/label/text"))},setText:function(e){var t=e.cell,n=e.value,r=e.index,i=e.distance,o=t;-1===r?n&&o.appendLabel({position:{distance:i},attrs:{label:{text:n}}}):null!==n?o.prop("labels/".concat(r,"/attrs/label/text"),n):"number"===typeof r&&o.removeLabelAt(r)}});var Ud,Gd,Hd,Wd,qd=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};(Gd=Ud||(Ud={})).presets={boundary:Cd,button:Td,"button-remove":Td.Remove,"node-editor":Vd.NodeEditor},Gd.registry=al.create({type:"node tool",process:function(e,t){if("function"===typeof t)return t;var n=gd.ToolItem,r=t.inherit,i=qd(t,["inherit"]);if(r){var o=this.get(r);null==o?this.onNotFound(r,"inherited"):n=o}return null==i.name&&(i.name=e),n.define.call(n,i)}}),Gd.registry.register(Gd.presets,!0),(Wd=Hd||(Hd={})).presets={boundary:Cd,vertices:_d,segments:Md,button:Td,"button-remove":Td.Remove,"source-anchor":Rd,"target-anchor":Ld,"source-arrowhead":Fd,"target-arrowhead":zd,"edge-editor":Vd.EdgeEditor},Wd.registry=al.create({type:"edge tool",process:function(e,t){if("function"===typeof t)return t;var n=gd.ToolItem,r=t.inherit,i=qd(t,["inherit"]);if(r){var o=this.get(r);null==o?this.onNotFound(r,"inherited"):n=o}return null==i.name&&(i.name=e),n.define.call(n,i)}}),Wd.registry.register(Wd.presets,!0);var Xd=np("center"),Yd=np("topCenter"),$d=np("bottomCenter"),Jd=np("leftMiddle"),Qd=np("rightMiddle"),Kd=np("topLeft"),Zd=np("topRight"),ep=np("bottomLeft"),tp=np("bottomRight");function np(e){return function(t,n,r){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=i.rotate?t.getUnrotatedBBoxOfElement(n):t.getBBoxOfElement(n),a=o[e];a.x+=u.normalizePercentage(i.dx,o.width),a.y+=u.normalizePercentage(i.dy,o.height);var s=t.cell;return i.rotate?a.rotate(-s.getAngle(),s.getBBox().getCenter()):a}}function rp(e){return function(t,n,r,i){if(r instanceof Element){var o,a=this.graph.findViewByElem(r);if(a)if(a.isEdgeElement(r))o=ip(a,null!=i.fixedAt?i.fixedAt:"50%");else o=a.getBBoxOfElement(r).getCenter();else o=new Lc;return e.call(this,t,n,o,i)}return e.apply(this,arguments)}}function ip(e,t){var n=u.isPercentage(t),r="string"===typeof t?parseFloat(t):t;return n?e.getPointAtRatio(r/100):e.getPointAtLength(r)}var op,ap,up=rp(function(e,t,n,r){var i=e.cell.getAngle(),o=e.getBBoxOfElement(t),a=o.getCenter(),u=o.getTopLeft(),s=o.getBottomRight(),c=r.padding;if(Number.isFinite(c)||(c=0),u.y+c<=n.y&&n.y<=s.y-c){var l=n.y-a.y;a.x+=0===i||180===i?0:1*l/Math.tan(Pc.toRad(i)),a.y+=l}else if(u.x+c<=n.x&&n.x<=s.x-c){var f=n.x-a.x;a.y+=90===i||270===i?0:f*Math.tan(Pc.toRad(i)),a.x+=f}return a}),sp=function(e,t,n,r,i){var o=e.cell.getConnectionPoint(this.cell,i);return(r.dx||r.dy)&&o.translate(r.dx||0,r.dy||0),o},cp=rp(function(e,t,n,r){var i,o,a=0,u=e.cell;r.rotate?(i=e.getUnrotatedBBoxOfElement(t),o=u.getBBox().getCenter(),a=u.getAngle()):i=e.getBBoxOfElement(t);var s=r.padding;null!=s&&Number.isFinite(s)&&i.inflate(s),r.rotate&&n.rotate(a,o);var c,l=i.getNearestSideToPoint(n);switch(l){case"left":c=i.getLeftMiddle();break;case"right":c=i.getRightMiddle();break;case"top":c=i.getTopCenter();break;case"bottom":c=i.getBottomCenter()}var f=r.direction;return"H"===f?"top"!==l&&"bottom"!==l||(c=n.x<=i.x+i.width?i.getLeftMiddle():i.getRightMiddle()):"V"===f&&(c=n.y<=i.y+i.height?i.getTopCenter():i.getBottomCenter()),r.rotate?c.rotate(-a,o):c});(ap=op||(op={})).presets=w,ap.registry=al.create({type:"node endpoint"}),ap.registry.register(ap.presets,!0);var lp,fp,hp=function(e,t,n,r){var i=null!=r.ratio?r.ratio:.5;return i>1&&(i/=100),e.getPointAtRatio(i)},dp=function(e,t,n,r){var i=null!=r.length?r.length:20;return e.getPointAtLength(i)},pp=function(e,t,n,r){var i=e.getClosestPoint(n);return null!=i?i:new Lc},vp=rp(pp),gp=rp(function(e,t,n,i){var o=e.getConnection(),a=e.getConnectionSubdivisions(),u=new Dc(n.clone().translate(0,1e6),n.clone().translate(0,-1e6)),s=new Dc(n.clone().translate(1e6,0),n.clone().translate(-1e6,0)),c=u.intersect(o,{segmentSubdivisions:a}),l=s.intersect(o,{segmentSubdivisions:a}),f=[];return c&&f.push.apply(f,Object(N.a)(c)),l&&f.push.apply(f,Object(N.a)(l)),f.length>0?n.closest(f):null!=i.fallbackAt?ip(e,i.fallbackAt):r.call(pp,this,e,t,n,i)});function yp(e,t,n){var r;if("object"===typeof n){if(Number.isFinite(n.y)){var i=new Dc(t,e).parallel(n.y);t=i.start,e=i.end}r=n.x}else r=n;if(null==r||!Number.isFinite(r))return e;var o=e.distance(t);return 0===r&&o>0?e:e.move(t,-Math.min(r,o-1))}function mp(e){var t=e.getAttribute("stroke-width");return null===t?0:parseFloat(t)||0}(fp=lp||(lp={})).presets=E,fp.registry=al.create({type:"edge endpoint"}),fp.registry.register(fp.presets,!0);var bp=function(e,t,n,r){var i=t.getBBoxOfElement(n);r.stroked&&i.inflate(mp(n)/2);var o=e.intersect(i);return yp(o&&o.length?e.start.closest(o):e.end,e.start,r.offset)},wp=function(e,t,n,i,o){var a=t.cell,u=a.isNode()?a.getAngle():0;if(0===u)return r.call(bp,this,e,t,n,i,o);var s=t.getUnrotatedBBoxOfElement(n);i.stroked&&s.inflate(mp(n)/2);var c=s.getCenter(),l=e.clone().rotate(u,c),f=l.setLength(1e6).intersect(s);return yp(f&&f.length?l.start.closest(f).rotate(-u,c):e.end,e.start,i.offset)},Ep=function(e,t,n,r){var o,a,u=e.end,s=r.selector;if(o="string"===typeof s?t.findOne(s):Array.isArray(s)?i.getByPath(n,s):function(e){if(null==e)return null;var t=e;do{var n=t.tagName;if("string"!==typeof n)return null;if("G"===(n=n.toUpperCase()))t=t.firstElementChild;else{if("TITLE"!==n)break;t=t.nextElementSibling}}while(t);return t}(n),!c.isSVGGraphicsElement(o)){if(o===n||!c.isSVGGraphicsElement(n))return u;o=n}var l,f=t.getShapeOfElement(o),h=t.getMatrixOfElement(o),d=t.getRootTranslatedMatrix(),p=t.getRootRotatedMatrix(),v=d.multiply(p).multiply(h),g=v.inverse(),y=ph.transformLine(e,g),m=y.start.clone(),b=t.getDataOfElement(o);if(!1===r.insideout){null==b.shapeBBox&&(b.shapeBBox=f.bbox());var w=b.shapeBBox;if(null!=w&&w.containsPoint(m))return u}if(!0===r.extrapolate&&y.setLength(1e6),ol.isPath(f)){var E=r.precision||2;null==b.segmentSubdivisions&&(b.segmentSubdivisions=f.getSegmentSubdivisions({precision:E})),l={precision:E,segmentSubdivisions:b.segmentSubdivisions},a=y.intersect(f,l)}else a=y.intersect(f);a?Array.isArray(a)&&(a=m.closest(a)):!0===r.sticky&&(a=Ic.isRectangle(f)?f.getNearestPointToPoint(m):Bc.isEllipse(f)?f.intersectsWithLineFromCenterToPoint(m):f.closestPoint(m,l));var x=a?ph.transformPoint(a,v):u,k=r.offset||0;return!1!==r.stroked&&("object"===typeof k?(null==(k=Object.assign({},k)).x&&(k.x=0),k.x+=mp(o)/2):k+=mp(o)/2),yp(x,e.start,k)};var xp,kp,Op=function(e,t,n,r){var i=r.alignOffset,o=r.align;return o&&function(e,t){var n,r,i,o,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,u=e.start,s=e.end;switch(t){case"left":o="x",n=s,r=u,i=-1;break;case"right":o="x",n=u,r=s,i=1;break;case"top":o="y",n=s,r=u,i=-1;break;case"bottom":o="y",n=u,r=s,i=1;break;default:return}u[o]<s[o]?n[o]=r[o]:r[o]=n[o],Number.isFinite(a)&&(n[o]+=i*a,r[o]+=i*a)}(e,o,i),yp(e.end,e.start,r.offset)};(kp=xp||(xp={})).presets=x,kp.registry=al.create({type:"connection point"}),kp.registry.register(kp.presets,!0);var Sp=function(e){return Object(N.a)(e)},Ap=function(e,t,n){var r,i,o,a=t.side||"bottom",s=u.normalizeSides(t.padding||40),c=n.sourceBBox,l=n.targetBBox,f=c.getCenter(),h=l.getCenter();switch(a){case"top":o=-1,r="y",i="height";break;case"left":o=-1,r="x",i="width";break;case"right":o=1,r="x",i="width";break;case"bottom":default:o=1,r="y",i="height"}return f[r]+=o*(c[i]/2+s[a]),h[r]+=o*(l[i]/2+s[a]),o*(f[r]-h[r])>0?h[r]=f[r]:f[r]=h[r],[f.toJSON()].concat(Object(N.a)(e),[h.toJSON()])};function Tp(e){return new Ic(e.x,e.y,0,0)}function jp(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=u.normalizeSides(e.padding||20);return{x:-t.left,y:-t.top,width:t.left+t.right,height:t.top+t.bottom}}function Cp(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e.sourceBBox.clone().moveAndExpand(jp(t))}function _p(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e.targetBBox.clone().moveAndExpand(jp(t))}var Pp,Mp=function(e,t,n){var r=Cp(n,t),i=_p(n,t),o=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e.sourceAnchor?e.sourceAnchor:Cp(e,t).getCenter()}(n,t),a=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e.targetAnchor?e.targetAnchor:_p(e,t).getCenter()}(n,t);r=r.union(Tp(o)),i=i.union(Tp(a));var u=e.map(function(e){return Lc.create(e)});u.unshift(o),u.push(a);for(var s=null,c=[],l=0,f=u.length-1;l<f;l+=1){var h=null,d=u[l],p=u[l+1],v=null!=Pp.getBearing(d,p);if(0===l)l+1===f?r.intersectsWithRect(i.clone().inflate(1))?h=Pp.insideNode(d,p,r,i):v||(h=Pp.nodeToNode(d,p,r,i)):r.containsPoint(p)?h=Pp.insideNode(d,p,r,Tp(p).moveAndExpand(jp(t))):v||(h=Pp.nodeToVertex(d,p,r));else if(l+1===f){var g=v&&Pp.getBearing(p,d)===s;i.containsPoint(d)||g?h=Pp.insideNode(d,p,Tp(d).moveAndExpand(jp(t)),i,s):v||(h=Pp.vertexToNode(d,p,i,s))}else v||(h=Pp.vertexToVertex(d,p,s));h?(c.push.apply(c,Object(N.a)(h.points)),s=h.direction):s=Pp.getBearing(d,p),l+1<f&&c.push(p)}return c};!function(e){var t={N:"S",S:"N",E:"W",W:"E"},n={N:-Math.PI/2*3,S:-Math.PI/2,E:0,W:Math.PI};function r(e,t,n){var r=new Lc(e.x,t.y);return n.containsPoint(r)&&(r=new Lc(t.x,e.y)),r}function i(e,t){return e["W"===t||"E"===t?"width":"height"]}function a(e,t){return e.x===t.x?e.y>t.y?"N":"S":e.y===t.y?e.x>t.x?"W":"E":null}function u(e,n,r){var i=new Lc(e.x,n.y),o=new Lc(n.x,e.y),u=a(e,i),s=a(e,o),c=r?t[r]:null,l=u===r||u!==c&&(s===c||s!==r)?i:o;return{points:[l],direction:a(l,n)}}function s(e,t,n){var i=r(e,t,n);return{points:[i],direction:a(i,t)}}e.getBBoxSize=i,e.getBearing=a,e.vertexToVertex=u,e.nodeToVertex=s,e.vertexToNode=function(e,t,n,u){var s,c=[new Lc(e.x,t.y),new Lc(t.x,e.y)],l=c.filter(function(e){return!n.containsPoint(e)}),f=l.filter(function(t){return a(t,e)!==u});if(f.length>0)return{points:[s=(s=f.filter(function(t){return a(e,t)===u}).pop())||f[0]],direction:a(s,t)};s=o.difference(c,l)[0];var h=Lc.create(t).move(s,-i(n,u)/2);return{points:[r(h,e,n),h],direction:a(h,t)}},e.nodeToNode=function(e,t,n,r){var o=s(t,e,r),c=o.points[0];if(n.containsPoint(c)){var l=(o=s(e,t,n)).points[0];if(r.containsPoint(l)){var f=Lc.create(e).move(l,-i(n,a(e,l))/2),h=Lc.create(t).move(c,-i(r,a(t,c))/2),d=new Dc(f,h).getCenter(),p=s(e,d,n),v=u(d,t,p.direction);o.points=[p.points[0],v.points[0]],o.direction=v.direction}}return o},e.insideNode=function(e,t,i,o,u){var s,c,l,f,h=i.union(o).inflate(1),d=h.getCenter(),p=d.distance(t)>d.distance(e),v=p?t:e,g=p?e:t;return u?(s=Lc.fromPolar(h.width+h.height,n[u],v),s=h.getNearestPointToPoint(s).move(s,-1)):s=h.getNearestPointToPoint(v).move(v,1),c=r(s,g,h),s.round().equals(c.round())?(c=Lc.fromPolar(h.width+h.height,Pc.toRad(s.theta(v))+Math.PI/2,g),l=r(s,c=h.getNearestPointToPoint(c).move(g,1).round(),h),f=p?[c,l,s]:[s,l,c]):f=p?[c,s]:[s,c],{points:f,direction:a(p?s:c,t)}}}(Pp||(Pp={}));var Np={step:10,maxLoopCount:2e3,precision:1,maxDirectionChange:90,perpendicular:!0,excludeTerminals:[],excludeNodes:[],excludeShapes:[],startDirections:["top","right","bottom","left"],endDirections:["top","right","bottom","left"],directionMap:{top:{x:0,y:-1},right:{x:1,y:0},bottom:{x:0,y:1},left:{x:-1,y:0}},cost:function(){return Rp(this.step,this)},directions:function(){var e=Rp(this.step,this),t=Rp(this.cost,this);return[{cost:t,offsetX:e,offsetY:0},{cost:t,offsetX:-e,offsetY:0},{cost:t,offsetX:0,offsetY:e},{cost:t,offsetX:0,offsetY:-e}]},penalties:function(){var e=Rp(this.step,this);return{0:0,45:e/2,90:e/2}},paddingBox:function(){var e=Rp(this.step,this);return{x:-e,y:-e,width:2*e,height:2*e}},fallbackRouter:Mp,draggingRouter:null,snapToGrid:!0};function Rp(e,t){return"function"===typeof e?e.call(t):e}var Lp=function(){function e(){Object(T.a)(this,e),this.items=[],this.hash={},this.values={}}return Object(j.a)(e,[{key:"add",value:function(e,t){var n=this;this.hash[e]?this.items.splice(this.items.indexOf(e),1):this.hash[e]=1,this.values[e]=t;var r=o.sortedIndexBy(this.items,e,function(e){return n.values[e]});this.items.splice(r,0,e)}},{key:"pop",value:function(){var e=this.items.shift();return e&&(this.hash[e]=2),e}},{key:"isOpen",value:function(e){return 1===this.hash[e]}},{key:"isClose",value:function(e){return 2===this.hash[e]}},{key:"isEmpty",value:function(){return 0===this.items.length}}]),e}(),Ip=function(){function e(t){Object(T.a)(this,e),this.options=t,this.mapGridSize=100,this.map={}}return Object(j.a)(e,[{key:"build",value:function(e,t){var n=this.options,r=n.excludeTerminals.reduce(function(n,r){var i=t[r];if(i){var o=e.getCell(i.cell);o&&n.push(o)}return n},[]),i=[],a=e.getCell(t.getSourceCellId());a&&(i=o.union(i,a.getAncestors().map(function(e){return e.id})));var u=e.getCell(t.getTargetCellId());u&&(i=o.union(i,u.getAncestors().map(function(e){return e.id})));var s=this.mapGridSize;return e.getNodes().reduce(function(e,t){var o=r.some(function(e){return e.id===t.id}),a=!!t.shape&&n.excludeShapes.includes(t.shape),u=n.excludeNodes.some(function(e){return"string"===typeof e?t.id===e:e===t}),c=i.includes(t.id);if(!(a||o||u||c))for(var l=t.getBBox().moveAndExpand(n.paddingBox),f=l.getOrigin().snapToGrid(s),h=l.getCorner().snapToGrid(s),d=f.x;d<=h.x;d+=s)for(var p=f.y;p<=h.y;p+=s){var v=new Lc(d,p).toString();null==e[v]&&(e[v]=[]),e[v].push(l)}return e},this.map),this}},{key:"isAccessible",value:function(e){var t=e.clone().snapToGrid(this.mapGridSize).toString(),n=this.map[t];return!n||n.every(function(t){return!t.containsPoint(e)})}}]),e}();function Dp(e,t){var n=e.sourceBBox.clone();return t&&t.paddingBox?n.moveAndExpand(t.paddingBox):n}function Bp(e,t){var n=e.targetBBox.clone();return t&&t.paddingBox?n.moveAndExpand(t.paddingBox):n}function Fp(e,t){return e.sourceAnchor?e.sourceAnchor:Dp(e,t).getCenter()}function zp(e,t,n,r,i){var o=360/n,a=e.theta(function(e,t,n,r){var i=r.step,o=t.x-e.x,a=t.y-e.y,u=o/n.x,s=a/n.y,c=u*i,l=s*i;return new Lc(e.x+c,e.y+l)}(e,t,r,i)),u=Pc.normalize(a+o/2);return o*Math.floor(u/o)}function Vp(e,t){var n=Math.abs(e-t);return n>180?360-n:n}function Up(e,t){if(!e)return t;var n=Math.abs(e),r=Math.round(n/t);return r?t+(n-r*t)/r:n}function Gp(e,t){return e.round(t)}function Hp(e,t,n){return Gp(function(e,t){var n=t.source,r=Mc.snapToGrid(e.x-n.x,t.x)+n.x,i=Mc.snapToGrid(e.y-n.y,t.y)+n.y;return new Lc(r,i)}(e.clone(),t),n)}function Wp(e){return e.toString()}function qp(e){return new Lc(0===e.x?0:Math.abs(e.x)/e.x,0===e.y?0:Math.abs(e.y)/e.y)}function Xp(e,t){for(var n=1/0,r=0,i=t.length;r<i;r+=1){var o=e.manhattanDistance(t[r]);o<n&&(n=o)}return n}function Yp(e,t,n,r,i){var o=i.precision,a=i.directionMap,u=e.diff(t.getCenter()),s=Object.keys(a).reduce(function(i,s){if(n.includes(s)){for(var c,l=a[s],f=new Lc(e.x+l.x*(Math.abs(u.x)+t.width),e.y+l.y*(Math.abs(u.y)+t.height)),h=new Dc(e,f).intersect(t)||[],d=null,p=0;p<h.length;p+=1){var v=h[p],g=e.squaredDistance(v);(null==c||g>c)&&(c=g,d=v)}if(d){var y=Hp(d,r,o);t.containsPoint(y)&&(y=Hp(y.translate(l.x*r.x,l.y*r.y),r,o)),i.push(y)}}return i},[]);return t.containsPoint(e)||s.push(Hp(e,r,o)),s}function $p(e,t,n,r,i){for(var o,a=[],u=qp(i.diff(n)),s=Wp(n),c=e[s];c;){var l=qp((o=t[s]).diff(c));l.equals(u)||(a.unshift(o),u=l),c=e[s=Wp(c)]}var f=t[s];return qp(f.diff(r)).equals(u)||a.unshift(f),a}function Jp(e,t,n,i,o){var a,u,s=o.precision;a=Ic.isRectangle(t)?Gp(Fp(e,o).clone(),s):Gp(t.clone(),s),u=Ic.isRectangle(n)?Gp(function(e,t){return e.targetAnchor?e.targetAnchor:Bp(e,t).getCenter()}(e,o).clone(),s):Gp(n.clone(),s);var c,l,f,h,d,p=(c=o.step,f=u,{source:(l=a).clone(),x:Up(f.x-l.x,c),y:Up(f.y-l.y,c)}),v=a,g=u;if(h=Ic.isRectangle(t)?Yp(v,t,o.startDirections,p,o):[v],d=Ic.isRectangle(n)?Yp(u,n,o.endDirections,p,o):[g],h=h.filter(function(e){return i.isAccessible(e)}),d=d.filter(function(e){return i.isAccessible(e)}),h.length>0&&d.length>0){for(var y=new Lp,m={},b={},w={},E=0,x=h.length;E<x;E+=1){var k=h[E],O=Wp(k);y.add(O,Xp(k,d)),m[O]=k,w[O]=0}for(var S,A,T=o.previousDirectionAngle,j=void 0===T,C=function(e,t){var n=t.step;return t.directions.forEach(function(t){t.gridOffsetX=t.offsetX/n*e.x,t.gridOffsetY=t.offsetY/n*e.y}),t.directions}(p,o),_=C.length,P=d.reduce(function(e,t){var n=Wp(t);return e.push(n),e},[]),M=Lc.equalPoints(h,d),N=o.maxLoopCount;!y.isEmpty()&&N>0;){var R=y.pop(),L=m[R],I=b[R],D=w[R],B=L.equals(v),F=null==I,z=void 0;if(z=F?j?B?null:zp(v,L,_,p,o):T:zp(I,L,_,p,o),!(F&&M)&&P.indexOf(R)>=0)return o.previousDirectionAngle=z,$p(b,m,L,v,g);for(var V=0;V<_;V+=1){var U=(S=C[V]).angle;if(A=Vp(z,U),j&&B||!(A>o.maxDirectionChange)){var G=Hp(L.clone().translate(S.gridOffsetX||0,S.gridOffsetY||0),p,s),H=Wp(G);if(!y.isClose(H)&&i.isAccessible(G)){if(P.indexOf(H)>=0)if(!G.equals(g))if(Vp(U,zp(G,g,_,p,o))>o.maxDirectionChange)continue;var W=D+S.cost+(B?0:o.penalties[A]);(!y.isOpen(H)||W<w[H])&&(m[H]=G,b[H]=L,w[H]=W,y.add(H,W+Xp(G,d)))}}}N-=1}}return o.fallbackRoute?r.call(o.fallbackRoute,this,v,g,o):null}var Qp=function(e,t,n){for(var i,o,a=function(e){var t=Object.keys(e).reduce(function(t,n){var r=t;return r[n]="fallbackRouter"===n||"draggingRouter"===n||"fallbackRoute"===n?e[n]:Rp(e[n],e),t},{});if(t.padding){var n=u.normalizeSides(t.padding);t.paddingBox={x:-n.left,y:-n.top,width:n.left+n.right,height:n.top+n.bottom}}return t.directions.forEach(function(e){var t=new Lc(0,0),n=new Lc(e.offsetX,e.offsetY);e.angle=Pc.normalize(t.theta(n))}),t}(t),s=Dp(n,a),c=Bp(n,a),l=Fp(n,a),f=new Ip(a).build(n.graph.model,n.cell),h=e.map(function(e){return Lc.create(e)}),d=[],p=l,v=0,g=h.length;v<=g;v+=1){var y=null;if(i=o||s,null==(o=h[v])){o=c;var m=n.cell;if((null==m.getSourceCellId()||null==m.getTargetCellId())&&"function"===typeof a.draggingRouter){var b=i===s?l:i,w=o.getOrigin();y=r.call(a.draggingRouter,n,b,w,a)}}if(null==y&&(y=Jp(n,i,o,f,a)),null===y)return console.warn("Unable to execute manhattan algorithm, use orth instead"),r.call(a.fallbackRouter,this,e,a,n);var E=y[0];E&&E.equals(p)&&y.shift(),p=y[y.length-1]||p,d.push.apply(d,Object(N.a)(y))}return a.snapToGrid?function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10;if(e.length<=1)return e;for(var n=0,r=e.length;n<r-1;n+=1){var i=e[n],o=e[n+1];if(i.x===o.x){var a=t*Math.round(i.x/t);i.x!==a&&(i.x=a,o.x=a)}else if(i.y===o.y){var u=t*Math.round(i.y/t);i.y!==u&&(i.y=u,o.y=u)}}return e}(d,n.graph.grid.getGridSize()):d},Kp=function(e,t,n){return r.call(Qp,this,e,Object.assign(Object.assign({},Np),t),n)},Zp={maxDirectionChange:45,directions:function(){var e=Rp(this.step,this),t=Rp(this.cost,this),n=Math.ceil(Math.sqrt(e*e<<1));return[{cost:t,offsetX:e,offsetY:0},{cost:n,offsetX:e,offsetY:e},{cost:t,offsetX:0,offsetY:e},{cost:n,offsetX:-e,offsetY:e},{cost:t,offsetX:-e,offsetY:0},{cost:n,offsetX:-e,offsetY:-e},{cost:t,offsetX:0,offsetY:-e},{cost:n,offsetX:e,offsetY:-e}]},fallbackRoute:function(e,t,n){var r=e.theta(t),i=[],o={x:t.x,y:e.y},a={x:e.x,y:t.y};if(r%180>90){var u=o;o=a,a=u}var s=r%90<45?o:a,c=new Dc(e,s),l=90*Math.ceil(r/90),f=Lc.fromPolar(c.squaredLength(),Pc.toRad(l+135),s),h=new Dc(t,f),d=c.intersectsWithLine(h),p=d||t,v=d?p:e,g=360/n.directions.length,y=v.theta(t),m=Pc.normalize(y+g/2),b=g*Math.floor(m/g);return n.previousDirectionAngle=b,p&&i.push(p.round()),i.push(t),i}},ev=function(e,t,n){return r.call(Kp,this,e,Object.assign(Object.assign({},Zp),t),n)},tv=function(e,t,n){var r,i,o,a=t.offset||32,u=null==t.min?16:t.min,s=0,c=t.direction,l=n.sourceBBox,f=n.targetBBox,h=l.getCenter(),d=f.getCenter();if("number"===typeof a&&(s=a),null==c){var p=f.left-l.right,v=f.top-l.bottom;p>=0&&v>=0?c=p>=v?"L":"T":p<=0&&v>=0?c=(p=l.left-f.right)>=0&&p>=v?"R":"T":p>=0&&v<=0?c=(v=l.top-f.bottom)>=0?p>=v?"L":"B":"L":(p=l.left-f.right,v=l.top-f.bottom,c=p>=0&&v>=0?p>=v?"R":"B":p<=0&&v>=0?"B":p>=0&&v<=0?"R":Math.abs(p)>Math.abs(v)?"R":"B")}"H"===c?c=d.x-h.x>=0?"L":"R":"V"===c&&(c=d.y-h.y>=0?"T":"B"),"center"===a&&("L"===c?s=(f.left-l.right)/2:"R"===c?s=(l.left-f.right)/2:"T"===c?s=(f.top-l.bottom)/2:"B"===c&&(s=(l.top-f.bottom)/2));var g="L"===c||"R"===c;if(g){if(d.y===h.y)return Object(N.a)(e);o="L"===c?1:-1,r="x",i="width"}else{if(d.x===h.x)return Object(N.a)(e);o="T"===c?1:-1,r="y",i="height"}var y=h.clone(),m=d.clone();if(y[r]+=o*(l[i]/2+s),m[r]-=o*(f[i]/2+s),g){var b=y.x,w=m.x,E=l.width/2+u,x=f.width/2+u;d.x>h.x?w<=b&&(y.x=Math.max(w,h.x+E),m.x=Math.min(b,d.x-x)):w>=b&&(y.x=Math.min(w,h.x-E),m.x=Math.max(b,d.x+x))}else{var k=y.y,O=m.y,S=l.height/2+u,A=f.height/2+u;d.y>h.y?O<=k&&(y.y=Math.max(O,h.y+S),m.y=Math.min(k,d.y-A)):O>=k&&(y.y=Math.min(O,h.y-S),m.y=Math.max(k,d.y+A))}return[y.toJSON()].concat(Object(N.a)(e),[m.toJSON()])};function nv(e,t){if(null!=t&&!1!==t){var n="boolean"===typeof t?0:t;if(n>0){var r=Lc.create(e[1]).move(e[2],n),i=Lc.create(e[1]).move(e[0],n);return[r.toJSON()].concat(Object(N.a)(e),[i.toJSON()])}var o=e[1];return[Object.assign({},o)].concat(Object(N.a)(e),[Object.assign({},o)])}return e}var rv,iv,ov=function(e,t,n){var r=t.width||50,i=(t.height||80)/2,o=t.angle||"auto",a=n.sourceAnchor,u=n.targetAnchor,s=n.sourceBBox,c=n.targetBBox;if(a.equals(u)){var l=function(e){var t=Pc.toRad(e),n=Math.sin(t),o=Math.cos(t),u=new Lc(a.x+o*r,a.y+n*r),s=new Lc(u.x-o*i,u.y-n*i),c=s.clone().rotate(-90,u),l=s.clone().rotate(90,u);return[c.toJSON(),u.toJSON(),l.toJSON()]},f=function(e){var t=a.clone().move(e,-1),n=new Dc(t,e);return!s.containsPoint(e)&&!s.intersectsWithLine(n)},h=[0,90,180,270,45,135,225,315];if("number"===typeof o)return nv(l(o),t.merge);var d=s.getCenter();if(d.equals(a))return nv(l(0),t.merge);var p=d.angleBetween(a,d.clone().translate(1,0)),v=l(p);if(f(v[1]))return nv(v,t.merge);for(var g=1,y=h.length;g<y;g+=1)if(f((v=l(p+h[g]))[1]))return nv(v,t.merge);return nv(v,t.merge)}var m=new Dc(a,u),b=m.parallel(-r),w=b.getCenter(),E=b.start.clone().move(b.end,i),x=b.end.clone().move(b.start,i),k=m.parallel(-1),O=new Dc(k.start,w),S=new Dc(k.end,w);if((s.containsPoint(w)||c.containsPoint(w)||s.intersectsWithLine(O)||s.intersectsWithLine(S)||c.intersectsWithLine(O)||c.intersectsWithLine(S))&&(w=(b=m.parallel(r)).getCenter(),E=b.start.clone().move(b.end,i),x=b.end.clone().move(b.start,i)),t.merge){var A=new Dc(a,u),T=new Dc(w,A.center).setLength(Number.MAX_SAFE_INTEGER),j=s.intersectsWithLine(T),C=c.intersectsWithLine(T),_=j?Array.isArray(j)?j:[j]:[];C&&(Array.isArray(C)?_.push.apply(_,Object(N.a)(C)):_.push(C));var P=A.center.closest(_);P?(n.sourceAnchor=P.clone(),n.targetAnchor=P.clone()):(n.sourceAnchor=A.center.clone(),n.targetAnchor=A.center.clone())}return nv([E.toJSON(),w.toJSON(),x.toJSON()],t.merge)};(iv=rv||(rv={})).presets=k,iv.registry=al.create({type:"router"}),iv.registry.register(iv.presets,!0);var av,uv,sv=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=[e].concat(Object(N.a)(n),[t]),o=new qc(i),a=new ol(o);return r.raw?a:a.serialize()},cv=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=3===n.length?0:1,o=Lc.create(n[0+i]),a=Lc.create(n[2+i]),u=Lc.create(n[1+i]);if(!Lc.equals(e,t)){var s=new Lc((e.x+t.x)/2,(e.y+t.y)/2),c=s.angleBetween(Lc.create(e).rotate(90,s),u);c>1&&(o.rotate(180-c,s),a.rotate(180-c,s),u.rotate(180-c,s))}var l="\n     M ".concat(e.x," ").concat(e.y,"\n     Q ").concat(o.x," ").concat(o.y," ").concat(u.x," ").concat(u.y,"\n     Q ").concat(a.x," ").concat(a.y," ").concat(t.x," ").concat(t.y,"\n  ");return r.raw?ol.parse(l):l},lv=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=new ol;i.appendSegment(ol.createSegment("M",e));for(var o,a,u=r.radius||10,s=0,c=n.length;s<c;s+=1){var l=Lc.create(n[s]),f=n[s-1]||e,h=n[s+1]||t;o=a||l.distance(f)/2,a=l.distance(h)/2;var d=-Math.min(u,o),p=-Math.min(u,a),v=l.clone().move(f,d).round(),g=l.clone().move(h,p).round(),y=new Lc(1/3*v.x+2/3*l.x,2/3*l.y+1/3*v.y),m=new Lc(1/3*g.x+2/3*l.x,2/3*l.y+1/3*g.y);i.appendSegment(ol.createSegment("L",v)),i.appendSegment(ol.createSegment("C",y,m,g))}return i.appendSegment(ol.createSegment("L",t)),r.raw?i:i.serialize()},fv=function(e,t,n){var r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=i.direction;if(n&&0!==n.length){var a=[e].concat(Object(N.a)(n),[t]),u=Xc.throughPoints(a);r=new ol(u)}else if((r=new ol).appendSegment(ol.createSegment("M",e)),o||(o=Math.abs(e.x-t.x)>=Math.abs(e.y-t.y)?"H":"V"),"H"===o){var s=(e.x+t.x)/2;r.appendSegment(ol.createSegment("C",s,e.y,s,t.y,t.x,t.y))}else{var c=(e.y+t.y)/2;r.appendSegment(ol.createSegment("C",e.x,c,t.x,c,t.x,t.y))}return i.raw?r:r.serialize()},hv=1,dv=1/3,pv=2/3;function vv(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=[e].concat(Object(N.a)(n),[t]),i=[];return r.forEach(function(e,t){var n=r[t+1];null!=n&&i.push(new Dc(e,n))}),i}function gv(e,t){return new Dc(e,t).squaredLength()}function yv(e,t,n,r){var i,o=new ol;return i=ol.createSegment("M",e[0].start),o.appendSegment(i),e.forEach(function(a,u){if(av.includes(a)){var s,c,l,f;if("arc"===n){s=-90,((c=a.start.diff(a.end)).x<0||0===c.x&&c.y<0)&&(s+=180);var h,d=a.getCenter(),p=new Dc(d,a.end).rotate(s,d);l=(h=new Dc(a.start,d)).pointAt(2/3).rotate(s,a.start),f=p.pointAt(1/3).rotate(-s,p.end),i=ol.createSegment("C",l,f,p.end),o.appendSegment(i),h=new Dc(d,a.end),l=p.pointAt(1/3).rotate(s,p.end),f=h.pointAt(1/3).rotate(-s,a.end),i=ol.createSegment("C",l,f,a.end),o.appendSegment(i)}else if("gap"===n)i=ol.createSegment("M",a.end),o.appendSegment(i);else if("cubic"===n){s=a.start.theta(a.end);var v=.6*t,g=1.35*t;((c=a.start.diff(a.end)).x<0||0===c.x&&c.y<0)&&(g*=-1),l=new Lc(a.start.x+v,a.start.y+g).rotate(s,a.start),f=new Lc(a.end.x-v,a.end.y+g).rotate(s,a.end),i=ol.createSegment("C",l,f,a.end),o.appendSegment(i)}}else{var y=e[u+1];0===r||!y||av.includes(y)?(i=ol.createSegment("L",a.end),o.appendSegment(i)):function(e,t,n,r,i){var o,a=n.distance(r)/2,u=n.distance(i)/2,s=-Math.min(e,a),c=-Math.min(e,u),l=n.clone().move(r,s).round(),f=n.clone().move(i,c).round(),h=new Lc(dv*l.x+pv*n.x,pv*n.y+dv*l.y),d=new Lc(dv*f.x+pv*n.x,pv*n.y+dv*f.y);o=ol.createSegment("L",l),t.appendSegment(o),o=ol.createSegment("C",h,d,f),t.appendSegment(o)}(r,o,a.end,a.start,y.end)}}),o}var mv,bv,wv=function(e,t,n){var r=this,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};av=[],uv=[],function(e){var t=e.graph._jumpOverUpdateList;if(null==t&&(t=e.graph._jumpOverUpdateList=[],e.graph.on("cell:mouseup",function(){var t=e.graph._jumpOverUpdateList;setTimeout(function(){for(var e=0;e<t.length;e+=1)t[e].update()})}),e.graph.on("model:reseted",function(){t=e.graph._jumpOverUpdateList=[]})),t.indexOf(e)<0){t.push(e);var n=function(){return t.splice(t.indexOf(e),1)};e.cell.once("change:connector",n),e.cell.once("removed",n)}}(this);var o=i.size||5,a=i.type||"arc",u=i.radius||0,s=i.ignoreConnectors||["smooth"],c=this.graph,l=c.model.getEdges();if(1===l.length)return yv(vv(e,t,n),o,a,u);var f=this.cell,h=l.indexOf(f),d=c.options.connecting.connector||{},p=l.filter(function(e,t){var n=e.getConnector()||d;return!s.includes(n.name)&&(!(t>h)||"jumpover"!==n.name)}),v=p.map(function(e){return c.findViewByCell(e)}),g=vv(e,t,n),y=v.map(function(e){return null==e?[]:e===r?g:vv(e.sourcePoint,e.targetPoint,e.routePoints)}),m=[];g.forEach(function(e){var t=p.reduce(function(t,n,r){if(n!==f){var i=function(e,t){var n=[];return t.forEach(function(t){var r=e.intersectsWithLine(t);r&&n.push(r)}),n}(e,y[r]);t.push.apply(t,Object(N.a)(i))}return t},[]).sort(function(t,n){return gv(e.start,t)-gv(e.start,n)});t.length>0?m.push.apply(m,Object(N.a)(function(e,t,n){return t.reduce(function(r,i,o){if(uv.includes(i))return r;var a=r.pop()||e,u=Lc.create(i).move(a.start,-n),s=Lc.create(i).move(a.start,+n),c=t[o+1];if(null!=c){var l=s.distance(c);l<=n&&(s=c.move(a.start,l),uv.push(c))}else if(u.distance(a.end)<2*n+hv)return r.push(a),r;if(s.distance(a.start)<2*n+hv)return r.push(a),r;var f=new Dc(u,s);return av.push(f),r.push(new Dc(a.start,u),f,new Dc(s,a.end)),r},[])}(e,t,o))):m.push(e)});var b=yv(m,o,a,u);return av=[],uv=[],i.raw?b:b.serialize()};(bv=mv||(mv={})).presets=O,bv.registry=al.create({type:"connector"}),bv.registry.register(bv.presets,!0);var Ev=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var u=e.length-1;u>=0;u--)(i=e[u])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},xv=function(e){Object(P.a)(n,e);var t=Object(M.a)(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(T.a)(this,n),(e=t.call(this)).pending=!1,e.changing=!1,e.data={},e.mutate(i.cloneDeep(r)),e.changed={},e}return Object(j.a)(n,[{key:"mutate",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=!0===n.unset,o=!0===n.silent,a=[],u=this.changing;this.changing=!0,u||(this.previous=i.cloneDeep(this.data),this.changed={});var s=this.data,c=this.previous,l=this.changed;if(Object.keys(e).forEach(function(t){var n=t,o=e[n];i.isEqual(s[n],o)||a.push(n),i.isEqual(c[n],o)?delete l[n]:l[n]=o,r?delete s[n]:s[n]=o}),!o&&a.length>0&&(this.pending=!0,this.pendingOptions=n,a.forEach(function(e){t.emit("change:*",{key:e,options:n,store:t,current:s[e],previous:c[e]})})),u)return this;if(!o)for(;this.pending;)this.pending=!1,this.emit("changed",{current:s,previous:c,store:this,options:this.pendingOptions});return this.pending=!1,this.changing=!1,this.pendingOptions=null,this}},{key:"get",value:function(e,t){if(null==e)return this.data;var n=this.data[e];return null==n?t:n}},{key:"getPrevious",value:function(e){if(this.previous){var t=this.previous[e];return null==t?void 0:t}}},{key:"set",value:function(e,t,n){return null!=e&&("object"===typeof e?this.mutate(e,t):this.mutate(Object(A.a)({},e,t),n)),this}},{key:"remove",value:function(e,t){var n,r={};if("string"===typeof e)r[e]=void 0,n=t;else if(Array.isArray(e))e.forEach(function(e){return r[e]=void 0}),n=t;else{for(var i in this.data)r[i]=void 0;n=e}return this.mutate(r,Object.assign(Object.assign({},n),{unset:!0})),this}},{key:"getByPath",value:function(e){return i.getByPath(this.data,e,"/")}},{key:"setByPath",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=Array.isArray(e)?Object(N.a)(e):e.split("/"),o=Array.isArray(e)?e.join("/"):e,a=r[0],u=r.length;if(n.propertyPath=o,n.propertyValue=t,n.propertyPathArray=r,1===u)this.set(a,t,n);else{for(var s={},c=s,l=a,f=1;f<u;f+=1){var h=r[f],d=Number.isFinite(Number(h));c=c[l]=d?[]:{},l=h}i.setByPath(s,r,t,"/");var p=i.cloneDeep(this.data);n.rewrite&&i.unsetByPath(p,e,"/");var v=i.merge(p,s);this.set(a,v[a],n)}return this}},{key:"removeByPath",value:function(e,t){var n=Array.isArray(e)?e:e.split("/"),r=n[0];if(1===n.length)this.remove(r,t);else{var o=n.slice(1),a=i.cloneDeep(this.get(r));a&&i.unsetByPath(a,o),this.set(r,a,t)}return this}},{key:"hasChanged",value:function(e){return null==e?Object.keys(this.changed).length>0:e in this.changed}},{key:"getChanges",value:function(e){if(null==e)return this.hasChanged()?i.cloneDeep(this.changed):null;var t,n=this.changing?this.previous:this.data,r={};for(var o in e){var a=e[o];i.isEqual(n[o],a)||(r[o]=a,t=!0)}return t?i.cloneDeep(r):null}},{key:"toJSON",value:function(){return i.cloneDeep(this.data)}},{key:"clone",value:function(){return new(0,this.constructor)(this.data)}},{key:"dispose",value:function(){this.off(),this.data={},this.previous={},this.changed={},this.pending=!1,this.changing=!1,this.pendingOptions=null,this.trigger("disposed",{store:this})}}]),n}(na);Ev([na.dispose()],xv.prototype,"dispose",null);var kv=function(){function e(t){Object(T.a)(this,e),this.cell=t,this.ids={},this.cache={}}return Object(j.a)(e,[{key:"get",value:function(){return Object.keys(this.ids)}},{key:"start",value:function(t,n){var r=this,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"/",u=this.cell.getPropByPath(t),s=i.defaults(o,e.defaultOptions),c=this.getTiming(s.timing),l=this.getInterp(s.interp,u,n),f=0,h=Array.isArray(t)?t.join(a):t,d=Array.isArray(t)?t:t.split(a),p=function e(){var t=(new Date).getTime();0===f&&(f=t);var n=(t-f)/s.duration;n<1?r.ids[h]=requestAnimationFrame(e):n=1;var i=l(c(n));r.cell.setPropByPath(d,i),o.progress&&o.progress(Object.assign({progress:n,currentValue:i},r.getArgs(h))),1===n&&(r.cell.notify("transition:complete",r.getArgs(h)),o.complete&&o.complete(r.getArgs(h)),r.cell.notify("transition:finish",r.getArgs(h)),o.finish&&o.finish(r.getArgs(h)),r.clean(h))};return setTimeout(function(){r.stop(t,void 0,a),r.cache[h]={startValue:u,targetValue:n,options:s},r.ids[h]=requestAnimationFrame(p),r.cell.notify("transition:start",r.getArgs(h)),o.start&&o.start(r.getArgs(h))},o.delay),this.stop.bind(this,t,a,o)}},{key:"stop",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"/",o=Array.isArray(e)?e:e.split(r);return Object.keys(this.ids).filter(function(e){return i.isEqual(o,e.split(r).slice(0,o.length))}).forEach(function(e){cancelAnimationFrame(t.ids[e]);var r=t.cache[e],i=t.getArgs(e),o=Object.assign(Object.assign({},r.options),n),a=o.jumpedToEnd;a&&null!=r.targetValue&&(t.cell.setPropByPath(e,r.targetValue),t.cell.notify("transition:end",Object.assign({},i)),t.cell.notify("transition:complete",Object.assign({},i)),o.complete&&o.complete(Object.assign({},i)));var u=Object.assign({jumpedToEnd:a},i);t.cell.notify("transition:stop",Object.assign({},u)),o.stop&&o.stop(Object.assign({},u)),t.cell.notify("transition:finish",Object.assign({},i)),o.finish&&o.finish(Object.assign({},i)),t.clean(e)}),this}},{key:"clean",value:function(e){delete this.ids[e],delete this.cache[e]}},{key:"getTiming",value:function(e){return"string"===typeof e?Sc[e]:e}},{key:"getInterp",value:function(e,t,n){return e?e(t,n):"number"===typeof n?Ac.number(t,n):"string"===typeof n?"#"===n[0]?Ac.color(t,n):Ac.unit(t,n):Ac.object(t,n)}},{key:"getArgs",value:function(e){var t=this.cache[e];return{path:e,startValue:t.startValue,targetValue:t.targetValue,cell:this.cell}}}]),e}();(kv||(kv={})).defaultOptions={delay:10,duration:100,timing:"linear"};var Ov,Sv,Av=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var u=e.length-1;u>=0;u--)(i=e[u])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},Tv=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},jv=function(e,t){Object(P.a)(o,e);var n=Object(M.a)(o);function o(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object(T.a)(this,o);var r=(e=n.call(this)).constructor.getDefaults(!0),u=i.merge({},e.preprocess(r),e.preprocess(t));return e.id=u.id||a.uuid(),e.store=new xv(u),e.animation=new kv(Object(Nc.a)(e)),e.setup(),e.init(),e.postprocess(t),e}return Object(j.a)(o,[{key:t,get:function(){return o.toStringTag}},{key:"init",value:function(){}},{key:"model",get:function(){return this._model}},{key:"model",set:function(e){this._model!==e&&(this._model=e)}},{key:"preprocess",value:function(e,t){var n=e.id,r=this.constructor.applyPropHooks(this,e);return null==n&&!0!==t&&(r.id=a.uuid()),r}},{key:"postprocess",value:function(e){}},{key:"setup",value:function(){var e=this;this.store.on("change:*",function(t){var n=t.key,r=t.current,i=t.previous,o=t.options;e.notify("change:*",{key:n,options:o,current:r,previous:i,cell:e}),e.notify("change:".concat(n),{options:o,current:r,previous:i,cell:e});var a=n;"source"!==a&&"target"!==a||e.notify("change:terminal",{type:a,current:r,previous:i,options:o,cell:e})}),this.store.on("changed",function(t){var n=t.options;return e.notify("changed",{options:n,cell:e})})}},{key:"notify",value:function(e,t){this.trigger(e,t);var n=this.model;return n&&(n.notify("cell:".concat(e),t),this.isNode()?n.notify("node:".concat(e),Object.assign(Object.assign({},t),{node:this})):this.isEdge()&&n.notify("edge:".concat(e),Object.assign(Object.assign({},t),{edge:this}))),this}},{key:"isNode",value:function(){return!1}},{key:"isEdge",value:function(){return!1}},{key:"isSameStore",value:function(e){return this.store===e.store}},{key:"view",get:function(){return this.store.get("view")}},{key:"shape",get:function(){return this.store.get("shape","")}},{key:"getProp",value:function(e,t){return null==e?this.store.get():this.store.get(e,t)}},{key:"setProp",value:function(e,t,n){if("string"===typeof e)this.store.set(e,t,n);else{var r=this.preprocess(e,!0);this.store.set(i.merge({},this.getProp(),r),t),this.postprocess(e)}return this}},{key:"removeProp",value:function(e,t){return"string"===typeof e||Array.isArray(e)?this.store.removeByPath(e,t):this.store.remove(t),this}},{key:"hasChanged",value:function(e){return null==e?this.store.hasChanged():this.store.hasChanged(e)}},{key:"getPropByPath",value:function(e){return this.store.getByPath(e)}},{key:"setPropByPath",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.model&&("children"===e?this._children=t?t.map(function(e){return n.model.getCell(e)}).filter(function(e){return null!=e}):null:"parent"===e&&(this._parent=t?this.model.getCell(t):null)),this.store.setByPath(e,t,r),this}},{key:"removePropByPath",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=Array.isArray(e)?e:e.split("/");return"attrs"===n[0]&&(t.dirty=!0),this.store.removeByPath(n,t),this}},{key:"prop",value:function(e,t,n){return null==e?this.getProp():"string"===typeof e||Array.isArray(e)?1===arguments.length?this.getPropByPath(e):null==t?this.removePropByPath(e,n||{}):this.setPropByPath(e,t,n||{}):this.setProp(e,t||{})}},{key:"previous",value:function(e){return this.store.getPrevious(e)}},{key:"zIndex",get:function(){return this.getZIndex()}},{key:"zIndex",set:function(e){null==e?this.removeZIndex():this.setZIndex(e)}},{key:"getZIndex",value:function(){return this.store.get("zIndex")}},{key:"setZIndex",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.store.set("zIndex",e,t),this}},{key:"removeZIndex",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.store.remove("zIndex",e),this}},{key:"toFront",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this.model;if(t){var n,r=t.getMaxZIndex();e.deep?(n=this.getDescendants({deep:!0,breadthFirst:!0})).unshift(this):n=[this],r=r-n.length+1;var i=t.total(),o=t.indexOf(this)!==i-n.length;o||(o=n.some(function(e,t){return e.getZIndex()!==r+t})),o&&this.batchUpdate("to-front",function(){r+=n.length,n.forEach(function(t,n){t.setZIndex(r+n,e)})})}return this}},{key:"toBack",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this.model;if(t){var n,r=t.getMinZIndex();e.deep?(n=this.getDescendants({deep:!0,breadthFirst:!0})).unshift(this):n=[this];var i=0!==t.indexOf(this);i||(i=n.some(function(e,t){return e.getZIndex()!==r+t})),i&&this.batchUpdate("to-back",function(){r-=n.length,n.forEach(function(t,n){t.setZIndex(r+n,e)})})}return this}},{key:"markup",get:function(){return this.getMarkup()}},{key:"markup",set:function(e){null==e?this.removeMarkup():this.setMarkup(e)}},{key:"getMarkup",value:function(){var e=this.store.get("markup");null==e&&(e=this.constructor.getMarkup());return e}},{key:"setMarkup",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.store.set("markup",e,t),this}},{key:"removeMarkup",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.store.remove("markup",e),this}},{key:"attrs",get:function(){return this.getAttrs()}},{key:"attrs",set:function(e){null==e?this.removeAttrs():this.setAttrs(e)}},{key:"getAttrs",value:function(){var e=this.store.get("attrs");return e?Object.assign({},e):{}}},{key:"setAttrs",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(null==e)this.removeAttrs(n);else{var r=function(e){return t.store.set("attrs",e,n)};if(!0===n.overwrite)r(e);else{var o=this.getAttrs();!1===n.deep?r(Object.assign(Object.assign({},o),e)):r(i.merge({},o,e))}}return this}},{key:"replaceAttrs",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.setAttrs(e,Object.assign(Object.assign({},t),{overwrite:!0}))}},{key:"updateAttrs",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.setAttrs(e,Object.assign(Object.assign({},t),{deep:!1}))}},{key:"removeAttrs",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.store.remove("attrs",e),this}},{key:"getAttrDefinition",value:function(e){if(!e)return null;var t=this.constructor.getAttrHooks()||{},n=t[e]||rh.registry.get(e);if(!n){var r=a.camelCase(e);n=t[r]||rh.registry.get(r)}return n||null}},{key:"getAttrByPath",value:function(e){return null==e||""===e?this.getAttrs():this.getPropByPath(this.prefixAttrPath(e))}},{key:"setAttrByPath",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.setPropByPath(this.prefixAttrPath(e),t,n),this}},{key:"removeAttrByPath",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.removePropByPath(this.prefixAttrPath(e),t),this}},{key:"prefixAttrPath",value:function(e){return Array.isArray(e)?["attrs"].concat(e):"attrs/".concat(e)}},{key:"attr",value:function(e,t,n){return null==e?this.getAttrByPath():"string"===typeof e||Array.isArray(e)?1===arguments.length?this.getAttrByPath(e):null==t?this.removeAttrByPath(e,n||{}):this.setAttrByPath(e,t,n||{}):this.setAttrs(e,t||{})}},{key:"visible",get:function(){return this.isVisible()}},{key:"visible",set:function(e){this.setVisible(e)}},{key:"setVisible",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.store.set("visible",e,t),this}},{key:"isVisible",value:function(){return!1!==this.store.get("visible")}},{key:"show",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.isVisible()||this.setVisible(!0,e),this}},{key:"hide",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.isVisible()&&this.setVisible(!1,e),this}},{key:"toggleVisible",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n="boolean"===typeof e?t:e;return("boolean"===typeof e?e:!this.isVisible())?this.show(n):this.hide(n),this}},{key:"data",get:function(){return this.getData()}},{key:"data",set:function(e){this.setData(e)}},{key:"getData",value:function(){return this.store.get("data")}},{key:"setData",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(null==e)this.removeData(n);else{var r=function(e){return t.store.set("data",e,n)};if(!0===n.overwrite)r(e);else{var o=this.getData();!1===n.deep?r("object"===typeof e?Object.assign(Object.assign({},o),e):e):r(i.merge({},o,e))}}return this}},{key:"replaceData",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.setData(e,Object.assign(Object.assign({},t),{overwrite:!0}))}},{key:"updateData",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.setData(e,Object.assign(Object.assign({},t),{deep:!1}))}},{key:"removeData",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.store.remove("data",e),this}},{key:"parent",get:function(){return this.getParent()}},{key:"children",get:function(){return this.getChildren()}},{key:"getParentId",value:function(){return this.store.get("parent")}},{key:"getParent",value:function(){var e=this.getParentId();if(e&&this.model){var t=this.model.getCell(e);return this._parent=t,t}return null}},{key:"getChildren",value:function(){var e=this,t=this.store.get("children");if(t&&t.length&&this.model){var n=t.map(function(t){var n;return null===(n=e.model)||void 0===n?void 0:n.getCell(t)}).filter(function(e){return null!=e});return this._children=n,Object(N.a)(n)}return null}},{key:"hasParent",value:function(){return null!=this.parent}},{key:"isParentOf",value:function(e){return null!=e&&e.getParent()===this}},{key:"isChildOf",value:function(e){return null!=e&&this.getParent()===e}},{key:"eachChild",value:function(e,t){return this.children&&this.children.forEach(e,t),this}},{key:"filterChild",value:function(e,t){return this.children?this.children.filter(e,t):[]}},{key:"getChildCount",value:function(){return null==this.children?0:this.children.length}},{key:"getChildIndex",value:function(e){return null==this.children?-1:this.children.indexOf(e)}},{key:"getChildAt",value:function(e){return null!=this.children&&e>=0?this.children[e]:null}},{key:"getAncestors",value:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=[],n=this.getParent();n;)t.push(n),n=!1!==e.deep?n.getParent():null;return t}},{key:"getDescendants",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!1!==e.deep){if(e.breadthFirst){for(var t=[],n=this.getChildren()||[];n.length>0;){var r=n.shift(),i=r.getChildren();t.push(r),i&&n.push.apply(n,Object(N.a)(i))}return t}var o=this.getChildren()||[];return o.forEach(function(t){o.push.apply(o,Object(N.a)(t.getDescendants(e)))}),o}return this.getChildren()||[]}},{key:"isDescendantOf",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(null==e)return!1;if(!1!==t.deep){for(var n=this.getParent();n;){if(n===e)return!0;n=n.getParent()}return!1}return this.isChildOf(e)}},{key:"isAncestorOf",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return null!=e&&e.isDescendantOf(this,t)}},{key:"contains",value:function(e){return this.isAncestorOf(e)}},{key:"getCommonAncestor",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return o.getCommonAncestor.apply(o,[this].concat(t))}},{key:"setParent",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this._parent=e,e?this.store.set("parent",e.id,t):this.store.remove("parent",t),this}},{key:"setChildren",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this._children=e,null!=e?this.store.set("children",e.map(function(e){return e.id}),t):this.store.remove("children",t),this}},{key:"unembed",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this.children;if(null!=n&&null!=e){var r=this.getChildIndex(e);-1!==r&&(n.splice(r,1),e.setParent(null,t),this.setChildren(n,t))}return this}},{key:"embed",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e.addTo(this,t),this}},{key:"addTo",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return o.isCell(e)?e.addChild(this,t):e.addCell(this,t),this}},{key:"insertTo",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return e.insertChild(this,t,n),this}},{key:"addChild",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.insertChild(e,void 0,t)}},{key:"insertChild",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(null!=e&&e!==this){var r=e.getParent(),i=this!==r,o=t;if(null==o&&(o=this.getChildCount(),i||(o-=1)),r){var a=r.getChildren();if(a){var u=a.indexOf(e);u>=0&&(e.setParent(null,n),a.splice(u,1),r.setChildren(a,n))}}var s=this.children;if(null==s?(s=[]).push(e):s.splice(o,0,e),e.setParent(this,n),this.setChildren(s,n),i&&this.model){var c=this.model.getIncomingEdges(this),l=this.model.getOutgoingEdges(this);c&&c.forEach(function(e){return e.updateParent(n)}),l&&l.forEach(function(e){return e.updateParent(n)})}this.model&&this.model.addCell(e,n)}return this}},{key:"removeFromParent",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this.getParent();if(null!=t){var n=t.getChildIndex(this);t.removeChildAt(n,e)}return this}},{key:"removeChild",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this.getChildIndex(e);return this.removeChildAt(n,t)}},{key:"removeChildAt",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this.getChildAt(e);return null!=this.children&&null!=n&&(this.unembed(n,t),n.remove(t)),n}},{key:"remove",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.batchUpdate("remove",function(){var n=e.getParent();n&&n.removeChild(e,t),!1!==t.deep&&e.eachChild(function(e){return e.remove(t)}),e.model&&e.model.removeCell(e,t)}),this}},{key:"transition",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"/";return this.animation.start(e,t,n,r)}},{key:"stopTransition",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"/";return this.animation.stop(e,t,n),this}},{key:"getTransitions",value:function(){return this.animation.get()}},{key:"translate",value:function(e,t,n){return this}},{key:"scale",value:function(e,t,n,r){return this}},{key:"addTools",value:function(e,t,n){var r=Array.isArray(e)?e:[e],o="string"===typeof t?t:null,a="object"===typeof t?t:"object"===typeof n?n:{};if(a.reset)return this.setTools({name:o,items:r,local:a.local},a);var u=i.cloneDeep(this.getTools());return null==u||null==o||u.name===o?(null==u&&(u={}),u.items||(u.items=[]),u.name=o,u.items=[].concat(Object(N.a)(u.items),Object(N.a)(r)),this.setTools(Object.assign({},u),a)):void 0}},{key:"setTools",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return null==e?this.removeTools():this.store.set("tools",o.normalizeTools(e),t),this}},{key:"getTools",value:function(){return this.store.get("tools")}},{key:"removeTools",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.store.remove("tools",e),this}},{key:"hasTools",value:function(e){var t=this.getTools();return null!=t&&(null==e||t.name===e)}},{key:"hasTool",value:function(e){var t=this.getTools();return null!=t&&t.items.some(function(t){return"string"===typeof t?t===e:t.name===e})}},{key:"removeTool",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=i.cloneDeep(this.getTools());if(n){var r=!1,o=n.items.slice(),a=function(e){o.splice(e,1),r=!0};if("number"===typeof e)a(e);else for(var u=o.length-1;u>=0;u-=1){var s=o[u];("string"===typeof s?s===e:s.name===e)&&a(u)}r&&(n.items=o,this.setTools(n,t))}return this}},{key:"getBBox",value:function(e){return new Ic}},{key:"getConnectionPoint",value:function(e,t){return new Lc}},{key:"toJSON",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=Object.assign({},this.store.get()),r=Object.prototype.toString,o=this.isNode()?"node":this.isEdge()?"edge":"cell";if(!n.shape){var a=this.constructor;throw new Error("Unable to serialize ".concat(o,' missing "shape" prop, check the ').concat(o,' "').concat(a.name||r.call(a),'"'))}var u=this.constructor,s=!0===t.diff,c=n.attrs||{},l=u.getDefaults(!0),f=s?this.preprocess(l,!0):l,h=f.attrs||{},d={};Object.entries(n).forEach(function(t){var a=Object(fs.a)(t,2),u=a[0],c=a[1];if(null!=c&&!Array.isArray(c)&&"object"===typeof c&&!i.isPlainObject(c))throw new Error("Can only serialize ".concat(o,' with plain-object props, but got a "').concat(r.call(c),'" type of key "').concat(u,'" on ').concat(o,' "').concat(e.id,'"'));if("attrs"!==u&&"shape"!==u&&s){var l=f[u];i.isEqual(c,l)&&delete n[u]}}),Object.keys(c).forEach(function(e){var t=c[e],n=h[e];Object.keys(t).forEach(function(r){var o=t[r],a=n?n[r]:null;null==o||"object"!==typeof o||Array.isArray(o)?null!=n&&i.isEqual(a,o)||(null==d[e]&&(d[e]={}),d[e][r]=o):Object.keys(o).forEach(function(t){var u=o[t];null!=n&&null!=a&&i.isObject(a)&&i.isEqual(a[t],u)||(null==d[e]&&(d[e]={}),null==d[e][r]&&(d[e][r]={}),d[e][r][t]=u)})})});var p=Object.assign(Object.assign({},n),{attrs:i.isEmpty(d)?void 0:d});null==p.attrs&&delete p.attrs;var v=p;return 0===v.angle&&delete v.angle,i.cloneDeep(v)}},{key:"clone",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!e.deep){var t=Object.assign({},this.store.get());return e.keepId||delete t.id,delete t.parent,delete t.children,new(0,this.constructor)(t)}return o.deepClone(this)[this.id]}},{key:"findView",value:function(e){return e.findViewByCell(this)}},{key:"startBatch",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.model;return this.notify("batch:start",{name:e,data:t,cell:this}),n&&n.startBatch(e,Object.assign(Object.assign({},t),{cell:this})),this}},{key:"stopBatch",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.model;return n&&n.stopBatch(e,Object.assign(Object.assign({},t),{cell:this})),this.notify("batch:stop",{name:e,data:t,cell:this}),this}},{key:"batchUpdate",value:function(e,t,n){var r=this.model;this.startBatch(e,n,r);var i=t();return this.stopBatch(e,n,r),i}},{key:"dispose",value:function(){this.removeFromParent(),this.store.dispose()}}],[{key:"config",value:function(e){var t,n=this,r=e.markup,o=e.propHooks,a=e.attrHooks,u=Tv(e,["markup","propHooks","attrHooks"]);(null!=r&&(this.markup=r),o)&&(this.propHooks=this.propHooks.slice(),Array.isArray(o)?(t=this.propHooks).push.apply(t,Object(N.a)(o)):"function"===typeof o?this.propHooks.push(o):Object.values(o).forEach(function(e){"function"===typeof e&&n.propHooks.push(e)}));a&&(this.attrHooks=Object.assign(Object.assign({},this.attrHooks),a)),this.defaults=i.merge({},this.defaults,u)}},{key:"getMarkup",value:function(){return this.markup}},{key:"getDefaults",value:function(e){return e?this.defaults:i.cloneDeep(this.defaults)}},{key:"getAttrHooks",value:function(){return this.attrHooks}},{key:"applyPropHooks",value:function(e,t){return this.propHooks.reduce(function(t,n){return n?r.call(n,e,t):t},t)}}]),o}(na,Symbol.toStringTag);jv.defaults={},jv.attrHooks={},jv.propHooks=[],Av([na.dispose()],jv.prototype,"dispose",null),function(e){(jv||(jv={})).normalizeTools=function(e){return"string"===typeof e?{items:[e]}:Array.isArray(e)?{items:e}:e.items?e:{items:[e]}}}(),function(e){e.toStringTag="X6.".concat(e.name),e.isCell=function(t){if(null==t)return!1;if(t instanceof e)return!0;var n=t[Symbol.toStringTag],r=t;return(null==n||n===e.toStringTag)&&"function"===typeof r.isNode&&"function"===typeof r.isEdge&&"function"===typeof r.prop&&"function"===typeof r.attr}}(jv||(jv={})),function(e){e.getCommonAncestor=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t.filter(function(e){return null!=e}).map(function(e){return e.getAncestors()}).sort(function(e,t){return e.length-t.length});return r.shift().find(function(e){return r.every(function(t){return t.includes(e)})})||null},e.getCellsBBox=function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=null,r=0,i=e.length;r<i;r+=1){var o=e[r],a=o.getBBox(t);if(a){if(o.isNode()){var u=o.getAngle();null!=u&&0!==u&&(a=a.bbox(u))}n=null==n?a:n.union(a)}}return n},e.deepClone=function(t){var n=[t].concat(Object(N.a)(t.getDescendants({deep:!0})));return e.cloneCells(n)},e.cloneCells=function(e){var t=o.uniq(e),n=t.reduce(function(e,t){return e[t.id]=t.clone(),e},{});return t.forEach(function(e){var t=n[e.id];if(t.isEdge()){var r=t.getSourceCellId(),i=t.getTargetCellId();r&&n[r]&&t.setSource(Object.assign(Object.assign({},t.getSource()),{cell:n[r].id})),i&&n[i]&&t.setTarget(Object.assign(Object.assign({},t.getTarget()),{cell:n[i].id}))}var o=e.getParent();o&&n[o.id]&&t.setParent(n[o.id]);var a=e.getChildren();if(a&&a.length){var u=a.reduce(function(e,t){return n[t.id]&&e.push(n[t.id]),e},[]);u.length>0&&t.setChildren(u)}}),n}}(jv||(jv={})),(Ov=jv||(jv={})).config({propHooks:function(e){var t=e.tools,n=Tv(e,["tools"]);return t&&(n.tools=Ov.normalizeTools(t)),n}}),function(e){var t,n;e.exist=function(e,r){return r?null!=t&&t.exist(e):null!=n&&n.exist(e)},e.setEdgeRegistry=function(e){t=e},e.setNodeRegistry=function(e){n=e}}(Sv||(Sv={}));var Cv,_v=function(){function e(t){Object(T.a)(this,e),this.ports=[],this.groups={},this.init(i.cloneDeep(t))}return Object(j.a)(e,[{key:"getPorts",value:function(){return this.ports}},{key:"getGroup",value:function(e){return null!=e?this.groups[e]:null}},{key:"getPortsByGroup",value:function(e){return this.ports.filter(function(t){return t.group===e||null==t.group&&null==e})}},{key:"getPortsLayoutByGroup",value:function(e,t){var n,r=this,i=this.getPortsByGroup(e),o=e?this.getGroup(e):null,a=o?o.position:null,u=a?a.name:null;if(null!=u){var s=Ph.registry.get(u);if(null==s)return Ph.registry.onNotFound(u);n=s}else n=Ph.presets.left;var c=i.map(function(e){return e&&e.position&&e.position.args||{}}),l=a&&a.args||{};return n(c,t,l).map(function(e,n){var o=i[n];return{portLayout:e,portId:o.id,portSize:o.size,portAttrs:o.attrs,labelSize:o.label.size,labelLayout:r.getPortLabelLayout(o,Lc.create(e.position),t)}})}},{key:"init",value:function(e){var t=this,n=e.groups,r=e.items;null!=n&&Object.keys(n).forEach(function(e){t.groups[e]=t.parseGroup(n[e])}),Array.isArray(r)&&r.forEach(function(e){t.ports.push(t.parsePort(e))})}},{key:"parseGroup",value:function(e){return Object.assign(Object.assign({},e),{label:this.getLabel(e,!0),position:this.getPortPosition(e.position,!0)})}},{key:"parsePort",value:function(e){var t=Object.assign({},e),n=this.getGroup(e.group)||{};return t.markup=t.markup||n.markup,t.attrs=i.merge({},n.attrs,t.attrs),t.position=this.createPosition(n,t),t.label=i.merge({},n.label,this.getLabel(t)),t.zIndex=this.getZIndex(n,t),t.size=Object.assign(Object.assign({},n.size),t.size),t}},{key:"getZIndex",value:function(e,t){return"number"===typeof t.zIndex?t.zIndex:"number"===typeof e.zIndex||"auto"===e.zIndex?e.zIndex:"auto"}},{key:"createPosition",value:function(e,t){return i.merge({name:"left",args:{}},e.position,{args:t.args})}},{key:"getPortPosition",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(null==e){if(t)return{name:"left",args:{}}}else{if("string"===typeof e)return{name:e,args:{}};if(Array.isArray(e))return{name:"absolute",args:{x:e[0],y:e[1]}};if("object"===typeof e)return e}return{args:{}}}},{key:"getPortLabelPosition",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(null==e){if(t)return{name:"left",args:{}}}else{if("string"===typeof e)return{name:e,args:{}};if("object"===typeof e)return e}return{args:{}}}},{key:"getLabel",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=e.label||{};return n.position=this.getPortLabelPosition(n.position,t),n}},{key:"getPortLabelLayout",value:function(e,t,n){var r=e.label.position.name||"left",i=e.label.position.args||{},o=ed.registry.get(r)||ed.presets.left;return o?o(t,n,i):null}}]),e}(),Pv=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},Mv=function(e,t){Object(P.a)(r,e);var n=Object(M.a)(r);function r(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(T.a)(this,r),(e=n.call(this,t)).initPorts(),e}return Object(j.a)(r,[{key:t,get:function(){return r.toStringTag}},{key:"preprocess",value:function(e,t){var n=e.x,i=e.y,o=e.width,a=e.height,u=Pv(e,["x","y","width","height"]);if(null!=n||null!=i){var s=u.position;u.position=Object.assign(Object.assign({},s),{x:null!=n?n:s?s.x:0,y:null!=i?i:s?s.y:0})}if(null!=o||null!=a){var c=u.size;u.size=Object.assign(Object.assign({},c),{width:null!=o?o:c?c.width:0,height:null!=a?a:c?c.height:0})}return Object(ad.a)(Object(ud.a)(r.prototype),"preprocess",this).call(this,u,t)}},{key:"isNode",value:function(){return!0}},{key:"size",value:function(e,t,n){return void 0===e?this.getSize():"number"===typeof e?this.setSize(e,t,n):this.setSize(e,t)}},{key:"getSize",value:function(){var e=this.store.get("size");return e?Object.assign({},e):{width:1,height:1}}},{key:"setSize",value:function(e,t,n){return"object"===typeof e?this.resize(e.width,e.height,t):this.resize(e,t,n),this}},{key:"resize",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this.startBatch("resize",n);var r=n.direction;if(r){var i=this.getSize();switch(r){case"left":case"right":t=i.height;break;case"top":case"bottom":e=i.width}var o={right:0,"top-right":0,top:1,"top-left":1,left:2,"bottom-left":2,bottom:3,"bottom-right":3}[r],a=Pc.normalize(this.getAngle()||0);n.absolute&&(o+=Math.floor((a+45)/90),o%=4);var u=this.getBBox(),s=(0===o?u.getBottomLeft():1===o?u.getCorner():2===o?u.getTopRight():u.getOrigin()).clone().rotate(-a,u.getCenter()),c=Math.sqrt(e*e+t*t)/2,l=o*Math.PI/2;l+=Math.atan(o%2===0?t/e:e/t),l-=Pc.toRad(a);var f=Lc.fromPolar(c,l,s).clone().translate(e/-2,t/-2);this.store.set("size",{width:e,height:t},n),this.setPosition(f.x,f.y,n)}else this.store.set("size",{width:e,height:t},n);return this.stopBatch("resize",n),this}},{key:"scale",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=this.getBBox().scale(e,t,null==n?void 0:n);return this.startBatch("scale",r),this.setPosition(i.x,i.y,r),this.resize(i.width,i.height,r),this.stopBatch("scale"),this}},{key:"position",value:function(e,t,n){return"number"===typeof e?this.setPosition(e,t,n):this.getPosition(e)}},{key:"getPosition",value:function(){if((arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).relative){var e=this.getParent();if(null!=e&&e.isNode()){var t=this.getPosition(),n=e.getPosition();return{x:t.x-n.x,y:t.y-n.y}}}var r=this.store.get("position");return r?Object.assign({},r):{x:0,y:0}}},{key:"setPosition",value:function(e,t){var n,r,i,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if("object"===typeof e?(n=e.x,r=e.y,i=t||{}):(n=e,r=t,i=o||{}),i.relative){var a=this.getParent();if(null!=a&&a.isNode()){var u=a.getPosition();n+=u.x,r+=u.y}}if(i.deep){var s=this.getPosition();this.translate(n-s.x,r-s.y,i)}else this.store.set("position",{x:n,y:r},i);return this}},{key:"translate",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(0===e&&0===t)return this;n.translateBy=n.translateBy||this.id;var r=this.getPosition();if(null!=n.restrict&&n.translateBy===this.id){var i=this.getBBox({deep:!0}),o=n.restrict,a=r.x-i.x,u=r.y-i.y,s=Math.max(o.x+a,Math.min(o.x+o.width+a-i.width,r.x+e)),c=Math.max(o.y+u,Math.min(o.y+o.height+u-i.height,r.y+t));e=s-r.x,t=c-r.y}var l={x:r.x+e,y:r.y+t};return n.tx=e,n.ty=t,n.transition?("object"!==typeof n.transition&&(n.transition={}),this.transition("position",l,Object.assign(Object.assign({},n.transition),{interp:Ac.object})),this.eachChild(function(r){var i;(null===(i=n.exclude)||void 0===i?void 0:i.includes(r))||r.translate(e,t,n)})):(this.startBatch("translate",n),this.store.set("position",l,n),this.eachChild(function(r){var i;(null===(i=n.exclude)||void 0===i?void 0:i.includes(r))||r.translate(e,t,n)}),this.stopBatch("translate",n)),this}},{key:"angle",value:function(e,t){return null==e?this.getAngle():this.rotate(e,t)}},{key:"getAngle",value:function(){return this.store.get("angle",0)}},{key:"rotate",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this.getAngle();if(t.center){var r=this.getSize(),i=this.getPosition(),o=this.getBBox().getCenter();o.rotate(n-e,t.center);var a=o.x-r.width/2-i.x,u=o.y-r.height/2-i.y;this.startBatch("rotate",{angle:e,options:t}),this.setPosition(i.x+a,i.y+u,t),this.rotate(e,Object.assign(Object.assign({},t),{center:null})),this.stopBatch("rotate")}else this.store.set("angle",t.absolute?e:(n+e)%360,t);return this}},{key:"getBBox",value:function(){if((arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).deep){var e=this.getDescendants({deep:!0,breadthFirst:!0});return e.push(this),jv.getCellsBBox(e)}return Ic.fromPositionAndSize(this.getPosition(),this.getSize())}},{key:"getConnectionPoint",value:function(e,t){var n=this.getBBox(),r=n.getCenter(),i=e.getTerminal(t);if(null==i)return r;var o=i.port;if(!o||!this.hasPort(o))return r;var a=this.getPort(o);if(!a||!a.group)return r;var u=this.getPortsPosition(a.group)[o].position,s=Lc.create(u).translate(n.getOrigin()),c=this.getAngle();return c&&s.rotate(-c,r),s}},{key:"fit",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=(this.getChildren()||[]).filter(function(e){return e.isNode()});if(0===t.length)return this;this.startBatch("fit-embeds",e),e.deep&&t.forEach(function(t){return t.fit(e)});var n=jv.getCellsBBox(t),r=n.x,i=n.y,o=n.width,a=n.height,s=u.normalizeSides(e.padding);return r-=s.left,i-=s.top,o+=s.left+s.right,a+=s.bottom+s.top,this.store.set({position:{x:r,y:i},size:{width:o,height:a}},e),this.stopBatch("fit-embeds"),this}},{key:"portContainerMarkup",get:function(){return this.getPortContainerMarkup()}},{key:"portContainerMarkup",set:function(e){this.setPortContainerMarkup(e)}},{key:"getDefaultPortContainerMarkup",value:function(){return this.store.get("defaultPortContainerMarkup")||cd.getPortContainerMarkup()}},{key:"getPortContainerMarkup",value:function(){return this.store.get("portContainerMarkup")||this.getDefaultPortContainerMarkup()}},{key:"setPortContainerMarkup",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.store.set("portContainerMarkup",cd.clone(e),t),this}},{key:"portMarkup",get:function(){return this.getPortMarkup()}},{key:"portMarkup",set:function(e){this.setPortMarkup(e)}},{key:"getDefaultPortMarkup",value:function(){return this.store.get("defaultPortMarkup")||cd.getPortMarkup()}},{key:"getPortMarkup",value:function(){return this.store.get("portMarkup")||this.getDefaultPortMarkup()}},{key:"setPortMarkup",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.store.set("portMarkup",cd.clone(e),t),this}},{key:"portLabelMarkup",get:function(){return this.getPortLabelMarkup()}},{key:"portLabelMarkup",set:function(e){this.setPortLabelMarkup(e)}},{key:"getDefaultPortLabelMarkup",value:function(){return this.store.get("defaultPortLabelMarkup")||cd.getPortLabelMarkup()}},{key:"getPortLabelMarkup",value:function(){return this.store.get("portLabelMarkup")||this.getDefaultPortLabelMarkup()}},{key:"setPortLabelMarkup",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.store.set("portLabelMarkup",cd.clone(e),t),this}},{key:"ports",get:function(){var e=this.store.get("ports",{items:[]});return null==e.items&&(e.items=[]),e}},{key:"getPorts",value:function(){return i.cloneDeep(this.ports.items)}},{key:"getPortsByGroup",value:function(e){return this.getPorts().filter(function(t){return t.group===e})}},{key:"getPort",value:function(e){return i.cloneDeep(this.ports.items.find(function(t){return t.id&&t.id===e}))}},{key:"getPortAt",value:function(e){return this.ports.items[e]||null}},{key:"hasPorts",value:function(){return this.ports.items.length>0}},{key:"hasPort",value:function(e){return-1!==this.getPortIndex(e)}},{key:"getPortIndex",value:function(e){var t="string"===typeof e?e:e.id;return null!=t?this.ports.items.findIndex(function(e){return e.id===t}):-1}},{key:"getPortsPosition",value:function(e){var t=this.getSize();return this.port.getPortsLayoutByGroup(e,new Ic(0,0,t.width,t.height)).reduce(function(e,t){var n=t.portLayout;return e[t.portId]={position:Object.assign({},n.position),angle:n.angle||0},e},{})}},{key:"getPortProp",value:function(e,t){return this.getPropByPath(this.prefixPortPath(e,t))}},{key:"setPortProp",value:function(e,t,n,r){if("string"===typeof t||Array.isArray(t)){var i=this.prefixPortPath(e,t),o=n;return this.setPropByPath(i,o,r)}var a=this.prefixPortPath(e),u=t;return this.setPropByPath(a,u,n)}},{key:"removePortProp",value:function(e,t,n){return"string"===typeof t||Array.isArray(t)?this.removePropByPath(this.prefixPortPath(e,t),n):this.removePropByPath(this.prefixPortPath(e),t)}},{key:"portProp",value:function(e,t,n,r){return null==t?this.getPortProp(e):"string"===typeof t||Array.isArray(t)?2===arguments.length?this.getPortProp(e,t):null==n?this.removePortProp(e,t,r):this.setPortProp(e,t,n,r):this.setPortProp(e,t,n)}},{key:"prefixPortPath",value:function(e,t){var n=this.getPortIndex(e);if(-1===n)throw new Error('Unable to find port with id: "'.concat(e,'"'));return null==t||""===t?["ports","items","".concat(n)]:Array.isArray(t)?["ports","items","".concat(n)].concat(Object(N.a)(t)):"ports/items/".concat(n,"/").concat(t)}},{key:"addPort",value:function(e,t){var n=Object(N.a)(this.ports.items);return n.push(e),this.setPropByPath("ports/items",n,t),this}},{key:"addPorts",value:function(e,t){return this.setPropByPath("ports/items",[].concat(Object(N.a)(this.ports.items),Object(N.a)(e)),t),this}},{key:"insertPort",value:function(e,t,n){var r=Object(N.a)(this.ports.items);return r.splice(e,0,t),this.setPropByPath("ports/items",r,n),this}},{key:"removePort",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.removePortAt(this.getPortIndex(e),t)}},{key:"removePortAt",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(e>=0){var n=Object(N.a)(this.ports.items);n.splice(e,1),t.rewrite=!0,this.setPropByPath("ports/items",n,t)}return this}},{key:"removePorts",value:function(e,t){var n;if(Array.isArray(e)){if(n=t||{},e.length){n.rewrite=!0;var r=Object(N.a)(this.ports.items).filter(function(t){return!e.some(function(e){var n="string"===typeof e?e:e.id;return t.id===n})});this.setPropByPath("ports/items",r,n)}}else(n=e||{}).rewrite=!0,this.setPropByPath("ports/items",[],n);return this}},{key:"getParsedPorts",value:function(){return this.port.getPorts()}},{key:"getParsedGroups",value:function(){return this.port.groups}},{key:"getPortsLayoutByGroup",value:function(e,t){return this.port.getPortsLayoutByGroup(e,t)}},{key:"initPorts",value:function(){var e=this;this.updatePortData(),this.on("change:ports",function(){e.processRemovedPort(),e.updatePortData()})}},{key:"processRemovedPort",value:function(){var e=this.ports,t={};e.items.forEach(function(e){e.id&&(t[e.id]=!0)});var n={};(this.store.getPrevious("ports")||{items:[]}).items.forEach(function(e){e.id&&!t[e.id]&&(n[e.id]=!0)});var r=this.model;r&&!i.isEmpty(n)&&(r.getConnectedEdges(this,{incoming:!0}).forEach(function(e){var t=e.getTargetPortId();t&&n[t]&&e.remove()}),r.getConnectedEdges(this,{outgoing:!0}).forEach(function(e){var t=e.getSourcePortId();t&&n[t]&&e.remove()}))}},{key:"validatePorts",value:function(){var e=this,t={},n=[];return this.ports.items.forEach(function(r){"object"!==typeof r&&n.push("Invalid port ".concat(r,".")),null==r.id&&(r.id=e.generatePortId()),t[r.id]&&n.push("Duplicitied port id."),t[r.id]=!0}),n}},{key:"generatePortId",value:function(){return a.uuid()}},{key:"updatePortData",value:function(){var e=this.validatePorts();if(e.length>0)throw this.store.set("ports",this.store.getPrevious("ports")),new Error(e.join(" "));var t=this.port?this.port.getPorts():null;this.port=new _v(this.ports);var n=this.port.getPorts(),r=t?n.filter(function(e){return t.find(function(t){return t.id===e.id})?null:e}):Object(N.a)(n),i=t?t.filter(function(e){return n.find(function(t){return t.id===e.id})?null:e}):[];r.length>0&&this.notify("ports:added",{added:r,cell:this,node:this}),i.length>0&&this.notify("ports:removed",{removed:i,cell:this,node:this})}}]),r}(jv,Symbol.toStringTag);Mv.defaults={angle:0,position:{x:0,y:0},size:{width:1,height:1}},function(e){e.toStringTag="X6.".concat(e.name),e.isNode=function(t){if(null==t)return!1;if(t instanceof e)return!0;var n=t[Symbol.toStringTag],r=t;return(null==n||n===e.toStringTag)&&"function"===typeof r.isNode&&"function"===typeof r.isEdge&&"function"===typeof r.prop&&"function"===typeof r.attr&&"function"===typeof r.size&&"function"===typeof r.position}}(Mv||(Mv={})),(Mv||(Mv={})).config({propHooks:function(e){var t=e.ports,n=Pv(e,["ports"]);return t&&(n.ports=Array.isArray(t)?{items:t}:t),n}}),(Cv=Mv||(Mv={})).registry=al.create({type:"node",process:function(e,t){if(Sv.exist(e,!0))throw new Error("Node with name '".concat(e,"' was registered by anthor Edge"));if("function"===typeof t)return t.config({shape:e}),t;var n=Cv,r=t.inherit,i=Pv(t,["inherit"]);if(r)if("string"===typeof r){var o=this.get(r);null==o?this.onNotFound(r,"inherited"):n=o}else n=r;null==i.constructorName&&(i.constructorName=e);var a=n.define.call(n,i);return a.config({shape:e}),a}}),Sv.setNodeRegistry(Cv.registry),function(e){var t=0;e.define=function(n){var r,o=n.constructorName,u=n.overwrite,s=Pv(n,["constructorName","overwrite"]),c=i.createClass((r=o||s.shape)?a.pascalCase(r):"CustomNode".concat(t+=1),this);return c.config(s),s.shape&&e.registry.register(s.shape,c,u),c},e.create=function(t){var n=t.shape||"rect",r=e.registry.get(n);return r?new r(t):e.registry.onNotFound(n)}}(Mv||(Mv={}));var Nv,Rv=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},Lv=function(e,t){Object(P.a)(r,e);var n=Object(M.a)(r);function r(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(T.a)(this,r),n.call(this,e)}return Object(j.a)(r,[{key:t,get:function(){return r.toStringTag}},{key:"preprocess",value:function(e,t){var n=e.source,i=e.sourceCell,o=e.sourcePort,a=e.sourcePoint,u=e.target,s=e.targetCell,c=e.targetPort,l=e.targetPoint,f=Rv(e,["source","sourceCell","sourcePort","sourcePoint","target","targetCell","targetPort","targetPoint"]),h=function(e){return"string"===typeof e||"number"===typeof e};if(null!=n)if(jv.isCell(n))f.source={cell:n.id};else if(h(n))f.source={cell:n};else if(Lc.isPoint(n))f.source=n.toJSON();else if(Array.isArray(n))f.source={x:n[0],y:n[1]};else{var d=n.cell;jv.isCell(d)?f.source=Object.assign(Object.assign({},n),{cell:d.id}):f.source=n}if(null!=i||null!=o){var p=f.source;if(null!=i){var v=h(i)?i:i.id;p?p.cell=v:p=f.source={cell:v}}null!=o&&p&&(p.port=o)}else null!=a&&(f.source=Lc.create(a).toJSON());if(null!=u)if(jv.isCell(u))f.target={cell:u.id};else if(h(u))f.target={cell:u};else if(Lc.isPoint(u))f.target=u.toJSON();else if(Array.isArray(u))f.target={x:u[0],y:u[1]};else{var g=u.cell;jv.isCell(g)?f.target=Object.assign(Object.assign({},u),{cell:g.id}):f.target=u}if(null!=s||null!=c){var y=f.target;if(null!=s){var m=h(s)?s:s.id;y?y.cell=m:y=f.target={cell:m}}null!=c&&y&&(y.port=c)}else null!=l&&(f.target=Lc.create(l).toJSON());return Object(ad.a)(Object(ud.a)(r.prototype),"preprocess",this).call(this,f,t)}},{key:"setup",value:function(){var e=this;Object(ad.a)(Object(ud.a)(r.prototype),"setup",this).call(this),this.on("change:labels",function(t){return e.onLabelsChanged(t)}),this.on("change:vertices",function(t){return e.onVertexsChanged(t)})}},{key:"isEdge",value:function(){return!0}},{key:"disconnect",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.store.set({source:{x:0,y:0},target:{x:0,y:0}},e),this}},{key:"source",get:function(){return this.getSource()}},{key:"source",set:function(e){this.setSource(e)}},{key:"getSource",value:function(){return this.getTerminal("source")}},{key:"getSourceCellId",value:function(){return this.source.cell}},{key:"getSourcePortId",value:function(){return this.source.port}},{key:"setSource",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.setTerminal("source",e,t,n)}},{key:"target",get:function(){return this.getTarget()}},{key:"target",set:function(e){this.setTarget(e)}},{key:"getTarget",value:function(){return this.getTerminal("target")}},{key:"getTargetCellId",value:function(){return this.target.cell}},{key:"getTargetPortId",value:function(){return this.target.port}},{key:"setTarget",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.setTerminal("target",e,t,n)}},{key:"getTerminal",value:function(e){return Object.assign({},this.store.get(e))}},{key:"setTerminal",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};if(jv.isCell(t))return this.store.set(e,i.merge({},n,{cell:t.id}),r),this;var o=t;return Lc.isPoint(t)||null!=o.x&&null!=o.y?(this.store.set(e,i.merge({},n,{x:o.x,y:o.y}),r),this):(this.store.set(e,i.cloneDeep(t),r),this)}},{key:"getSourcePoint",value:function(){return this.getTerminalPoint("source")}},{key:"getTargetPoint",value:function(){return this.getTerminalPoint("target")}},{key:"getTerminalPoint",value:function(e){var t=this[e];if(Lc.isPointLike(t))return Lc.create(t);var n=this.getTerminalCell(e);return n?n.getConnectionPoint(this,e):new Lc}},{key:"getSourceCell",value:function(){return this.getTerminalCell("source")}},{key:"getTargetCell",value:function(){return this.getTerminalCell("target")}},{key:"getTerminalCell",value:function(e){if(this.model){var t="source"===e?this.getSourceCellId():this.getTargetCellId();if(t)return this.model.getCell(t)}return null}},{key:"getSourceNode",value:function(){return this.getTerminalNode("source")}},{key:"getTargetNode",value:function(){return this.getTerminalNode("target")}},{key:"getTerminalNode",value:function(e){for(var t=this,n={};t&&t.isEdge();){if(n[t.id])return null;n[t.id]=!0,t=t.getTerminalCell(e)}return t&&t.isNode()?t:null}},{key:"router",get:function(){return this.getRouter()}},{key:"router",set:function(e){null==e?this.removeRouter():this.setRouter(e)}},{key:"getRouter",value:function(){return this.store.get("router")}},{key:"setRouter",value:function(e,t,n){return"object"===typeof e?this.store.set("router",e,t):this.store.set("router",{name:e,args:t},n),this}},{key:"removeRouter",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.store.remove("router",e),this}},{key:"connector",get:function(){return this.getConnector()}},{key:"connector",set:function(e){null==e?this.removeConnector():this.setConnector(e)}},{key:"getConnector",value:function(){return this.store.get("connector")}},{key:"setConnector",value:function(e,t,n){return"object"===typeof e?this.store.set("connector",e,t):this.store.set("connector",{name:e,args:t},n),this}},{key:"removeConnector",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.store.remove("connector",e)}},{key:"getDefaultLabel",value:function(){var e=this.constructor,t=this.store.get("defaultLabel")||e.defaultLabel||{};return i.cloneDeep(t)}},{key:"labels",get:function(){return this.getLabels()}},{key:"labels",set:function(e){this.setLabels(e)}},{key:"getLabels",value:function(){var e=this;return Object(N.a)(this.store.get("labels",[])).map(function(t){return e.parseLabel(t)})}},{key:"setLabels",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.store.set("labels",Array.isArray(e)?e:[e],t),this}},{key:"insertLabel",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=this.getLabels(),i=r.length,o=null!=t&&Number.isFinite(t)?t:i;return o<0&&(o=i+o+1),r.splice(o,0,this.parseLabel(e)),this.setLabels(r,n)}},{key:"appendLabel",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.insertLabel(e,-1,t)}},{key:"getLabelAt",value:function(e){var t=this.getLabels();return null!=e&&Number.isFinite(e)?this.parseLabel(t[e]):null}},{key:"setLabelAt",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(null!=e&&Number.isFinite(e)){var r=this.getLabels();r[e]=this.parseLabel(t),this.setLabels(r,n)}return this}},{key:"removeLabelAt",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this.getLabels(),r=null!=e&&Number.isFinite(e)?e:-1,i=n.splice(r,1);return this.setLabels(n,t),i.length?i[0]:null}},{key:"parseLabel",value:function(e){return"string"===typeof e?this.constructor.parseStringLabel(e):e}},{key:"onLabelsChanged",value:function(e){var t=e.previous,n=e.current,r=t&&n?n.filter(function(e){return t.find(function(t){return e===t||i.isEqual(e,t)})?null:e}):n?Object(N.a)(n):[],o=t&&n?t.filter(function(e){return n.find(function(t){return e===t||i.isEqual(e,t)})?null:e}):t?Object(N.a)(t):[];r.length>0&&this.notify("labels:added",{added:r,cell:this,edge:this}),o.length>0&&this.notify("labels:removed",{removed:o,cell:this,edge:this})}},{key:"vertices",get:function(){return this.getVertices()}},{key:"vertices",set:function(e){this.setVertices(e)}},{key:"getVertices",value:function(){return Object(N.a)(this.store.get("vertices",[]))}},{key:"setVertices",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=Array.isArray(e)?e:[e];return this.store.set("vertices",n.map(function(e){return Lc.toJSON(e)}),t),this}},{key:"insertVertex",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=this.getVertices(),i=r.length,o=null!=t&&Number.isFinite(t)?t:i;return o<0&&(o=i+o+1),r.splice(o,0,Lc.toJSON(e)),this.setVertices(r,n)}},{key:"appendVertex",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.insertVertex(e,-1,t)}},{key:"getVertexAt",value:function(e){return null!=e&&Number.isFinite(e)?this.getVertices()[e]:null}},{key:"setVertexAt",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(null!=e&&Number.isFinite(e)){var r=this.getVertices();r[e]=t,this.setVertices(r,n)}return this}},{key:"removeVertexAt",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this.getVertices(),r=null!=e&&Number.isFinite(e)?e:-1;return n.splice(r,1),this.setVertices(n,t)}},{key:"onVertexsChanged",value:function(e){var t=e.previous,n=e.current,r=t&&n?n.filter(function(e){return t.find(function(t){return Lc.equals(e,t)})?null:e}):n?Object(N.a)(n):[],i=t&&n?t.filter(function(e){return n.find(function(t){return Lc.equals(e,t)})?null:e}):t?Object(N.a)(t):[];r.length>0&&this.notify("vertexs:added",{added:r,cell:this,edge:this}),i.length>0&&this.notify("vertexs:removed",{removed:i,cell:this,edge:this})}},{key:"getDefaultMarkup",value:function(){return this.store.get("defaultMarkup")||cd.getEdgeMarkup()}},{key:"getMarkup",value:function(){return Object(ad.a)(Object(ud.a)(r.prototype),"getMarkup",this).call(this)||this.getDefaultMarkup()}},{key:"translate",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return n.translateBy=n.translateBy||this.id,n.tx=e,n.ty=t,this.applyToPoints(function(n){return{x:(n.x||0)+e,y:(n.y||0)+t}},n)}},{key:"scale",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return this.applyToPoints(function(r){return Lc.create(r).scale(e,t,n).toJSON()},r)}},{key:"applyToPoints",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n={},r=this.getSource(),i=this.getTarget();Lc.isPointLike(r)&&(n.source=e(r)),Lc.isPointLike(i)&&(n.target=e(i));var o=this.getVertices();return o.length>0&&(n.vertices=o.map(e)),this.store.set(n,t),this}},{key:"getBBox",value:function(){return this.getPolyline().bbox()}},{key:"getConnectionPoint",value:function(){return this.getPolyline().pointAt(.5)}},{key:"getPolyline",value:function(){var e=[this.getSourcePoint()].concat(Object(N.a)(this.getVertices().map(function(e){return Lc.create(e)})),[this.getTargetPoint()]);return new qc(e)}},{key:"updateParent",value:function(e){var t=null,n=this.getSourceCell(),r=this.getTargetCell(),i=this.getParent();return n&&r&&(t=n===r||n.isDescendantOf(r)?r:r.isDescendantOf(n)?n:jv.getCommonAncestor(n,r)),!i||t&&t.id===i.id||i.unembed(this,e),t&&t.embed(this,e),t}},{key:"hasLoop",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this.getSource(),n=this.getTarget(),r=t.cell,i=n.cell;if(!r||!i)return!1;var o=r===i;if(!o&&e.deep&&this._model){var a=this.getSourceCell(),u=this.getTargetCell();a&&u&&(o=a.isAncestorOf(u,e)||u.isAncestorOf(a,e))}return o}},{key:"getFragmentAncestor",value:function(){var e=[this,this.getSourceNode(),this.getTargetNode()].filter(function(e){return null!=e});return this.getCommonAncestor.apply(this,Object(N.a)(e))}},{key:"isFragmentDescendantOf",value:function(e){var t=this.getFragmentAncestor();return!!t&&(t.id===e.id||t.isDescendantOf(e))}}]),r}(jv,Symbol.toStringTag);Lv.defaults={},function(e){(Lv||(Lv={})).equalTerminals=function(e,t){var n=e,r=t;return n.cell===r.cell&&(n.port===r.port||null==n.port&&null==r.port)}}(),function(e){e.defaultLabel={markup:[{tagName:"rect",selector:"body"},{tagName:"text",selector:"label"}],attrs:{text:{fill:"#000",fontSize:14,textAnchor:"middle",textVerticalAnchor:"middle",pointerEvents:"none"},rect:{ref:"label",fill:"#fff",rx:3,ry:3,refWidth:1,refHeight:1,refX:0,refY:0}},position:{distance:.5}},e.parseStringLabel=function(e){return{attrs:{label:{text:e}}}}}(Lv||(Lv={})),function(e){e.toStringTag="X6.".concat(e.name),e.isEdge=function(t){if(null==t)return!1;if(t instanceof e)return!0;var n=t[Symbol.toStringTag],r=t;return(null==n||n===e.toStringTag)&&"function"===typeof r.isNode&&"function"===typeof r.isEdge&&"function"===typeof r.prop&&"function"===typeof r.attr&&"function"===typeof r.disconnect&&"function"===typeof r.getSource&&"function"===typeof r.getTarget}}(Lv||(Lv={})),(Nv=Lv||(Lv={})).registry=al.create({type:"edge",process:function(e,t){if(Sv.exist(e,!1))throw new Error("Edge with name '".concat(e,"' was registered by anthor Node"));if("function"===typeof t)return t.config({shape:e}),t;var n=Nv,r=t.inherit,i=void 0===r?"edge":r,o=Rv(t,["inherit"]);if("string"===typeof i){var a=this.get(i||"edge");null==a&&i?this.onNotFound(i,"inherited"):n=a}else n=i;null==o.constructorName&&(o.constructorName=e);var u=n.define.call(n,o);return u.config({shape:e}),u}}),Sv.setEdgeRegistry(Nv.registry),function(e){var t=0;e.define=function(n){var r,o=n.constructorName,u=n.overwrite,s=Rv(n,["constructorName","overwrite"]),c=i.createClass((r=o||s.shape)?a.pascalCase(r):"CustomEdge".concat(t+=1),this);return c.config(s),s.shape&&e.registry.register(s.shape,c,u),c},e.create=function(t){var n=t.shape||"edge",r=e.registry.get(n);return r?new r(t):e.registry.onNotFound(n)}}(Lv||(Lv={})),function(e){e.config({shape:"basic.edge",propHooks:function(t){var n=t.label,r=t.vertices,i=Rv(t,["label","vertices"]);if(n){null==i.labels&&(i.labels=[]);var o="string"===typeof n?e.parseStringLabel(n):n;i.labels.push(o)}return r&&Array.isArray(r)&&(i.vertices=r.map(function(e){return Lc.create(e).toJSON()})),i}}),e.registry.register("basic.edge",e)}(Lv||(Lv={}));var Iv=function(e){Object(P.a)(n,e);var t=Object(M.a)(n);function n(e){var r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object(T.a)(this,n),(r=t.call(this)).length=0,r.comparator=i.comparator||"zIndex",r.clean(),e&&r.reset(e,{silent:!0}),r}return Object(j.a)(n,[{key:"toJSON",value:function(){return this.cells.map(function(e){return e.toJSON()})}},{key:"add",value:function(e,t,n){var r,i,o=this;"number"===typeof t?(r=t,i=Object.assign({merge:!1},n)):(r=this.length,i=Object.assign({merge:!1},t)),r>this.length&&(r=this.length),r<0&&(r+=this.length+1);var a,u=Array.isArray(e)?e:[e],s=this.comparator&&"number"!==typeof t&&!1!==i.sort,c=this.comparator||null,l=!1,f=[],h=[];(u.forEach(function(e){var t=o.get(e);t?i.merge&&!e.isSameStore(t)&&(t.setProp(e.getProp(),n),h.push(t),s&&!l&&(l=null==c||"function"===typeof c?t.hasChanged():"string"===typeof c?t.hasChanged(c):c.some(function(e){return t.hasChanged(e)}))):(f.push(e),o.reference(e))}),f.length)&&(s&&(l=!0),(a=this.cells).splice.apply(a,[r,0].concat(f)),this.length=this.cells.length);return l&&this.sort({silent:!0}),i.silent||(f.forEach(function(e,t){var n={cell:e,index:r+t,options:i};o.trigger("added",n),i.dryrun||e.notify("added",Object.assign({},n))}),l&&this.trigger("sorted"),(f.length||h.length)&&this.trigger("updated",{added:f,merged:h,removed:[],options:i})),this}},{key:"remove",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=Array.isArray(e)?e:[e],r=this.removeCells(n,t);return!t.silent&&r.length>0&&this.trigger("updated",{options:t,removed:r,added:[],merged:[]}),Array.isArray(e)?r:r[0]}},{key:"removeCells",value:function(e,t){for(var n=[],r=0;r<e.length;r+=1){var i=this.get(e[r]);if(null!=i){var o=this.cells.indexOf(i);this.cells.splice(o,1),this.length-=1,delete this.map[i.id],n.push(i),this.unreference(i),t.dryrun||i.remove(),t.silent||(this.trigger("removed",{cell:i,index:o,options:t}),t.dryrun||i.notify("removed",{cell:i,index:o,options:t}))}}return n}},{key:"reset",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=this.cells.slice();if(r.forEach(function(e){return t.unreference(e)}),this.clean(),this.add(e,Object.assign({silent:!0},n)),!n.silent){var i=this.cells.slice();this.trigger("reseted",{options:n,previous:r,current:i});var o=[],a=[];i.forEach(function(e){r.some(function(t){return t.id===e.id})||o.push(e)}),r.forEach(function(e){i.some(function(t){return t.id===e.id})||a.push(e)}),this.trigger("updated",{options:n,added:o,removed:a,merged:[]})}return this}},{key:"push",value:function(e,t){return this.add(e,this.length,t)}},{key:"pop",value:function(e){var t=this.at(this.length-1);return this.remove(t,e)}},{key:"unshift",value:function(e,t){return this.add(e,0,t)}},{key:"shift",value:function(e){var t=this.at(0);return this.remove(t,e)}},{key:"get",value:function(e){if(null==e)return null;var t="string"===typeof e||"number"===typeof e?e:e.id;return this.map[t]||null}},{key:"has",value:function(e){return null!=this.get(e)}},{key:"at",value:function(e){return e<0&&(e+=this.length),this.cells[e]||null}},{key:"first",value:function(){return this.at(0)}},{key:"last",value:function(){return this.at(-1)}},{key:"indexOf",value:function(e){return this.cells.indexOf(e)}},{key:"toArray",value:function(){return this.cells.slice()}},{key:"sort",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return null!=this.comparator&&(this.cells=o.sortBy(this.cells,this.comparator),e.silent||this.trigger("sorted")),this}},{key:"clone",value:function(){return new(0,this.constructor)(this.cells.slice(),{comparator:this.comparator})}},{key:"reference",value:function(e){this.map[e.id]=e,e.on("*",this.notifyCellEvent,this)}},{key:"unreference",value:function(e){e.off("*",this.notifyCellEvent,this),delete this.map[e.id]}},{key:"notifyCellEvent",value:function(e,t){var n=t.cell;this.trigger("cell:".concat(e),t),n&&(n.isNode()?this.trigger("node:".concat(e),Object.assign(Object.assign({},t),{node:n})):n.isEdge()&&this.trigger("edge:".concat(e),Object.assign(Object.assign({},t),{edge:n})))}},{key:"clean",value:function(){this.length=0,this.cells=[],this.map={}}}]),n}(na),Dv=function(e,t){Object(P.a)(i,e);var n=Object(M.a)(i);function i(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return Object(T.a)(this,i),(e=n.call(this)).batches={},e.addings=new WeakMap,e.nodes={},e.edges={},e.outgoings={},e.incomings={},e.collection=new Iv(t),e.setup(),e}return Object(j.a)(i,[{key:t,get:function(){return i.toStringTag}},{key:"notify",value:function(e,t){this.trigger(e,t);var n=this.graph;return n&&("sorted"===e||"reseted"===e||"updated"===e?n.trigger("model:".concat(e),t):n.trigger(e,t)),this}},{key:"setup",value:function(){var e=this,t=this.collection;t.on("sorted",function(){return e.notify("sorted",null)}),t.on("updated",function(t){return e.notify("updated",t)}),t.on("cell:change:zIndex",function(){return e.sortOnChangeZ()}),t.on("added",function(t){var n=t.cell;e.onCellAdded(n)}),t.on("removed",function(t){var n=t.cell;e.onCellRemoved(n,t.options),e.notify("cell:removed",t),n.isNode()?e.notify("node:removed",Object.assign(Object.assign({},t),{node:n})):n.isEdge()&&e.notify("edge:removed",Object.assign(Object.assign({},t),{edge:n}))}),t.on("reseted",function(t){e.onReset(t.current),e.notify("reseted",t)}),t.on("edge:change:source",function(t){var n=t.edge;return e.onEdgeTerminalChanged(n,"source")}),t.on("edge:change:target",function(t){var n=t.edge;e.onEdgeTerminalChanged(n,"target")})}},{key:"sortOnChangeZ",value:function(){this.collection.sort()}},{key:"onCellAdded",value:function(e){var t=e.id;e.isEdge()?(e.updateParent(),this.edges[t]=!0,this.onEdgeTerminalChanged(e,"source"),this.onEdgeTerminalChanged(e,"target")):this.nodes[t]=!0}},{key:"onCellRemoved",value:function(e,t){var n=e.id;if(e.isEdge()){delete this.edges[n];var r=e.getSource(),i=e.getTarget();if(r&&r.cell){var o=this.outgoings[r.cell],a=o?o.indexOf(n):-1;a>=0&&(o.splice(a,1),0===o.length&&delete this.outgoings[r.cell])}if(i&&i.cell){var u=this.incomings[i.cell],s=u?u.indexOf(n):-1;s>=0&&(u.splice(s,1),0===u.length&&delete this.incomings[i.cell])}}else delete this.nodes[n];t.clear||(t.disconnectEdges?this.disconnectConnectedEdges(e,t):this.removeConnectedEdges(e,t)),e.model===this&&(e.model=null)}},{key:"onReset",value:function(e){var t=this;this.nodes={},this.edges={},this.outgoings={},this.incomings={},e.forEach(function(e){return t.onCellAdded(e)})}},{key:"onEdgeTerminalChanged",value:function(e,t){var n="source"===t?this.outgoings:this.incomings,r=e.previous(t);if(r&&r.cell){var i=jv.isCell(r.cell)?r.cell.id:r.cell,o=n[i],a=o?o.indexOf(e.id):-1;a>=0&&(o.splice(a,1),0===o.length&&delete n[i])}var u=e.getTerminal(t);if(u&&u.cell){var s=jv.isCell(u.cell)?u.cell.id:u.cell,c=n[s]||[];-1===c.indexOf(e.id)&&c.push(e.id),n[s]=c}}},{key:"prepareCell",value:function(e,t){return e.model||t&&t.dryrun||(e.model=this),null==e.zIndex&&e.setZIndex(this.getMaxZIndex()+1,{silent:!0}),e}},{key:"resetCells",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e.map(function(e){return t.prepareCell(e,Object.assign(Object.assign({},n),{dryrun:!0}))}),this.collection.reset(e,n),e.map(function(e){return t.prepareCell(e,{options:n})}),this}},{key:"clear",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this.getCells();if(0===t.length)return this;var n=Object.assign(Object.assign({},e),{clear:!0});return this.batchUpdate("clear",function(){for(var e=t.sort(function(e,t){return(e.isEdge()?1:2)-(t.isEdge()?1:2)});e.length>0;){var r=e.shift();r&&r.remove(n)}},n),this}},{key:"addNode",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=Mv.isNode(e)?e:this.createNode(e);return this.addCell(n,t),n}},{key:"updateNode",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this.createNode(e),r=n.getProp();return n.dispose(),this.updateCell(r,t)}},{key:"createNode",value:function(e){return Mv.create(e)}},{key:"addEdge",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=Lv.isEdge(e)?e:this.createEdge(e);return this.addCell(n,t),n}},{key:"createEdge",value:function(e){return Lv.create(e)}},{key:"updateEdge",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this.createEdge(e),r=n.getProp();return n.dispose(),this.updateCell(r,t)}},{key:"addCell",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Array.isArray(e)?this.addCells(e,n):(this.collection.has(e)||this.addings.has(e)||(this.addings.set(e,!0),this.collection.add(this.prepareCell(e,n),n),e.eachChild(function(e){return t.addCell(e,n)}),this.addings.delete(e)),this)}},{key:"addCells",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=e.length;if(0===r)return this;var i=Object.assign(Object.assign({},n),{position:r-1,maxPosition:r-1});return this.startBatch("add",Object.assign(Object.assign({},i),{cells:e})),e.forEach(function(e){t.addCell(e,i),i.position-=1}),this.stopBatch("add",Object.assign(Object.assign({},i),{cells:e})),this}},{key:"updateCell",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.id&&this.getCell(e.id);return!!n&&this.batchUpdate("update",function(){return Object.entries(e).forEach(function(e){var r=Object(fs.a)(e,2),i=r[0],o=r[1];return n.setProp(i,o,t)}),!0},e)}},{key:"removeCell",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n="string"===typeof e?this.getCell(e):e;return n&&this.has(n)?this.collection.remove(n,t):null}},{key:"updateCellId",value:function(e,t){this.startBatch("update",{id:t}),e.prop("id",t);var n=e.clone({keepId:!0});return this.addCell(n),this.getConnectedEdges(e).forEach(function(n){var r=n.getSourceCell(),i=n.getTargetCell();r===e&&n.setSource(Object.assign(Object.assign({},n.getSource()),{cell:t})),i===e&&n.setTarget(Object.assign(Object.assign({},n.getTarget()),{cell:t}))}),this.removeCell(e),this.stopBatch("update",{id:t}),n}},{key:"removeCells",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e.length?this.batchUpdate("remove",function(){return e.map(function(e){return t.removeCell(e,n)})}):[]}},{key:"removeConnectedEdges",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this.getConnectedEdges(e);return n.forEach(function(e){e.remove(t)}),n}},{key:"disconnectConnectedEdges",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n="string"===typeof e?e:e.id;this.getConnectedEdges(e).forEach(function(e){var r=e.getSourceCellId(),i=e.getTargetCellId();r===n&&e.setSource({x:0,y:0},t),i===n&&e.setTarget({x:0,y:0},t)})}},{key:"has",value:function(e){return this.collection.has(e)}},{key:"total",value:function(){return this.collection.length}},{key:"indexOf",value:function(e){return this.collection.indexOf(e)}},{key:"getCell",value:function(e){return this.collection.get(e)}},{key:"getCells",value:function(){return this.collection.toArray()}},{key:"getFirstCell",value:function(){return this.collection.first()}},{key:"getLastCell",value:function(){return this.collection.last()}},{key:"getMinZIndex",value:function(){var e=this.collection.first();return e&&e.getZIndex()||0}},{key:"getMaxZIndex",value:function(){var e=this.collection.last();return e&&e.getZIndex()||0}},{key:"getCellsFromCache",value:function(e){var t=this;return e?Object.keys(e).map(function(e){return t.getCell(e)}).filter(function(e){return null!=e}):[]}},{key:"getNodes",value:function(){return this.getCellsFromCache(this.nodes)}},{key:"getEdges",value:function(){return this.getCellsFromCache(this.edges)}},{key:"getOutgoingEdges",value:function(e){var t=this,n="string"===typeof e?e:e.id,r=this.outgoings[n];return r?r.map(function(e){return t.getCell(e)}).filter(function(e){return e&&e.isEdge()}):null}},{key:"getIncomingEdges",value:function(e){var t=this,n="string"===typeof e?e:e.id,r=this.incomings[n];return r?r.map(function(e){return t.getCell(e)}).filter(function(e){return e&&e.isEdge()}):null}},{key:"getConnectedEdges",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=[],i="string"===typeof e?this.getCell(e):e;if(null==i)return r;var o={},a=n.indirect,u=n.incoming,s=n.outgoing;null==u&&null==s&&(u=s=!0);var c=function e(n,i){var c=i?t.getOutgoingEdges(n):t.getIncomingEdges(n);if(null!=c&&c.forEach(function(t){o[t.id]||(r.push(t),o[t.id]=!0,a&&(u&&e(t,!1),s&&e(t,!0)))}),a&&n.isEdge()){var l=i?n.getTargetCell():n.getSourceCell();l&&l.isEdge()&&(o[l.id]||(r.push(l),e(l,i)))}};if(s&&c(i,!0),u&&c(i,!1),n.deep){var l=i.getDescendants({deep:!0}),f={};l.forEach(function(e){e.isNode()&&(f[e.id]=!0)});var h=function(e,i){var a=i?t.getOutgoingEdges(e.id):t.getIncomingEdges(e.id);null!=a&&a.forEach(function(e){if(!o[e.id]){var t=e.getSourceCell(),i=e.getTargetCell();if(!n.enclosed&&t&&f[t.id]&&i&&f[i.id])return;r.push(e),o[e.id]=!0}})};l.forEach(function(e){e.isEdge()||(s&&h(e,!0),u&&h(e,!1))})}return r}},{key:"isBoundary",value:function(e,t){var n="string"===typeof e?this.getCell(e):e,r=t?this.getIncomingEdges(n):this.getOutgoingEdges(n);return null==r||0===r.length}},{key:"getBoundaryNodes",value:function(e){var t=this,n=[];return Object.keys(this.nodes).forEach(function(r){if(t.isBoundary(r,e)){var i=t.getCell(r);i&&n.push(i)}}),n}},{key:"getRoots",value:function(){return this.getBoundaryNodes(!0)}},{key:"getLeafs",value:function(){return this.getBoundaryNodes(!1)}},{key:"isRoot",value:function(e){return this.isBoundary(e,!0)}},{key:"isLeaf",value:function(e){return this.isBoundary(e,!1)}},{key:"getNeighbors",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.incoming,r=t.outgoing;null==n&&null==r&&(n=r=!0);var i=this.getConnectedEdges(e,t).reduce(function(i,o){var a=o.hasLoop(t),u=o.getSourceCell(),s=o.getTargetCell();return n&&u&&u.isNode()&&!i[u.id]&&(!a&&(u===e||t.deep&&u.isDescendantOf(e))||(i[u.id]=u)),r&&s&&s.isNode()&&!i[s.id]&&(!a&&(s===e||t.deep&&s.isDescendantOf(e))||(i[s.id]=s)),i},{});if(e.isEdge()){if(n){var o=e.getSourceCell();o&&o.isNode()&&!i[o.id]&&(i[o.id]=o)}if(r){var a=e.getTargetCell();a&&a.isNode()&&!i[a.id]&&(i[a.id]=a)}}return Object.keys(i).map(function(e){return i[e]})}},{key:"isNeighbor",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.incoming,i=n.outgoing;return null==r&&null==i&&(r=i=!0),this.getConnectedEdges(e,n).some(function(e){var n=e.getSourceCell(),o=e.getTargetCell();return!(!r||!n||n.id!==t.id)||!(!i||!o||o.id!==t.id)})}},{key:"getSuccessors",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=[];return this.search(e,function(i,o){i!==e&&t.matchDistance(o,n.distance)&&r.push(i)},Object.assign(Object.assign({},n),{outgoing:!0})),r}},{key:"isSuccessor",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=!1;return this.search(e,function(o,a){if(o===t&&o!==e&&n.matchDistance(a,r.distance))return i=!0,!1},Object.assign(Object.assign({},r),{outgoing:!0})),i}},{key:"getPredecessors",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=[];return this.search(e,function(i,o){i!==e&&t.matchDistance(o,n.distance)&&r.push(i)},Object.assign(Object.assign({},n),{incoming:!0})),r}},{key:"isPredecessor",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=!1;return this.search(e,function(o,a){if(o===t&&o!==e&&n.matchDistance(a,r.distance))return i=!0,!1},Object.assign(Object.assign({},r),{incoming:!0})),i}},{key:"matchDistance",value:function(e,t){return null==t||("function"===typeof t?t(e):!(!Array.isArray(t)||!t.includes(e))||e===t)}},{key:"getCommonAncestor",value:function(){for(var e=[],t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return n.forEach(function(t){t&&(Array.isArray(t)?e.push.apply(e,Object(N.a)(t)):e.push(t))}),jv.getCommonAncestor.apply(jv,e)}},{key:"getSubGraph",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=[],i={},o=[],a=[],u=function(e){i[e.id]||(r.push(e),i[e.id]=e,e.isEdge()&&a.push(e),e.isNode()&&o.push(e))};return e.forEach(function(e){(u(e),n.deep)&&e.getDescendants({deep:!0}).forEach(function(e){return u(e)})}),a.forEach(function(e){var t=e.getSourceCell(),n=e.getTargetCell();t&&!i[t.id]&&(r.push(t),i[t.id]=t,t.isNode()&&o.push(t)),n&&!i[n.id]&&(r.push(n),i[n.id]=n,n.isNode()&&o.push(n))}),o.forEach(function(e){t.getConnectedEdges(e,n).forEach(function(e){var t=e.getSourceCell(),n=e.getTargetCell();!i[e.id]&&t&&i[t.id]&&n&&i[n.id]&&(r.push(e),i[e.id]=e)})}),r}},{key:"cloneSubGraph",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this.getSubGraph(e,t);return this.cloneCells(n)}},{key:"cloneCells",value:function(e){return jv.cloneCells(e)}},{key:"getNodesFromPoint",value:function(e,t){var n="number"===typeof e?{x:e,y:t||0}:e;return this.getNodes().filter(function(e){return e.getBBox().containsPoint(n)})}},{key:"getNodesInArea",value:function(e,t,n,r,i){var o="number"===typeof e?new Ic(e,t,n,r):Ic.create(e),a="number"===typeof e?i:t,u=a&&a.strict;return this.getNodes().filter(function(e){var t=e.getBBox();return u?o.containsRect(t):o.isIntersectWithRect(t)})}},{key:"getEdgesInArea",value:function(e,t,n,r,i){var o="number"===typeof e?new Ic(e,t,n,r):Ic.create(e),a="number"===typeof e?i:t,u=a&&a.strict;return this.getEdges().filter(function(e){var t=e.getBBox();return 0===t.width?t.inflate(1,0):0===t.height&&t.inflate(0,1),u?o.containsRect(t):o.isIntersectWithRect(t)})}},{key:"getNodesUnderNode",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.getBBox();return(null==t.by||"bbox"===t.by?this.getNodesInArea(n):this.getNodesFromPoint(n[t.by])).filter(function(t){return e.id!==t.id&&!t.isDescendantOf(e)})}},{key:"getAllCellsBBox",value:function(){return this.getCellsBBox(this.getCells())}},{key:"getCellsBBox",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return jv.getCellsBBox(e,t)}},{key:"search",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};n.breadthFirst?this.breadthFirstSearch(e,t,n):this.depthFirstSearch(e,t,n)}},{key:"breadthFirstSearch",value:function(e,t){var n=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=[],a={},u={};o.push(e),u[e.id]=0;for(var s=function(){var e=o.shift();return null==e||a[e.id]?"continue":(a[e.id]=!0,!1===r.call(t,n,e,u[e.id])?"continue":void n.getNeighbors(e,i).forEach(function(t){u[t.id]=u[e.id]+1,o.push(t)}))};o.length>0;)s()}},{key:"depthFirstSearch",value:function(e,t){var n=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=[],a={},u={};o.push(e),u[e.id]=0;for(var s=function(){var e=o.pop();if(null==e||a[e.id])return"continue";if(a[e.id]=!0,!1===r.call(t,n,e,u[e.id]))return"continue";var s=n.getNeighbors(e,i),c=o.length;s.forEach(function(t){u[t.id]=u[e.id]+1,o.splice(c,0,t)})};o.length>0;)s()}},{key:"getShortestPath",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r={};this.getEdges().forEach(function(e){var t=e.getSourceCellId(),i=e.getTargetCellId();t&&i&&(r[t]||(r[t]=[]),r[i]||(r[i]=[]),r[t].push(i),n.directed||r[i].push(t))});var i="string"===typeof e?e:e.id,o=Ec.run(r,i,n.weight),a=[],u="string"===typeof t?t:t.id;for(o[u]&&a.push(u);u=o[u];)a.unshift(u);return a}},{key:"translate",value:function(e,t,n){return this.getCells().filter(function(e){return!e.hasParent()}).forEach(function(r){return r.translate(e,t,n)}),this}},{key:"resize",value:function(e,t,n){return this.resizeCells(e,t,this.getCells(),n)}},{key:"resizeCells",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=this.getCellsBBox(n);if(i){var o=Math.max(e/i.width,0),a=Math.max(t/i.height,0),u=i.getOrigin();n.forEach(function(e){return e.scale(o,a,u,r)})}return this}},{key:"toJSON",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return i.toJSON(this.getCells(),e)}},{key:"parseJSON",value:function(e){return i.fromJSON(e)}},{key:"fromJSON",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this.parseJSON(e);return this.resetCells(n,t),this}},{key:"startBatch",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.batches[e]=(this.batches[e]||0)+1,this.notify("batch:start",{name:e,data:t}),this}},{key:"stopBatch",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.batches[e]=(this.batches[e]||0)-1,this.notify("batch:stop",{name:e,data:t}),this}},{key:"batchUpdate",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this.startBatch(e,n);var r=t();return this.stopBatch(e,n),r}},{key:"hasActiveBatch",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Object.keys(this.batches);return(Array.isArray(t)?t:[t]).some(function(t){return e.batches[t]>0})}}]),i}(na,Symbol.toStringTag);!function(e){e.toStringTag="X6.".concat(e.name),e.isModel=function(t){if(null==t)return!1;if(t instanceof e)return!0;var n=t[Symbol.toStringTag],r=t;return(null==n||n===e.toStringTag)&&"function"===typeof r.addNode&&"function"===typeof r.addEdge&&null!=r.collection}}(Dv||(Dv={})),function(e){e.toJSON=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return{cells:e.map(function(e){return e.toJSON(t)})}},e.fromJSON=function(e){var t=[];return Array.isArray(e)?t.push.apply(t,Object(N.a)(e)):(e.cells&&t.push.apply(t,Object(N.a)(e.cells)),e.nodes&&e.nodes.forEach(function(e){null==e.shape&&(e.shape="rect"),t.push(e)}),e.edges&&e.edges.forEach(function(e){null==e.shape&&(e.shape="edge"),t.push(e)})),t.map(function(e){var t=e.shape;if(t){if(Mv.registry.exist(t))return Mv.create(e);if(Lv.registry.exist(t))return Lv.create(e)}throw new Error("The `shape` should be specified when creating a node/edge instance")})}}(Dv||(Dv={}));var Bv,Fv=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},zv=function(e){Object(P.a)(n,e);var t=Object(M.a)(n);function n(){return Object(T.a)(this,n),t.apply(this,arguments)}return Object(j.a)(n,[{key:"label",get:function(){return this.getLabel()},set:function(e){this.setLabel(e)}},{key:"getLabel",value:function(){return this.getAttrByPath("text/text")}},{key:"setLabel",value:function(e,t){return null==e?this.removeLabel():this.setAttrByPath("text/text",e,t),this}},{key:"removeLabel",value:function(){return this.removeAttrByPath("text/text"),this}}]),n}(Mv);(Bv=zv||(zv={})).bodyAttr={fill:"#ffffff",stroke:"#333333",strokeWidth:2},Bv.labelAttr={fontSize:14,fill:"#000000",refX:.5,refY:.5,textAnchor:"middle",textVerticalAnchor:"middle",fontFamily:"Arial, helvetica, sans-serif"},Bv.config({attrs:{text:Object.assign({},Bv.labelAttr)},propHooks:function(e){var t=e.label,n=Fv(e,["label"]);return t&&i.setByPath(n,"attrs/text/text",t),n},visible:!0});var Vv=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};function Uv(e){return[{tagName:e,selector:arguments.length>1&&void 0!==arguments[1]?arguments[1]:"body"},{tagName:"text",selector:"label"}]}function Gv(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r={constructorName:e,markup:Uv(e,n.selector),attrs:Object(A.a)({},e,Object.assign({},zv.bodyAttr))};return(n.parent||zv).define(i.merge(r,t,{shape:e}))}var Hv=Gv("rect",{attrs:{body:{refWidth:"100%",refHeight:"100%"}}}),Wv=Lv.define({shape:"edge",markup:[{tagName:"path",selector:"wrap",groupSelector:"lines",attrs:{fill:"none",cursor:"pointer",stroke:"transparent",strokeLinecap:"round"}},{tagName:"path",selector:"line",groupSelector:"lines",attrs:{fill:"none",pointerEvents:"none"}}],attrs:{lines:{connection:!0,strokeLinejoin:"round"},wrap:{strokeWidth:10},line:{stroke:"#333",strokeWidth:2,targetMarker:"classic"}}}),qv=Gv("ellipse",{attrs:{body:{refCx:"50%",refCy:"50%",refRx:"50%",refRy:"50%"}}}),Xv=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},Yv=function(e){Object(P.a)(n,e);var t=Object(M.a)(n);function n(){return Object(T.a)(this,n),t.apply(this,arguments)}return Object(j.a)(n,[{key:"points",get:function(){return this.getPoints()},set:function(e){this.setPoints(e)}},{key:"getPoints",value:function(){return this.getAttrByPath("body/refPoints")}},{key:"setPoints",value:function(e,t){return null==e?this.removePoints():this.setAttrByPath("body/refPoints",n.pointsToString(e),t),this}},{key:"removePoints",value:function(){return this.removeAttrByPath("body/refPoints"),this}}]),n}(zv);!function(e){function t(e){return"string"===typeof e?e:e.map(function(e){return Array.isArray(e)?e.join(","):Lc.isPointLike(e)?"".concat(e.x,", ").concat(e.y):""}).join(" ")}e.pointsToString=t,e.config({propHooks:function(e){var n=e.points,r=Xv(e,["points"]);if(n){var o=t(n);o&&i.setByPath(r,"attrs/body/refPoints",o)}return r}})}(Yv||(Yv={}));var $v=Gv("polygon",{},{parent:Yv}),Jv=Gv("polyline",{},{parent:Yv}),Qv=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},Kv=zv.define({shape:"path",markup:[{tagName:"rect",selector:"bg"},{tagName:"path",selector:"body"},{tagName:"text",selector:"label"}],attrs:{bg:{refWidth:"100%",refHeight:"100%",fill:"none",stroke:"none",pointerEvents:"all"},body:{fill:"none",stroke:"#000",strokeWidth:2}},propHooks:function(e){var t=e.path,n=Qv(e,["path"]);return t&&i.setByPath(n,"attrs/body/refD",t),n}}),Zv=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},eg=zv.define({shape:"text-block",markup:[{tagName:"rect",selector:"body"},Sa.SUPPORT_FOREIGNOBJECT?{tagName:"foreignObject",selector:"foreignObject",children:[{tagName:"div",ns:c.ns.xhtml,selector:"label",style:{width:"100%",height:"100%",position:"static",backgroundColor:"transparent",textAlign:"center",margin:0,padding:"0px 5px",boxSizing:"border-box",display:"flex",alignItems:"center",justifyContent:"center"}}]}:{tagName:"text",selector:"label",attrs:{textAnchor:"middle"}}],attrs:{body:Object.assign(Object.assign({},zv.bodyAttr),{refWidth:"100%",refHeight:"100%"}),foreignObject:{refWidth:"100%",refHeight:"100%"},label:{style:{fontSize:14}}},propHooks:function(e){var t=e.text,n=Zv(e,["text"]);return t&&i.setByPath(n,"attrs/label/text",t),n},attrHooks:{text:{set:function(e,t){var n=t.cell,i=t.view,o=t.refBBox,a=t.elem,u=t.attrs;if(!(a instanceof HTMLElement)){var s=u.style||{},c={text:e,width:-5,height:"100%"},l=Object.assign({textVerticalAnchor:"middle"},s),f=rh.presets.textWrap;return r.call(f.set,this,c,{cell:n,view:i,elem:a,refBBox:o,attrs:l}),{fill:s.color||null}}a.textContent=e},position:function(e,t){var n=t.refBBox;if(t.elem instanceof SVGElement)return n.getCenter()}}}}),tg=Gv("image",{attrs:{image:{refWidth:"100%",refHeight:"100%"}},propHooks:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"xlink:href";return function(t){var n=t.imageUrl,r=t.imageWidth,i=t.imageHeight,o=Vv(t,["imageUrl","imageWidth","imageHeight"]);if(null!=n||null!=r||null!=i){var a=function(){if(o.attrs){var t=o.attrs.image;null!=n&&(t[e]=n),null!=r&&(t.width=r),null!=i&&(t.height=i),o.attrs.image=t}};o.attrs?(null==o.attrs.image&&(o.attrs.image={}),a()):(o.attrs={image:{}},a())}return o}}()},{selector:"image"}),ng=Gv("circle",{attrs:{body:{refCx:"50%",refCy:"50%",refR:"50%"}}}),rg=function(e,t){Object(P.a)(i,e);var n=Object(M.a)(i);function i(){var e;return Object(T.a)(this,i),(e=n.apply(this,arguments)).portsCache={},e}return Object(j.a)(i,[{key:t,get:function(){return i.toStringTag}},{key:"getContainerClassName",value:function(){var e=[Object(ad.a)(Object(ud.a)(i.prototype),"getContainerClassName",this).call(this),this.prefixClassName("node")];return this.can("nodeMovable")||e.push(this.prefixClassName("node-immovable")),e.join(" ")}},{key:"updateClassName",value:function(e){var t=e.target;if(t.hasAttribute("magnet")){var n=this.prefixClassName("port-unconnectable");this.can("magnetConnectable")?c.removeClass(t,n):c.addClass(t,n)}else{var r=this.prefixClassName("node-immovable");this.can("nodeMovable")?this.removeClass(r):this.addClass(r)}}},{key:"isNodeView",value:function(){return!0}},{key:"confirmUpdate",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=e;return this.hasAction(r,"ports")&&(this.removePorts(),this.cleanPortsCache()),this.hasAction(r,"render")?(this.render(),r=this.removeAction(r,["render","update","resize","translate","rotate","ports","tools"])):(r=this.handleAction(r,"resize",function(){return t.resize()},"update"),r=this.handleAction(r,"update",function(){return t.update()},vh.useCSSSelector?"ports":null),r=this.handleAction(r,"translate",function(){return t.translate()}),r=this.handleAction(r,"rotate",function(){return t.rotate()}),r=this.handleAction(r,"ports",function(){return t.renderPorts()}),r=this.handleAction(r,"tools",function(){t.getFlag("tools")===e?t.renderTools():t.updateTools(n)})),r}},{key:"update",value:function(e){this.cleanCache(),vh.useCSSSelector&&this.removePorts();var t=this.cell,n=t.getSize(),r=t.getAttrs();this.updateAttrs(this.container,r,{attrs:e===r?null:e,rootBBox:new Ic(0,0,n.width,n.height),selectors:this.selectors}),vh.useCSSSelector&&this.renderPorts()}},{key:"renderMarkup",value:function(){var e=this.cell.markup;if(e){if("string"===typeof e)throw new TypeError("Not support string markup.");return this.renderJSONMarkup(e)}throw new TypeError("Invalid node markup.")}},{key:"renderJSONMarkup",value:function(e){var t=this.parseJSONMarkup(e,this.container);this.selectors=t.selectors,this.container.appendChild(t.fragment)}},{key:"render",value:function(){return this.empty(),this.renderMarkup(),this.resize(),this.updateTransform(),vh.useCSSSelector||this.renderPorts(),this.renderTools(),this}},{key:"resize",value:function(){this.cell.getAngle()&&this.rotate(),this.update()}},{key:"translate",value:function(){this.updateTransform()}},{key:"rotate",value:function(){this.updateTransform()}},{key:"getTranslationString",value:function(){var e=this.cell.getPosition();return"translate(".concat(e.x,",").concat(e.y,")")}},{key:"getRotationString",value:function(){var e=this.cell.getAngle();if(e){var t=this.cell.getSize();return"rotate(".concat(e,",").concat(t.width/2,",").concat(t.height/2,")")}}},{key:"updateTransform",value:function(){var e=this.getTranslationString(),t=this.getRotationString();t&&(e+=" ".concat(t)),this.container.setAttribute("transform",e)}},{key:"findPortElem",value:function(e,t){var n=e?this.portsCache[e]:null;if(!n)return null;var r=n.portContentElement,i=n.portContentSelectors||{};return this.findOne(t,r,i)}},{key:"cleanPortsCache",value:function(){this.portsCache={}}},{key:"removePorts",value:function(){Object.values(this.portsCache).forEach(function(e){c.remove(e.portElement)})}},{key:"renderPorts",value:function(){var e=this,t=this.container,n=[];t.childNodes.forEach(function(e){n.push(e)});var r=this.cell.getParsedPorts(),i=o.groupBy(r,"zIndex");i.auto&&i.auto.forEach(function(r){var i=e.getPortElement(r);t.append(i),n.push(i)}),Object.keys(i).forEach(function(t){if("auto"!==t){var r=parseInt(t,10);e.appendPorts(i[t],r,n)}}),this.updatePorts()}},{key:"appendPorts",value:function(e,t,n){var r=this,i=e.map(function(e){return r.getPortElement(e)});n[t]||t<0?c.before(n[Math.max(t,0)],i):c.append(this.container,i)}},{key:"getPortElement",value:function(e){var t=this.portsCache[e.id];return t?t.portElement:this.createPortElement(e)}},{key:"createPortElement",value:function(e){var t=cd.renderMarkup(this.cell.getPortContainerMarkup()),n=t.elem;if(null==n)throw new Error("Invalid port container markup.");var r=(t=cd.renderMarkup(this.getPortMarkup(e))).elem,i=t.selectors;if(null==r)throw new Error("Invalid port markup.");this.setAttrs({port:e.id,"port-group":e.group},r);var o="x6-port";e.group&&(o+=" x6-port-".concat(e.group)),c.addClass(n,o),c.addClass(n,"x6-port"),c.addClass(r,"x6-port-body"),n.appendChild(r);var a,u,s=i;if(this.existPortLabel(e)){if(a=(t=cd.renderMarkup(this.getPortLabelMarkup(e.label))).elem,u=t.selectors,null==a)throw new Error("Invalid port label markup.");if(i&&u){for(var l in u)if(i[l]&&l!==this.rootSelector)throw new Error("Selectors within port must be unique.");s=Object.assign(Object.assign({},i),u)}c.addClass(a,"x6-port-label"),n.appendChild(a)}return this.portsCache[e.id]={portElement:n,portSelectors:s,portLabelElement:a,portLabelSelectors:u,portContentElement:r,portContentSelectors:i},this.graph.options.onPortRendered&&this.graph.options.onPortRendered({port:e,node:this.cell,container:n,selectors:s,labelContainer:a,labelSelectors:u,contentContainer:r,contentSelectors:i}),n}},{key:"updatePorts",value:function(){var e=this,t=this.cell.getParsedGroups(),n=Object.keys(t);0===n.length?this.updatePortGroup():n.forEach(function(t){return e.updatePortGroup(t)})}},{key:"updatePortGroup",value:function(e){for(var t=Ic.fromSize(this.cell.getSize()),n=this.cell.getPortsLayoutByGroup(e,t),r=0,i=n.length;r<i;r+=1){var o=n[r],a=o.portId,u=this.portsCache[a]||{},s=o.portLayout;if(this.applyPortTransform(u.portElement,s),null!=o.portAttrs){var c={selectors:u.portSelectors||{}};o.portSize&&(c.rootBBox=Ic.fromSize(o.portSize)),this.updateAttrs(u.portElement,o.portAttrs,c)}var l=o.labelLayout;if(l&&u.portLabelElement&&(this.applyPortTransform(u.portLabelElement,l,-(s.angle||0)),l.attrs)){var f={selectors:u.portLabelSelectors||{}};o.labelSize&&(f.rootBBox=Ic.fromSize(o.labelSize)),this.updateAttrs(u.portLabelElement,l.attrs,f)}}}},{key:"applyPortTransform",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=t.angle,i=t.position,o=c.createSVGMatrix().rotate(n).translate(i.x||0,i.y||0).rotate(r||0);c.transform(e,o,{absolute:!0})}},{key:"getPortMarkup",value:function(e){return e.markup||this.cell.portMarkup}},{key:"getPortLabelMarkup",value:function(e){return e.markup||this.cell.portLabelMarkup}},{key:"existPortLabel",value:function(e){return e.attrs&&e.attrs.text}},{key:"getEventArgs",value:function(e,t,n){var r=this.cell;return null==t||null==n?{e:e,view:this,node:r,cell:r}:{e:e,x:t,y:n,view:this,node:r,cell:r}}},{key:"getPortEventArgs",value:function(e,t,n){var r=this.cell,i=r;return n?{e:e,x:n.x,y:n.y,view:this,node:r,cell:i,port:t}:{e:e,view:this,node:r,cell:i,port:t}}},{key:"notifyMouseDown",value:function(e,t,n){Object(ad.a)(Object(ud.a)(i.prototype),"onMouseDown",this).call(this,e,t,n),this.notify("node:mousedown",this.getEventArgs(e,t,n))}},{key:"notifyMouseMove",value:function(e,t,n){Object(ad.a)(Object(ud.a)(i.prototype),"onMouseMove",this).call(this,e,t,n),this.notify("node:mousemove",this.getEventArgs(e,t,n))}},{key:"notifyMouseUp",value:function(e,t,n){Object(ad.a)(Object(ud.a)(i.prototype),"onMouseUp",this).call(this,e,t,n),this.notify("node:mouseup",this.getEventArgs(e,t,n))}},{key:"notifyPortEvent",value:function(e,t,n){var r=this.findAttr("port",t.target);r&&this.notify(e,this.getPortEventArgs(t,r,n))}},{key:"onClick",value:function(e,t,n){Object(ad.a)(Object(ud.a)(i.prototype),"onClick",this).call(this,e,t,n),this.notify("node:click",this.getEventArgs(e,t,n)),this.notifyPortEvent("node:port:click",e,{x:t,y:n})}},{key:"onDblClick",value:function(e,t,n){Object(ad.a)(Object(ud.a)(i.prototype),"onDblClick",this).call(this,e,t,n),this.notify("node:dblclick",this.getEventArgs(e,t,n)),this.notifyPortEvent("node:port:dblclick",e,{x:t,y:n})}},{key:"onContextMenu",value:function(e,t,n){Object(ad.a)(Object(ud.a)(i.prototype),"onContextMenu",this).call(this,e,t,n),this.notify("node:contextmenu",this.getEventArgs(e,t,n)),this.notifyPortEvent("node:port:contextmenu",e,{x:t,y:n})}},{key:"onMouseDown",value:function(e,t,n){this.isPropagationStopped(e)||(this.notifyMouseDown(e,t,n),this.notifyPortEvent("node:port:mousedown",e,{x:t,y:n}),this.startNodeDragging(e,t,n))}},{key:"onMouseMove",value:function(e,t,n){var r=this.getEventData(e),i=r.action;if("magnet"===i)this.dragMagnet(e,t,n);else{if("move"===i){var o=r.targetView||this;o.dragNode(e,t,n),o.notify("node:moving",{e:e,x:t,y:n,view:o,cell:o.cell,node:o.cell})}this.notifyMouseMove(e,t,n),this.notifyPortEvent("node:port:mousemove",e,{x:t,y:n})}this.setEventData(e,r)}},{key:"onMouseUp",value:function(e,t,n){var r=this.getEventData(e),i=r.action;"magnet"===i?this.stopMagnetDragging(e,t,n):(this.notifyMouseUp(e,t,n),this.notifyPortEvent("node:port:mouseup",e,{x:t,y:n}),"move"===i&&(r.targetView||this).stopNodeDragging(e,t,n));var o=r.targetMagnet;o&&this.onMagnetClick(e,o,t,n),this.checkMouseleave(e)}},{key:"onMouseOver",value:function(e){Object(ad.a)(Object(ud.a)(i.prototype),"onMouseOver",this).call(this,e),this.notify("node:mouseover",this.getEventArgs(e)),this.notifyPortEvent("node:port:mouseover",e)}},{key:"onMouseOut",value:function(e){Object(ad.a)(Object(ud.a)(i.prototype),"onMouseOut",this).call(this,e),this.notify("node:mouseout",this.getEventArgs(e)),this.notifyPortEvent("node:port:mouseout",e)}},{key:"onMouseEnter",value:function(e){this.updateClassName(e),Object(ad.a)(Object(ud.a)(i.prototype),"onMouseEnter",this).call(this,e),this.notify("node:mouseenter",this.getEventArgs(e)),this.notifyPortEvent("node:port:mouseenter",e)}},{key:"onMouseLeave",value:function(e){Object(ad.a)(Object(ud.a)(i.prototype),"onMouseLeave",this).call(this,e),this.notify("node:mouseleave",this.getEventArgs(e)),this.notifyPortEvent("node:port:mouseleave",e)}},{key:"onMouseWheel",value:function(e,t,n,r){Object(ad.a)(Object(ud.a)(i.prototype),"onMouseWheel",this).call(this,e,t,n,r),this.notify("node:mousewheel",Object.assign({delta:r},this.getEventArgs(e,t,n)))}},{key:"onMagnetClick",value:function(e,t,n,r){var i=this.graph;i.view.getMouseMovedCount(e)>i.options.clickThreshold||this.notify("node:magnet:click",Object.assign({magnet:t},this.getEventArgs(e,n,r)))}},{key:"onMagnetDblClick",value:function(e,t,n,r){this.notify("node:magnet:dblclick",Object.assign({magnet:t},this.getEventArgs(e,n,r)))}},{key:"onMagnetContextMenu",value:function(e,t,n,r){this.notify("node:magnet:contextmenu",Object.assign({magnet:t},this.getEventArgs(e,n,r)))}},{key:"onMagnetMouseDown",value:function(e,t,n,r){this.startMagnetDragging(e,n,r)}},{key:"onCustomEvent",value:function(e,t,n,r){this.notify("node:customevent",Object.assign({name:t},this.getEventArgs(e,n,r))),Object(ad.a)(Object(ud.a)(i.prototype),"onCustomEvent",this).call(this,e,t,n,r)}},{key:"prepareEmbedding",value:function(e){var t=this.graph,n=this.getEventData(e).cell||this.cell,r=t.findViewByCell(n),i=t.snapToGrid(e.clientX,e.clientY);this.notify("node:embed",{e:e,node:n,view:r,cell:n,x:i.x,y:i.y,currentParent:n.getParent()})}},{key:"processEmbedding",value:function(e,t){var n=this,i=t.cell||this.cell,a=t.graph||this.graph,u=a.options.embedding,s=u.findParent,c="function"===typeof s?r.call(s,a,{view:this,node:this.cell}).filter(function(e){return jv.isCell(e)&&n.cell.id!==e.id&&!e.isDescendantOf(n.cell)}):a.model.getNodesUnderNode(i,{by:s});if(u.frontOnly&&c.length>0){var l=o.groupBy(c,"zIndex"),f=o.max(Object.keys(l).map(parseInt));f&&(c=l[f])}c=c.filter(function(e){return e.visible});for(var h=null,d=t.candidateEmbedView,p=u.validate,v=c.length-1;v>=0;v-=1){var g=c[v];if(d&&d.cell.id===g.id){h=d;break}var y=g.findView(a);if(r.call(p,a,{child:this.cell,parent:y.cell,childView:this,parentView:y})){h=y;break}}this.clearEmbedding(t),h&&h.highlight(null,{type:"embedding"}),t.candidateEmbedView=h;var m=a.snapToGrid(e.clientX,e.clientY);this.notify("node:embedding",{e:e,cell:i,node:i,view:a.findViewByCell(i),x:m.x,y:m.y,currentParent:i.getParent(),candidateParent:h?h.cell:null})}},{key:"clearEmbedding",value:function(e){var t=e.candidateEmbedView;t&&(t.unhighlight(null,{type:"embedding"}),e.candidateEmbedView=null)}},{key:"finalizeEmbedding",value:function(e,t){this.graph.startBatch("embedding");var n=t.cell||this.cell,r=t.graph||this.graph,i=r.findViewByCell(n),o=n.getParent(),a=t.candidateEmbedView;if(a?(a.unhighlight(null,{type:"embedding"}),t.candidateEmbedView=null,null!=o&&o.id===a.cell.id||a.cell.insertChild(n,void 0,{ui:!0})):o&&o.unembed(n,{ui:!0}),r.model.getConnectedEdges(n,{deep:!0}).forEach(function(e){e.updateParent({ui:!0})}),i&&a){var u=r.snapToGrid(e.clientX,e.clientY);i.notify("node:embedded",{e:e,cell:n,x:u.x,y:u.y,node:n,view:r.findViewByCell(n),previousParent:o,currentParent:n.getParent()})}this.graph.stopBatch("embedding")}},{key:"getDelegatedView",value:function(){for(var e=this.cell,t=this;t&&!e.isEdge();){if(!e.hasParent()||t.can("stopDelegateOnDragging"))return t;e=e.getParent(),t=this.graph.findViewByCell(e)}return null}},{key:"validateMagnet",value:function(e,t,n){if("passive"!==t.getAttribute("magnet")){var i=this.graph.options.connecting.validateMagnet;return!i||r.call(i,this.graph,{e:n,magnet:t,view:e,cell:e.cell})}return!1}},{key:"startMagnetDragging",value:function(e,t,n){if(this.can("magnetConnectable")){e.stopPropagation();var r=e.currentTarget,i=this.graph;this.setEventData(e,{targetMagnet:r}),this.validateMagnet(this,r,e)?(i.options.magnetThreshold<=0&&this.startConnectting(e,r,t,n),this.setEventData(e,{action:"magnet"}),this.stopPropagation(e)):((c.hasClass(r,"x6-port-body")||r.closest(".x6-port-body"))&&this.stopPropagation(e),this.onMouseDown(e,t,n)),i.view.delegateDragEvents(e,this)}}},{key:"startConnectting",value:function(e,t,n,r){this.graph.model.startBatch("add-edge");var i=this.createEdgeFromMagnet(t,n,r);i.setEventData(e,i.prepareArrowheadDragging("target",{x:n,y:r,isNewEdge:!0,fallbackAction:"remove"})),this.setEventData(e,{edgeView:i}),i.notifyMouseDown(e,n,r)}},{key:"getDefaultEdge",value:function(e,t){var n,i=this.graph.options.connecting.createEdge;return i&&(n=r.call(i,this.graph,{sourceMagnet:t,sourceView:e,sourceCell:e.cell})),n}},{key:"createEdgeFromMagnet",value:function(e,t,n){var r=this.graph,i=r.model,o=this.getDefaultEdge(this,e);return o.setSource(Object.assign(Object.assign({},o.getSource()),this.getEdgeTerminal(e,t,n,o,"source"))),o.setTarget(Object.assign(Object.assign({},o.getTarget()),{x:t,y:n})),o.addTo(i,{async:!1,ui:!0}),o.findView(r)}},{key:"dragMagnet",value:function(e,t,n){var r=this.getEventData(e),i=r.edgeView;if(i)i.onMouseMove(e,t,n),this.autoScrollGraph(e.clientX,e.clientY);else{var o=this.graph,a=o.options.magnetThreshold,u=this.getEventTarget(e),s=r.targetMagnet;if("onleave"===a){if(s===u||s.contains(u))return}else if(o.view.getMouseMovedCount(e)<=a)return;this.startConnectting(e,s,t,n)}}},{key:"stopMagnetDragging",value:function(e,t,n){var r=this.eventData(e).edgeView;r&&(r.onMouseUp(e,t,n),this.graph.model.stopBatch("add-edge"))}},{key:"notifyUnhandledMouseDown",value:function(e,t,n){this.notify("node:unhandled:mousedown",{e:e,x:t,y:n,view:this,cell:this.cell,node:this.cell})}},{key:"notifyNodeMove",value:function(e,t,n,r,i){var o=this,a=[i],u=this.graph.getPlugin("selection");if(u&&u.isSelectionMovable()){var s=u.getSelectedCells();s.includes(i)&&(a=s.filter(function(e){return e.isNode()}))}a.forEach(function(i){o.notify(e,{e:t,x:n,y:r,cell:i,node:i,view:i.findView(o.graph)})})}},{key:"getRestrictArea",value:function(e){var t=this.graph.options.translating.restrict,n="function"===typeof t?r.call(t,this.graph,e):t;return"number"===typeof n?this.graph.transform.getGraphArea().inflate(n):!0===n?this.graph.transform.getGraphArea():n||null}},{key:"startNodeDragging",value:function(e,t,n){var r=this.getDelegatedView();if(null==r||!r.can("nodeMovable"))return this.notifyUnhandledMouseDown(e,t,n);this.setEventData(e,{targetView:r,action:"move"});var i=Lc.create(r.cell.getPosition());r.setEventData(e,{moving:!1,offset:i.diff(t,n),restrict:this.getRestrictArea(r)})}},{key:"dragNode",value:function(e,t,n){var r=this.cell,i=this.graph,o=i.getGridSize(),a=this.getEventData(e),u=a.offset,s=a.restrict;a.moving||(a.moving=!0,this.addClass("node-moving"),this.notifyNodeMove("node:move",e,t,n,this.cell)),this.autoScrollGraph(e.clientX,e.clientY);var c=Mc.snapToGrid(t+u.x,o),l=Mc.snapToGrid(n+u.y,o);r.setPosition(c,l,{restrict:s,deep:!0,ui:!0}),i.options.embedding.enabled&&(a.embedding||(this.prepareEmbedding(e),a.embedding=!0),this.processEmbedding(e,a))}},{key:"stopNodeDragging",value:function(e,t,n){var r=this.getEventData(e);r.embedding&&this.finalizeEmbedding(e,r),r.moving&&(this.removeClass("node-moving"),this.notifyNodeMove("node:moved",e,t,n,this.cell)),r.moving=!1,r.embedding=!1}},{key:"autoScrollGraph",value:function(e,t){var n=this.graph.getPlugin("scroller");n&&n.autoScroll(e,t)}}]),i}(vd,Symbol.toStringTag);!function(e){e.toStringTag="X6.".concat(e.name),e.isNodeView=function(t){if(null==t)return!1;if(t instanceof e)return!0;var n=t[Symbol.toStringTag],r=t;return(null==n||n===e.toStringTag)&&"function"===typeof r.isNodeView&&"function"===typeof r.isEdgeView&&"function"===typeof r.confirmUpdate&&"function"===typeof r.update&&"function"===typeof r.findPortElem&&"function"===typeof r.resize&&"function"===typeof r.rotate&&"function"===typeof r.translate}}(rg||(rg={})),rg.config({isSvgElement:!0,priority:0,bootstrap:["render"],actions:{view:["render"],markup:["render"],attrs:["update"],size:["resize","ports","tools"],angle:["rotate","tools"],position:["translate","tools"],ports:["ports"],tools:["tools"]}}),rg.registry.register("node",rg,!0);var ig=function(e,t){Object(P.a)(o,e);var n=Object(M.a)(o);function o(){var e;return Object(T.a)(this,o),(e=n.apply(this,arguments)).POINT_ROUNDING=2,e}return Object(j.a)(o,[{key:t,get:function(){return o.toStringTag}},{key:"getContainerClassName",value:function(){return[Object(ad.a)(Object(ud.a)(o.prototype),"getContainerClassName",this).call(this),this.prefixClassName("edge")].join(" ")}},{key:"sourceBBox",get:function(){var e=this.sourceView;if(!e){var t=this.cell.getSource();return new Ic(t.x,t.y)}var n=this.sourceMagnet;return e.isEdgeElement(n)?new Ic(this.sourceAnchor.x,this.sourceAnchor.y):e.getBBoxOfElement(n||e.container)}},{key:"targetBBox",get:function(){var e=this.targetView;if(!e){var t=this.cell.getTarget();return new Ic(t.x,t.y)}var n=this.targetMagnet;return e.isEdgeElement(n)?new Ic(this.targetAnchor.x,this.targetAnchor.y):e.getBBoxOfElement(n||e.container)}},{key:"isEdgeView",value:function(){return!0}},{key:"confirmUpdate",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=e;if(this.hasAction(r,"source")){if(!this.updateTerminalProperties("source"))return r;r=this.removeAction(r,"source")}if(this.hasAction(r,"target")){if(!this.updateTerminalProperties("target"))return r;r=this.removeAction(r,"target")}var i=this.graph,o=this.sourceView,a=this.targetView;return i&&(o&&!i.renderer.isViewMounted(o)||a&&!i.renderer.isViewMounted(a))?r:this.hasAction(r,"render")?(this.render(),r=this.removeAction(r,["render","update","labels","tools"])):(r=this.handleAction(r,"update",function(){return t.update(n)}),r=this.handleAction(r,"labels",function(){return t.onLabelsChange(n)}),r=this.handleAction(r,"tools",function(){return t.renderTools()}))}},{key:"render",value:function(){return this.empty(),this.renderMarkup(),this.labelContainer=null,this.renderLabels(),this.update(),this.renderTools(),this}},{key:"renderMarkup",value:function(){var e=this.cell.markup;if(e){if("string"===typeof e)throw new TypeError("Not support string markup.");return this.renderJSONMarkup(e)}throw new TypeError("Invalid edge markup.")}},{key:"renderJSONMarkup",value:function(e){var t=this.parseJSONMarkup(e,this.container);this.selectors=t.selectors,this.container.append(t.fragment)}},{key:"customizeLabels",value:function(){if(this.labelContainer)for(var e=this.cell,t=e.labels,n=0,r=t.length;n<r;n+=1){var i=t[n],o=this.labelCache[n],a=this.labelSelectors[n],u=this.graph.options.onEdgeLabelRendered;u&&u({edge:e,label:i,container:o,selectors:a})}}},{key:"renderLabels",value:function(){var e=this.cell,t=e.getLabels(),n=t.length,r=this.labelContainer;if(this.labelCache={},this.labelSelectors={},n<=0)return r&&r.parentNode&&r.parentNode.removeChild(r),this;r?this.empty(r):(r=c.createSvgElement("g"),this.addClass(this.prefixClassName("edge-labels"),r),this.labelContainer=r);for(var i=0,o=t.length;i<o;i+=1){var a=t[i],u=this.normalizeLabelMarkup(this.parseLabelMarkup(a.markup)),s=void 0,l=void 0;if(u)s=u.node,l=u.selectors;else{var f=e.getDefaultLabel(),h=this.normalizeLabelMarkup(this.parseLabelMarkup(f.markup));s=h.node,l=h.selectors}s.setAttribute("data-index","".concat(i)),r.appendChild(s);var d=this.rootSelector;if(l[d])throw new Error("Ambiguous label root selector.");l[d]=s,this.labelCache[i]=s,this.labelSelectors[i]=l}return null==r.parentNode&&this.container.appendChild(r),this.updateLabels(),this.customizeLabels(),this}},{key:"onLabelsChange",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.shouldRerenderLabels(e)?this.renderLabels():this.updateLabels(),this.updateLabelPositions()}},{key:"shouldRerenderLabels",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this.cell.previous("labels");if(null==t)return!0;if("propertyPathArray"in e&&"propertyValue"in e){var n=e.propertyPathArray||[],r=n.length;if(r>1)if(t[n[1]]){if(2===r)return"object"===typeof e.propertyValue&&i.has(e.propertyValue,"markup");if("markup"!==n[2])return!1}}return!0}},{key:"parseLabelMarkup",value:function(e){return e?"string"===typeof e?this.parseLabelStringMarkup(e):this.parseJSONMarkup(e):null}},{key:"parseLabelStringMarkup",value:function(e){for(var t=hs.createVectors(e),n=document.createDocumentFragment(),r=0,i=t.length;r<i;r+=1){var o=t[r].node;n.appendChild(o)}return{fragment:n,selectors:{}}}},{key:"normalizeLabelMarkup",value:function(e){if(null!=e){var t,n=e.fragment;if(!(n instanceof DocumentFragment)||!n.hasChildNodes())throw new Error("Invalid label markup.");var r=n.childNodes;return(t=r.length>1||"G"!==r[0].nodeName.toUpperCase()?hs.create("g").append(n):hs.create(r[0])).addClass(this.prefixClassName("edge-label")),{node:t.node,selectors:e.selectors}}}},{key:"updateLabels",value:function(){if(this.labelContainer)for(var e=this.cell,t=e.labels,n=this.can("edgeLabelMovable"),r=e.getDefaultLabel(),o=0,a=t.length;o<a;o+=1){var u=this.labelCache[o],s=this.labelSelectors[o];u.setAttribute("cursor",n?"move":"default");var c=t[o],l=i.merge({},r.attrs,c.attrs);this.updateAttrs(u,l,{selectors:s,rootBBox:c.size?Ic.fromSize(c.size):void 0})}}},{key:"renderTools",value:function(){var e=this.cell.getTools();return this.addTools(e),this}},{key:"update",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.cleanCache(),this.updateConnection(e);var t=this.cell.getAttrs();return null!=t&&this.updateAttrs(this.container,t,{selectors:this.selectors}),this.updateLabelPositions(),this.updateTools(e),this}},{key:"removeRedundantLinearVertices",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this.cell,n=t.getVertices(),r=[this.sourceAnchor].concat(Object(N.a)(n),[this.targetAnchor]),i=r.length,o=new qc(r);o.simplify({threshold:.01});var a=o.points.map(function(e){return e.toJSON()}),u=a.length;return i===u?0:(t.setVertices(a.slice(1,u-1),e),i-u)}},{key:"getTerminalView",value:function(e){switch(e){case"source":return this.sourceView||null;case"target":return this.targetView||null;default:throw new Error("Unknown terminal type '".concat(e,"'"))}}},{key:"getTerminalAnchor",value:function(e){switch(e){case"source":return Lc.create(this.sourceAnchor);case"target":return Lc.create(this.targetAnchor);default:throw new Error("Unknown terminal type '".concat(e,"'"))}}},{key:"getTerminalConnectionPoint",value:function(e){switch(e){case"source":return Lc.create(this.sourcePoint);case"target":return Lc.create(this.targetPoint);default:throw new Error("Unknown terminal type '".concat(e,"'"))}}},{key:"getTerminalMagnet",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(e){case"source":if(t.raw)return this.sourceMagnet;var n=this.sourceView;return n?this.sourceMagnet||n.container:null;case"target":if(t.raw)return this.targetMagnet;var r=this.targetView;return r?this.targetMagnet||r.container:null;default:throw new Error("Unknown terminal type '".concat(e,"'"))}}},{key:"updateConnection",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this.cell;if(e.translateBy&&t.isFragmentDescendantOf(e.translateBy)){var n=e.tx||0,r=e.ty||0;this.routePoints=new qc(this.routePoints).translate(n,r).points,this.translateConnectionPoints(n,r),this.path.translate(n,r)}else{var i=t.getVertices(),o=this.findAnchors(i);this.sourceAnchor=o.source,this.targetAnchor=o.target,this.routePoints=this.findRoutePoints(i);var a=this.findConnectionPoints(this.routePoints,this.sourceAnchor,this.targetAnchor);this.sourcePoint=a.source,this.targetPoint=a.target;var u=this.findMarkerPoints(this.routePoints,this.sourcePoint,this.targetPoint);this.path=this.findPath(this.routePoints,u.source||this.sourcePoint,u.target||this.targetPoint)}this.cleanCache()}},{key:"findAnchors",value:function(e){var t=this.cell,n=t.source,r=t.target,i=e[0],o=e[e.length-1];return r.priority&&!n.priority?this.findAnchorsOrdered("target",o,"source",i):this.findAnchorsOrdered("source",i,"target",o)}},{key:"findAnchorsOrdered",value:function(e,t,n,r){var i,o,a,u,s=this.cell,c=s[e],l=s[n],f=this.getTerminalView(e),h=this.getTerminalView(n),d=this.getTerminalMagnet(e),p=this.getTerminalMagnet(n);f?(u=t?Lc.create(t):h?p:Lc.create(l),o=this.getAnchor(c.anchor,f,d,u,e)):o=Lc.create(c);if(h){var v=Lc.create(r||o);a=this.getAnchor(l.anchor,h,p,v,n)}else a=Lc.isPointLike(l)?Lc.create(l):new Lc;return i={},Object(A.a)(i,e,o),Object(A.a)(i,n,a),i}},{key:"getAnchor",value:function(e,t,n,i,o){var a,u=t.isEdgeElement(n),s=this.graph.options.connecting,c="string"===typeof e?{name:e}:e;if(!c){var l=u?("source"===o?s.sourceEdgeAnchor:s.targetEdgeAnchor)||s.edgeAnchor:("source"===o?s.sourceAnchor:s.targetAnchor)||s.anchor;c="string"===typeof l?{name:l}:l}if(!c)throw new Error("Anchor should be specified.");var f=c.name;if(u){var h=lp.registry.get(f);if("function"!==typeof h)return lp.registry.onNotFound(f);a=r.call(h,this,t,n,i,c.args||{},o)}else{var d=op.registry.get(f);if("function"!==typeof d)return op.registry.onNotFound(f);a=r.call(d,this,t,n,i,c.args||{},o)}return a?a.round(this.POINT_ROUNDING):new Lc}},{key:"findRoutePoints",value:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=this.graph.options.connecting.router||rv.presets.normal,i=this.cell.getRouter()||n;if("function"===typeof i)e=r.call(i,this,t,{},this);else{var o="string"===typeof i?i:i.name,a="string"===typeof i?{}:i.args||{},u=o?rv.registry.get(o):rv.presets.normal;if("function"!==typeof u)return rv.registry.onNotFound(o);e=r.call(u,this,t,a,this)}return null==e?t.map(function(e){return Lc.create(e)}):e.map(function(e){return Lc.create(e)})}},{key:"findConnectionPoints",value:function(e,t,n){var r,i,o=this.cell,a=this.graph.options.connecting,u=o.getSource(),s=o.getTarget(),c=this.sourceView,l=this.targetView,f=e[0],h=e[e.length-1];if(c&&!c.isEdgeElement(this.sourceMagnet)){var d=this.sourceMagnet||c.container,p=new Dc(f||n,t),v=u.connectionPoint||a.sourceConnectionPoint||a.connectionPoint;r=this.getConnectionPoint(v,c,d,p,"source")}else r=t;if(l&&!l.isEdgeElement(this.targetMagnet)){var g=this.targetMagnet||l.container,y=s.connectionPoint||a.targetConnectionPoint||a.connectionPoint,m=new Dc(h||t,n);i=this.getConnectionPoint(y,l,g,m,"target")}else i=n;return{source:r,target:i}}},{key:"getConnectionPoint",value:function(e,t,n,i,o){var a=i.end;if(null==e)return a;var u="string"===typeof e?e:e.name,s="string"===typeof e?{}:e.args,c=xp.registry.get(u);if("function"!==typeof c)return xp.registry.onNotFound(u);var l=r.call(c,this,i,t,n,s||{},o);return l?l.round(this.POINT_ROUNDING):a}},{key:"findMarkerPoints",value:function(e,t,n){var r,i,o=this,a=function(e){for(var t=o.cell.getAttrs(),n=Object.keys(t),r=0,i=n.length;r<i;r+=1){var a=t[n[r]];if(a["".concat(e,"Marker")]||a["".concat(e,"-marker")]){var u=a.strokeWidth||a["stroke-width"];if(u)return parseFloat(u);break}}return null},u=e[0],s=e[e.length-1],c=a("source");c&&(r=t.clone().move(u||n,-c));var l=a("target");return l&&(i=n.clone().move(s||t,-l)),this.sourceMarkerPoint=r||t.clone(),this.targetMarkerPoint=i||n.clone(),{source:r,target:i}}},{key:"findPath",value:function(e,t,n){var i,o,a,u=this.cell.getConnector()||this.graph.options.connecting.connector;if("string"===typeof u?i=u:(i=u.name,o=u.args),i){var s=mv.registry.get(i);if("function"!==typeof s)return mv.registry.onNotFound(i);a=s}else a=mv.presets.normal;var c=r.call(a,this,t,n,e,Object.assign(Object.assign({},o),{raw:!0}),this);return"string"===typeof c?ol.parse(c):c}},{key:"translateConnectionPoints",value:function(e,t){this.sourcePoint.translate(e,t),this.targetPoint.translate(e,t),this.sourceAnchor.translate(e,t),this.targetAnchor.translate(e,t),this.sourceMarkerPoint.translate(e,t),this.targetMarkerPoint.translate(e,t)}},{key:"updateLabelPositions",value:function(){if(null==this.labelContainer)return this;if(!this.path)return this;var e=this.cell,t=e.getLabels();if(0===t.length)return this;for(var n=e.getDefaultLabel(),r=this.normalizeLabelPosition(n.position),o=0,a=t.length;o<a;o+=1){var u=t[o],s=this.normalizeLabelPosition(u.position),l=i.merge({},r,s),f=this.getLabelTransformationMatrix(l);this.labelCache[o].setAttribute("transform",c.matrixToTransformString(f))}return this}},{key:"updateTerminalProperties",value:function(e){var t=this.cell,n=this.graph,r=t[e],i=r&&r.cell,o="".concat(e,"View");if(!i)return this[o]=null,this.updateTerminalMagnet(e),!0;var a=n.getCellById(i);if(!a)throw new Error("Edge's ".concat(e,' node with id "').concat(i,'" not exists'));var u=a.findView(n);return!!u&&(this[o]=u,this.updateTerminalMagnet(e),!0)}},{key:"updateTerminalMagnet",value:function(e){var t="".concat(e,"Magnet"),n=this.getTerminalView(e);if(n){var r=n.getMagnetFromEdgeTerminal(this.cell[e]);r===n.container&&(r=null),this[t]=r}else this[t]=null}},{key:"getLabelPositionAngle",value:function(e){var t=this.cell.getLabelAt(e);return t&&t.position&&"object"===typeof t.position&&t.position.angle||0}},{key:"getLabelPositionArgs",value:function(e){var t=this.cell.getLabelAt(e);if(t&&t.position&&"object"===typeof t.position)return t.position.options}},{key:"getDefaultLabelPositionArgs",value:function(){var e=this.cell.getDefaultLabel();if(e&&e.position&&"object"===typeof e.position)return e.position.options}},{key:"mergeLabelPositionArgs",value:function(e,t){return null===e?null:void 0===e?null===t?null:t:i.merge({},t,e)}},{key:"getConnection",value:function(){return null!=this.path?this.path.clone():null}},{key:"getConnectionPathData",value:function(){if(null==this.path)return"";var e=this.cache.pathCache;return i.has(e,"data")||(e.data=this.path.serialize()),e.data||""}},{key:"getConnectionSubdivisions",value:function(){if(null==this.path)return null;var e=this.cache.pathCache;return i.has(e,"segmentSubdivisions")||(e.segmentSubdivisions=this.path.getSegmentSubdivisions()),e.segmentSubdivisions}},{key:"getConnectionLength",value:function(){if(null==this.path)return 0;var e=this.cache.pathCache;return i.has(e,"length")||(e.length=this.path.length({segmentSubdivisions:this.getConnectionSubdivisions()})),e.length}},{key:"getPointAtLength",value:function(e){return null==this.path?null:this.path.pointAtLength(e,{segmentSubdivisions:this.getConnectionSubdivisions()})}},{key:"getPointAtRatio",value:function(e){return null==this.path?null:(u.isPercentage(e)&&(e=parseFloat(e)/100),this.path.pointAt(e,{segmentSubdivisions:this.getConnectionSubdivisions()}))}},{key:"getTangentAtLength",value:function(e){return null==this.path?null:this.path.tangentAtLength(e,{segmentSubdivisions:this.getConnectionSubdivisions()})}},{key:"getTangentAtRatio",value:function(e){return null==this.path?null:this.path.tangentAt(e,{segmentSubdivisions:this.getConnectionSubdivisions()})}},{key:"getClosestPoint",value:function(e){return null==this.path?null:this.path.closestPoint(e,{segmentSubdivisions:this.getConnectionSubdivisions()})}},{key:"getClosestPointLength",value:function(e){return null==this.path?null:this.path.closestPointLength(e,{segmentSubdivisions:this.getConnectionSubdivisions()})}},{key:"getClosestPointRatio",value:function(e){return null==this.path?null:this.path.closestPointNormalizedLength(e,{segmentSubdivisions:this.getConnectionSubdivisions()})}},{key:"getLabelPosition",value:function(e,t,n,r){var i,o={distance:0},a=0;"number"===typeof n?(a=n,i=r):i=n,null!=i&&(o.options=i);var u,s,c=i&&i.absoluteOffset,l=!(i&&i.absoluteDistance),f=i&&i.absoluteDistance&&i.reverseDistance,h=this.path,d={segmentSubdivisions:this.getConnectionSubdivisions()},p=new Lc(e,t),v=h.closestPointT(p,d),g=this.getConnectionLength()||0,y=h.lengthAtT(v,d);if(l&&(y=g>0?y/g:0),f&&(y=-1*(g-y)||1),o.distance=y,c||(u=h.tangentAtT(v)),u)s=u.pointOffset(p);else{var m=h.pointAtT(v),b=p.diff(m);s={x:b.x,y:b.y}}return o.offset=s,o.angle=a,o}},{key:"normalizeLabelPosition",value:function(e){return"number"===typeof e?{distance:e}:e}},{key:"getLabelTransformationMatrix",value:function(e){var t=this.normalizeLabelPosition(e),n=t.options||{},r=t.angle||0,i=t.distance,o=i>0&&i<=1,a=0,u={x:0,y:0},s=t.offset;s&&("number"===typeof s?a=s:(null!=s.x&&(u.x=s.x),null!=s.y&&(u.y=s.y)));var l,f=0!==u.x||0!==u.y||0===a,h=n.keepGradient,d=n.ensureLegibility,p=this.path,v={segmentSubdivisions:this.getConnectionSubdivisions()},g=o?i*this.getConnectionLength():i,y=p.tangentAtLength(g,v),m=r;if(y){if(f)(l=y.start).translate(u);else{var b=y.clone();b.rotate(-90,y.start),b.setLength(a),l=b.end}h&&(m=y.angle()+r,d&&(m=Pc.normalize((m+90)%180-90)))}else l=p.start,f&&l.translate(u);return c.createSVGMatrix().translate(l.x,l.y).rotate(m)}},{key:"getVertexIndex",value:function(e,t){var n=this.cell.getVertices(),r=this.getClosestPointLength(new Lc(e,t)),i=0;if(null!=r)for(var o=n.length;i<o;i+=1){var a=n[i],u=this.getClosestPointLength(a);if(null!=u&&r<u)break}return i}},{key:"getEventArgs",value:function(e,t,n){var r=this.cell;return null==t||null==n?{e:e,view:this,edge:r,cell:r}:{e:e,x:t,y:n,view:this,edge:r,cell:r}}},{key:"notifyUnhandledMouseDown",value:function(e,t,n){this.notify("edge:unhandled:mousedown",{e:e,x:t,y:n,view:this,cell:this.cell,edge:this.cell})}},{key:"notifyMouseDown",value:function(e,t,n){Object(ad.a)(Object(ud.a)(o.prototype),"onMouseDown",this).call(this,e,t,n),this.notify("edge:mousedown",this.getEventArgs(e,t,n))}},{key:"notifyMouseMove",value:function(e,t,n){Object(ad.a)(Object(ud.a)(o.prototype),"onMouseMove",this).call(this,e,t,n),this.notify("edge:mousemove",this.getEventArgs(e,t,n))}},{key:"notifyMouseUp",value:function(e,t,n){Object(ad.a)(Object(ud.a)(o.prototype),"onMouseUp",this).call(this,e,t,n),this.notify("edge:mouseup",this.getEventArgs(e,t,n))}},{key:"onClick",value:function(e,t,n){Object(ad.a)(Object(ud.a)(o.prototype),"onClick",this).call(this,e,t,n),this.notify("edge:click",this.getEventArgs(e,t,n))}},{key:"onDblClick",value:function(e,t,n){Object(ad.a)(Object(ud.a)(o.prototype),"onDblClick",this).call(this,e,t,n),this.notify("edge:dblclick",this.getEventArgs(e,t,n))}},{key:"onContextMenu",value:function(e,t,n){Object(ad.a)(Object(ud.a)(o.prototype),"onContextMenu",this).call(this,e,t,n),this.notify("edge:contextmenu",this.getEventArgs(e,t,n))}},{key:"onMouseDown",value:function(e,t,n){this.notifyMouseDown(e,t,n),this.startEdgeDragging(e,t,n)}},{key:"onMouseMove",value:function(e,t,n){var r=this.getEventData(e);switch(r.action){case"drag-label":this.dragLabel(e,t,n);break;case"drag-arrowhead":this.dragArrowhead(e,t,n);break;case"drag-edge":this.dragEdge(e,t,n)}return this.notifyMouseMove(e,t,n),r}},{key:"onMouseUp",value:function(e,t,n){var r=this.getEventData(e);switch(r.action){case"drag-label":this.stopLabelDragging(e,t,n);break;case"drag-arrowhead":this.stopArrowheadDragging(e,t,n);break;case"drag-edge":this.stopEdgeDragging(e,t,n)}return this.notifyMouseUp(e,t,n),this.checkMouseleave(e),r}},{key:"onMouseOver",value:function(e){Object(ad.a)(Object(ud.a)(o.prototype),"onMouseOver",this).call(this,e),this.notify("edge:mouseover",this.getEventArgs(e))}},{key:"onMouseOut",value:function(e){Object(ad.a)(Object(ud.a)(o.prototype),"onMouseOut",this).call(this,e),this.notify("edge:mouseout",this.getEventArgs(e))}},{key:"onMouseEnter",value:function(e){Object(ad.a)(Object(ud.a)(o.prototype),"onMouseEnter",this).call(this,e),this.notify("edge:mouseenter",this.getEventArgs(e))}},{key:"onMouseLeave",value:function(e){Object(ad.a)(Object(ud.a)(o.prototype),"onMouseLeave",this).call(this,e),this.notify("edge:mouseleave",this.getEventArgs(e))}},{key:"onMouseWheel",value:function(e,t,n,r){Object(ad.a)(Object(ud.a)(o.prototype),"onMouseWheel",this).call(this,e,t,n,r),this.notify("edge:mousewheel",Object.assign({delta:r},this.getEventArgs(e,t,n)))}},{key:"onCustomEvent",value:function(e,t,n,r){if(c.findParentByClass(e.target,"edge-tool",this.container)){if(e.stopPropagation(),this.can("useEdgeTools")){if("edge:remove"===t)return void this.cell.remove({ui:!0});this.notify("edge:customevent",Object.assign({name:t},this.getEventArgs(e,n,r)))}this.notifyMouseDown(e,n,r)}else this.notify("edge:customevent",Object.assign({name:t},this.getEventArgs(e,n,r))),Object(ad.a)(Object(ud.a)(o.prototype),"onCustomEvent",this).call(this,e,t,n,r)}},{key:"onLabelMouseDown",value:function(e,t,n){this.notifyMouseDown(e,t,n),this.startLabelDragging(e,t,n),this.getEventData(e).stopPropagation&&e.stopPropagation()}},{key:"startEdgeDragging",value:function(e,t,n){this.can("edgeMovable")?this.setEventData(e,{x:t,y:n,moving:!1,action:"drag-edge"}):this.notifyUnhandledMouseDown(e,t,n)}},{key:"dragEdge",value:function(e,t,n){var r=this.getEventData(e);r.moving||(r.moving=!0,this.addClass("edge-moving"),this.notify("edge:move",{e:e,x:t,y:n,view:this,cell:this.cell,edge:this.cell})),this.cell.translate(t-r.x,n-r.y,{ui:!0}),this.setEventData(e,{x:t,y:n}),this.notify("edge:moving",{e:e,x:t,y:n,view:this,cell:this.cell,edge:this.cell})}},{key:"stopEdgeDragging",value:function(e,t,n){var r=this.getEventData(e);r.moving&&(this.removeClass("edge-moving"),this.notify("edge:moved",{e:e,x:t,y:n,view:this,cell:this.cell,edge:this.cell})),r.moving=!1}},{key:"prepareArrowheadDragging",value:function(e,t){var n=this.getTerminalMagnet(e),r={action:"drag-arrowhead",x:t.x,y:t.y,isNewEdge:!0===t.isNewEdge,terminalType:e,initialMagnet:n,initialTerminal:i.clone(this.cell[e]),fallbackAction:t.fallbackAction||"revert",getValidateConnectionArgs:this.createValidateConnectionArgs(e),options:t.options};return this.beforeArrowheadDragging(r),r}},{key:"createValidateConnectionArgs",value:function(e){var t,n=[];n[4]=e,n[5]=this;var r=0,i=0;"source"===e?(r=2,t="target"):(i=2,t="source");var o=this.cell[t],a=o.cell;if(a){var u,s=n[r]=this.graph.findViewByCell(a);s&&(u=s.getMagnetFromEdgeTerminal(o))===s.container&&(u=void 0),n[r+1]=u}return function(e,t){return n[i]=e,n[i+1]=e.container===t?void 0:t,n}}},{key:"beforeArrowheadDragging",value:function(e){e.zIndex=this.cell.zIndex,this.cell.toFront();var t=this.container.style;e.pointerEvents=t.pointerEvents,t.pointerEvents="none",this.graph.options.connecting.highlight&&this.highlightAvailableMagnets(e)}},{key:"afterArrowheadDragging",value:function(e){null!=e.zIndex&&(this.cell.setZIndex(e.zIndex,{ui:!0}),e.zIndex=null),this.container.style.pointerEvents=e.pointerEvents||"",this.graph.options.connecting.highlight&&this.unhighlightAvailableMagnets(e)}},{key:"validateConnection",value:function(e,t,n,i,a,u,s){var c=this,l=this.graph.options.connecting,f=l.allowLoop,h=l.allowNode,d=l.allowEdge,p=l.allowPort,v=l.allowMulti,g=l.validateConnection,y=u?u.cell:null,m="target"===a?n:e,b="target"===a?i:t,w=!0,E=function(o){var l="source"===a?s?s.port:null:y?y.getSourcePortId():null,f="target"===a?s?s.port:null:y?y.getTargetPortId():null;return r.call(o,c.graph,{edge:y,edgeView:u,sourceView:e,targetView:n,sourcePort:l,targetPort:f,sourceMagnet:t,targetMagnet:i,sourceCell:e?e.cell:null,targetCell:n?n.cell:null,type:a})};if(null!=f&&("boolean"===typeof f?f||e!==n||(w=!1):w=E(f)),w&&null!=p&&("boolean"===typeof p?!p&&b&&(w=!1):w=E(p)),w&&null!=d&&("boolean"===typeof d?!d&&o.isEdgeView(m)&&(w=!1):w=E(d)),w&&null!=h&&null==b&&("boolean"===typeof h?!h&&rg.isNodeView(m)&&(w=!1):w=E(h)),w&&null!=v&&u){var x=u.cell,k="source"===a?s:x.getSource(),O="target"===a?s:x.getTarget(),S=s?this.graph.getCellById(s.cell):null;if(k&&O&&k.cell&&O.cell&&S)if("function"===typeof v)w=E(v);else{var A=this.graph.model.getConnectedEdges(S,{outgoing:"source"===a,incoming:"target"===a});if(A.length)if("withPort"===v)A.some(function(e){var t=e.getSource(),n=e.getTarget();return t&&n&&t.cell===k.cell&&n.cell===O.cell&&null!=t.port&&t.port===k.port&&null!=n.port&&n.port===O.port})&&(w=!1);else if(!v){A.some(function(e){var t=e.getSource(),n=e.getTarget();return t&&n&&t.cell===k.cell&&n.cell===O.cell})&&(w=!1)}}}return w&&null!=g&&(w=E(g)),w}},{key:"allowConnectToBlank",value:function(e){var t=this.graph,n=t.options.connecting.allowBlank;if("function"!==typeof n)return!!n;var i=t.findViewByCell(e),o=e.getSourceCell(),a=e.getTargetCell(),u=t.findViewByCell(o),s=t.findViewByCell(a);return r.call(n,t,{edge:e,edgeView:i,sourceCell:o,targetCell:a,sourceView:u,targetView:s,sourcePort:e.getSourcePortId(),targetPort:e.getTargetPortId(),sourceMagnet:i.sourceMagnet,targetMagnet:i.targetMagnet})}},{key:"validateEdge",value:function(e,t,n){var i=this.graph;if(!this.allowConnectToBlank(e)){var o=e.getSourceCellId(),a=e.getTargetCellId();if(!o||!a)return!1}var u=i.options.connecting.validateEdge;return!u||r.call(u,i,{edge:e,type:t,previous:n})}},{key:"arrowheadDragging",value:function(e,t,n,r){r.x=t,r.y=n,r.currentTarget!==e&&(r.currentMagnet&&r.currentView&&r.currentView.unhighlight(r.currentMagnet,{type:"magnetAdsorbed"}),r.currentView=this.graph.findViewByElem(e),r.currentView?(r.currentMagnet=r.currentView.findMagnet(e),r.currentMagnet&&this.validateConnection.apply(this,Object(N.a)(r.getValidateConnectionArgs(r.currentView,r.currentMagnet)).concat([r.currentView.getEdgeTerminal(r.currentMagnet,t,n,this.cell,r.terminalType)]))?r.currentView.highlight(r.currentMagnet,{type:"magnetAdsorbed"}):r.currentMagnet=null):r.currentMagnet=null),r.currentTarget=e,this.cell.prop(r.terminalType,{x:t,y:n},Object.assign(Object.assign({},r.options),{ui:!0}))}},{key:"arrowheadDragged",value:function(e,t,n){var r=e.currentView,i=e.currentMagnet;if(i&&r){r.unhighlight(i,{type:"magnetAdsorbed"});var o=e.terminalType,a=r.getEdgeTerminal(i,t,n,this.cell,o);this.cell.setTerminal(o,a,{ui:!0})}}},{key:"snapArrowhead",value:function(e,t,n){var r=this,i=this.graph,o=i.options.connecting,a=o.snap,u=o.allowEdge,s="object"===typeof a&&a.radius||50,c={x:e-s,y:t-s,width:2*s,height:2*s},l=i.renderer.findViewsInArea(c);if(u){var f=i.renderer.findEdgeViewsInArea(c).filter(function(e){return e!==r});l.push.apply(l,Object(N.a)(f))}var h,d=n.closestView||null,p=n.closestMagnet||null;n.closestView=null,n.closestMagnet=null;var v,g=Number.MAX_SAFE_INTEGER,y=new Lc(e,t);l.forEach(function(i){"false"!==i.container.getAttribute("magnet")&&(h=i.cell.getBBox().getCenter().distance(y))<s&&h<g&&(p===i.container||r.validateConnection.apply(r,Object(N.a)(n.getValidateConnectionArgs(i,null)).concat([i.getEdgeTerminal(i.container,e,t,r.cell,n.terminalType)])))&&(g=h,n.closestView=i,n.closestMagnet=i.container),i.container.querySelectorAll("[magnet]").forEach(function(o){if("false"!==o.getAttribute("magnet")){var a=i.getBBoxOfElement(o);(h=y.distance(a.getCenter()))<s&&h<g&&(p===o||r.validateConnection.apply(r,Object(N.a)(n.getValidateConnectionArgs(i,o)).concat([i.getEdgeTerminal(o,e,t,r.cell,n.terminalType)])))&&(g=h,n.closestView=i,n.closestMagnet=o)}})});var m=n.terminalType,b=n.closestView,w=n.closestMagnet,E=p!==w;if(d&&E&&d.unhighlight(p,{type:"magnetAdsorbed"}),b){if(!E)return;b.highlight(w,{type:"magnetAdsorbed"}),v=b.getEdgeTerminal(w,e,t,this.cell,m)}else v={x:e,y:t};this.cell.setTerminal(m,v,{},Object.assign(Object.assign({},n.options),{ui:!0}))}},{key:"snapArrowheadEnd",value:function(e){var t=e.closestView,n=e.closestMagnet;t&&n&&(t.unhighlight(n,{type:"magnetAdsorbed"}),e.currentMagnet=t.findMagnet(n)),e.closestView=null,e.closestMagnet=null}},{key:"finishEmbedding",value:function(e){this.graph.options.embedding.enabled&&this.cell.updateParent()&&(e.zIndex=null)}},{key:"fallbackConnection",value:function(e){switch(e.fallbackAction){case"remove":this.cell.remove({ui:!0});break;case"revert":default:this.cell.prop(e.terminalType,e.initialTerminal,{ui:!0})}}},{key:"notifyConnectionEvent",value:function(e,t){var n=e.terminalType,r=e.initialTerminal,i=this.cell[n];if(i&&!Lv.equalTerminals(r,i)){var o=this.graph,a=r,u=a.cell?o.getCellById(a.cell):null,s=a.port,c=u?o.findViewByCell(u):null,l=u||e.isNewEdge?null:Lc.create(r).toJSON(),f=i,h=f.cell?o.getCellById(f.cell):null,d=f.port,p=h?o.findViewByCell(h):null,v=h?null:Lc.create(i).toJSON();this.notify("edge:connected",{e:t,previousCell:u,previousPort:s,previousView:c,previousPoint:l,currentCell:h,currentView:p,currentPort:d,currentPoint:v,previousMagnet:e.initialMagnet,currentMagnet:e.currentMagnet,edge:this.cell,view:this,type:n,isNew:e.isNewEdge})}}},{key:"highlightAvailableMagnets",value:function(e){var t=this,n=this.graph,r=n.model.getCells();e.marked={};for(var i=function(){var i=n.findViewByCell(r[o]);if(!i||i.cell.id===t.cell.id)return"continue";var a=Array.prototype.slice.call(i.container.querySelectorAll("[magnet]"));"false"!==i.container.getAttribute("magnet")&&a.push(i.container);var u=a.filter(function(n){return t.validateConnection.apply(t,Object(N.a)(e.getValidateConnectionArgs(i,n)).concat([i.getEdgeTerminal(n,e.x,e.y,t.cell,e.terminalType)]))});if(u.length>0){for(var s=0,c=u.length;s<c;s+=1)i.highlight(u[s],{type:"magnetAvailable"});i.highlight(null,{type:"nodeAvailable"}),e.marked[i.cell.id]=u}},o=0,a=r.length;o<a;o+=1)i()}},{key:"unhighlightAvailableMagnets",value:function(e){var t=this,n=e.marked||{};Object.keys(n).forEach(function(e){var r=t.graph.findViewByCell(e);r&&(n[e].forEach(function(e){r.unhighlight(e,{type:"magnetAvailable"})}),r.unhighlight(null,{type:"nodeAvailable"}))}),e.marked=null}},{key:"startArrowheadDragging",value:function(e,t,n){if(this.can("arrowheadMovable")){var r=e.target.getAttribute("data-terminal"),i=this.prepareArrowheadDragging(r,{x:t,y:n});this.setEventData(e,i)}else this.notifyUnhandledMouseDown(e,t,n)}},{key:"dragArrowhead",value:function(e,t,n){var r=this.getEventData(e);this.graph.options.connecting.snap?this.snapArrowhead(t,n,r):this.arrowheadDragging(this.getEventTarget(e),t,n,r)}},{key:"stopArrowheadDragging",value:function(e,t,n){var r=this.graph,i=this.getEventData(e);r.options.connecting.snap?this.snapArrowheadEnd(i):this.arrowheadDragged(i,t,n),this.validateEdge(this.cell,i.terminalType,i.initialTerminal)?(this.finishEmbedding(i),this.notifyConnectionEvent(i,e)):this.fallbackConnection(i),this.afterArrowheadDragging(i)}},{key:"startLabelDragging",value:function(e,t,n){if(this.can("edgeLabelMovable")){var r=e.currentTarget,i=parseInt(r.getAttribute("data-index"),10),o=this.getLabelPositionAngle(i),a=this.getLabelPositionArgs(i),u=this.getDefaultLabelPositionArgs(),s=this.mergeLabelPositionArgs(a,u);this.setEventData(e,{index:i,positionAngle:o,positionArgs:s,stopPropagation:!0,action:"drag-label"})}else this.setEventData(e,{stopPropagation:!0});this.graph.view.delegateDragEvents(e,this)}},{key:"dragLabel",value:function(e,t,n){var r=this.getEventData(e),o=this.cell.getLabelAt(r.index),a=i.merge({},o,{position:this.getLabelPosition(t,n,r.positionAngle,r.positionArgs)});this.cell.setLabelAt(r.index,a)}},{key:"stopLabelDragging",value:function(e,t,n){}}]),o}(vd,Symbol.toStringTag);!function(e){e.toStringTag="X6.".concat(e.name),e.isEdgeView=function(t){if(null==t)return!1;if(t instanceof e)return!0;var n=t[Symbol.toStringTag],r=t;return(null==n||n===e.toStringTag)&&"function"===typeof r.isNodeView&&"function"===typeof r.isEdgeView&&"function"===typeof r.confirmUpdate&&"function"===typeof r.update&&"function"===typeof r.getConnection}}(ig||(ig={})),ig.config({isSvgElement:!0,priority:1,bootstrap:["render","source","target"],actions:{view:["render"],markup:["render"],attrs:["update"],source:["source","update"],target:["target","update"],router:["update"],connector:["update"],labels:["labels"],defaultLabel:["labels"],tools:["tools"],vertices:["vertices","update"]}}),ig.registry.register("edge",ig,!0);var og=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var u=e.length-1;u>=0;u--)(i=e[u])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},ag=function(e){Object(P.a)(n,e);var t=Object(M.a)(n);function n(e){var r;Object(T.a)(this,n),(r=t.call(this)).graph=e;var i=cd.parseJSONMarkup(n.markup),o=i.selectors,a=i.fragment;return r.background=o.background,r.grid=o.grid,r.svg=o.svg,r.defs=o.defs,r.viewport=o.viewport,r.primer=o.primer,r.stage=o.stage,r.decorator=o.decorator,r.overlay=o.overlay,r.container=r.options.container,r.restore=n.snapshoot(r.container),c.addClass(r.container,r.prefixClassName("graph")),c.append(r.container,a),r.delegateEvents(),r}return Object(j.a)(n,[{key:"options",get:function(){return this.graph.options}},{key:"delegateEvents",value:function(){var e=this.constructor;return Object(ad.a)(Object(ud.a)(n.prototype),"delegateEvents",this).call(this,e.events),this}},{key:"guard",value:function(e,t){return"mousedown"===e.type&&2===e.button||(!(!this.options.guard||!this.options.guard(e,t))||(e.data&&void 0!==e.data.guarded?e.data.guarded:!(t&&t.cell&&jv.isCell(t.cell))&&(this.svg!==e.target&&this.container!==e.target&&!this.svg.contains(e.target))))}},{key:"findView",value:function(e){return this.graph.findViewByElem(e)}},{key:"onDblClick",value:function(e){this.options.preventDefaultDblClick&&e.preventDefault();var t=this.normalizeEvent(e),n=this.findView(t.target);if(!this.guard(t,n)){var r=this.graph.snapToGrid(t.clientX,t.clientY);n?n.onDblClick(t,r.x,r.y):this.graph.trigger("blank:dblclick",{e:t,x:r.x,y:r.y})}}},{key:"onClick",value:function(e){if(this.getMouseMovedCount(e)<=this.options.clickThreshold){var t=this.normalizeEvent(e),n=this.findView(t.target);if(this.guard(t,n))return;var r=this.graph.snapToGrid(t.clientX,t.clientY);n?n.onClick(t,r.x,r.y):this.graph.trigger("blank:click",{e:t,x:r.x,y:r.y})}}},{key:"isPreventDefaultContextMenu",value:function(e){var t=this.options.preventDefaultContextMenu;return"function"===typeof t&&(t=r.call(t,this.graph,{view:e})),t}},{key:"onContextMenu",value:function(e){var t=this.normalizeEvent(e),n=this.findView(t.target);if(this.isPreventDefaultContextMenu(n)&&e.preventDefault(),!this.guard(t,n)){var r=this.graph.snapToGrid(t.clientX,t.clientY);n?n.onContextMenu(t,r.x,r.y):this.graph.trigger("blank:contextmenu",{e:t,x:r.x,y:r.y})}}},{key:"delegateDragEvents",value:function(e,t){null==e.data&&(e.data={}),this.setEventData(e,{currentView:t||null,mouseMovedCount:0,startPosition:{x:e.clientX,y:e.clientY}});var n=this.constructor;this.delegateDocumentEvents(n.documentEvents,e.data),this.undelegateEvents()}},{key:"getMouseMovedCount",value:function(e){return this.getEventData(e).mouseMovedCount||0}},{key:"onMouseDown",value:function(e){var t=this.normalizeEvent(e),n=this.findView(t.target);if(!this.guard(t,n)){this.options.preventDefaultMouseDown&&e.preventDefault();var r=this.graph.snapToGrid(t.clientX,t.clientY);n?n.onMouseDown(t,r.x,r.y):(this.options.preventDefaultBlankAction&&["touchstart"].includes(t.type)&&e.preventDefault(),this.graph.trigger("blank:mousedown",{e:t,x:r.x,y:r.y})),this.delegateDragEvents(t,n)}}},{key:"onMouseMove",value:function(e){var t=this.getEventData(e),n=t.startPosition;if((!n||n.x!==e.clientX||n.y!==e.clientY)&&(null==t.mouseMovedCount&&(t.mouseMovedCount=0),t.mouseMovedCount+=1,!(t.mouseMovedCount<=this.options.moveThreshold))){var r=this.normalizeEvent(e),i=this.graph.snapToGrid(r.clientX,r.clientY),o=t.currentView;o?o.onMouseMove(r,i.x,i.y):this.graph.trigger("blank:mousemove",{e:r,x:i.x,y:i.y}),this.setEventData(r,t)}}},{key:"onMouseUp",value:function(e){this.undelegateDocumentEvents();var t=this.normalizeEvent(e),n=this.graph.snapToGrid(t.clientX,t.clientY),r=this.getEventData(e).currentView;if(r?r.onMouseUp(t,n.x,n.y):this.graph.trigger("blank:mouseup",{e:t,x:n.x,y:n.y}),!e.isPropagationStopped()){var i=new c.EventObject(e,{type:"click",data:e.data});this.onClick(i)}e.stopImmediatePropagation(),this.delegateEvents()}},{key:"onMouseOver",value:function(e){var t=this.normalizeEvent(e),n=this.findView(t.target);if(!this.guard(t,n))if(n)n.onMouseOver(t);else{if(this.container===t.target)return;this.graph.trigger("blank:mouseover",{e:t})}}},{key:"onMouseOut",value:function(e){var t=this.normalizeEvent(e),n=this.findView(t.target);if(!this.guard(t,n))if(n)n.onMouseOut(t);else{if(this.container===t.target)return;this.graph.trigger("blank:mouseout",{e:t})}}},{key:"onMouseEnter",value:function(e){var t=this.normalizeEvent(e),n=this.findView(t.target);if(!this.guard(t,n)){var r=this.graph.findViewByElem(t.relatedTarget);if(n){if(r===n)return;n.onMouseEnter(t)}else{if(r)return;this.graph.trigger("graph:mouseenter",{e:t})}}}},{key:"onMouseLeave",value:function(e){var t=this.normalizeEvent(e),n=this.findView(t.target);if(!this.guard(t,n)){var r=this.graph.findViewByElem(t.relatedTarget);if(n){if(r===n)return;n.onMouseLeave(t)}else{if(r)return;this.graph.trigger("graph:mouseleave",{e:t})}}}},{key:"onMouseWheel",value:function(e){var t=this.normalizeEvent(e),n=this.findView(t.target);if(!this.guard(t,n)){var r=t.originalEvent,i=this.graph.snapToGrid(r.clientX,r.clientY),o=Math.max(-1,Math.min(1,r.wheelDelta||-r.detail));n?n.onMouseWheel(t,i.x,i.y,o):this.graph.trigger("blank:mousewheel",{e:t,delta:o,x:i.x,y:i.y})}}},{key:"onCustomEvent",value:function(e){var t=e.currentTarget,n=t.getAttribute("event")||t.getAttribute("data-event");if(n){var r=this.findView(t);if(r){var i=this.normalizeEvent(e);if(this.guard(i,r))return;var o=this.graph.snapToGrid(i.clientX,i.clientY);r.onCustomEvent(i,n,o.x,o.y)}}}},{key:"handleMagnetEvent",value:function(e,t){var n=e.currentTarget,i=n.getAttribute("magnet");if(i&&"false"!==i.toLowerCase()){var o=this.findView(n);if(o){var a=this.normalizeEvent(e);if(this.guard(a,o))return;var u=this.graph.snapToGrid(a.clientX,a.clientY);r.call(t,this.graph,o,a,n,u.x,u.y)}}}},{key:"onMagnetMouseDown",value:function(e){this.handleMagnetEvent(e,function(e,t,n,r,i){e.onMagnetMouseDown(t,n,r,i)})}},{key:"onMagnetDblClick",value:function(e){this.handleMagnetEvent(e,function(e,t,n,r,i){e.onMagnetDblClick(t,n,r,i)})}},{key:"onMagnetContextMenu",value:function(e){var t=this.findView(e.target);this.isPreventDefaultContextMenu(t)&&e.preventDefault(),this.handleMagnetEvent(e,function(e,t,n,r,i){e.onMagnetContextMenu(t,n,r,i)})}},{key:"onLabelMouseDown",value:function(e){var t=e.currentTarget,n=this.findView(t);if(n){var r=this.normalizeEvent(e);if(this.guard(r,n))return;var i=this.graph.snapToGrid(r.clientX,r.clientY);n.onLabelMouseDown(r,i.x,i.y)}}},{key:"onImageDragStart",value:function(){return!1}},{key:"dispose",value:function(){this.undelegateEvents(),this.undelegateDocumentEvents(),this.restore(),this.restore=function(){}}}]),n}(sd);og([sd.dispose()],ag.prototype,"dispose",null),function(e){var t="".concat(vh.prefixCls,"-graph");e.markup=[{ns:c.ns.xhtml,tagName:"div",selector:"background",className:"".concat(t,"-background")},{ns:c.ns.xhtml,tagName:"div",selector:"grid",className:"".concat(t,"-grid")},{ns:c.ns.svg,tagName:"svg",selector:"svg",className:"".concat(t,"-svg"),attrs:{width:"100%",height:"100%","xmlns:xlink":c.ns.xlink},children:[{tagName:"defs",selector:"defs"},{tagName:"g",selector:"viewport",className:"".concat(t,"-svg-viewport"),children:[{tagName:"g",selector:"primer",className:"".concat(t,"-svg-primer")},{tagName:"g",selector:"stage",className:"".concat(t,"-svg-stage")},{tagName:"g",selector:"decorator",className:"".concat(t,"-svg-decorator")},{tagName:"g",selector:"overlay",className:"".concat(t,"-svg-overlay")}]}]}],e.snapshoot=function(e){var t=e.cloneNode();return e.childNodes.forEach(function(e){return t.appendChild(e)}),function(){for(c.empty(e);e.attributes.length>0;)e.removeAttribute(e.attributes[0].name);for(var n=0,r=t.attributes.length;n<r;n+=1){var i=t.attributes[n];e.setAttribute(i.name,i.value)}t.childNodes.forEach(function(t){return e.appendChild(t)})}}}(ag||(ag={})),function(e){var t,n=vh.prefixCls;e.events=(t={dblclick:"onDblClick",contextmenu:"onContextMenu",touchstart:"onMouseDown",mousedown:"onMouseDown",mouseover:"onMouseOver",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",mousewheel:"onMouseWheel",DOMMouseScroll:"onMouseWheel"},Object(A.a)(t,"mouseenter  .".concat(n,"-cell"),"onMouseEnter"),Object(A.a)(t,"mouseleave  .".concat(n,"-cell"),"onMouseLeave"),Object(A.a)(t,"mouseenter  .".concat(n,"-cell-tools"),"onMouseEnter"),Object(A.a)(t,"mouseleave  .".concat(n,"-cell-tools"),"onMouseLeave"),Object(A.a)(t,"mousedown   .".concat(n,"-cell [event]"),"onCustomEvent"),Object(A.a)(t,"touchstart  .".concat(n,"-cell [event]"),"onCustomEvent"),Object(A.a)(t,"mousedown   .".concat(n,"-cell [data-event]"),"onCustomEvent"),Object(A.a)(t,"touchstart  .".concat(n,"-cell [data-event]"),"onCustomEvent"),Object(A.a)(t,"dblclick    .".concat(n,"-cell [magnet]"),"onMagnetDblClick"),Object(A.a)(t,"contextmenu .".concat(n,"-cell [magnet]"),"onMagnetContextMenu"),Object(A.a)(t,"mousedown   .".concat(n,"-cell [magnet]"),"onMagnetMouseDown"),Object(A.a)(t,"touchstart  .".concat(n,"-cell [magnet]"),"onMagnetMouseDown"),Object(A.a)(t,"dblclick    .".concat(n,"-cell [data-magnet]"),"onMagnetDblClick"),Object(A.a)(t,"contextmenu .".concat(n,"-cell [data-magnet]"),"onMagnetContextMenu"),Object(A.a)(t,"mousedown   .".concat(n,"-cell [data-magnet]"),"onMagnetMouseDown"),Object(A.a)(t,"touchstart  .".concat(n,"-cell [data-magnet]"),"onMagnetMouseDown"),Object(A.a)(t,"dragstart   .".concat(n,"-cell image"),"onImageDragStart"),Object(A.a)(t,"mousedown   .".concat(n,"-edge .").concat(n,"-edge-label"),"onLabelMouseDown"),Object(A.a)(t,"touchstart  .".concat(n,"-edge .").concat(n,"-edge-label"),"onLabelMouseDown"),t),e.documentEvents={mousemove:"onMouseMove",touchmove:"onMouseMove",mouseup:"onMouseUp",touchend:"onMouseUp",touchcancel:"onMouseUp"}}(ag||(ag={}));var ug=function(e){Object(P.a)(n,e);var t=Object(M.a)(n);function n(e){var r;return Object(T.a)(this,n),(r=t.call(this)).graph=e,r.init(),r}return Object(j.a)(n,[{key:"options",get:function(){return this.graph.options}},{key:"model",get:function(){return this.graph.model}},{key:"view",get:function(){return this.graph.view}},{key:"init",value:function(){}}]),n}(C),sg=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var u=e.length-1;u>=0;u--)(i=e[u])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},cg=function(e){Object(P.a)(n,e);var t=Object(M.a)(n);function n(){return Object(T.a)(this,n),t.apply(this,arguments)}return Object(j.a)(n,[{key:"init",value:function(){vh.autoInsertCSS&&l.ensure("core",".x6-graph {\n  position: relative;\n  outline: none;\n  touch-action: none;\n}\n.x6-graph-background,\n.x6-graph-grid,\n.x6-graph-svg {\n  position: absolute;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0;\n}\n.x6-graph-background-stage,\n.x6-graph-grid-stage,\n.x6-graph-svg-stage {\n  user-select: none;\n}\n.x6-graph.x6-graph-pannable {\n  cursor: grab;\n  cursor: -moz-grab;\n  cursor: -webkit-grab;\n}\n.x6-graph.x6-graph-panning {\n  cursor: grabbing;\n  cursor: -moz-grabbing;\n  cursor: -webkit-grabbing;\n  user-select: none;\n}\n.x6-node {\n  cursor: move;\n  /* stylelint-disable-next-line */\n}\n.x6-node.x6-node-immovable {\n  cursor: default;\n}\n.x6-node * {\n  -webkit-user-drag: none;\n}\n.x6-node .scalable * {\n  vector-effect: non-scaling-stroke;\n}\n.x6-node [magnet='true'] {\n  cursor: crosshair;\n  transition: opacity 0.3s;\n}\n.x6-node [magnet='true']:hover {\n  opacity: 0.7;\n}\n.x6-node foreignObject {\n  display: block;\n  overflow: visible;\n  background-color: transparent;\n}\n.x6-node foreignObject > body {\n  position: static;\n  width: 100%;\n  height: 100%;\n  margin: 0;\n  padding: 0;\n  overflow: visible;\n  background-color: transparent;\n}\n.x6-edge .source-marker,\n.x6-edge .target-marker {\n  vector-effect: non-scaling-stroke;\n}\n.x6-edge .connection {\n  stroke-linejoin: round;\n  fill: none;\n}\n.x6-edge .connection-wrap {\n  cursor: move;\n  opacity: 0;\n  fill: none;\n  stroke: #000;\n  stroke-width: 15;\n  stroke-linecap: round;\n  stroke-linejoin: round;\n}\n.x6-edge .connection-wrap:hover {\n  opacity: 0.4;\n  stroke-opacity: 0.4;\n}\n.x6-edge .vertices {\n  cursor: move;\n  opacity: 0;\n}\n.x6-edge .vertices .vertex {\n  fill: #1abc9c;\n}\n.x6-edge .vertices .vertex :hover {\n  fill: #34495e;\n  stroke: none;\n}\n.x6-edge .vertices .vertex-remove {\n  cursor: pointer;\n  fill: #fff;\n}\n.x6-edge .vertices .vertex-remove-area {\n  cursor: pointer;\n  opacity: 0.1;\n}\n.x6-edge .vertices .vertex-group:hover .vertex-remove-area {\n  opacity: 1;\n}\n.x6-edge .arrowheads {\n  cursor: move;\n  opacity: 0;\n}\n.x6-edge .arrowheads .arrowhead {\n  fill: #1abc9c;\n}\n.x6-edge .arrowheads .arrowhead :hover {\n  fill: #f39c12;\n  stroke: none;\n}\n.x6-edge .tools {\n  cursor: pointer;\n  opacity: 0;\n}\n.x6-edge .tools .tool-options {\n  display: none;\n}\n.x6-edge .tools .tool-remove circle {\n  fill: #f00;\n}\n.x6-edge .tools .tool-remove path {\n  fill: #fff;\n}\n.x6-edge:hover .vertices,\n.x6-edge:hover .arrowheads,\n.x6-edge:hover .tools {\n  opacity: 1;\n}\n.x6-highlight-opacity {\n  opacity: 0.3;\n}\n.x6-cell-tool-editor {\n  position: relative;\n  display: inline-block;\n  min-height: 1em;\n  margin: 0;\n  padding: 0;\n  line-height: 1;\n  white-space: normal;\n  text-align: center;\n  vertical-align: top;\n  overflow-wrap: normal;\n  outline: none;\n  transform-origin: 0 0;\n  -webkit-user-drag: none;\n}\n.x6-edge-tool-editor {\n  border: 1px solid #275fc5;\n  border-radius: 2px;\n}\n")}},{key:"dispose",value:function(){l.clean("core")}}]),n}(ug);sg([cg.dispose()],cg.prototype,"dispose",null);var lg,fg=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};!function(e){e.get=function(t){var n=t.grid,r=(t.panning,t.mousewheel,t.embedding,fg(t,["grid","panning","mousewheel","embedding"])),o=t.container;if(null==o)throw new Error("Ensure the container of the graph is specified and valid");null==r.width&&(r.width=o.clientWidth),null==r.height&&(r.height=o.clientHeight);var a=i.merge({},e.defaults,r),u={size:10,visible:!1};return a.grid="number"===typeof n?{size:n,visible:!1}:"boolean"===typeof n?Object.assign(Object.assign({},u),{visible:n}):Object.assign(Object.assign({},u),n),["panning","mousewheel","embedding"].forEach(function(e){var n=t[e];"boolean"===typeof n?a[e].enabled=n:a[e]=Object.assign(Object.assign({},a[e]),n)}),a}}(lg||(lg={})),(lg||(lg={})).defaults={x:0,y:0,scaling:{min:.01,max:16},grid:{size:10,visible:!1},background:!1,panning:{enabled:!1,eventTypes:["leftMouseDown"]},mousewheel:{enabled:!1,factor:1.2,zoomAtMousePosition:!0},highlighting:{default:{name:"stroke",args:{padding:3}},nodeAvailable:{name:"className",args:{className:vh.prefix("available-node")}},magnetAvailable:{name:"className",args:{className:vh.prefix("available-magnet")}}},connecting:{snap:!1,allowLoop:!0,allowNode:!0,allowEdge:!1,allowPort:!0,allowBlank:!0,allowMulti:!0,highlight:!1,anchor:"center",edgeAnchor:"ratio",connectionPoint:"boundary",router:"normal",connector:"normal",validateConnection:function(e){var t=e.type,n=e.sourceView,r=e.targetView;return null!=("target"===t?r:n)},createEdge:function(){return new Wv}},translating:{restrict:!1},embedding:{enabled:!1,findParent:"bbox",frontOnly:!0,validate:function(){return!0}},moveThreshold:0,clickThreshold:0,magnetThreshold:0,preventDefaultDblClick:!0,preventDefaultMouseDown:!1,preventDefaultContextMenu:!0,preventDefaultBlankAction:!0,interacting:{edgeLabelMovable:!1},async:!0,virtual:!1,guard:function(){return!1}};var hg=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var u=e.length-1;u>=0;u--)(i=e[u])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},dg=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},pg=function(e){Object(P.a)(n,e);var t=Object(M.a)(n);function n(){return Object(T.a)(this,n),t.apply(this,arguments)}return Object(j.a)(n,[{key:"elem",get:function(){return this.view.grid}},{key:"grid",get:function(){return this.options.grid}},{key:"init",value:function(){this.startListening(),this.draw(this.grid)}},{key:"startListening",value:function(){this.graph.on("scale",this.update,this),this.graph.on("translate",this.update,this)}},{key:"stopListening",value:function(){this.graph.off("scale",this.update,this),this.graph.off("translate",this.update,this)}},{key:"setVisible",value:function(e){this.grid.visible!==e&&(this.grid.visible=e,this.update())}},{key:"getGridSize",value:function(){return this.grid.size}},{key:"setGridSize",value:function(e){this.grid.size=Math.max(e,1),this.update()}},{key:"show",value:function(){this.setVisible(!0),this.update()}},{key:"hide",value:function(){this.setVisible(!1),this.update()}},{key:"clear",value:function(){this.elem.style.backgroundImage=""}},{key:"draw",value:function(e){this.clear(),this.instance=null,Object.assign(this.grid,e),this.patterns=this.resolveGrid(e),this.update()}},{key:"update",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this.grid.size;if(t<=1||!this.grid.visible)return this.clear();var n=this.graph.matrix(),r=this.getInstance(),i=Array.isArray(e)?e:[e];this.patterns.forEach(function(e,o){var a="pattern_".concat(o),u=n.a||1,s=n.d||1,l=e.update,f=e.markup,h=dg(e,["update","markup"]),d=Object.assign(Object.assign(Object.assign({},h),i[o]),{sx:u,sy:s,ox:n.e||0,oy:n.f||0,width:t*u,height:t*s});r.has(a)||r.add(a,hs.create("pattern",{id:a,patternUnits:"userSpaceOnUse"},hs.createVectors(f)).node);var p=r.get(a);"function"===typeof l&&l(p.childNodes[0],d);var v=d.ox%d.width;v<0&&(v+=d.width);var g=d.oy%d.height;g<0&&(g+=d.height),c.attr(p,{x:v,y:g,width:d.width,height:d.height})});var o=(new XMLSerializer).serializeToString(r.root),a="url(data:image/svg+xml;base64,".concat(btoa(o),")");this.elem.style.backgroundImage=a}},{key:"getInstance",value:function(){return this.instance||(this.instance=new hl),this.instance}},{key:"resolveGrid",value:function(e){if(!e)return[];var t=e.type;if(null==t)return[Object.assign(Object.assign({},hl.presets.dot),e.args)];var n=hl.registry.get(t);if(n){var r=e.args||[];return Array.isArray(r)||(r=[r]),Array.isArray(n)?n.map(function(e,t){return Object.assign(Object.assign({},e),r[t])}):[Object.assign(Object.assign({},n),r[0])]}return hl.registry.onNotFound(t)}},{key:"dispose",value:function(){this.stopListening(),this.clear()}}]),n}(ug);hg([ug.dispose()],pg.prototype,"dispose",null);var vg=function(e){Object(P.a)(n,e);var t=Object(M.a)(n);function n(){return Object(T.a)(this,n),t.apply(this,arguments)}return Object(j.a)(n,[{key:"container",get:function(){return this.graph.view.container}},{key:"viewport",get:function(){return this.graph.view.viewport}},{key:"stage",get:function(){return this.graph.view.stage}},{key:"init",value:function(){this.resize()}},{key:"getMatrix",value:function(){var e=this.viewport.getAttribute("transform");return e!==this.viewportTransformString&&(this.viewportMatrix=this.viewport.getCTM(),this.viewportTransformString=e),c.createSVGMatrix(this.viewportMatrix)}},{key:"setMatrix",value:function(e){var t=c.createSVGMatrix(e),n=c.matrixToTransformString(t);this.viewport.setAttribute("transform",n),this.viewportMatrix=t,this.viewportTransformString=n}},{key:"resize",value:function(e,t){var n=void 0===e?this.options.width:e,r=void 0===t?this.options.height:t;this.options.width=n,this.options.height=r,"number"===typeof n&&(n=Math.round(n)),"number"===typeof r&&(r=Math.round(r)),this.container.style.width=null==n?"":"".concat(n,"px"),this.container.style.height=null==r?"":"".concat(r,"px");var i=this.getComputedSize();return this.graph.trigger("resize",Object.assign({},i)),this}},{key:"getComputedSize",value:function(){var e=this.options.width,t=this.options.height;return u.isNumber(e)||(e=this.container.clientWidth),u.isNumber(t)||(t=this.container.clientHeight),{width:e,height:t}}},{key:"getScale",value:function(){return c.matrixToScale(this.getMatrix())}},{key:"scale",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;if(e=this.clampScale(e),t=this.clampScale(t),n||r){var i=this.getTranslation(),o=i.tx-n*(e-1),a=i.ty-r*(t-1);o===i.tx&&a===i.ty||this.translate(o,a)}var u=this.getMatrix();return u.a=e,u.d=t,this.setMatrix(u),this.graph.trigger("scale",{sx:e,sy:t,ox:n,oy:r}),this}},{key:"clampScale",value:function(e){var t=this.graph.options.scaling;return u.clamp(e,t.min||.01,t.max||16)}},{key:"getZoom",value:function(){return this.getScale().sx}},{key:"zoom",value:function(e,t){t=t||{};var n=e,r=e,i=this.getScale(),o=this.getComputedSize(),a=o.width/2,u=o.height/2;if(t.absolute||(n+=i.sx,r+=i.sy),t.scaleGrid&&(n=Math.round(n/t.scaleGrid)*t.scaleGrid,r=Math.round(r/t.scaleGrid)*t.scaleGrid),t.maxScale&&(n=Math.min(t.maxScale,n),r=Math.min(t.maxScale,r)),t.minScale&&(n=Math.max(t.minScale,n),r=Math.max(t.minScale,r)),t.center&&(a=t.center.x,u=t.center.y),n=this.clampScale(n),r=this.clampScale(r),a||u){var s=this.getTranslation(),c=a-(a-s.tx)*(n/i.sx),l=u-(u-s.ty)*(r/i.sy);c===s.tx&&l===s.ty||this.translate(c,l)}return this.scale(n,r),this}},{key:"getRotation",value:function(){return c.matrixToRotation(this.getMatrix())}},{key:"rotate",value:function(e,t,n){if(null==t||null==n){var r=ph.getBBox(this.stage);t=r.width/2,n=r.height/2}var i=this.getMatrix().translate(t,n).rotate(e).translate(-t,-n);return this.setMatrix(i),this}},{key:"getTranslation",value:function(){return c.matrixToTranslation(this.getMatrix())}},{key:"translate",value:function(e,t){var n=this.getMatrix();n.e=e||0,n.f=t||0,this.setMatrix(n);var r=this.getTranslation();return this.options.x=r.tx,this.options.y=r.ty,this.graph.trigger("translate",Object.assign({},r)),this}},{key:"setOrigin",value:function(e,t){return this.translate(e||0,t||0)}},{key:"fitToContent",value:function(e,t,n,r){if("object"===typeof e){var i=e;e=i.gridWidth||1,t=i.gridHeight||1,n=i.padding||0,r=i}else e=e||1,t=t||1,n=n||0,null==r&&(r={});var o=u.normalizeSides(n),a=r.border||0,s=r.contentArea?Ic.create(r.contentArea):this.getContentArea(r);a>0&&s.inflate(a);var c=this.getScale(),l=this.getTranslation(),f=c.sx,h=c.sy;s.x*=f,s.y*=h,s.width*=f,s.height*=h;var d=Math.max(Math.ceil((s.width+s.x)/e),1)*e,p=Math.max(Math.ceil((s.height+s.y)/t),1)*t,v=0,g=0;("negative"===r.allowNewOrigin&&s.x<0||"positive"===r.allowNewOrigin&&s.x>=0||"any"===r.allowNewOrigin)&&(v=Math.ceil(-s.x/e)*e,d+=v+=o.left),("negative"===r.allowNewOrigin&&s.y<0||"positive"===r.allowNewOrigin&&s.y>=0||"any"===r.allowNewOrigin)&&(g=Math.ceil(-s.y/t)*t,p+=g+=o.top),d+=o.right,p+=o.bottom,d=Math.max(d,r.minWidth||0),p=Math.max(p,r.minHeight||0),d=Math.min(d,r.maxWidth||Number.MAX_SAFE_INTEGER),p=Math.min(p,r.maxHeight||Number.MAX_SAFE_INTEGER);var y=this.getComputedSize(),m=d!==y.width||p!==y.height;return(v!==l.tx||g!==l.ty)&&this.translate(v,g),m&&this.resize(d,p),new Ic(-v/f,-g/h,d/f,p/h)}},{key:"scaleContentToFit",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.scaleContentToFitImpl(e)}},{key:"scaleContentToFitImpl",value:function(){var e,t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(n.contentArea){var i=n.contentArea;e=this.graph.localToGraph(i),t=Lc.create(i)}else e=this.getContentBBox(n),t=this.graph.graphToLocal(e);if(e.width&&e.height){var o,a=u.normalizeSides(n.padding),s=n.minScale||0,c=n.maxScale||Number.MAX_SAFE_INTEGER,l=n.minScaleX||s,f=n.maxScaleX||c,h=n.minScaleY||s,d=n.maxScaleY||c;if(n.viewportArea)o=n.viewportArea;else{var p=this.getComputedSize(),v=this.getTranslation();o={x:v.tx,y:v.ty,width:p.width,height:p.height}}o=Ic.create(o).moveAndExpand({x:a.left,y:a.top,width:-a.left-a.right,height:-a.top-a.bottom});var g=this.getScale(),y=o.width/e.width*g.sx,m=o.height/e.height*g.sy;!1!==n.preserveAspectRatio&&(y=m=Math.min(y,m));var b=n.scaleGrid;if(b&&(y=b*Math.floor(y/b),m=b*Math.floor(m/b)),y=u.clamp(y,l,f),m=u.clamp(m,h,d),this.scale(y,m),r){var w=this.options,E=o.x-t.x*y-w.x,x=o.y-t.y*m-w.y;this.translate(E,x)}}}},{key:"getContentArea",value:function(){return!1!==(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).useCellGeometry?this.model.getAllCellsBBox()||new Ic:ph.getBBox(this.stage)}},{key:"getContentBBox",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.graph.localToGraph(this.getContentArea(e))}},{key:"getGraphArea",value:function(){var e=Ic.fromSize(this.getComputedSize());return this.graph.graphToLocal(e)}},{key:"zoomToRect",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=Ic.create(e),r=this.graph;t.contentArea=n,null==t.viewportArea&&(t.viewportArea={x:r.options.x,y:r.options.y,width:this.options.width,height:this.options.height}),this.scaleContentToFitImpl(t,!1);var i=n.getCenter();return this.centerPoint(i.x,i.y),this}},{key:"zoomToFit",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.zoomToRect(this.getContentArea(e),e)}},{key:"centerPoint",value:function(e,t){var n=this.getComputedSize(),r=this.getScale(),i=this.getTranslation(),o=n.width/2,a=n.height/2;t="number"===typeof t?t:a,e=o-(e="number"===typeof e?e:o)*r.sx,t=a-t*r.sy,i.tx===e&&i.ty===t||this.translate(e,t)}},{key:"centerContent",value:function(e){var t=this.graph.getContentArea(e).getCenter();this.centerPoint(t.x,t.y)}},{key:"centerCell",value:function(e){return this.positionCell(e,"center")}},{key:"positionPoint",value:function(e,t,n){var r=this.getComputedSize();(t=u.normalizePercentage(t,Math.max(0,r.width)))<0&&(t=r.width+t),(n=u.normalizePercentage(n,Math.max(0,r.height)))<0&&(n=r.height+n);var i=this.getTranslation(),o=this.getScale(),a=t-e.x*o.sx,s=n-e.y*o.sy;i.tx===a&&i.ty===s||this.translate(a,s)}},{key:"positionRect",value:function(e,t){var n=Ic.create(e);switch(t){case"center":return this.positionPoint(n.getCenter(),"50%","50%");case"top":return this.positionPoint(n.getTopCenter(),"50%",0);case"top-right":return this.positionPoint(n.getTopRight(),"100%",0);case"right":return this.positionPoint(n.getRightMiddle(),"100%","50%");case"bottom-right":return this.positionPoint(n.getBottomRight(),"100%","100%");case"bottom":return this.positionPoint(n.getBottomCenter(),"50%","100%");case"bottom-left":return this.positionPoint(n.getBottomLeft(),0,"100%");case"left":return this.positionPoint(n.getLeftMiddle(),0,"50%");case"top-left":return this.positionPoint(n.getTopLeft(),0,0);default:return this}}},{key:"positionCell",value:function(e,t){var n=e.getBBox();return this.positionRect(n,t)}},{key:"positionContent",value:function(e,t){var n=this.graph.getContentArea(t);return this.positionRect(n,e)}}]),n}(ug),gg=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var u=e.length-1;u>=0;u--)(i=e[u])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},yg=function(e){Object(P.a)(n,e);var t=Object(M.a)(n);function n(){return Object(T.a)(this,n),t.apply(this,arguments)}return Object(j.a)(n,[{key:"elem",get:function(){return this.view.background}},{key:"init",value:function(){this.startListening(),this.options.background&&this.draw(this.options.background)}},{key:"startListening",value:function(){this.graph.on("scale",this.update,this),this.graph.on("translate",this.update,this)}},{key:"stopListening",value:function(){this.graph.off("scale",this.update,this),this.graph.off("translate",this.update,this)}},{key:"updateBackgroundImage",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.size||"auto auto",n=e.position||"center",r=this.graph.transform.getScale(),i=this.graph.translate();if("object"===typeof n){var o=i.tx+r.sx*(n.x||0),a=i.ty+r.sy*(n.y||0);n="".concat(o,"px ").concat(a,"px")}"object"===typeof t&&(t=Ic.fromSize(t).scale(r.sx,r.sy),t="".concat(t.width,"px ").concat(t.height,"px")),this.elem.style.backgroundSize=t,this.elem.style.backgroundPosition=n}},{key:"drawBackgroundImage",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(e instanceof HTMLImageElement){var n=this.optionsCache;if(!n||n.image===t.image){var r,o=t.opacity,a=t.size,u=t.repeat||"no-repeat",s=dl.registry.get(u);if("function"===typeof s){var c=t.quality||1;e.width*=c,e.height*=c;var l=s(e,t);if(!(l instanceof HTMLCanvasElement))throw new Error("Background pattern must return an HTML Canvas instance");r=l.toDataURL("image/png"),u=t.repeat&&u!==t.repeat?t.repeat:"repeat","object"===typeof a?(a.width*=l.width/e.width,a.height*=l.height/e.height):void 0===a&&(t.size={width:l.width/c,height:l.height/c})}else r=e.src,void 0===a&&(t.size={width:e.width,height:e.height});null!=n&&"object"===typeof t.size&&t.image===n.image&&t.repeat===n.repeat&&t.quality===n.quality&&(n.size=i.clone(t.size));var f=this.elem.style;f.backgroundImage="url(".concat(r,")"),f.backgroundRepeat=u,f.opacity=null==o||o>=1?"":"".concat(o),this.updateBackgroundImage(t)}}else this.elem.style.backgroundImage=""}},{key:"updateBackgroundColor",value:function(e){this.elem.style.backgroundColor=e||""}},{key:"updateBackgroundOptions",value:function(e){this.graph.options.background=e}},{key:"update",value:function(){this.optionsCache&&this.updateBackgroundImage(this.optionsCache)}},{key:"draw",value:function(e){var t=this,n=e||{};if(this.updateBackgroundOptions(e),this.updateBackgroundColor(n.color),n.image){this.optionsCache=i.clone(n);var r=document.createElement("img");r.onload=function(){return t.drawBackgroundImage(r,e)},r.setAttribute("crossorigin","anonymous"),r.src=n.image}else this.drawBackgroundImage(null),this.optionsCache=null}},{key:"clear",value:function(){this.draw()}},{key:"dispose",value:function(){this.clear(),this.stopListening()}}]),n}(ug);gg([ug.dispose()],yg.prototype,"dispose",null);var mg=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var u=e.length-1;u>=0;u--)(i=e[u])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},bg=function(e){Object(P.a)(n,e);var t=Object(M.a)(n);function n(){return Object(T.a)(this,n),t.apply(this,arguments)}return Object(j.a)(n,[{key:"widgetOptions",get:function(){return this.options.panning}},{key:"pannable",get:function(){return this.widgetOptions&&!0===this.widgetOptions.enabled}},{key:"init",value:function(){this.startListening(),this.updateClassName()}},{key:"startListening",value:function(){var e=this.widgetOptions.eventTypes;e&&(e.includes("leftMouseDown")&&(this.graph.on("blank:mousedown",this.preparePanning,this),this.graph.on("node:unhandled:mousedown",this.preparePanning,this),this.graph.on("edge:unhandled:mousedown",this.preparePanning,this)),e.includes("rightMouseDown")&&(this.onRightMouseDown=this.onRightMouseDown.bind(this),c.Event.on(this.graph.container,"mousedown",this.onRightMouseDown)),e.includes("mouseWheel")&&(this.mousewheelHandle=new c.MouseWheelHandle(this.graph.container,this.onMouseWheel.bind(this),this.allowMouseWheel.bind(this)),this.mousewheelHandle.enable()))}},{key:"stopListening",value:function(){var e=this.widgetOptions.eventTypes;e&&(e.includes("leftMouseDown")&&(this.graph.off("blank:mousedown",this.preparePanning,this),this.graph.off("node:unhandled:mousedown",this.preparePanning,this),this.graph.off("edge:unhandled:mousedown",this.preparePanning,this)),e.includes("rightMouseDown")&&c.Event.off(this.graph.container,"mousedown",this.onRightMouseDown),e.includes("mouseWheel")&&this.mousewheelHandle&&this.mousewheelHandle.disable())}},{key:"preparePanning",value:function(e){var t=e.e,n=this.graph.getPlugin("selection"),r=n&&n.allowRubberband(t,!0);(this.allowPanning(t,!0)||this.allowPanning(t)&&!r)&&this.startPanning(t)}},{key:"allowPanning",value:function(e,t){return this.pannable&&Oc.isMatch(e,this.widgetOptions.modifiers,t)}},{key:"startPanning",value:function(e){var t=this.view.normalizeEvent(e);this.clientX=t.clientX,this.clientY=t.clientY,this.panning=!0,this.updateClassName(),c.Event.on(document.body,{"mousemove.panning touchmove.panning":this.pan.bind(this),"mouseup.panning touchend.panning":this.stopPanning.bind(this),"mouseleave.panning":this.stopPanning.bind(this)}),c.Event.on(window,"mouseup.panning",this.stopPanning.bind(this))}},{key:"pan",value:function(e){var t=this.view.normalizeEvent(e),n=t.clientX-this.clientX,r=t.clientY-this.clientY;this.clientX=t.clientX,this.clientY=t.clientY,this.graph.translateBy(n,r)}},{key:"stopPanning",value:function(e){this.panning=!1,this.updateClassName(),c.Event.off(document.body,".panning"),c.Event.off(window,".panning")}},{key:"updateClassName",value:function(){var e=this.view.container,t=this.view.prefixClassName("graph-panning"),n=this.view.prefixClassName("graph-pannable");this.pannable?this.panning?(c.addClass(e,t),c.removeClass(e,n)):(c.removeClass(e,t),c.addClass(e,n)):(c.removeClass(e,t),c.removeClass(e,n))}},{key:"onRightMouseDown",value:function(e){2===e.button&&this.allowPanning(e,!0)&&this.startPanning(e)}},{key:"allowMouseWheel",value:function(e){return this.pannable&&!e.ctrlKey}},{key:"onMouseWheel",value:function(e,t,n){e.ctrlKey||this.graph.translateBy(-t,-n)}},{key:"autoPanning",value:function(e,t){var n=this.graph.getGraphArea(),r=0,i=0;e<=n.left+10&&(r=-10),t<=n.top+10&&(i=-10),e>=n.right-10&&(r=10),t>=n.bottom-10&&(i=10),0===r&&0===i||this.graph.translateBy(-r,-i)}},{key:"enablePanning",value:function(){this.pannable||(this.widgetOptions.enabled=!0,this.updateClassName())}},{key:"disablePanning",value:function(){this.pannable&&(this.widgetOptions.enabled=!1,this.updateClassName())}},{key:"dispose",value:function(){this.stopListening()}}]),n}(ug);mg([ug.dispose()],bg.prototype,"dispose",null);var wg=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var u=e.length-1;u>=0;u--)(i=e[u])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},Eg=function(e){Object(P.a)(n,e);var t=Object(M.a)(n);function n(){var e;return Object(T.a)(this,n),(e=t.apply(this,arguments)).cumulatedFactor=1,e}return Object(j.a)(n,[{key:"widgetOptions",get:function(){return this.options.mousewheel}},{key:"init",value:function(){this.container=this.graph.container,this.target=this.widgetOptions.global?document:this.container,this.mousewheelHandle=new c.MouseWheelHandle(this.target,this.onMouseWheel.bind(this),this.allowMouseWheel.bind(this)),this.widgetOptions.enabled&&this.enable(!0)}},{key:"disabled",get:function(){return!0!==this.widgetOptions.enabled}},{key:"enable",value:function(e){(this.disabled||e)&&(this.widgetOptions.enabled=!0,this.mousewheelHandle.enable())}},{key:"disable",value:function(){this.disabled||(this.widgetOptions.enabled=!1,this.mousewheelHandle.disable())}},{key:"allowMouseWheel",value:function(e){var t=this.widgetOptions.guard;return(null==t||t.call(e))&&Oc.isMatch(e,this.widgetOptions.modifiers)}},{key:"onMouseWheel",value:function(e){var t=this.widgetOptions.guard;if((null==t||t.call(e))&&Oc.isMatch(e,this.widgetOptions.modifiers)){var n=this.widgetOptions.factor||1.2;null==this.currentScale&&(this.startPos={x:e.clientX,y:e.clientY},this.currentScale=this.graph.transform.getScale().sx),e.deltaY<0?this.currentScale<.15?this.cumulatedFactor=(this.currentScale+.01)/this.currentScale:this.cumulatedFactor=Math.round(this.currentScale*n*20)/20/this.currentScale:this.currentScale<=.15?this.cumulatedFactor=(this.currentScale-.01)/this.currentScale:this.cumulatedFactor=Math.round(this.currentScale*(1/n)*20)/20/this.currentScale,this.cumulatedFactor=Math.max(.01,Math.min(this.currentScale*this.cumulatedFactor,160)/this.currentScale);var r=this.currentScale,i=this.graph.transform.clampScale(r*this.cumulatedFactor),o=this.widgetOptions.minScale||Number.MIN_SAFE_INTEGER,a=this.widgetOptions.maxScale||Number.MAX_SAFE_INTEGER;if((i=u.clamp(i,o,a))!==r)if(this.widgetOptions.zoomAtMousePosition){var s=!!this.graph.getPlugin("scroller")?this.graph.clientToLocal(this.startPos):this.graph.clientToGraph(this.startPos);this.graph.zoom(i,{absolute:!0,center:s.clone()})}else this.graph.zoom(i,{absolute:!0});this.currentScale=null,this.cumulatedFactor=1}}},{key:"dispose",value:function(){this.disable()}}]),n}(ug);wg([C.dispose()],Eg.prototype,"dispose",null);var xg=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var u=e.length-1;u>=0;u--)(i=e[u])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},kg=function(e){Object(P.a)(n,e);var t=Object(M.a)(n);function n(){return Object(T.a)(this,n),t.apply(this,arguments)}return Object(j.a)(n,[{key:"init",value:function(){this.resetRenderArea=r.throttle(this.resetRenderArea,200,{leading:!0}),this.resetRenderArea(),this.startListening()}},{key:"startListening",value:function(){this.graph.on("translate",this.resetRenderArea,this),this.graph.on("scale",this.resetRenderArea,this),this.graph.on("resize",this.resetRenderArea,this)}},{key:"stopListening",value:function(){this.graph.off("translate",this.resetRenderArea,this),this.graph.off("scale",this.resetRenderArea,this),this.graph.off("resize",this.resetRenderArea,this)}},{key:"enableVirtualRender",value:function(){this.options.virtual=!0,this.resetRenderArea()}},{key:"disableVirtualRender",value:function(){this.options.virtual=!1,this.graph.renderer.setRenderArea(void 0)}},{key:"resetRenderArea",value:function(){if(this.options.virtual){var e=this.graph.getGraphArea();this.graph.renderer.setRenderArea(e)}}},{key:"dispose",value:function(){this.stopListening()}}]),n}(ug);xg([ug.dispose()],kg.prototype,"dispose",null);var Og,Sg=function(){function e(){Object(T.a)(this,e),this.isFlushing=!1,this.isFlushPending=!1,this.scheduleId=0,this.queue=[],this.frameInterval=33,this.initialTime=Date.now()}return Object(j.a)(e,[{key:"queueJob",value:function(e){if(e.priority&Og.PRIOR)e.cb();else{var t=this.findInsertionIndex(e);t>=0&&this.queue.splice(t,0,e)}}},{key:"queueFlush",value:function(){this.isFlushing||this.isFlushPending||(this.isFlushPending=!0,this.scheduleJob())}},{key:"queueFlushSync",value:function(){this.isFlushing||this.isFlushPending||(this.isFlushPending=!0,this.flushJobsSync())}},{key:"clearJobs",value:function(){this.queue.length=0,this.isFlushing=!1,this.isFlushPending=!1,this.cancelScheduleJob()}},{key:"flushJobs",value:function(){this.isFlushPending=!1,this.isFlushing=!0;for(var e,t=this.getCurrentTime();(e=this.queue.shift())&&(e.cb(),!(this.getCurrentTime()-t>=this.frameInterval)););this.isFlushing=!1,this.queue.length&&this.queueFlush()}},{key:"flushJobsSync",value:function(){var e;for(this.isFlushPending=!1,this.isFlushing=!0;e=this.queue.shift();)try{e.cb()}catch(t){console.log(t)}this.isFlushing=!1}},{key:"findInsertionIndex",value:function(e){for(var t=0,n=this.queue.length,r=n-1,i=e.priority;t<=r;){var o=(r-t>>1)+t;i<=this.queue[o].priority?t=o+1:(n=o,r=o-1)}return n}},{key:"scheduleJob",value:function(){"requestIdleCallback"in window?(this.scheduleId&&this.cancelScheduleJob(),this.scheduleId=window.requestIdleCallback(this.flushJobs.bind(this),{timeout:100})):(this.scheduleId&&this.cancelScheduleJob(),this.scheduleId=window.setTimeout(this.flushJobs.bind(this)))}},{key:"cancelScheduleJob",value:function(){"cancelIdleCallback"in window?(this.scheduleId&&window.cancelIdleCallback(this.scheduleId),this.scheduleId=0):(this.scheduleId&&clearTimeout(this.scheduleId),this.scheduleId=0)}},{key:"getCurrentTime",value:function(){return"object"===typeof performance&&"function"===typeof performance.now?performance.now():Date.now()-this.initialTime}}]),e}();!function(e){e[e.RenderEdge=2]="RenderEdge",e[e.RenderNode=4]="RenderNode",e[e.Update=8]="Update",e[e.PRIOR=1048576]="PRIOR"}(Og||(Og={}));var Ag,Tg=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var u=e.length-1;u>=0;u--)(i=e[u])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},jg=function(e){Object(P.a)(n,e);var t=Object(M.a)(n);function n(e){var r;return Object(T.a)(this,n),(r=t.call(this)).views={},r.willRemoveViews={},r.queue=new Sg,r.graph=e,r.init(),r}return Object(j.a)(n,[{key:"model",get:function(){return this.graph.model}},{key:"container",get:function(){return this.graph.view.stage}},{key:"init",value:function(){this.startListening()}},{key:"startListening",value:function(){this.model.on("reseted",this.onModelReseted,this),this.model.on("cell:added",this.onCellAdded,this),this.model.on("cell:removed",this.onCellRemoved,this),this.model.on("cell:change:zIndex",this.onCellZIndexChanged,this),this.model.on("cell:change:visible",this.onCellVisibleChanged,this)}},{key:"stopListening",value:function(){this.model.off("reseted",this.onModelReseted,this),this.model.off("cell:added",this.onCellAdded,this),this.model.off("cell:removed",this.onCellRemoved,this),this.model.off("cell:change:zIndex",this.onCellZIndexChanged,this),this.model.off("cell:change:visible",this.onCellVisibleChanged,this)}},{key:"onModelReseted",value:function(e){var t=e.options;this.queue.clearJobs(),this.removeZPivots(),this.resetViews(),this.renderViews(this.model.getCells(),t)}},{key:"onCellAdded",value:function(e){var t=e.cell,n=e.options;this.renderViews([t],n)}},{key:"onCellRemoved",value:function(e){var t=e.cell;this.removeViews([t])}},{key:"onCellZIndexChanged",value:function(e){var t=e.cell,r=e.options,i=this.views[t.id];i&&this.requestViewUpdate(i.view,n.FLAG_INSERT,r,Og.Update,!0)}},{key:"onCellVisibleChanged",value:function(e){var t=e.cell,n=e.current;this.toggleVisible(t,!!n)}},{key:"requestViewUpdate",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Og.Update,o=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],a=e.cell.id,u=this.views[a];if(u){u.flag=t,u.options=r;var s=e.hasAction(t,["translate","resize","rotate"]);e.isNodeView()&&s&&(i=Og.PRIOR,o=!1),this.queue.queueJob({id:a,priority:i,cb:function(){n.renderViewInArea(e,t,r)}}),this.getEffectedEdges(e).forEach(function(e){n.requestViewUpdate(e.view,e.flag,r,i,!1)}),o&&this.flush()}}},{key:"setRenderArea",value:function(e){this.renderArea=e,this.flushWaittingViews()}},{key:"isViewMounted",value:function(e){if(null==e)return!1;var t=this.views[e.cell.id];return!!t&&t.state===n.ViewState.MOUNTED}},{key:"renderViews",value:function(e){var t=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e.sort(function(e,t){return e.isNode()&&t.isEdge()?-1:0}),e.forEach(function(e){var i=e.id,o=0,a=t.views[i];if(a)o=n.FLAG_INSERT;else{var u=t.createCellView(e);u&&(u.graph=t.graph,o=n.FLAG_INSERT|u.getBootstrapFlag(),a={view:u,flag:o,options:r,state:n.ViewState.CREATED},t.views[i]=a)}a&&t.requestViewUpdate(a.view,o,r,t.getRenderPriority(a.view),!1)}),this.flush()}},{key:"renderViewInArea",value:function(e,t){var r=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=e.cell,a=o.id,u=this.views[a];if(u){var s=0;this.isUpdateable(e)?(s=this.updateView(e,t,i),u.flag=s):u.state===n.ViewState.MOUNTED?(s=this.updateView(e,t,i),u.flag=s):u.state=n.ViewState.WAITTING,s&&o.isEdge()&&0===(s&e.getFlag(["source","target"]))&&this.queue.queueJob({id:a,priority:Og.RenderEdge,cb:function(){r.updateView(e,t,i)}})}}},{key:"removeViews",value:function(e){var t=this;e.forEach(function(e){var n=e.id,r=t.views[n];r&&(t.willRemoveViews[n]=r,delete t.views[n],t.queue.queueJob({id:n,priority:t.getRenderPriority(r.view),cb:function(){t.removeView(r.view)}}))}),this.flush()}},{key:"flush",value:function(){this.graph.options.async?this.queue.queueFlush():this.queue.queueFlushSync()}},{key:"flushWaittingViews",value:function(){var e=this;Object.values(this.views).forEach(function(t){if(t&&t.state===n.ViewState.WAITTING){var r=t.view,i=t.flag,o=t.options;e.requestViewUpdate(r,i,o,e.getRenderPriority(r),!1)}}),this.flush()}},{key:"updateView",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(null==e)return 0;if(vd.isCellView(e)){if(t&n.FLAG_REMOVE)return this.removeView(e.cell),0;t&n.FLAG_INSERT&&(this.insertView(e),t^=n.FLAG_INSERT)}return t?e.confirmUpdate(t,r):0}},{key:"insertView",value:function(e){var t=this.views[e.cell.id];if(t){var r=e.cell.getZIndex(),i=this.addZPivot(r);this.container.insertBefore(e.container,i),e.cell.isVisible()||this.toggleVisible(e.cell,!1),t.state=n.ViewState.MOUNTED,this.graph.trigger("view:mounted",{view:e})}}},{key:"resetViews",value:function(){var e=this;this.willRemoveViews=Object.assign(Object.assign({},this.views),this.willRemoveViews),Object.values(this.willRemoveViews).forEach(function(t){t&&e.removeView(t.view)}),this.views={},this.willRemoveViews={}}},{key:"removeView",value:function(e){var t=e.cell,n=this.willRemoveViews[t.id];n&&e&&(n.view.remove(),delete this.willRemoveViews[t.id],this.graph.trigger("view:unmounted",{view:e}))}},{key:"toggleVisible",value:function(e,t){for(var n=this.model.getConnectedEdges(e),r=0,i=n.length;r<i;r+=1){var o=n[r];if(t){var a=o.getSourceCell(),u=o.getTargetCell();if(a&&!a.isVisible()||u&&!u.isVisible())continue;this.toggleVisible(o,!0)}else this.toggleVisible(o,!1)}var s=this.views[e.id];s&&c.css(s.view.container,{display:t?"unset":"none"})}},{key:"addZPivot",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;null==this.zPivots&&(this.zPivots={});var t=this.zPivots,n=t[e];if(n)return n;n=t[e]=document.createComment("z-index:".concat(e+1));var r=-1/0;for(var i in t){var o=+i;o<e&&o>r&&(r=o)}var a=this.container;if(r!==-1/0){var u=t[r];a.insertBefore(n,u.nextSibling)}else a.insertBefore(n,a.firstChild);return n}},{key:"removeZPivots",value:function(){this.zPivots&&Object.values(this.zPivots).forEach(function(e){e&&e.parentNode&&e.parentNode.removeChild(e)}),this.zPivots={}}},{key:"createCellView",value:function(e){var t=this.graph.options.createCellView;if(t){var n=r.call(t,this.graph,e);if(n||null===n)return n}var i=e.view,o={graph:this.graph};if(null!=i&&"string"===typeof i){var a=vd.registry.get(i);return a?new a(e,o):vd.registry.onNotFound(i)}return e.isNode()?new rg(e,o):e.isEdge()?new ig(e,o):null}},{key:"getEffectedEdges",value:function(e){for(var t=[],n=e.cell,r=this.model.getConnectedEdges(n),i=0,o=r.length;i<o;i+=1){var a=r[i],u=this.views[a.id];if(u){var s=u.view;if(this.isViewMounted(s)){var c=["update"];a.getTargetCell()===n&&c.push("target"),a.getSourceCell()===n&&c.push("source"),t.push({id:a.id,view:s,flag:s.getFlag(c)})}}}return t}},{key:"isUpdateable",value:function(e){if(e.isNodeView()){if(!this.renderArea)return!0;var t=e.cell;return this.renderArea.isIntersectWithRect(t.getBBox())}if(e.isEdgeView()){var n=e.cell,r=n.getSourceCell(),i=n.getTargetCell();if(r){var o=this.views[r.id];if(o&&!this.isViewMounted(o.view))return!1}if(i){var a=this.views[i.id];if(a&&!this.isViewMounted(a.view))return!1}}return!0}},{key:"getRenderPriority",value:function(e){return e.cell.isNode()?Og.RenderNode:Og.RenderEdge}},{key:"dispose",value:function(){this.stopListening()}}]),n}(C);Tg([C.dispose()],jg.prototype,"dispose",null),(Ag=jg||(jg={})).FLAG_INSERT=1<<30,Ag.FLAG_REMOVE=1<<29,Ag.FLAG_RENDER=67108863,function(e){!function(e){e[e.CREATED=0]="CREATED",e[e.MOUNTED=1]="MOUNTED",e[e.WAITTING=2]="WAITTING"}(e.ViewState||(e.ViewState={}))}(jg||(jg={}));var Cg=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var u=e.length-1;u>=0;u--)(i=e[u])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},_g=function(e){Object(P.a)(n,e);var t=Object(M.a)(n);function n(){var e;return Object(T.a)(this,n),(e=t.apply(this,arguments)).schedule=new jg(e.graph),e}return Object(j.a)(n,[{key:"requestViewUpdate",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this.schedule.requestViewUpdate(e,t,n)}},{key:"isViewMounted",value:function(e){return this.schedule.isViewMounted(e)}},{key:"setRenderArea",value:function(e){this.schedule.setRenderArea(e)}},{key:"findViewByElem",value:function(e){if(null==e)return null;var t=this.options.container,n="string"===typeof e?t.querySelector(e):e instanceof Element?e:e[0];if(n){var r=this.graph.view.findAttr("data-cell-id",n);if(r){var i=this.schedule.views;if(i[r])return i[r].view}}return null}},{key:"findViewByCell",value:function(e){if(null==e)return null;var t=jv.isCell(e)?e.id:e,n=this.schedule.views;return n[t]?n[t].view:null}},{key:"findViewsFromPoint",value:function(e){var t=this,n={x:e.x,y:e.y};return this.model.getCells().map(function(e){return t.findViewByCell(e)}).filter(function(e){return null!=e&&ph.getBBox(e.container,{target:t.view.stage}).containsPoint(n)})}},{key:"findViewsInArea",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=Ic.create(e);return this.model.getNodes().map(function(e){return t.findViewByCell(e)}).filter(function(e){if(e){var i=ph.getBBox(e.container,{target:t.graph.view.stage});return n.strict?r.containsRect(i):r.isIntersectWithRect(i)}return!1})}},{key:"findEdgeViewsInArea",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=Ic.create(e);return this.model.getEdges().map(function(e){return t.findViewByCell(e)}).filter(function(e){if(e){var i=ph.getBBox(e.container,{target:t.view.stage});return 0===i.width?i.inflate(1,0):0===i.height&&i.inflate(0,1),n.strict?r.containsRect(i):r.isIntersectWithRect(i)}return!1})}},{key:"dispose",value:function(){this.schedule.dispose()}}]),n}(ug);Cg([ug.dispose()],_g.prototype,"dispose",null);var Pg=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},Mg=function(e){Object(P.a)(n,e);var t=Object(M.a)(n);function n(){return Object(T.a)(this,n),t.apply(this,arguments)}return Object(j.a)(n,[{key:"cid",get:function(){return this.graph.view.cid}},{key:"svg",get:function(){return this.view.svg}},{key:"defs",get:function(){return this.view.defs}},{key:"isDefined",value:function(e){return null!=this.svg.getElementById(e)}},{key:"filter",value:function(e){var t=e.id,n=e.name;if(t||(t="filter-".concat(n,"-").concat(this.cid,"-").concat(a.hashcode(JSON.stringify(e)))),!this.isDefined(t)){var r=vl.registry.get(n);if(null==r)return vl.registry.onNotFound(n);var i=r(e.args||{}),o=Object.assign(Object.assign({x:-1,y:-1,width:3,height:3,filterUnits:"objectBoundingBox"},e.attrs),{id:t});hs.create(cd.sanitize(i),o).appendTo(this.defs)}return t}},{key:"gradient",value:function(e){var t=e.id,n=e.type;if(t||(t="gradient-".concat(n,"-").concat(this.cid,"-").concat(a.hashcode(JSON.stringify(e)))),!this.isDefined(t)){var r=e.stops.map(function(e){var t=null!=e.opacity&&Number.isFinite(e.opacity)?e.opacity:1;return'<stop offset="'.concat(e.offset,'" stop-color="').concat(e.color,'" stop-opacity="').concat(t,'"/>')}),i="<".concat(n,">").concat(r.join(""),"</").concat(n,">"),o=Object.assign({id:t},e.attrs);hs.create(i,o).appendTo(this.defs)}return t}},{key:"marker",value:function(e){var t=e.id,n=e.refX,r=e.refY,i=e.markerUnits,o=e.markerOrient,u=e.tagName,s=e.children,l=Pg(e,["id","refX","refY","markerUnits","markerOrient","tagName","children"]),f=t;if(f||(f="marker-".concat(this.cid,"-").concat(a.hashcode(JSON.stringify(e)))),!this.isDefined(f)){"path"!==u&&delete l.d;var h=hs.create("marker",{refX:n,refY:r,id:f,overflow:"visible",orient:null!=o?o:"auto",markerUnits:i||"userSpaceOnUse"},s?s.map(function(e){var t=e.tagName,n=Pg(e,["tagName"]);return hs.create("".concat(t)||"path",c.kebablizeAttrs(Object.assign(Object.assign({},l),n)))}):[hs.create(u||"path",c.kebablizeAttrs(l))]);this.defs.appendChild(h.node)}return f}},{key:"remove",value:function(e){var t=this.svg.getElementById(e);t&&t.parentNode&&t.parentNode.removeChild(t)}}]),n}(ug),Ng=function(e){Object(P.a)(n,e);var t=Object(M.a)(n);function n(){return Object(T.a)(this,n),t.apply(this,arguments)}return Object(j.a)(n,[{key:"getClientMatrix",value:function(){return c.createSVGMatrix(this.view.stage.getScreenCTM())}},{key:"getClientOffset",value:function(){var e=this.view.svg.getBoundingClientRect();return new Lc(e.left,e.top)}},{key:"getPageOffset",value:function(){return this.getClientOffset().translate(window.scrollX,window.scrollY)}},{key:"snapToGrid",value:function(e,t){return("number"===typeof e?this.clientToLocalPoint(e,t):this.clientToLocalPoint(e.x,e.y)).snapToGrid(this.graph.getGridSize())}},{key:"localToGraphPoint",value:function(e,t){var n=Lc.create(e,t);return ph.transformPoint(n,this.graph.matrix())}},{key:"localToClientPoint",value:function(e,t){var n=Lc.create(e,t);return ph.transformPoint(n,this.getClientMatrix())}},{key:"localToPagePoint",value:function(e,t){return("number"===typeof e?this.localToGraphPoint(e,t):this.localToGraphPoint(e)).translate(this.getPageOffset())}},{key:"localToGraphRect",value:function(e,t,n,r){var i=Ic.create(e,t,n,r);return ph.transformRectangle(i,this.graph.matrix())}},{key:"localToClientRect",value:function(e,t,n,r){var i=Ic.create(e,t,n,r);return ph.transformRectangle(i,this.getClientMatrix())}},{key:"localToPageRect",value:function(e,t,n,r){return("number"===typeof e?this.localToGraphRect(e,t,n,r):this.localToGraphRect(e)).translate(this.getPageOffset())}},{key:"graphToLocalPoint",value:function(e,t){var n=Lc.create(e,t);return ph.transformPoint(n,this.graph.matrix().inverse())}},{key:"clientToLocalPoint",value:function(e,t){var n=Lc.create(e,t);return ph.transformPoint(n,this.getClientMatrix().inverse())}},{key:"clientToGraphPoint",value:function(e,t){var n=Lc.create(e,t);return ph.transformPoint(n,this.graph.matrix().multiply(this.getClientMatrix().inverse()))}},{key:"pageToLocalPoint",value:function(e,t){var n=Lc.create(e,t).diff(this.getPageOffset());return this.graphToLocalPoint(n)}},{key:"graphToLocalRect",value:function(e,t,n,r){var i=Ic.create(e,t,n,r);return ph.transformRectangle(i,this.graph.matrix().inverse())}},{key:"clientToLocalRect",value:function(e,t,n,r){var i=Ic.create(e,t,n,r);return ph.transformRectangle(i,this.getClientMatrix().inverse())}},{key:"clientToGraphRect",value:function(e,t,n,r){var i=Ic.create(e,t,n,r);return ph.transformRectangle(i,this.graph.matrix().multiply(this.getClientMatrix().inverse()))}},{key:"pageToLocalRect",value:function(e,t,n,r){var i=Ic.create(e,t,n,r),o=this.getPageOffset();return i.x-=o.x,i.y-=o.y,this.graphToLocalRect(i)}}]),n}(ug),Rg=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var u=e.length-1;u>=0;u--)(i=e[u])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},Lg=function(e){Object(P.a)(n,e);var t=Object(M.a)(n);function n(){var e;return Object(T.a)(this,n),(e=t.apply(this,arguments)).highlights={},e}return Object(j.a)(n,[{key:"init",value:function(){this.startListening()}},{key:"startListening",value:function(){this.graph.on("cell:highlight",this.onCellHighlight,this),this.graph.on("cell:unhighlight",this.onCellUnhighlight,this)}},{key:"stopListening",value:function(){this.graph.off("cell:highlight",this.onCellHighlight,this),this.graph.off("cell:unhighlight",this.onCellUnhighlight,this)}},{key:"onCellHighlight",value:function(e){var t=e.view,n=e.magnet,r=e.options,i=void 0===r?{}:r,o=this.resolveHighlighter(i);if(o){var a=this.getHighlighterId(n,o);if(!this.highlights[a]){var u=o.highlighter;u.highlight(t,n,Object.assign({},o.args)),this.highlights[a]={cellView:t,magnet:n,highlighter:u,args:o.args}}}}},{key:"onCellUnhighlight",value:function(e){var t=e.magnet,n=e.options,r=void 0===n?{}:n,i=this.resolveHighlighter(r);if(i){var o=this.getHighlighterId(t,i);this.unhighlight(o)}}},{key:"resolveHighlighter",value:function(e){var t=this.options,n=e.highlighter;if(null==n){var r=e.type;n=r&&t.highlighting[r]||t.highlighting.default}if(null==n)return null;var i="string"===typeof n?{name:n}:n,o=i.name,a=Eh.registry.get(o);return null==a?Eh.registry.onNotFound(o):(Eh.check(o,a),{name:o,highlighter:a,args:i.args||{}})}},{key:"getHighlighterId",value:function(e,t){return c.ensureId(e),t.name+e.id+JSON.stringify(t.args)}},{key:"unhighlight",value:function(e){var t=this.highlights[e];t&&(t.highlighter.unhighlight(t.cellView,t.magnet,t.args),delete this.highlights[e])}},{key:"dispose",value:function(){var e=this;Object.keys(this.highlights).forEach(function(t){return e.unhighlight(t)}),this.stopListening()}}]),n}(ug);Rg([Lg.dispose()],Lg.prototype,"dispose",null);var Ig=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var u=e.length-1;u>=0;u--)(i=e[u])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},Dg=function(e){Object(P.a)(n,e);var t=Object(M.a)(n);function n(){return Object(T.a)(this,n),t.apply(this,arguments)}return Object(j.a)(n,[{key:"getScroller",value:function(){var e=this.graph.getPlugin("scroller");return e&&e.options.enabled?e:null}},{key:"getContainer",value:function(){var e=this.getScroller();return e?e.container.parentElement:this.graph.container.parentElement}},{key:"getSensorTarget",value:function(){var e=this.options.autoResize;if(e)return"boolean"===typeof e?this.getContainer():e}},{key:"init",value:function(){var e=this;if(this.options.autoResize){var t=this.getSensorTarget();t&&bc.bind(t,function(){var n=t.offsetWidth,r=t.offsetHeight;e.resize(n,r)})}}},{key:"resize",value:function(e,t){var n=this.getScroller();n?n.resize(e,t):this.graph.transform.resize(e,t)}},{key:"dispose",value:function(){bc.clear(this.graph.container)}}]),n}(ug);Ig([ug.dispose()],Dg.prototype,"dispose",null);var Bg,Fg=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var u=e.length-1;u>=0;u--)(i=e[u])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},zg=function(e,t){Object(P.a)(r,e);var n=Object(M.a)(r);function r(e){var t;return Object(T.a)(this,r),(t=n.call(this)).installedPlugins=new Set,t.options=lg.get(e),t.css=new cg(Object(Nc.a)(t)),t.view=new ag(Object(Nc.a)(t)),t.defs=new Mg(Object(Nc.a)(t)),t.coord=new Ng(Object(Nc.a)(t)),t.transform=new vg(Object(Nc.a)(t)),t.highlight=new Lg(Object(Nc.a)(t)),t.grid=new pg(Object(Nc.a)(t)),t.background=new yg(Object(Nc.a)(t)),t.options.model?t.model=t.options.model:(t.model=new Dv,t.model.graph=Object(Nc.a)(t)),t.renderer=new _g(Object(Nc.a)(t)),t.panning=new bg(Object(Nc.a)(t)),t.mousewheel=new Eg(Object(Nc.a)(t)),t.virtualRender=new kg(Object(Nc.a)(t)),t.size=new Dg(Object(Nc.a)(t)),t}return Object(j.a)(r,[{key:"container",get:function(){return this.options.container}},{key:t,get:function(){return r.toStringTag}},{key:"isNode",value:function(e){return e.isNode()}},{key:"isEdge",value:function(e){return e.isEdge()}},{key:"resetCells",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.model.resetCells(e,t),this}},{key:"clearCells",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.model.clear(e),this}},{key:"toJSON",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.model.toJSON(e)}},{key:"parseJSON",value:function(e){return this.model.parseJSON(e)}},{key:"fromJSON",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.model.fromJSON(e,t),this}},{key:"getCellById",value:function(e){return this.model.getCell(e)}},{key:"addNode",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.model.addNode(e,t)}},{key:"addNodes",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.addCell(e.map(function(e){return Mv.isNode(e)?e:t.createNode(e)}),n)}},{key:"createNode",value:function(e){return this.model.createNode(e)}},{key:"removeNode",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.model.removeCell(e,t)}},{key:"addEdge",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.model.addEdge(e,t)}},{key:"addEdges",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.addCell(e.map(function(e){return Lv.isEdge(e)?e:t.createEdge(e)}),n)}},{key:"removeEdge",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.model.removeCell(e,t)}},{key:"createEdge",value:function(e){return this.model.createEdge(e)}},{key:"addCell",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.model.addCell(e,t),this}},{key:"removeCell",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.model.removeCell(e,t)}},{key:"removeCells",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.model.removeCells(e,t)}},{key:"removeConnectedEdges",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.model.removeConnectedEdges(e,t)}},{key:"disconnectConnectedEdges",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.model.disconnectConnectedEdges(e,t),this}},{key:"hasCell",value:function(e){return this.model.has(e)}},{key:"getCells",value:function(){return this.model.getCells()}},{key:"getCellCount",value:function(){return this.model.total()}},{key:"getNodes",value:function(){return this.model.getNodes()}},{key:"getEdges",value:function(){return this.model.getEdges()}},{key:"getOutgoingEdges",value:function(e){return this.model.getOutgoingEdges(e)}},{key:"getIncomingEdges",value:function(e){return this.model.getIncomingEdges(e)}},{key:"getConnectedEdges",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.model.getConnectedEdges(e,t)}},{key:"getRootNodes",value:function(){return this.model.getRoots()}},{key:"getLeafNodes",value:function(){return this.model.getLeafs()}},{key:"isRootNode",value:function(e){return this.model.isRoot(e)}},{key:"isLeafNode",value:function(e){return this.model.isLeaf(e)}},{key:"getNeighbors",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.model.getNeighbors(e,t)}},{key:"isNeighbor",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.model.isNeighbor(e,t,n)}},{key:"getSuccessors",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.model.getSuccessors(e,t)}},{key:"isSuccessor",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.model.isSuccessor(e,t,n)}},{key:"getPredecessors",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.model.getPredecessors(e,t)}},{key:"isPredecessor",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.model.isPredecessor(e,t,n)}},{key:"getCommonAncestor",value:function(){var e;return(e=this.model).getCommonAncestor.apply(e,arguments)}},{key:"getSubGraph",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.model.getSubGraph(e,t)}},{key:"cloneSubGraph",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.model.cloneSubGraph(e,t)}},{key:"cloneCells",value:function(e){return this.model.cloneCells(e)}},{key:"getNodesFromPoint",value:function(e,t){return this.model.getNodesFromPoint(e,t)}},{key:"getNodesInArea",value:function(e,t,n,r,i){return this.model.getNodesInArea(e,t,n,r,i)}},{key:"getNodesUnderNode",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.model.getNodesUnderNode(e,t)}},{key:"searchCell",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.model.search(e,t,n),this}},{key:"getShortestPath",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.model.getShortestPath(e,t,n)}},{key:"getAllCellsBBox",value:function(){return this.model.getAllCellsBBox()}},{key:"getCellsBBox",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.model.getCellsBBox(e,t)}},{key:"startBatch",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.model.startBatch(e,t)}},{key:"stopBatch",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.model.stopBatch(e,t)}},{key:"batchUpdate",value:function(e,t,n){var r="string"===typeof e?e:"update",i="string"===typeof e?t:e,o="function"===typeof t?n:t;this.startBatch(r,o);var a=i();return this.stopBatch(r,o),a}},{key:"updateCellId",value:function(e,t){return this.model.updateCellId(e,t)}},{key:"findView",value:function(e){return jv.isCell(e)?this.findViewByCell(e):this.findViewByElem(e)}},{key:"findViews",value:function(e){return Ic.isRectangleLike(e)?this.findViewsInArea(e):Lc.isPointLike(e)?this.findViewsFromPoint(e):[]}},{key:"findViewByCell",value:function(e){return this.renderer.findViewByCell(e)}},{key:"findViewByElem",value:function(e){return this.renderer.findViewByElem(e)}},{key:"findViewsFromPoint",value:function(e,t){var n="number"===typeof e?{x:e,y:t}:e;return this.renderer.findViewsFromPoint(n)}},{key:"findViewsInArea",value:function(e,t,n,r,i){var o="number"===typeof e?{x:e,y:t,width:n,height:r}:e,a="number"===typeof e?i:t;return this.renderer.findViewsInArea(o,a)}},{key:"matrix",value:function(e){return"undefined"===typeof e?this.transform.getMatrix():(this.transform.setMatrix(e),this)}},{key:"resize",value:function(e,t){var n=this.getPlugin("scroller");return n?n.resize(e,t):this.transform.resize(e,t),this}},{key:"scale",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;return"undefined"===typeof e?this.transform.getScale():(this.transform.scale(e,t,n,r),this)}},{key:"zoom",value:function(e,t){var n=this.getPlugin("scroller");if(n){if("undefined"===typeof e)return n.zoom();n.zoom(e,t)}else{if("undefined"===typeof e)return this.transform.getZoom();this.transform.zoom(e,t)}return this}},{key:"zoomTo",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this.getPlugin("scroller");return n?n.zoom(e,Object.assign(Object.assign({},t),{absolute:!0})):this.transform.zoom(e,Object.assign(Object.assign({},t),{absolute:!0})),this}},{key:"zoomToRect",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this.getPlugin("scroller");return n?n.zoomToRect(e,t):this.transform.zoomToRect(e,t),this}},{key:"zoomToFit",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this.getPlugin("scroller");return t?t.zoomToFit(e):this.transform.zoomToFit(e),this}},{key:"rotate",value:function(e,t,n){return"undefined"===typeof e?this.transform.getRotation():(this.transform.rotate(e,t,n),this)}},{key:"translate",value:function(e,t){return"undefined"===typeof e?this.transform.getTranslation():(this.transform.translate(e,t),this)}},{key:"translateBy",value:function(e,t){var n=this.translate(),r=n.tx+e,i=n.ty+t;return this.translate(r,i)}},{key:"getGraphArea",value:function(){return this.transform.getGraphArea()}},{key:"getContentArea",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.transform.getContentArea(e)}},{key:"getContentBBox",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.transform.getContentBBox(e)}},{key:"fitToContent",value:function(e,t,n,r){return this.transform.fitToContent(e,t,n,r)}},{key:"scaleContentToFit",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.transform.scaleContentToFit(e),this}},{key:"center",value:function(e){return this.centerPoint(e)}},{key:"centerPoint",value:function(e,t,n){var r=this.getPlugin("scroller");return r?r.centerPoint(e,t,n):this.transform.centerPoint(e,t),this}},{key:"centerContent",value:function(e){var t=this.getPlugin("scroller");return t?t.centerContent(e):this.transform.centerContent(e),this}},{key:"centerCell",value:function(e,t){var n=this.getPlugin("scroller");return n?n.centerCell(e,t):this.transform.centerCell(e),this}},{key:"positionPoint",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=this.getPlugin("scroller");return i?i.positionPoint(e,t,n,r):this.transform.positionPoint(e,t,n),this}},{key:"positionRect",value:function(e,t,n){var r=this.getPlugin("scroller");return r?r.positionRect(e,t,n):this.transform.positionRect(e,t),this}},{key:"positionCell",value:function(e,t,n){var r=this.getPlugin("scroller");return r?r.positionCell(e,t,n):this.transform.positionCell(e,t),this}},{key:"positionContent",value:function(e,t){var n=this.getPlugin("scroller");return n?n.positionContent(e,t):this.transform.positionContent(e,t),this}},{key:"snapToGrid",value:function(e,t){return this.coord.snapToGrid(e,t)}},{key:"pageToLocal",value:function(e,t,n,r){return Ic.isRectangleLike(e)?this.coord.pageToLocalRect(e):"number"===typeof e&&"number"===typeof t&&"number"===typeof n&&"number"===typeof r?this.coord.pageToLocalRect(e,t,n,r):this.coord.pageToLocalPoint(e,t)}},{key:"localToPage",value:function(e,t,n,r){return Ic.isRectangleLike(e)?this.coord.localToPageRect(e):"number"===typeof e&&"number"===typeof t&&"number"===typeof n&&"number"===typeof r?this.coord.localToPageRect(e,t,n,r):this.coord.localToPagePoint(e,t)}},{key:"clientToLocal",value:function(e,t,n,r){return Ic.isRectangleLike(e)?this.coord.clientToLocalRect(e):"number"===typeof e&&"number"===typeof t&&"number"===typeof n&&"number"===typeof r?this.coord.clientToLocalRect(e,t,n,r):this.coord.clientToLocalPoint(e,t)}},{key:"localToClient",value:function(e,t,n,r){return Ic.isRectangleLike(e)?this.coord.localToClientRect(e):"number"===typeof e&&"number"===typeof t&&"number"===typeof n&&"number"===typeof r?this.coord.localToClientRect(e,t,n,r):this.coord.localToClientPoint(e,t)}},{key:"localToGraph",value:function(e,t,n,r){return Ic.isRectangleLike(e)?this.coord.localToGraphRect(e):"number"===typeof e&&"number"===typeof t&&"number"===typeof n&&"number"===typeof r?this.coord.localToGraphRect(e,t,n,r):this.coord.localToGraphPoint(e,t)}},{key:"graphToLocal",value:function(e,t,n,r){return Ic.isRectangleLike(e)?this.coord.graphToLocalRect(e):"number"===typeof e&&"number"===typeof t&&"number"===typeof n&&"number"===typeof r?this.coord.graphToLocalRect(e,t,n,r):this.coord.graphToLocalPoint(e,t)}},{key:"clientToGraph",value:function(e,t,n,r){return Ic.isRectangleLike(e)?this.coord.clientToGraphRect(e):"number"===typeof e&&"number"===typeof t&&"number"===typeof n&&"number"===typeof r?this.coord.clientToGraphRect(e,t,n,r):this.coord.clientToGraphPoint(e,t)}},{key:"defineFilter",value:function(e){return this.defs.filter(e)}},{key:"defineGradient",value:function(e){return this.defs.gradient(e)}},{key:"defineMarker",value:function(e){return this.defs.marker(e)}},{key:"getGridSize",value:function(){return this.grid.getGridSize()}},{key:"setGridSize",value:function(e){return this.grid.setGridSize(e),this}},{key:"showGrid",value:function(){return this.grid.show(),this}},{key:"hideGrid",value:function(){return this.grid.hide(),this}},{key:"clearGrid",value:function(){return this.grid.clear(),this}},{key:"drawGrid",value:function(e){return this.grid.draw(e),this}},{key:"updateBackground",value:function(){return this.background.update(),this}},{key:"drawBackground",value:function(e,t){var n=this.getPlugin("scroller");return null==n||null!=this.options.background&&t?this.background.draw(e):n.drawBackground(e,t),this}},{key:"clearBackground",value:function(e){var t=this.getPlugin("scroller");return null==t||null!=this.options.background&&e?this.background.clear():t.clearBackground(e),this}},{key:"enableVirtualRender",value:function(){return this.virtualRender.enableVirtualRender(),this}},{key:"disableVirtualRender",value:function(){return this.virtualRender.disableVirtualRender(),this}},{key:"isMouseWheelEnabled",value:function(){return!this.mousewheel.disabled}},{key:"enableMouseWheel",value:function(){return this.mousewheel.enable(),this}},{key:"disableMouseWheel",value:function(){return this.mousewheel.disable(),this}},{key:"toggleMouseWheel",value:function(e){return null==e?this.isMouseWheelEnabled()?this.disableMouseWheel():this.enableMouseWheel():e?this.enableMouseWheel():this.disableMouseWheel(),this}},{key:"isPannable",value:function(){var e=this.getPlugin("scroller");return e?e.isPannable():this.panning.pannable}},{key:"enablePanning",value:function(){var e=this.getPlugin("scroller");return e?e.enablePanning():this.panning.enablePanning(),this}},{key:"disablePanning",value:function(){var e=this.getPlugin("scroller");return e?e.disablePanning():this.panning.disablePanning(),this}},{key:"togglePanning",value:function(e){return null==e?this.isPannable()?this.disablePanning():this.enablePanning():e!==this.isPannable()&&(e?this.enablePanning():this.disablePanning()),this}},{key:"use",value:function(e){if(!this.installedPlugins.has(e)){this.installedPlugins.add(e);for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];e.init.apply(e,[this].concat(n))}return this}},{key:"getPlugin",value:function(e){return Array.from(this.installedPlugins).find(function(t){return t.name===e})}},{key:"getPlugins",value:function(e){return Array.from(this.installedPlugins).filter(function(t){return e.includes(t.name)})}},{key:"disablePlugins",value:function(e){var t=e;Array.isArray(t)||(t=[t]);var n=this.getPlugins(t);return null===n||void 0===n||n.forEach(function(e){var t;null===(t=null===e||void 0===e?void 0:e.disable)||void 0===t||t.call(e)}),this}},{key:"enablePlugins",value:function(e){var t=e;Array.isArray(t)||(t=[t]);var n=this.getPlugins(t);return null===n||void 0===n||n.forEach(function(e){var t;null===(t=null===e||void 0===e?void 0:e.enable)||void 0===t||t.call(e)}),this}},{key:"disposePlugins",value:function(e){var t=e;Array.isArray(t)||(t=[t]);var n=this.getPlugins(t);return null===n||void 0===n||n.forEach(function(e){e.dispose()}),this}},{key:"isPluginEnabled",value:function(e){var t,n=this.getPlugin(e);return null===(t=null===n||void 0===n?void 0:n.isEnabled)||void 0===t?void 0:t.call(n)}},{key:"dispose",value:function(){this.clearCells(),this.off(),this.css.dispose(),this.defs.dispose(),this.grid.dispose(),this.coord.dispose(),this.transform.dispose(),this.highlight.dispose(),this.background.dispose(),this.mousewheel.dispose(),this.panning.dispose(),this.view.dispose(),this.renderer.dispose(),this.installedPlugins.forEach(function(e){e.dispose()})}}]),r}(na,Symbol.toStringTag);Fg([na.dispose()],zg.prototype,"dispose",null),(Bg=zg||(zg={})).View=ag,Bg.Renderer=_g,Bg.MouseWheel=Eg,Bg.DefsManager=Mg,Bg.GridManager=pg,Bg.CoordManager=Ng,Bg.TransformManager=vg,Bg.HighlightManager=Lg,Bg.BackgroundManager=yg,function(e){e.toStringTag="X6.".concat(e.name),e.isGraph=function(t){if(null==t)return!1;if(t instanceof e)return!0;var n=t[Symbol.toStringTag];return null==n||n===e.toStringTag}}(zg||(zg={})),function(e){e.render=function(t,n){var r=t instanceof HTMLElement?new e({container:t}):new e(t);return null!=n&&r.fromJSON(n),r}}(zg||(zg={})),function(e){e.registerNode=Mv.registry.register,e.registerEdge=Lv.registry.register,e.registerView=vd.registry.register,e.registerAttr=rh.registry.register,e.registerGrid=hl.registry.register,e.registerFilter=vl.registry.register,e.registerNodeTool=Ud.registry.register,e.registerEdgeTool=Hd.registry.register,e.registerBackground=dl.registry.register,e.registerHighlighter=Eh.registry.register,e.registerPortLayout=Ph.registry.register,e.registerPortLabelLayout=ed.registry.register,e.registerMarker=If.registry.register,e.registerRouter=rv.registry.register,e.registerConnector=mv.registry.register,e.registerAnchor=op.registry.register,e.registerEdgeAnchor=lp.registry.register,e.registerConnectionPoint=xp.registry.register}(zg||(zg={})),function(e){e.unregisterNode=Mv.registry.unregister,e.unregisterEdge=Lv.registry.unregister,e.unregisterView=vd.registry.unregister,e.unregisterAttr=rh.registry.unregister,e.unregisterGrid=hl.registry.unregister,e.unregisterFilter=vl.registry.unregister,e.unregisterNodeTool=Ud.registry.unregister,e.unregisterEdgeTool=Hd.registry.unregister,e.unregisterBackground=dl.registry.unregister,e.unregisterHighlighter=Eh.registry.unregister,e.unregisterPortLayout=Ph.registry.unregister,e.unregisterPortLabelLayout=ed.registry.unregister,e.unregisterMarker=If.registry.unregister,e.unregisterRouter=rv.registry.unregister,e.unregisterConnector=mv.registry.unregister,e.unregisterAnchor=op.registry.unregister,e.unregisterEdgeAnchor=lp.registry.unregister,e.unregisterConnectionPoint=xp.registry.unregister}(zg||(zg={}));var Vg,Ug=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},Gg=function(e){Object(P.a)(n,e);var t=Object(M.a)(n);function n(){return Object(T.a)(this,n),t.apply(this,arguments)}return Object(j.a)(n)}(Mv);!function(e){var t=function(t){Object(P.a)(r,t);var n=Object(M.a)(r);function r(){return Object(T.a)(this,r),n.apply(this,arguments)}return Object(j.a)(r,[{key:"init",value:function(){var t=this;Object(ad.a)(Object(ud.a)(r.prototype),"init",this).call(this),this.cell.on("change:*",function(n){var r=n.key,i=e.shapeMaps[t.cell.shape];if(i){var o=i.effect;o&&!o.includes(r)||t.renderHTMLComponent()}})}},{key:"confirmUpdate",value:function(e){var t=this,n=Object(ad.a)(Object(ud.a)(r.prototype),"confirmUpdate",this).call(this,e);return this.handleAction(n,r.action,function(){return t.renderHTMLComponent()})}},{key:"renderHTMLComponent",value:function(){var t=this.selectors&&this.selectors.foContent;if(t){c.empty(t);var n=e.shapeMaps[this.cell.shape];if(!n)return;var r=n.html;"function"===typeof r&&(r=r(this.cell)),r&&("string"===typeof r?t.innerHTML=r:c.append(t,r))}}}]),r}(rg);e.View=t,function(e){e.action="html",e.config({bootstrap:[e.action],actions:{html:e.action}}),rg.registry.register("html-view",e,!0)}(t=e.View||(e.View={}))}(Gg||(Gg={})),(Vg=Gg||(Gg={})).config({view:"html-view",markup:[{tagName:"rect",selector:"body"},Object.assign({},cd.getForeignObjectMarkup()),{tagName:"text",selector:"label"}],attrs:{body:{fill:"none",stroke:"none",refWidth:"100%",refHeight:"100%"},fo:{refWidth:"100%",refHeight:"100%"}}}),Mv.registry.register("html",Vg,!0),function(e){e.shapeMaps={},e.register=function(t){var n=t.shape,r=t.html,i=t.effect,o=t.inherit,a=Ug(t,["shape","html","effect","inherit"]);if(!n)throw new Error("should specify shape in config");e.shapeMaps[n]={html:r,effect:i},zg.registerNode(n,Object.assign({inherit:o||"html"},a),!0)}}(Gg||(Gg={})),n.d(t,"d",function(){return jv}),n.d(t,"q",function(){return Mv}),n.d(t,"j",function(){return Lv}),n.d(t,"o",function(){return Dv}),n.d(t,"e",function(){return Iv}),n.d(t,"n",function(){return cd}),n.d(t,"r",function(){return rg}),n.d(t,"y",function(){return sd}),n.d(t,"w",function(){return gd}),n.d(t,"m",function(){return zg}),n.d(t,"f",function(){return vh}),n.d(t,"b",function(){return o}),n.d(t,"s",function(){return i}),n.d(t,"k",function(){return r}),n.d(t,"i",function(){return c}),n.d(t,"x",function(){return hs}),n.d(t,"p",function(){return Oc}),n.d(t,"g",function(){return l}),n.d(t,"h",function(){return C}),n.d(t,"c",function(){return na}),n.d(t,"a",function(){return Pc}),n.d(t,"t",function(){return Lc}),n.d(t,"u",function(){return Ic}),n.d(t,"l",function(){return Mc}),n.d(t,"v",function(){return S})},function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(r){"object"===typeof window&&(n=window)}e.exports=n},function(e,t,n){var r=n(36),i=n(20);e.exports=function(e,t){return arguments.length<2?(n=r[e],i(n)?n:void 0):r[e]&&r[e][t];var n}},function(e,t,n){var r=n(16),i=Map.prototype;e.exports={Map:Map,set:r(i.set),get:r(i.get),has:r(i.has),remove:r(i.delete),proto:i}},function(e,t,n){var r=n(16),i=n(77),o=n(64),a=o.Map,u=o.proto,s=r(u.forEach),c=r(u.entries),l=c(new a).next;e.exports=function(e,t,n){return n?i(c(e),function(e){return t(e[1],e[0])},l):s(e,t)}},function(e,t,n){"use strict";var r=n(37),i=n(79),o=n(22),a={};a["[object Float32Array]"]=a["[object Float64Array]"]=a["[object Int8Array]"]=a["[object Int16Array]"]=a["[object Int32Array]"]=a["[object Uint8Array]"]=a["[object Uint8ClampedArray]"]=a["[object Uint16Array]"]=a["[object Uint32Array]"]=!0,a["[object Arguments]"]=a["[object Array]"]=a["[object ArrayBuffer]"]=a["[object Boolean]"]=a["[object DataView]"]=a["[object Date]"]=a["[object Error]"]=a["[object Function]"]=a["[object Map]"]=a["[object Number]"]=a["[object Object]"]=a["[object RegExp]"]=a["[object Set]"]=a["[object String]"]=a["[object WeakMap]"]=!1;var u=function(e){return Object(o.a)(e)&&Object(i.a)(e.length)&&!!a[Object(r.a)(e)]},s=n(68),c=n(74),l=c.a&&c.a.isTypedArray,f=l?Object(s.a)(l):u;t.a=f},function(e,t,n){"use strict";var r=n(104),i=n(81);t.a=function(e,t,n,o){var a=!n;n||(n={});for(var u=-1,s=t.length;++u<s;){var c=t[u],l=o?o(n[c],e[c],c,n,e):void 0;void 0===l&&(l=e[c]),a?Object(i.a)(n,c,l):Object(r.a)(n,c,l)}return n}},function(e,t,n){"use strict";t.a=function(e){return function(t){return e(t)}}},function(e,t,n){"use strict";var r=n(83);var i=function(){this.__data__=new r.a,this.size=0};var o=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n};var a=function(e){return this.__data__.get(e)};var u=function(e){return this.__data__.has(e)},s=n(84),c=n(95),l=200;var f=function(e,t){var n=this.__data__;if(n instanceof r.a){var i=n.__data__;if(!s.a||i.length<l-1)return i.push([e,t]),this.size=++n.size,this;n=this.__data__=new c.a(i)}return n.set(e,t),this.size=n.size,this};function h(e){var t=this.__data__=new r.a(e);this.size=t.size}h.prototype.clear=i,h.prototype.delete=o,h.prototype.get=a,h.prototype.has=u,h.prototype.set=f;t.a=h},,function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}n.d(t,"a",function(){return r})},function(e,t,n){"use strict";var r=n(34),i=n(22);t.a=function(e){return Object(i.a)(e)&&Object(r.a)(e)}},function(e,t,n){"use strict";var r=/\s/;var i=function(e){for(var t=e.length;t--&&r.test(e.charAt(t)););return t},o=/^\s+/;var a=function(e){return e?e.slice(0,i(e)+1).replace(o,""):e},u=n(12),s=n(27),c=NaN,l=/^[-+]0x[0-9a-f]+$/i,f=/^0b[01]+$/i,h=/^0o[0-7]+$/i,d=parseInt;t.a=function(e){if("number"==typeof e)return e;if(Object(s.a)(e))return c;if(Object(u.a)(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=Object(u.a)(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=a(e);var n=f.test(e);return n||h.test(e)?d(e.slice(2),n?2:8):l.test(e)?c:+e}},function(e,t,n){"use strict";(function(e){var r=n(147),i="object"==typeof exports&&exports&&!exports.nodeType&&exports,o=i&&"object"==typeof e&&e&&!e.nodeType&&e,a=o&&o.exports===i&&r.a.process,u=function(){try{var e=o&&o.require&&o.require("util").types;return e||a&&a.binding&&a.binding("util")}catch(t){}}();t.a=u}).call(this,n(185)(e))},function(e,t,n){"use strict";var r=Function.prototype.toString;t.a=function(e){if(null!=e){try{return r.call(e)}catch(t){}try{return e+""}catch(t){}}return""}},function(e,t,n){var r=n(20),i=n(53),o=n(205),a=n(168);e.exports=function(e,t,n,u){u||(u={});var s=u.enumerable,c=void 0!==u.name?u.name:t;if(r(n)&&o(n,c,u),u.global)s?e[t]=n:a(t,n);else{try{u.unsafe?e[t]&&(s=!0):delete e[t]}catch(l){}s?e[t]=n:i.f(e,t,{value:n,enumerable:!1,configurable:!u.nonConfigurable,writable:!u.nonWritable})}return e}},function(e,t,n){var r=n(21);e.exports=function(e,t,n){for(var i,o,a=n||e.next;!(i=r(a,e)).done;)if(void 0!==(o=t(i.value)))return o}},function(e,t,n){"use strict";var r=n(37),i=n(12),o="[object AsyncFunction]",a="[object Function]",u="[object GeneratorFunction]",s="[object Proxy]";t.a=function(e){if(!Object(i.a)(e))return!1;var t=Object(r.a)(e);return t==a||t==u||t==o||t==s}},function(e,t,n){"use strict";var r=9007199254740991;t.a=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=r}},function(e,t,n){"use strict";var r=Object.prototype;t.a=function(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||r)}},function(e,t,n){"use strict";var r=n(108);t.a=function(e,t,n){"__proto__"==t&&r.a?Object(r.a)(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}},function(e,t,n){"use strict";var r=9007199254740991,i=/^(?:0|[1-9]\d*)$/;t.a=function(e,t){var n=typeof e;return!!(t=null==t?r:t)&&("number"==n||"symbol"!=n&&i.test(e))&&e>-1&&e%1==0&&e<t}},function(e,t,n){"use strict";var r=function(){this.__data__=[],this.size=0},i=n(39);var o=function(e,t){for(var n=e.length;n--;)if(Object(i.a)(e[n][0],t))return n;return-1},a=Array.prototype.splice;var u=function(e){var t=this.__data__,n=o(t,e);return!(n<0)&&(n==t.length-1?t.pop():a.call(t,n,1),--this.size,!0)};var s=function(e){var t=this.__data__,n=o(t,e);return n<0?void 0:t[n][1]};var c=function(e){return o(this.__data__,e)>-1};var l=function(e,t){var n=this.__data__,r=o(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this};function f(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}f.prototype.clear=r,f.prototype.delete=u,f.prototype.get=s,f.prototype.has=c,f.prototype.set=l;t.a=f},function(e,t,n){"use strict";var r=n(42),i=n(23),o=Object(r.a)(i.a,"Map");t.a=o},function(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(626)},function(e,t,n){var r=n(195),i=n(166);e.exports=function(e){return r(i(e))}},function(e,t,n){var r=n(16),i=r({}.toString),o=r("".slice);e.exports=function(e){return o(i(e),8,-1)}},function(e,t){e.exports=function(e){return null===e||void 0===e}},function(e,t,n){var r=n(53).f,i=n(31),o=n(28)("toStringTag");e.exports=function(e,t,n){e&&!n&&(e=e.prototype),e&&!i(e,o)&&r(e,o,{configurable:!0,value:t})}},function(e,t,n){var r=n(118),i=String;e.exports=function(e){if("Symbol"===r(e))throw TypeError("Cannot convert a Symbol value to a string");return i(e)}},function(e,t,n){var r=n(63),i=n(20),o=n(559),a=n(44),u=r("Set");e.exports=function(e){return function(e){return a(e)&&"number"==typeof e.size&&i(e.has)&&i(e.keys)}(e)?e:o(e)?new u(e):e}},function(e,t,n){var r=n(57),i=n(56),o=n(21),a=n(133),u=TypeError,s=Math.max,c=function(e,t,n,r){this.set=e,this.size=t,this.has=n,this.keys=r};c.prototype={getIterator:function(){return i(o(this.keys,this.set))},includes:function(e){return o(this.has,this.set,e)}},e.exports=function(e){i(e);var t=+e.size;if(t!=t)throw u("Invalid size");return new c(e,s(a(t),0),r(e.has),r(e.keys))}},function(e,t,n){var r=n(633),i=n(638),o=n(639),a=o&&o.isTypedArray,u=a?i(a):r;e.exports=u},function(e,t,n){"use strict";var r=n(39),i=n(34),o=n(82),a=n(12);t.a=function(e,t,n){if(!Object(a.a)(n))return!1;var u=typeof t;return!!("number"==u?Object(i.a)(n)&&Object(o.a)(t,n.length):"string"==u&&t in n)&&Object(r.a)(n[t],e)}},function(e,t,n){"use strict";var r=n(42),i=Object(r.a)(Object,"create");var o=function(){this.__data__=i?i(null):{},this.size=0};var a=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},u="__lodash_hash_undefined__",s=Object.prototype.hasOwnProperty;var c=function(e){var t=this.__data__;if(i){var n=t[e];return n===u?void 0:n}return s.call(t,e)?t[e]:void 0},l=Object.prototype.hasOwnProperty;var f=function(e){var t=this.__data__;return i?void 0!==t[e]:l.call(t,e)},h="__lodash_hash_undefined__";var d=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=i&&void 0===t?h:t,this};function p(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}p.prototype.clear=o,p.prototype.delete=a,p.prototype.get=c,p.prototype.has=f,p.prototype.set=d;var v=p,g=n(83),y=n(84);var m=function(){this.size=0,this.__data__={hash:new v,map:new(y.a||g.a),string:new v}};var b=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e};var w=function(e,t){var n=e.__data__;return b(t)?n["string"==typeof t?"string":"hash"]:n.map};var E=function(e){var t=w(this,e).delete(e);return this.size-=t?1:0,t};var x=function(e){return w(this,e).get(e)};var k=function(e){return w(this,e).has(e)};var O=function(e,t){var n=w(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this};function S(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}S.prototype.clear=m,S.prototype.delete=E,S.prototype.get=x,S.prototype.has=k,S.prototype.set=O;t.a=S},function(e,t,n){var r=n(166),i=Object;e.exports=function(e){return i(r(e))}},function(e,t,n){var r=n(169),i=n(26);e.exports=!!Object.getOwnPropertySymbols&&!i(function(){var e=Symbol();return!String(e)||!(Object(e)instanceof Symbol)||!Symbol.sham&&r&&r<41})},function(e,t,n){var r=n(514);e.exports=function(e){return r(e.length)}},function(e,t){e.exports={}},function(e,t,n){var r=n(30),i=n(21),o=n(56),a=n(114),u=n(217),s=n(98),c=n(113),l=n(218),f=n(178),h=n(137),d=TypeError,p=function(e,t){this.stopped=e,this.result=t},v=p.prototype;e.exports=function(e,t,n){var g,y,m,b,w,E,x,k=n&&n.that,O=!(!n||!n.AS_ENTRIES),S=!(!n||!n.IS_RECORD),A=!(!n||!n.IS_ITERATOR),T=!(!n||!n.INTERRUPTED),j=r(t,k),C=function(e){return g&&h(g,"normal",e),new p(!0,e)},_=function(e){return O?(o(e),T?j(e[0],e[1],C):j(e[0],e[1])):T?j(e,C):j(e)};if(S)g=e.iterator;else if(A)g=e;else{if(!(y=f(e)))throw d(a(e)+" is not iterable");if(u(y)){for(m=0,b=s(e);b>m;m++)if((w=_(e[m]))&&c(v,w))return w;return new p(!1)}g=l(e,y)}for(E=S?e.next:g.next;!(x=i(E,g)).done;){try{w=_(x.value)}catch(P){h(g,"throw",P)}if("object"==typeof w&&w&&c(v,w))return w}return new p(!1)}},function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=n(123);function i(e,t){if(e){if("string"===typeof e)return Object(r.a)(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Object(r.a)(e,t):void 0}}},function(e,t,n){"use strict";n.d(t,"a",function(){return o});var r=n(71),i=n(15);function o(e,t){if(t&&("object"===Object(r.a)(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Object(i.a)(e)}},function(e,t,n){"use strict";var r=n(150),i=Object(r.a)(Object.getPrototypeOf,Object);t.a=i},function(e,t,n){"use strict";var r=n(81),i=n(39),o=Object.prototype.hasOwnProperty;t.a=function(e,t,n){var a=e[t];o.call(e,t)&&Object(i.a)(a,n)&&(void 0!==n||t in e)||Object(r.a)(e,t,n)}},function(e,t,n){"use strict";var r=n(109);t.a=function(e){var t=new e.constructor(e.byteLength);return new r.a(t).set(new r.a(e)),t}},function(e,t,n){"use strict";var r=n(23);t.a=function(){return r.a.Date.now()}},function(e,t,n){"use strict";var r=n(69),i=n(81),o=n(39);var a=function(e,t,n){(void 0===n||Object(o.a)(e[t],n))&&(void 0!==n||t in e)||Object(i.a)(e,t,n)},u=n(158),s=n(149),c=n(151),l=n(148),f=n(159),h=n(48),d=n(13),p=n(72),v=n(47),g=n(78),y=n(12),m=n(142),b=n(66);var w=function(e,t){if(("constructor"!==t||"function"!==typeof e[t])&&"__proto__"!=t)return e[t]},E=n(143);var x=function(e,t,n,r,i,o,u){var x=w(e,n),k=w(t,n),O=u.get(k);if(O)a(e,n,O);else{var S=o?o(x,k,n+"",e,t,u):void 0,A=void 0===S;if(A){var T=Object(d.a)(k),j=!T&&Object(v.a)(k),C=!T&&!j&&Object(b.a)(k);S=k,T||j||C?Object(d.a)(x)?S=x:Object(p.a)(x)?S=Object(l.a)(x):j?(A=!1,S=Object(s.a)(k,!0)):C?(A=!1,S=Object(c.a)(k,!0)):S=[]:Object(m.a)(k)||Object(h.a)(k)?(S=x,Object(h.a)(x)?S=Object(E.a)(x):Object(y.a)(x)&&!Object(g.a)(x)||(S=Object(f.a)(k))):A=!1}A&&(u.set(k,S),i(S,k,r,o,u),u.delete(k)),a(e,n,S)}},k=n(41);t.a=function e(t,n,i,o,s){t!==n&&Object(u.a)(n,function(u,c){if(s||(s=new r.a),Object(y.a)(u))x(t,n,c,i,e,o,s);else{var l=o?o(w(t,c),u,c+"",t,n,s):void 0;void 0===l&&(l=u),a(t,c,l)}},k.a)}},function(e,t,n){"use strict";var r=n(42),i=function(){try{var e=Object(r.a)(Object,"defineProperty");return e({},"",{}),e}catch(t){}}();t.a=i},function(e,t,n){"use strict";var r=n(23).a.Uint8Array;t.a=r},function(e,t,n){var r=n(111),i=n(167);(e.exports=function(e,t){return i[e]||(i[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.29.1",mode:r?"pure":"global",copyright:"\xa9 2014-2023 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.29.1/LICENSE",source:"https://github.com/zloirock/core-js"})},function(e,t){e.exports=!1},function(e,t,n){var r,i=n(56),o=n(198),a=n(172),u=n(115),s=n(515),c=n(170),l=n(134),f=l("IE_PROTO"),h=function(){},d=function(e){return"<script>"+e+"<\/script>"},p=function(e){e.write(d("")),e.close();var t=e.parentWindow.Object;return e=null,t},v=function(){try{r=new ActiveXObject("htmlfile")}catch(t){}v="undefined"!=typeof document?document.domain&&r?p(r):function(){var e,t=c("iframe");return t.style.display="none",s.appendChild(t),t.src=String("javascript:"),(e=t.contentWindow.document).open(),e.write(d("document.F=Object")),e.close(),e.F}():p(r);for(var e=a.length;e--;)delete v.prototype[a[e]];return v()};u[f]=!0,e.exports=Object.create||function(e,t){var n;return null!==e?(h.prototype=i(e),n=new h,h.prototype=null,n[f]=e):n=v(),void 0===t?n:o.f(n,t)}},function(e,t,n){var r=n(16);e.exports=r({}.isPrototypeOf)},function(e,t){var n=String;e.exports=function(e){try{return n(e)}catch(t){return"Object"}}},function(e,t){e.exports={}},function(e,t,n){var r,i,o,a=n(516),u=n(36),s=n(44),c=n(135),l=n(31),f=n(167),h=n(134),d=n(115),p=u.TypeError,v=u.WeakMap;if(a||f.state){var g=f.state||(f.state=new v);g.get=g.get,g.has=g.has,g.set=g.set,r=function(e,t){if(g.has(e))throw p("Object already initialized");return t.facade=e,g.set(e,t),t},i=function(e){return g.get(e)||{}},o=function(e){return g.has(e)}}else{var y=h("state");d[y]=!0,r=function(e,t){if(l(e,y))throw p("Object already initialized");return t.facade=e,c(e,y,t),t},i=function(e){return l(e,y)?e[y]:{}},o=function(e){return l(e,y)}}e.exports={set:r,get:i,has:o,enforce:function(e){return o(e)?i(e):r(e,{})},getterFor:function(e){return function(t){var n;if(!s(t)||(n=i(t)).type!==e)throw p("Incompatible receiver, "+e+" required");return n}}}},function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},function(e,t,n){var r=n(179),i=n(20),o=n(87),a=n(28)("toStringTag"),u=Object,s="Arguments"==o(function(){return arguments}());e.exports=r?o:function(e){var t,n,r;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=function(e,t){try{return e[t]}catch(n){}}(t=u(e),a))?n:s?o(t):"Object"==(r=o(t))&&i(t.callee)?"Arguments":r}},function(e,t,n){var r=n(213),i=n(38);e.exports=r(i.proto,"size","get")||function(e){return e.size}},function(e,t){function n(t){return e.exports=n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.__esModule=!0,e.exports.default=e.exports,n(t)}e.exports=n,e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,n){e.exports=n(653)()},,function(e,t,n){"use strict";function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}n.d(t,"a",function(){return r})},function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=n(101);function i(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=Object(r.a)(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var i=0,o=function(){};return{s:o,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,u=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return u=e.done,e},e:function(e){s=!0,a=e},f:function(){try{u||null==n.return||n.return()}finally{if(s)throw a}}}}},function(e,t,n){"use strict";var r=n(188),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},o={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},a={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},u={};function s(e){return r.isMemo(e)?a:u[e.$$typeof]||i}u[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},u[r.Memo]=a;var c=Object.defineProperty,l=Object.getOwnPropertyNames,f=Object.getOwnPropertySymbols,h=Object.getOwnPropertyDescriptor,d=Object.getPrototypeOf,p=Object.prototype;e.exports=function e(t,n,r){if("string"!==typeof n){if(p){var i=d(n);i&&i!==p&&e(t,i,r)}var a=l(n);f&&(a=a.concat(f(n)));for(var u=s(t),v=s(n),g=0;g<a.length;++g){var y=a[g];if(!o[y]&&(!r||!r[y])&&(!v||!v[y])&&(!u||!u[y])){var m=h(n,y);try{c(t,y,m)}catch(b){}}}}return t}},,,function(e,t,n){"use strict";n.d(t,"a",function(){return d}),n.d(t,"b",function(){return h}),n.d(t,"c",function(){return l}),n.d(t,"d",function(){return c});var r=n(8);function i(e){return"Minified Redux error #"+e+"; visit https://redux.js.org/Errors?code="+e+" for the full message or use the non-minified dev environment for full errors. "}var o="function"===typeof Symbol&&Symbol.observable||"@@observable",a=function(){return Math.random().toString(36).substring(7).split("").join(".")},u={INIT:"@@redux/INIT"+a(),REPLACE:"@@redux/REPLACE"+a(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+a()}};function s(e){if("object"!==typeof e||null===e)return!1;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function c(e,t,n){var r;if("function"===typeof t&&"function"===typeof n||"function"===typeof n&&"function"===typeof arguments[3])throw new Error(i(0));if("function"===typeof t&&"undefined"===typeof n&&(n=t,t=void 0),"undefined"!==typeof n){if("function"!==typeof n)throw new Error(i(1));return n(c)(e,t)}if("function"!==typeof e)throw new Error(i(2));var a=e,l=t,f=[],h=f,d=!1;function p(){h===f&&(h=f.slice())}function v(){if(d)throw new Error(i(3));return l}function g(e){if("function"!==typeof e)throw new Error(i(4));if(d)throw new Error(i(5));var t=!0;return p(),h.push(e),function(){if(t){if(d)throw new Error(i(6));t=!1,p();var n=h.indexOf(e);h.splice(n,1),f=null}}}function y(e){if(!s(e))throw new Error(i(7));if("undefined"===typeof e.type)throw new Error(i(8));if(d)throw new Error(i(9));try{d=!0,l=a(l,e)}finally{d=!1}for(var t=f=h,n=0;n<t.length;n++){(0,t[n])()}return e}return y({type:u.INIT}),(r={dispatch:y,subscribe:g,getState:v,replaceReducer:function(e){if("function"!==typeof e)throw new Error(i(10));a=e,y({type:u.REPLACE})}})[o]=function(){var e,t=g;return(e={subscribe:function(e){if("object"!==typeof e||null===e)throw new Error(i(11));function n(){e.next&&e.next(v())}return n(),{unsubscribe:t(n)}}})[o]=function(){return this},e},r}function l(e){for(var t=Object.keys(e),n={},r=0;r<t.length;r++){var o=t[r];0,"function"===typeof e[o]&&(n[o]=e[o])}var a,s=Object.keys(n);try{!function(e){Object.keys(e).forEach(function(t){var n=e[t];if("undefined"===typeof n(void 0,{type:u.INIT}))throw new Error(i(12));if("undefined"===typeof n(void 0,{type:u.PROBE_UNKNOWN_ACTION()}))throw new Error(i(13))})}(n)}catch(c){a=c}return function(e,t){if(void 0===e&&(e={}),a)throw a;for(var r=!1,o={},u=0;u<s.length;u++){var c=s[u],l=n[c],f=e[c],h=l(f,t);if("undefined"===typeof h){t&&t.type;throw new Error(i(14))}o[c]=h,r=r||h!==f}return(r=r||s.length!==Object.keys(e).length)?o:e}}function f(e,t){return function(){return t(e.apply(this,arguments))}}function h(e,t){if("function"===typeof e)return f(e,t);if("object"!==typeof e||null===e)throw new Error(i(16));var n={};for(var r in e){var o=e[r];"function"===typeof o&&(n[r]=f(o,t))}return n}function d(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return function(){var n=e.apply(void 0,arguments),o=function(){throw new Error(i(15))},a={getState:n.getState,dispatch:function(){return o.apply(void 0,arguments)}},u=t.map(function(e){return e(a)});return o=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?function(e){return e}:1===t.length?t[0]:t.reduce(function(e,t){return function(){return e(t.apply(void 0,arguments))}})}.apply(void 0,u)(n.dispatch),Object(r.a)(Object(r.a)({},n),{},{dispatch:o})}}}},function(e,t,n){var r=n(26);e.exports=!r(function(){var e=function(){}.bind();return"function"!=typeof e||e.hasOwnProperty("prototype")})},function(e,t,n){var r=n(16),i=0,o=Math.random(),a=r(1..toString);e.exports=function(e){return"Symbol("+(void 0===e?"":e)+")_"+a(++i+o,36)}},function(e,t,n){var r=n(510),i=n(132);e.exports=function(e){var t=r(e,"string");return i(t)?t:t+""}},function(e,t,n){var r=n(63),i=n(20),o=n(113),a=n(196),u=Object;e.exports=a?function(e){return"symbol"==typeof e}:function(e){var t=r("Symbol");return i(t)&&o(t.prototype,u(e))}},function(e,t,n){var r=n(513);e.exports=function(e){var t=+e;return t!==t||0===t?0:r(t)}},function(e,t,n){var r=n(110),i=n(130),o=r("keys");e.exports=function(e){return o[e]||(o[e]=i(e))}},function(e,t,n){var r=n(45),i=n(53),o=n(117);e.exports=r?function(e,t,n){return i.f(e,t,o(1,n))}:function(e,t,n){return e[t]=n,e}},function(e,t,n){var r=n(202),i=n(172).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return r(e,i)}},function(e,t,n){var r=n(21),i=n(56),o=n(171);e.exports=function(e,t,n){var a,u;i(e);try{if(!(a=o(e,"return"))){if("throw"===t)throw n;return n}a=r(a,e)}catch(s){u=!0,a=s}if("throw"===t)throw n;if(u)throw a;return i(a),n}},function(e,t,n){var r=n(205),i=n(53);e.exports=function(e,t,n){return n.get&&r(n.get,t,{getter:!0}),n.set&&r(n.set,t,{setter:!0}),i.f(e,t,n)}},function(e,t,n){"use strict";t.a=function(){return!1}},function(e,t,n){"use strict";var r=n(12),i=n(106),o=n(73),a="Expected a function",u=Math.max,s=Math.min;t.a=function(e,t,n){var c,l,f,h,d,p,v=0,g=!1,y=!1,m=!0;if("function"!=typeof e)throw new TypeError(a);function b(t){var n=c,r=l;return c=l=void 0,v=t,h=e.apply(r,n)}function w(e){var n=e-p;return void 0===p||n>=t||n<0||y&&e-v>=f}function E(){var e=Object(i.a)();if(w(e))return x(e);d=setTimeout(E,function(e){var n=t-(e-p);return y?s(n,f-(e-v)):n}(e))}function x(e){return d=void 0,m&&c?b(e):(c=l=void 0,h)}function k(){var e=Object(i.a)(),n=w(e);if(c=arguments,l=this,p=e,n){if(void 0===d)return function(e){return v=e,d=setTimeout(E,t),g?b(e):h}(p);if(y)return clearTimeout(d),d=setTimeout(E,t),b(p)}return void 0===d&&(d=setTimeout(E,t)),h}return t=Object(o.a)(t)||0,Object(r.a)(n)&&(g=!!n.leading,f=(y="maxWait"in n)?u(Object(o.a)(n.maxWait)||0,t):f,m="trailing"in n?!!n.trailing:m),k.cancel=function(){void 0!==d&&clearTimeout(d),v=0,c=p=l=d=void 0},k.flush=function(){return void 0===d?h:x(Object(i.a)())},k}},function(e,t,n){"use strict";t.a=function(e){return function(){return e}}},function(e,t,n){"use strict";var r=n(37),i=n(103),o=n(22),a="[object Object]",u=Function.prototype,s=Object.prototype,c=u.toString,l=s.hasOwnProperty,f=c.call(Object);t.a=function(e){if(!Object(o.a)(e)||Object(r.a)(e)!=a)return!1;var t=Object(i.a)(e);if(null===t)return!0;var n=l.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&c.call(n)==f}},function(e,t,n){"use strict";var r=n(67),i=n(41);t.a=function(e){return Object(r.a)(e,Object(i.a)(e))}},function(e,t,n){"use strict";function r(e,t){return(r=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}n.d(t,"a",function(){return r})},function(e,t,n){"use strict";var r=n(85);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},,function(e,t,n){"use strict";(function(e){var n="object"==typeof e&&e&&e.Object===Object&&e;t.a=n}).call(this,n(62))},function(e,t,n){"use strict";t.a=function(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t}},function(e,t,n){"use strict";(function(e){var r=n(23),i="object"==typeof exports&&exports&&!exports.nodeType&&exports,o=i&&"object"==typeof e&&e&&!e.nodeType&&e,a=o&&o.exports===i?r.a.Buffer:void 0,u=a?a.allocUnsafe:void 0;t.a=function(e,t){if(t)return e.slice();var n=e.length,r=u?u(n):new e.constructor(n);return e.copy(r),r}}).call(this,n(185)(e))},function(e,t,n){"use strict";t.a=function(e,t){return function(n){return e(t(n))}}},function(e,t,n){"use strict";var r=n(105);t.a=function(e,t){var n=t?Object(r.a)(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}},function(e,t,n){"use strict";var r=n(153),i=Math.max;t.a=function(e,t,n){return t=i(void 0===t?e.length-1:t,0),function(){for(var o=arguments,a=-1,u=i(o.length-t,0),s=Array(u);++a<u;)s[a]=o[t+a];a=-1;for(var c=Array(t+1);++a<t;)c[a]=o[a];return c[t]=n(s),Object(r.a)(e,this,c)}}},function(e,t,n){"use strict";t.a=function(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}},function(e,t,n){"use strict";var r=n(55),i=n(94);t.a=function(e){return Object(r.a)(function(t,n){var r=-1,o=n.length,a=o>1?n[o-1]:void 0,u=o>2?n[2]:void 0;for(a=e.length>3&&"function"==typeof a?(o--,a):void 0,u&&Object(i.a)(n[0],n[1],u)&&(a=o<3?void 0:a,o=1),t=Object(t);++r<o;){var s=n[r];s&&e(t,s,r,a)}return t})}},function(e,t,n){"use strict";var r=n(141),i=n(108),o=n(40),a=i.a?function(e,t){return Object(i.a)(e,"toString",{configurable:!0,enumerable:!1,value:Object(r.a)(t),writable:!0})}:o.a,u=800,s=16,c=Date.now;var l=function(e){var t=0,n=0;return function(){var r=c(),i=s-(r-n);if(n=r,i>0){if(++t>=u)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}(a);t.a=l},function(e,t,n){"use strict";var r=n(71);function i(e){var t=function(e,t){if("object"!==Object(r.a)(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==Object(r.a)(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===Object(r.a)(t)?t:String(t)}n.d(t,"a",function(){return i})},function(e,t,n){"use strict";var r=function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r},i=n(48),o=n(13),a=n(47),u=n(82),s=n(66),c=Object.prototype.hasOwnProperty;t.a=function(e,t){var n=Object(o.a)(e),l=!n&&Object(i.a)(e),f=!n&&!l&&Object(a.a)(e),h=!n&&!l&&!f&&Object(s.a)(e),d=n||l||f||h,p=d?r(e.length,String):[],v=p.length;for(var g in e)!t&&!c.call(e,g)||d&&("length"==g||f&&("offset"==g||"parent"==g)||h&&("buffer"==g||"byteLength"==g||"byteOffset"==g)||Object(u.a)(g,v))||p.push(g);return p}},function(e,t,n){"use strict";var r=function(e){return function(t,n,r){for(var i=-1,o=Object(t),a=r(t),u=a.length;u--;){var s=a[e?u:++i];if(!1===n(o[s],s,o))break}return t}}();t.a=r},function(e,t,n){"use strict";var r=n(12),i=Object.create,o=function(){function e(){}return function(t){if(!Object(r.a)(t))return{};if(i)return i(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}(),a=n(103),u=n(80);t.a=function(e){return"function"!=typeof e.constructor||Object(u.a)(e)?{}:o(Object(a.a)(e))}},,,,,,,function(e,t,n){var r=n(88),i=TypeError;e.exports=function(e){if(r(e))throw i("Can't call method on "+e);return e}},function(e,t,n){var r=n(36),i=n(168),o=r["__core-js_shared__"]||i("__core-js_shared__",{});e.exports=o},function(e,t,n){var r=n(36),i=Object.defineProperty;e.exports=function(e,t){try{i(r,e,{value:t,configurable:!0,writable:!0})}catch(n){r[e]=t}return t}},function(e,t,n){var r,i,o=n(36),a=n(509),u=o.process,s=o.Deno,c=u&&u.versions||s&&s.version,l=c&&c.v8;l&&(i=(r=l.split("."))[0]>0&&r[0]<4?1:+(r[0]+r[1])),!i&&a&&(!(r=a.match(/Edge\/(\d+)/))||r[1]>=74)&&(r=a.match(/Chrome\/(\d+)/))&&(i=+r[1]),e.exports=i},function(e,t,n){var r=n(36),i=n(44),o=r.document,a=i(o)&&i(o.createElement);e.exports=function(e){return a?o.createElement(e):{}}},function(e,t,n){var r=n(57),i=n(88);e.exports=function(e,t){var n=e[t];return i(n)?void 0:r(n)}},function(e,t){e.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},function(e,t,n){"use strict";var r=n(9),i=n(21),o=n(111),a=n(206),u=n(20),s=n(518),c=n(211),l=n(212),f=n(89),h=n(135),d=n(76),p=n(28),v=n(99),g=n(210),y=a.PROPER,m=a.CONFIGURABLE,b=g.IteratorPrototype,w=g.BUGGY_SAFARI_ITERATORS,E=p("iterator"),x=function(){return this};e.exports=function(e,t,n,a,p,g,k){s(n,t,a);var O,S,A,T=function(e){if(e===p&&M)return M;if(!w&&e in _)return _[e];switch(e){case"keys":case"values":case"entries":return function(){return new n(this,e)}}return function(){return new n(this)}},j=t+" Iterator",C=!1,_=e.prototype,P=_[E]||_["@@iterator"]||p&&_[p],M=!w&&P||T(p),N="Array"==t&&_.entries||P;if(N&&(O=c(N.call(new e)))!==Object.prototype&&O.next&&(o||c(O)===b||(l?l(O,b):u(O[E])||d(O,E,x)),f(O,j,!0,!0),o&&(v[j]=x)),y&&"values"==p&&P&&"values"!==P.name&&(!o&&m?h(_,"name","values"):(C=!0,M=function(){return i(P,this)})),p)if(S={values:T("values"),keys:g?M:T("keys"),entries:T("entries")},k)for(A in S)!w&&!C&&A in _||d(_,A,S[A]);else r({target:t,proto:!0,forced:w||C},S);return o&&!k||_[E]===M||d(_,E,M,{name:p}),v[t]=M,S}},function(e,t,n){var r=n(45),i=n(21),o=n(204),a=n(117),u=n(86),s=n(131),c=n(31),l=n(200),f=Object.getOwnPropertyDescriptor;t.f=r?f:function(e,t){if(e=u(e),t=s(t),l)try{return f(e,t)}catch(n){}if(c(e,t))return a(!i(o.f,e,t),e[t])}},function(e,t){t.f=Object.getOwnPropertySymbols},function(e,t){e.exports=function(e,t){return{value:e,done:t}}},function(e,t,n){"use strict";var r=n(131),i=n(53),o=n(117);e.exports=function(e,t,n){var a=r(t);a in e?i.f(e,a,o(0,n)):e[a]=n}},function(e,t,n){var r=n(118),i=n(171),o=n(88),a=n(99),u=n(28)("iterator");e.exports=function(e){if(!o(e))return i(e,u)||i(e,"@@iterator")||a[r(e)]}},function(e,t,n){var r={};r[n(28)("toStringTag")]="z",e.exports="[object z]"===String(r)},function(e,t,n){var r=n(16),i=n(26),o=n(20),a=n(118),u=n(63),s=n(207),c=function(){},l=[],f=u("Reflect","construct"),h=/^\s*(?:class|function)\b/,d=r(h.exec),p=!h.exec(c),v=function(e){if(!o(e))return!1;try{return f(c,l,e),!0}catch(t){return!1}},g=function(e){if(!o(e))return!1;switch(a(e)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return p||!!d(h,s(e))}catch(t){return!0}};g.sham=!0,e.exports=!f||i(function(){var e;return v(v.call)||!v(Object)||!v(function(){e=!0})||e})?g:v},function(e,t,n){var r=n(38),i=n(54),o=r.Set,a=r.add;e.exports=function(e){var t=new o;return i(e,function(e){a(t,e)}),t}},function(e,t,n){var r=n(87);e.exports=Array.isArray||function(e){return"Array"==r(e)}},function(e,t,n){var r=n(237),i=n(635),o=n(636),a="[object Null]",u="[object Undefined]",s=r?r.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?u:a:s&&s in Object(e)?i(e):o(e)}},function(e,t){e.exports=function(e){return null!=e&&"object"==typeof e}},function(e,t){e.exports=function(e){if(!e.webpackPolyfill){var t=Object.create(e);t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),Object.defineProperty(t,"exports",{enumerable:!0}),t.webpackPolyfill=1}return t}},function(e,t,n){"use strict";e.exports=n(648)},function(e,t,n){var r=n(655);e.exports=d,e.exports.parse=o,e.exports.compile=function(e,t){return u(o(e,t),t)},e.exports.tokensToFunction=u,e.exports.tokensToRegExp=h;var i=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?|(\\*))"].join("|"),"g");function o(e,t){for(var n,r=[],o=0,a=0,u="",l=t&&t.delimiter||"/";null!=(n=i.exec(e));){var f=n[0],h=n[1],d=n.index;if(u+=e.slice(a,d),a=d+f.length,h)u+=h[1];else{var p=e[a],v=n[2],g=n[3],y=n[4],m=n[5],b=n[6],w=n[7];u&&(r.push(u),u="");var E=null!=v&&null!=p&&p!==v,x="+"===b||"*"===b,k="?"===b||"*"===b,O=n[2]||l,S=y||m;r.push({name:g||o++,prefix:v||"",delimiter:O,optional:k,repeat:x,partial:E,asterisk:!!w,pattern:S?c(S):w?".*":"[^"+s(O)+"]+?"})}}return a<e.length&&(u+=e.substr(a)),u&&r.push(u),r}function a(e){return encodeURI(e).replace(/[\/?#]/g,function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})}function u(e,t){for(var n=new Array(e.length),i=0;i<e.length;i++)"object"===typeof e[i]&&(n[i]=new RegExp("^(?:"+e[i].pattern+")$",f(t)));return function(t,i){for(var o="",u=t||{},s=(i||{}).pretty?a:encodeURIComponent,c=0;c<e.length;c++){var l=e[c];if("string"!==typeof l){var f,h=u[l.name];if(null==h){if(l.optional){l.partial&&(o+=l.prefix);continue}throw new TypeError('Expected "'+l.name+'" to be defined')}if(r(h)){if(!l.repeat)throw new TypeError('Expected "'+l.name+'" to not repeat, but received `'+JSON.stringify(h)+"`");if(0===h.length){if(l.optional)continue;throw new TypeError('Expected "'+l.name+'" to not be empty')}for(var d=0;d<h.length;d++){if(f=s(h[d]),!n[c].test(f))throw new TypeError('Expected all "'+l.name+'" to match "'+l.pattern+'", but received `'+JSON.stringify(f)+"`");o+=(0===d?l.prefix:l.delimiter)+f}}else{if(f=l.asterisk?encodeURI(h).replace(/[?#]/g,function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()}):s(h),!n[c].test(f))throw new TypeError('Expected "'+l.name+'" to match "'+l.pattern+'", but received "'+f+'"');o+=l.prefix+f}}else o+=l}return o}}function s(e){return e.replace(/([.+*?=^!:${}()[\]|\/\\])/g,"\\$1")}function c(e){return e.replace(/([=!:$\/()])/g,"\\$1")}function l(e,t){return e.keys=t,e}function f(e){return e&&e.sensitive?"":"i"}function h(e,t,n){r(t)||(n=t||n,t=[]);for(var i=(n=n||{}).strict,o=!1!==n.end,a="",u=0;u<e.length;u++){var c=e[u];if("string"===typeof c)a+=s(c);else{var h=s(c.prefix),d="(?:"+c.pattern+")";t.push(c),c.repeat&&(d+="(?:"+h+d+")*"),a+=d=c.optional?c.partial?h+"("+d+")?":"(?:"+h+"("+d+"))?":h+"("+d+")"}}var p=s(n.delimiter||"/"),v=a.slice(-p.length)===p;return i||(a=(v?a.slice(0,-p.length):a)+"(?:"+p+"(?=$))?"),a+=o?"$":i&&v?"":"(?="+p+"|$)",l(new RegExp("^"+a,f(n)),t)}function d(e,t,n){return r(t)||(n=t||n,t=[]),n=n||{},e instanceof RegExp?function(e,t){var n=e.source.match(/\((?!\?)/g);if(n)for(var r=0;r<n.length;r++)t.push({name:r,prefix:null,delimiter:null,optional:!1,repeat:!1,partial:!1,asterisk:!1,pattern:null});return l(e,t)}(e,t):r(e)?function(e,t,n){for(var r=[],i=0;i<e.length;i++)r.push(d(e[i],t,n).source);return l(new RegExp("(?:"+r.join("|")+")",f(n)),t)}(e,t,n):function(e,t,n){return h(o(e,n),t,n)}(e,t,n)}},function(e,t,n){"use strict";e.exports=n(650)},function(e,t,n){"use strict";var r=n(186),i=n(248),o=n(85);var a=function(e){e()},u=function(){return a},s=n(4),c=n.n(s),l=Object(s.createContext)(null);var f=function(){throw new Error("uSES not initialized!")};var h=n(14),d=n(5),p=n(17),v=n(58),g=n(125),y=n.n(g),m=n(249);var b=["initMapStateToProps","initMapDispatchToProps","initMergeProps"];function w(e,t,n,r,i){var o,a,u,s,c,l=i.areStatesEqual,f=i.areOwnPropsEqual,h=i.areStatePropsEqual,d=!1;function p(i,d){var p=!f(d,a),v=!l(i,o,d,a);return o=i,a=d,p&&v?(u=e(o,a),t.dependsOnOwnProps&&(s=t(r,a)),c=n(u,s,a)):p?(e.dependsOnOwnProps&&(u=e(o,a)),t.dependsOnOwnProps&&(s=t(r,a)),c=n(u,s,a)):v?function(){var t=e(o,a),r=!h(t,u);return u=t,r&&(c=n(u,s,a)),c}():c}return function(i,l){return d?p(i,l):(u=e(o=i,a=l),s=t(r,a),c=n(u,s,a),d=!0,c)}}function E(e){return function(t){var n=e(t);function r(){return n}return r.dependsOnOwnProps=!1,r}}function x(e){return e.dependsOnOwnProps?Boolean(e.dependsOnOwnProps):1!==e.length}function k(e,t){return function(t,n){n.displayName;var r=function(e,t){return r.dependsOnOwnProps?r.mapToProps(e,t):r.mapToProps(e,void 0)};return r.dependsOnOwnProps=!0,r.mapToProps=function(t,n){r.mapToProps=e,r.dependsOnOwnProps=x(e);var i=r(t,n);return"function"===typeof i&&(r.mapToProps=i,r.dependsOnOwnProps=x(i),i=r(t,n)),i},r}}function O(e,t){return function(n,r){throw new Error("Invalid value of type ".concat(typeof e," for ").concat(t," argument when connecting component ").concat(r.wrappedComponentName,"."))}}function S(e,t,n){return Object(p.a)({},n,e,t)}var A={notify:function(){},get:function(){return[]}};function T(e,t){var n,r=A;function i(){a.onStateChange&&a.onStateChange()}function o(){n||(n=t?t.addNestedSub(i):e.subscribe(i),r=function(){var e=u(),t=null,n=null;return{clear:function(){t=null,n=null},notify:function(){e(function(){for(var e=t;e;)e.callback(),e=e.next})},get:function(){for(var e=[],n=t;n;)e.push(n),n=n.next;return e},subscribe:function(e){var r=!0,i=n={callback:e,next:null,prev:n};return i.prev?i.prev.next=i:t=i,function(){r&&null!==t&&(r=!1,i.next?i.next.prev=i.prev:n=i.prev,i.prev?i.prev.next=i.next:t=i.next)}}}}())}var a={addNestedSub:function(e){return o(),r.subscribe(e)},notifyNestedSubs:function(){r.notify()},handleChangeWrapper:i,isSubscribed:function(){return Boolean(n)},trySubscribe:o,tryUnsubscribe:function(){n&&(n(),n=void 0,r.clear(),r=A)},getListeners:function(){return r}};return a}var j=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement)?s.useLayoutEffect:s.useEffect;function C(e,t){return e===t?0!==e||0!==t||1/e===1/t:e!==e&&t!==t}function _(e,t){if(C(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(var i=0;i<n.length;i++)if(!Object.prototype.hasOwnProperty.call(t,n[i])||!C(e[n[i]],t[n[i]]))return!1;return!0}var P=["reactReduxForwardedRef"],M=f,N=[null,null];function R(e,t,n,r,i,o){e.current=r,n.current=!1,i.current&&(i.current=null,o())}function L(e,t){return e===t}var I=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=(r.pure,r.areStatesEqual),o=void 0===i?L:i,a=r.areOwnPropsEqual,u=void 0===a?_:a,f=r.areStatePropsEqual,g=void 0===f?_:f,x=r.areMergedPropsEqual,A=void 0===x?_:x,C=r.forwardRef,I=void 0!==C&&C,D=r.context,B=void 0===D?l:D,F=function(e){return e?"function"===typeof e?k(e):O(e,"mapStateToProps"):E(function(){return{}})}(e),z=function(e){return e&&"object"===typeof e?E(function(t){return function(e,t){var n={},r=function(){var r=e[i];"function"===typeof r&&(n[i]=function(){return t(r.apply(void 0,arguments))})};for(var i in e)r();return n}(e,t)}):e?"function"===typeof e?k(e):O(e,"mapDispatchToProps"):E(function(e){return{dispatch:e}})}(t),V=function(e){return e?"function"===typeof e?function(e){return function(t,n){n.displayName;var r,i=n.areMergedPropsEqual,o=!1;return function(t,n,a){var u=e(t,n,a);return o?i(u,r)||(r=u):(o=!0,r=u),r}}}(e):O(e,"mergeProps"):function(){return S}}(n),U=Boolean(e);return function(e){var t=e.displayName||e.name||"Component",n="Connect(".concat(t,")"),r={shouldHandleStateChanges:U,displayName:n,wrappedComponentName:t,WrappedComponent:e,initMapStateToProps:F,initMapDispatchToProps:z,initMergeProps:V,areStatesEqual:o,areStatePropsEqual:g,areOwnPropsEqual:u,areMergedPropsEqual:A};function i(t){var n=Object(s.useMemo)(function(){var e=t.reactReduxForwardedRef,n=Object(v.a)(t,P);return[t.context,e,n]},[t]),i=Object(h.a)(n,3),o=i[0],a=i[1],u=i[2],l=Object(s.useMemo)(function(){return o&&o.Consumer&&Object(m.isContextConsumer)(c.a.createElement(o.Consumer,null))?o:B},[o,B]),f=Object(s.useContext)(l),g=Boolean(t.store)&&Boolean(t.store.getState)&&Boolean(t.store.dispatch),y=Boolean(f)&&Boolean(f.store),E=g?t.store:f.store,x=y?f.getServerState:E.getState,k=Object(s.useMemo)(function(){return function(e,t){var n=t.initMapStateToProps,r=t.initMapDispatchToProps,i=t.initMergeProps,o=Object(v.a)(t,b);return w(n(e,o),r(e,o),i(e,o),e,o)}(E.dispatch,r)},[E]),O=Object(s.useMemo)(function(){if(!U)return N;var e=T(E,g?void 0:f.subscription),t=e.notifyNestedSubs.bind(e);return[e,t]},[E,g,f]),S=Object(h.a)(O,2),A=S[0],C=S[1],_=Object(s.useMemo)(function(){return g?f:Object(p.a)({},f,{subscription:A})},[g,f,A]),L=Object(s.useRef)(),I=Object(s.useRef)(u),D=Object(s.useRef)(),F=Object(s.useRef)(!1),z=(Object(s.useRef)(!1),Object(s.useRef)(!1)),V=Object(s.useRef)();j(function(){return z.current=!0,function(){z.current=!1}},[]);var G,H,W,q,X=Object(s.useMemo)(function(){return function(){return D.current&&u===I.current?D.current:k(E.getState(),u)}},[E,u]),Y=Object(s.useMemo)(function(){return function(e){return A?function(e,t,n,r,i,o,a,u,s,c,l){if(!e)return function(){};var f=!1,h=null,d=function(){if(!f&&u.current){var e,n,d=t.getState();try{e=r(d,i.current)}catch(p){n=p,h=p}n||(h=null),e===o.current?a.current||c():(o.current=e,s.current=e,a.current=!0,l())}};return n.onStateChange=d,n.trySubscribe(),d(),function(){if(f=!0,n.tryUnsubscribe(),n.onStateChange=null,h)throw h}}(U,E,A,k,I,L,F,z,D,C,e):function(){}}},[A]);G=R,H=[I,L,F,u,D,C],j(function(){return G.apply(void 0,Object(d.a)(H))},W);try{q=M(Y,X,x?function(){return k(x(),u)}:X)}catch(J){throw V.current&&(J.message+="\nThe error may be correlated with this previous error:\n".concat(V.current.stack,"\n\n")),J}j(function(){V.current=void 0,D.current=void 0,L.current=q});var $=Object(s.useMemo)(function(){return c.a.createElement(e,Object(p.a)({},q,{ref:a}))},[a,e,q]);return Object(s.useMemo)(function(){return U?c.a.createElement(l.Provider,{value:_},$):$},[l,$,_])}var a=c.a.memo(i);if(a.WrappedComponent=e,a.displayName=i.displayName=n,I){var l=c.a.forwardRef(function(e,t){return c.a.createElement(a,Object(p.a)({},e,{reactReduxForwardedRef:t}))});return l.displayName=n,l.WrappedComponent=e,y()(l,e)}return y()(a,e)}};var D=function(e){var t=e.store,n=e.context,r=e.children,i=e.serverState,o=Object(s.useMemo)(function(){var e=T(t);return{store:t,subscription:e,getServerState:i?function(){return i}:void 0}},[t,i]),a=Object(s.useMemo)(function(){return t.getState()},[t]);j(function(){var e=o.subscription;return e.onStateChange=e.notifyNestedSubs,e.trySubscribe(),a!==t.getState()&&e.notifyNestedSubs(),function(){e.tryUnsubscribe(),e.onStateChange=void 0}},[o,a]);var u=n||l;return c.a.createElement(u.Provider,{value:o},r)};var B,F;n.d(t,"a",function(){return D}),n.d(t,"b",function(){return I}),B=i.useSyncExternalStoreWithSelector,function(e){M=e}(r.useSyncExternalStore),F=o.unstable_batchedUpdates,a=F},,function(e,t){var n,r,i=e.exports={};function o(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function u(e){if(n===setTimeout)return setTimeout(e,0);if((n===o||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"===typeof setTimeout?setTimeout:o}catch(e){n=o}try{r="function"===typeof clearTimeout?clearTimeout:a}catch(e){r=a}}();var s,c=[],l=!1,f=-1;function h(){l&&s&&(l=!1,s.length?c=s.concat(c):f=-1,c.length&&d())}function d(){if(!l){var e=u(h);l=!0;for(var t=c.length;t;){for(s=c,c=[];++f<t;)s&&s[f].run();f=-1,t=c.length}s=null,l=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===a||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function p(e,t){this.fun=e,this.array=t}function v(){}i.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];c.push(new p(e,t)),1!==c.length||l||u(d)},p.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=v,i.addListener=v,i.once=v,i.off=v,i.removeListener=v,i.removeAllListeners=v,i.emit=v,i.prependListener=v,i.prependOnceListener=v,i.listeners=function(e){return[]},i.binding=function(e){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(e){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},,,function(e,t,n){"use strict";var r=n(86),i=n(508),o=n(99),a=n(116),u=n(53).f,s=n(173),c=n(176),l=n(111),f=n(45),h=a.set,d=a.getterFor("Array Iterator");e.exports=s(Array,"Array",function(e,t){h(this,{type:"Array Iterator",target:r(e),index:0,kind:t})},function(){var e=d(this),t=e.target,n=e.kind,r=e.index++;return!t||r>=t.length?(e.target=void 0,c(void 0,!0)):c("keys"==n?r:"values"==n?t[r]:[r,t[r]],!1)},"values");var p=o.Arguments=o.Array;if(i("keys"),i("values"),i("entries"),!l&&f&&"values"!==p.name)try{u(p,"name",{value:"values"})}catch(v){}},function(e,t,n){var r=n(16),i=n(26),o=n(87),a=Object,u=r("".split);e.exports=i(function(){return!a("z").propertyIsEnumerable(0)})?function(e){return"String"==o(e)?u(e,""):a(e)}:a},function(e,t,n){var r=n(97);e.exports=r&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},function(e,t){var n="object"==typeof document&&document.all,r="undefined"==typeof n&&void 0!==n;e.exports={all:n,IS_HTMLDDA:r}},function(e,t,n){var r=n(45),i=n(199),o=n(53),a=n(56),u=n(86),s=n(201);t.f=r&&!i?Object.defineProperties:function(e,t){a(e);for(var n,r=u(t),i=s(t),c=i.length,l=0;c>l;)o.f(e,n=i[l++],r[n]);return e}},function(e,t,n){var r=n(45),i=n(26);e.exports=r&&i(function(){return 42!=Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype})},function(e,t,n){var r=n(45),i=n(26),o=n(170);e.exports=!r&&!i(function(){return 7!=Object.defineProperty(o("div"),"a",{get:function(){return 7}}).a})},function(e,t,n){var r=n(202),i=n(172);e.exports=Object.keys||function(e){return r(e,i)}},function(e,t,n){var r=n(16),i=n(31),o=n(86),a=n(512).indexOf,u=n(115),s=r([].push);e.exports=function(e,t){var n,r=o(e),c=0,l=[];for(n in r)!i(u,n)&&i(r,n)&&s(l,n);for(;t.length>c;)i(r,n=t[c++])&&(~a(l,n)||s(l,n));return l}},function(e,t,n){var r=n(133),i=Math.max,o=Math.min;e.exports=function(e,t){var n=r(e);return n<0?i(n+t,0):o(n,t)}},function(e,t,n){"use strict";var r={}.propertyIsEnumerable,i=Object.getOwnPropertyDescriptor,o=i&&!r.call({1:2},1);t.f=o?function(e){var t=i(this,e);return!!t&&t.enumerable}:r},function(e,t,n){var r=n(16),i=n(26),o=n(20),a=n(31),u=n(45),s=n(206).CONFIGURABLE,c=n(207),l=n(116),f=l.enforce,h=l.get,d=String,p=Object.defineProperty,v=r("".slice),g=r("".replace),y=r([].join),m=u&&!i(function(){return 8!==p(function(){},"length",{value:8}).length}),b=String(String).split("String"),w=e.exports=function(e,t,n){"Symbol("===v(d(t),0,7)&&(t="["+g(d(t),/^Symbol\(([^)]*)\)/,"$1")+"]"),n&&n.getter&&(t="get "+t),n&&n.setter&&(t="set "+t),(!a(e,"name")||s&&e.name!==t)&&(u?p(e,"name",{value:t,configurable:!0}):e.name=t),m&&n&&a(n,"arity")&&e.length!==n.arity&&p(e,"length",{value:n.arity});try{n&&a(n,"constructor")&&n.constructor?u&&p(e,"prototype",{writable:!1}):e.prototype&&(e.prototype=void 0)}catch(i){}var r=f(e);return a(r,"source")||(r.source=y(b,"string"==typeof t?t:"")),e};Function.prototype.toString=w(function(){return o(this)&&h(this).source||c(this)},"toString")},function(e,t,n){var r=n(45),i=n(31),o=Function.prototype,a=r&&Object.getOwnPropertyDescriptor,u=i(o,"name"),s=u&&"something"===function(){}.name,c=u&&(!r||r&&a(o,"name").configurable);e.exports={EXISTS:u,PROPER:s,CONFIGURABLE:c}},function(e,t,n){var r=n(16),i=n(20),o=n(167),a=r(Function.toString);i(o.inspectSource)||(o.inspectSource=function(e){return a(e)}),e.exports=o.inspectSource},function(e,t,n){var r=n(31),i=n(517),o=n(174),a=n(53);e.exports=function(e,t,n){for(var u=i(t),s=a.f,c=o.f,l=0;l<u.length;l++){var f=u[l];r(e,f)||n&&r(n,f)||s(e,f,c(t,f))}}},function(e,t,n){var r=n(26),i=n(20),o=/#|\.prototype\./,a=function(e,t){var n=s[u(e)];return n==l||n!=c&&(i(t)?r(t):!!t)},u=a.normalize=function(e){return String(e).replace(o,".").toLowerCase()},s=a.data={},c=a.NATIVE="N",l=a.POLYFILL="P";e.exports=a},function(e,t,n){"use strict";var r,i,o,a=n(26),u=n(20),s=n(44),c=n(112),l=n(211),f=n(76),h=n(28),d=n(111),p=h("iterator"),v=!1;[].keys&&("next"in(o=[].keys())?(i=l(l(o)))!==Object.prototype&&(r=i):v=!0),!s(r)||a(function(){var e={};return r[p].call(e)!==e})?r={}:d&&(r=c(r)),u(r[p])||f(r,p,function(){return this}),e.exports={IteratorPrototype:r,BUGGY_SAFARI_ITERATORS:v}},function(e,t,n){var r=n(31),i=n(20),o=n(96),a=n(134),u=n(519),s=a("IE_PROTO"),c=Object,l=c.prototype;e.exports=u?c.getPrototypeOf:function(e){var t=o(e);if(r(t,s))return t[s];var n=t.constructor;return i(n)&&t instanceof n?n.prototype:t instanceof c?l:null}},function(e,t,n){var r=n(213),i=n(56),o=n(520);e.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var e,t=!1,n={};try{(e=r(Object.prototype,"__proto__","set"))(n,[]),t=n instanceof Array}catch(a){}return function(n,r){return i(n),o(r),t?e(n,r):n.__proto__=r,n}}():void 0)},function(e,t,n){var r=n(16),i=n(57);e.exports=function(e,t,n){try{return r(i(Object.getOwnPropertyDescriptor(e,t)[n]))}catch(o){}}},function(e,t,n){"use strict";var r=n(9),i=n(36),o=n(16),a=n(209),u=n(76),s=n(215),c=n(100),l=n(219),f=n(20),h=n(88),d=n(44),p=n(26),v=n(220),g=n(89),y=n(528);e.exports=function(e,t,n){var m=-1!==e.indexOf("Map"),b=-1!==e.indexOf("Weak"),w=m?"set":"add",E=i[e],x=E&&E.prototype,k=E,O={},S=function(e){var t=o(x[e]);u(x,e,"add"==e?function(e){return t(this,0===e?0:e),this}:"delete"==e?function(e){return!(b&&!d(e))&&t(this,0===e?0:e)}:"get"==e?function(e){return b&&!d(e)?void 0:t(this,0===e?0:e)}:"has"==e?function(e){return!(b&&!d(e))&&t(this,0===e?0:e)}:function(e,n){return t(this,0===e?0:e,n),this})};if(a(e,!f(E)||!(b||x.forEach&&!p(function(){(new E).entries().next()}))))k=n.getConstructor(t,e,m,w),s.enable();else if(a(e,!0)){var A=new k,T=A[w](b?{}:-0,1)!=A,j=p(function(){A.has(1)}),C=v(function(e){new E(e)}),_=!b&&p(function(){for(var e=new E,t=5;t--;)e[w](t,t);return!e.has(-0)});C||((k=t(function(e,t){l(e,x);var n=y(new E,e,k);return h(t)||c(t,n[w],{that:n,AS_ENTRIES:m}),n})).prototype=x,x.constructor=k),(j||_)&&(S("delete"),S("has"),m&&S("get")),(_||T)&&S(w),b&&x.clear&&delete x.clear}return O[e]=k,r({global:!0,constructor:!0,forced:k!=E},O),g(k,e),b||n.setStrong(k,e,m),k}},function(e,t,n){var r=n(9),i=n(16),o=n(115),a=n(44),u=n(31),s=n(53).f,c=n(136),l=n(216),f=n(524),h=n(130),d=n(526),p=!1,v=h("meta"),g=0,y=function(e){s(e,v,{value:{objectID:"O"+g++,weakData:{}}})},m=e.exports={enable:function(){m.enable=function(){},p=!0;var e=c.f,t=i([].splice),n={};n[v]=1,e(n).length&&(c.f=function(n){for(var r=e(n),i=0,o=r.length;i<o;i++)if(r[i]===v){t(r,i,1);break}return r},r({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:l.f}))},fastKey:function(e,t){if(!a(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!u(e,v)){if(!f(e))return"F";if(!t)return"E";y(e)}return e[v].objectID},getWeakData:function(e,t){if(!u(e,v)){if(!f(e))return!0;if(!t)return!1;y(e)}return e[v].weakData},onFreeze:function(e){return d&&p&&f(e)&&!u(e,v)&&y(e),e}};o[v]=!0},function(e,t,n){var r=n(87),i=n(86),o=n(136).f,a=n(523),u="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];e.exports.f=function(e){return u&&"Window"==r(e)?function(e){try{return o(e)}catch(t){return a(u)}}(e):o(i(e))}},function(e,t,n){var r=n(28),i=n(99),o=r("iterator"),a=Array.prototype;e.exports=function(e){return void 0!==e&&(i.Array===e||a[o]===e)}},function(e,t,n){var r=n(21),i=n(57),o=n(56),a=n(114),u=n(178),s=TypeError;e.exports=function(e,t){var n=arguments.length<2?u(e):t;if(i(n))return o(r(n,e));throw s(a(e)+" is not iterable")}},function(e,t,n){var r=n(113),i=TypeError;e.exports=function(e,t){if(r(t,e))return e;throw i("Incorrect invocation")}},function(e,t,n){var r=n(28)("iterator"),i=!1;try{var o=0,a={next:function(){return{done:!!o++}},return:function(){i=!0}};a[r]=function(){return this},Array.from(a,function(){throw 2})}catch(u){}e.exports=function(e,t){if(!t&&!i)return!1;var n=!1;try{var o={};o[r]=function(){return{next:function(){return{done:n=!0}}}},e(o)}catch(u){}return n}},function(e,t,n){"use strict";var r=n(112),i=n(138),o=n(529),a=n(30),u=n(219),s=n(88),c=n(100),l=n(173),f=n(176),h=n(530),d=n(45),p=n(215).fastKey,v=n(116),g=v.set,y=v.getterFor;e.exports={getConstructor:function(e,t,n,l){var f=e(function(e,i){u(e,h),g(e,{type:t,index:r(null),first:void 0,last:void 0,size:0}),d||(e.size=0),s(i)||c(i,e[l],{that:e,AS_ENTRIES:n})}),h=f.prototype,v=y(t),m=function(e,t,n){var r,i,o=v(e),a=b(e,t);return a?a.value=n:(o.last=a={index:i=p(t,!0),key:t,value:n,previous:r=o.last,next:void 0,removed:!1},o.first||(o.first=a),r&&(r.next=a),d?o.size++:e.size++,"F"!==i&&(o.index[i]=a)),e},b=function(e,t){var n,r=v(e),i=p(t);if("F"!==i)return r.index[i];for(n=r.first;n;n=n.next)if(n.key==t)return n};return o(h,{clear:function(){for(var e=v(this),t=e.index,n=e.first;n;)n.removed=!0,n.previous&&(n.previous=n.previous.next=void 0),delete t[n.index],n=n.next;e.first=e.last=void 0,d?e.size=0:this.size=0},delete:function(e){var t=v(this),n=b(this,e);if(n){var r=n.next,i=n.previous;delete t.index[n.index],n.removed=!0,i&&(i.next=r),r&&(r.previous=i),t.first==n&&(t.first=r),t.last==n&&(t.last=i),d?t.size--:this.size--}return!!n},forEach:function(e){for(var t,n=v(this),r=a(e,arguments.length>1?arguments[1]:void 0);t=t?t.next:n.first;)for(r(t.value,t.key,this);t&&t.removed;)t=t.previous},has:function(e){return!!b(this,e)}}),o(h,n?{get:function(e){var t=b(this,e);return t&&t.value},set:function(e,t){return m(this,0===e?0:e,t)}}:{add:function(e){return m(this,e=0===e?0:e,e)}}),d&&i(h,"size",{configurable:!0,get:function(){return v(this).size}}),f},setStrong:function(e,t,n){var r=t+" Iterator",i=y(t),o=y(r);l(e,t,function(e,t){g(this,{type:r,target:e,state:i(e),kind:t,last:void 0})},function(){for(var e=o(this),t=e.kind,n=e.last;n&&n.removed;)n=n.previous;return e.target&&(e.last=n=n?n.next:e.state.first)?f("keys"==t?n.key:"values"==t?n.value:[n.key,n.value],!1):(e.target=void 0,f(void 0,!0))},n?"entries":"values",!n,!0),h(t)}}},function(e,t,n){var r=n(179),i=n(76),o=n(531);r||i(Object.prototype,"toString",o,{unsafe:!0})},function(e,t,n){"use strict";var r=n(532).charAt,i=n(90),o=n(116),a=n(173),u=n(176),s=o.set,c=o.getterFor("String Iterator");a(String,"String",function(e){s(this,{type:"String Iterator",string:i(e),index:0})},function(){var e,t=c(this),n=t.string,i=t.index;return i>=n.length?u(void 0,!0):(e=r(n,i),t.index+=e.length,u(e,!1))})},function(e,t,n){"use strict";var r=n(30),i=n(21),o=n(57),a=n(539),u=n(88),s=n(100),c=[].push;e.exports=function(e){var t,n,l,f,h=arguments.length,d=h>1?arguments[1]:void 0;return a(this),(t=void 0!==d)&&o(d),u(e)?new this:(n=[],t?(l=0,f=r(d,h>2?arguments[2]:void 0),s(e,function(e){i(c,n,f(e,l++))})):s(e,c,{that:n}),new this(n))}},function(e,t,n){"use strict";var r=n(226);e.exports=function(){return new this(r(arguments))}},function(e,t,n){var r=n(16);e.exports=r([].slice)},function(e,t,n){var r=n(36),i=n(552),o=n(553),a=n(194),u=n(135),s=n(28),c=s("iterator"),l=s("toStringTag"),f=a.values,h=function(e,t){if(e){if(e[c]!==f)try{u(e,c,f)}catch(r){e[c]=f}if(e[l]||u(e,l,t),i[t])for(var n in a)if(e[n]!==a[n])try{u(e,n,a[n])}catch(r){e[n]=a[n]}}};for(var d in i)h(r[d]&&r[d].prototype,d);h(o,"DOMTokenList")},function(e,t,n){var r=n(28);t.f=r},function(e,t,n){var r=n(21),i=n(63),o=n(28),a=n(76);e.exports=function(){var e=i("Symbol"),t=e&&e.prototype,n=t&&t.valueOf,u=o("toPrimitive");t&&!t[u]&&a(t,u,function(e){return r(n,this)},{arity:1})}},function(e,t,n){var r=n(587);e.exports=function(e,t){return new(r(e))(0===t?0:t)}},function(e,t,n){var r=n(97);e.exports=r&&!!Symbol.for&&!!Symbol.keyFor},function(e,t,n){"use strict";var r=n(619);function i(){}var o=null,a={};function u(e){if("object"!==typeof this)throw new TypeError("Promises must be constructed via new");if("function"!==typeof e)throw new TypeError("Promise constructor's argument is not a function");this._x=0,this._y=0,this._z=null,this._A=null,e!==i&&d(e,this)}function s(e,t){for(;3===e._y;)e=e._z;if(u._B&&u._B(e),0===e._y)return 0===e._x?(e._x=1,void(e._A=t)):1===e._x?(e._x=2,void(e._A=[e._A,t])):void e._A.push(t);!function(e,t){r(function(){var n=1===e._y?t.onFulfilled:t.onRejected;if(null!==n){var r=function(e,t){try{return e(t)}catch(n){return o=n,a}}(n,e._z);r===a?l(t.promise,o):c(t.promise,r)}else 1===e._y?c(t.promise,e._z):l(t.promise,e._z)})}(e,t)}function c(e,t){if(t===e)return l(e,new TypeError("A promise cannot be resolved with itself."));if(t&&("object"===typeof t||"function"===typeof t)){var n=function(e){try{return e.then}catch(t){return o=t,a}}(t);if(n===a)return l(e,o);if(n===e.then&&t instanceof u)return e._y=3,e._z=t,void f(e);if("function"===typeof n)return void d(n.bind(t),e)}e._y=1,e._z=t,f(e)}function l(e,t){e._y=2,e._z=t,u._C&&u._C(e,t),f(e)}function f(e){if(1===e._x&&(s(e,e._A),e._A=null),2===e._x){for(var t=0;t<e._A.length;t++)s(e,e._A[t]);e._A=null}}function h(e,t,n){this.onFulfilled="function"===typeof e?e:null,this.onRejected="function"===typeof t?t:null,this.promise=n}function d(e,t){var n=!1,r=function(e,t,n){try{e(t,n)}catch(r){return o=r,a}}(e,function(e){n||(n=!0,c(t,e))},function(e){n||(n=!0,l(t,e))});n||r!==a||(n=!0,l(t,o))}e.exports=u,u._B=null,u._C=null,u._D=i,u.prototype.then=function(e,t){if(this.constructor!==u)return function(e,t,n){return new e.constructor(function(r,o){var a=new u(i);a.then(r,o),s(e,new h(t,n,a))})}(this,e,t);var n=new u(i);return s(this,new h(e,t,n)),n}},function(e,t,n){"use strict";function r(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}n.d(t,"a",function(){return r})},function(e,t,n){"use strict";function r(e){if(Array.isArray(e))return e}n.d(t,"a",function(){return r})},function(e,t,n){"use strict";function r(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}n.d(t,"a",function(){return r})},function(e,t,n){var r=n(120).default,i=n(632);e.exports=function(e){var t=i(e,"string");return"symbol"===r(t)?t:String(t)},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,n){var r=n(634).Symbol;e.exports=r},function(e,t,n){(function(t){var n="object"==typeof t&&t&&t.Object===Object&&t;e.exports=n}).call(this,n(62))},function(e,t){e.exports=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,n){"use strict";var r=n(107),i=n(154),o=Object(i.a)(function(e,t,n){Object(r.a)(e,t,n)});t.a=o},function(e,t,n){"use strict";var r=n(140),i=n(12),o="Expected a function";t.a=function(e,t,n){var a=!0,u=!0;if("function"!=typeof e)throw new TypeError(o);return Object(i.a)(n)&&(a="leading"in n?!!n.leading:a,u="trailing"in n?!!n.trailing:u),Object(r.a)(e,t,{leading:a,maxWait:t,trailing:u})}},function(e,t,n){var r=n(183),i=n(184),o="[object Number]";e.exports=function(e){return"number"==typeof e||i(e)&&r(e)==o}},function(e,t){var n=Array.isArray;e.exports=n},function(e,t,n){e.exports=function(){"use strict";var e=function(e){return e instanceof Uint8Array||e instanceof Uint16Array||e instanceof Uint32Array||e instanceof Int8Array||e instanceof Int16Array||e instanceof Int32Array||e instanceof Float32Array||e instanceof Float64Array||e instanceof Uint8ClampedArray},t=function(e,t){for(var n=Object.keys(t),r=0;r<n.length;++r)e[n[r]]=t[n[r]];return e},n="\n";function r(e){var t=new Error("(regl) "+e);throw console.error(t),t}function i(e,t){e||r(t)}function o(e){return e?": "+e:""}function a(e,t){switch(t){case"number":return"number"===typeof e;case"object":return"object"===typeof e;case"string":return"string"===typeof e;case"boolean":return"boolean"===typeof e;case"function":return"function"===typeof e;case"undefined":return"undefined"===typeof e;case"symbol":return"symbol"===typeof e}}function u(e,t,n){t.indexOf(e)<0&&r("invalid value"+o(n)+". must be one of: "+t)}var s=["gl","canvas","container","attributes","pixelRatio","extensions","optionalExtensions","profile","onDone"];function c(e,t){for(e+="";e.length<t;)e=" "+e;return e}function l(){this.name="unknown",this.lines=[],this.index={},this.hasErrors=!1}function f(e,t){this.number=e,this.line=t,this.errors=[]}function h(e,t,n){this.file=e,this.line=t,this.message=n}function d(){var e=new Error,t=(e.stack||e).toString(),n=/compileProcedure.*\n\s*at.*\((.*)\)/.exec(t);if(n)return n[1];var r=/compileProcedure.*\n\s*at\s+(.*)(\n|$)/.exec(t);return r?r[1]:"unknown"}function p(){var e=new Error,t=(e.stack||e).toString(),n=/at REGLCommand.*\n\s+at.*\((.*)\)/.exec(t);if(n)return n[1];var r=/at REGLCommand.*\n\s+at\s+(.*)\n/.exec(t);return r?r[1]:"unknown"}function v(e,t){var n,r=e.split("\n"),i=1,o=0,a={unknown:new l,0:new l};a.unknown.name=a[0].name=t||d(),a.unknown.lines.push(new f(0,""));for(var u=0;u<r.length;++u){var s=r[u],c=/^\s*#\s*(\w+)\s+(.+)\s*$/.exec(s);if(c)switch(c[1]){case"line":var h=/(\d+)(\s+\d+)?/.exec(c[2]);h&&(i=0|h[1],h[2]&&((o=0|h[2])in a||(a[o]=new l)));break;case"define":var p=/SHADER_NAME(_B64)?\s+(.*)$/.exec(c[2]);p&&(a[o].name=p[1]?(n=p[2],"undefined"!==typeof atob?atob(n):"base64:"+n):p[2])}a[o].lines.push(new f(i++,s))}return Object.keys(a).forEach(function(e){var t=a[e];t.lines.forEach(function(e){t.index[e.number]=e})}),a}function g(e){e._commandRef=d()}function y(e,t){var n=p();r(e+" in command "+(t||d())+("unknown"===n?"":" called from "+n))}function m(e,t,n,r){a(e,t)||y("invalid parameter type"+o(n)+". expected "+t+", got "+typeof e,r||d())}var b=33071,w=9728,E=9984,x=9985,k=9986,O=9987,S=5126,A=32819,T=32820,j=33635,C=34042,_={};function P(e,t){return e===T||e===A||e===j?2:e===C?4:_[e]*t}function M(e){return!(e&e-1)&&!!e}_[5120]=_[5121]=1,_[5122]=_[5123]=_[36193]=_[j]=_[A]=_[T]=2,_[5124]=_[5125]=_[S]=_[C]=4;var N=t(i,{optional:function(e){e()},raise:r,commandRaise:y,command:function(e,t,n){e||y(t,n||d())},parameter:function(e,t,n){e in t||r("unknown parameter ("+e+")"+o(n)+". possible values: "+Object.keys(t).join())},commandParameter:function(e,t,n,r){e in t||y("unknown parameter ("+e+")"+o(n)+". possible values: "+Object.keys(t).join(),r||d())},constructor:function(e){Object.keys(e).forEach(function(e){s.indexOf(e)<0&&r('invalid regl constructor argument "'+e+'". must be one of '+s)})},type:function(e,t,n){a(e,t)||r("invalid parameter type"+o(n)+". expected "+t+", got "+typeof e)},commandType:m,isTypedArray:function(t,n){e(t)||r("invalid parameter type"+o(n)+". must be a typed array")},nni:function(e,t){e>=0&&(0|e)===e||r("invalid parameter type, ("+e+")"+o(t)+". must be a nonnegative integer")},oneOf:u,shaderError:function(e,t,r,o,a){if(!e.getShaderParameter(t,e.COMPILE_STATUS)){var u=e.getShaderInfoLog(t),s=o===e.FRAGMENT_SHADER?"fragment":"vertex";m(r,"string",s+" shader source must be a string",a);var l=v(r,a),f=function(e){var t=[];return e.split("\n").forEach(function(e){if(!(e.length<5)){var n=/^ERROR:\s+(\d+):(\d+):\s*(.*)$/.exec(e);n?t.push(new h(0|n[1],0|n[2],n[3].trim())):e.length>0&&t.push(new h("unknown",0,e))}}),t}(u);!function(e,t){t.forEach(function(t){var n=e[t.file];if(n){var r=n.index[t.line];if(r)return r.errors.push(t),void(n.hasErrors=!0)}e.unknown.hasErrors=!0,e.unknown.lines[0].errors.push(t)})}(l,f),Object.keys(l).forEach(function(e){var t=l[e];if(t.hasErrors){var r=[""],i=[""];o("file number "+e+": "+t.name+"\n","color:red;text-decoration:underline;font-weight:bold"),t.lines.forEach(function(e){if(e.errors.length>0){o(c(e.number,4)+"|  ","background-color:yellow; font-weight:bold"),o(e.line+n,"color:red; background-color:yellow; font-weight:bold");var t=0;e.errors.forEach(function(r){var i=r.message,a=/^\s*'(.*)'\s*:\s*(.*)$/.exec(i);if(a){var u=a[1];switch(i=a[2],u){case"assign":u="="}t=Math.max(e.line.indexOf(u,t),0)}else t=0;o(c("| ",6)),o(c("^^^",t+3)+n,"font-weight:bold"),o(c("| ",6)),o(i+n,"font-weight:bold")}),o(c("| ",6)+n)}else o(c(e.number,4)+"|  "),o(e.line+n,"color:red")}),"undefined"===typeof document||window.chrome?console.log(r.join("")):(i[0]=r.join("%c"),console.log.apply(console,i))}function o(e,t){r.push(e),i.push(t||"")}}),i.raise("Error compiling "+s+" shader, "+l[0].name)}},linkError:function(e,t,r,o,a){if(!e.getProgramParameter(t,e.LINK_STATUS)){var u=e.getProgramInfoLog(t),s=v(r,a),c=v(o,a),l='Error linking program with vertex shader, "'+c[0].name+'", and fragment shader "'+s[0].name+'"';"undefined"!==typeof document?console.log("%c"+l+n+"%c"+u,"color:red;text-decoration:underline;font-weight:bold","color:red"):console.log(l+n+u),i.raise(l)}},callSite:p,saveCommandRef:g,saveDrawInfo:function(e,t,n,r){function i(e){return e?r.id(e):0}function o(e,t){Object.keys(t).forEach(function(t){e[r.id(t)]=!0})}g(e),e._fragId=i(e.static.frag),e._vertId=i(e.static.vert);var a=e._uniformSet={};o(a,t.static),o(a,t.dynamic);var u=e._attributeSet={};o(u,n.static),o(u,n.dynamic),e._hasCount="count"in e.static||"count"in e.dynamic||"elements"in e.static||"elements"in e.dynamic},framebufferFormat:function(e,t,n){e.texture?u(e.texture._texture.internalformat,t,"unsupported texture format for attachment"):u(e.renderbuffer._renderbuffer.format,n,"unsupported renderbuffer format for attachment")},guessCommand:d,texture2D:function(e,t,n){var r,o=t.width,a=t.height,u=t.channels;i(o>0&&o<=n.maxTextureSize&&a>0&&a<=n.maxTextureSize,"invalid texture shape"),(e.wrapS!==b||e.wrapT!==b)&&i(M(o)&&M(a),"incompatible wrap mode for texture, both width and height must be power of 2"),1===t.mipmask?1!==o&&1!==a&&i(e.minFilter!==E&&e.minFilter!==k&&e.minFilter!==x&&e.minFilter!==O,"min filter requires mipmap"):(i(M(o)&&M(a),"texture must be a square power of 2 to support mipmapping"),i(t.mipmask===(o<<1)-1,"missing or incomplete mipmap data")),t.type===S&&(n.extensions.indexOf("oes_texture_float_linear")<0&&i(e.minFilter===w&&e.magFilter===w,"filter not supported, must enable oes_texture_float_linear"),i(!e.genMipmaps,"mipmap generation not supported with float textures"));var s=t.images;for(r=0;r<16;++r)if(s[r]){var c=o>>r,l=a>>r;i(t.mipmask&1<<r,"missing mipmap data");var f=s[r];if(i(f.width===c&&f.height===l,"invalid shape for mip images"),i(f.format===t.format&&f.internalformat===t.internalformat&&f.type===t.type,"incompatible type for mip image"),f.compressed);else if(f.data){var h=Math.ceil(P(f.type,u)*c/f.unpackAlignment)*f.unpackAlignment;i(f.data.byteLength===h*l,"invalid data for image, buffer size is inconsistent with image format")}else f.element||f.copy}else e.genMipmaps||i(0===(t.mipmask&1<<r),"extra mipmap data");t.compressed&&i(!e.genMipmaps,"mipmap generation for compressed images not supported")},textureCube:function(e,t,n,r){var o=e.width,a=e.height,u=e.channels;i(o>0&&o<=r.maxTextureSize&&a>0&&a<=r.maxTextureSize,"invalid texture shape"),i(o===a,"cube map must be square"),i(t.wrapS===b&&t.wrapT===b,"wrap mode not supported by cube map");for(var s=0;s<n.length;++s){var c=n[s];i(c.width===o&&c.height===a,"inconsistent cube map face shape"),t.genMipmaps&&(i(!c.compressed,"can not generate mipmap for compressed textures"),i(1===c.mipmask,"can not specify mipmaps and generate mipmaps"));for(var l=c.images,f=0;f<16;++f){var h=l[f];if(h){var d=o>>f,p=a>>f;i(c.mipmask&1<<f,"missing mipmap data"),i(h.width===d&&h.height===p,"invalid shape for mip images"),i(h.format===e.format&&h.internalformat===e.internalformat&&h.type===e.type,"incompatible type for mip image"),h.compressed||(h.data?i(h.data.byteLength===d*p*Math.max(P(h.type,u),h.unpackAlignment),"invalid data for image, buffer size is inconsistent with image format"):h.element||h.copy)}}}}}),R=0,L=0,I=5,D=6;function B(e,t){this.id=R++,this.type=e,this.data=t}function F(e){return e.replace(/\\/g,"\\\\").replace(/"/g,'\\"')}function z(e){return"["+function e(t){if(0===t.length)return[];var n=t.charAt(0),r=t.charAt(t.length-1);if(t.length>1&&n===r&&('"'===n||"'"===n))return['"'+F(t.substr(1,t.length-2))+'"'];var i=/\[(false|true|null|\d+|'[^']*'|"[^"]*")\]/.exec(t);if(i)return e(t.substr(0,i.index)).concat(e(i[1])).concat(e(t.substr(i.index+i[0].length)));var o=t.split(".");if(1===o.length)return['"'+F(t)+'"'];for(var a=[],u=0;u<o.length;++u)a=a.concat(e(o[u]));return a}(e).join("][")+"]"}var V={DynamicVariable:B,define:function(e,t){return new B(e,z(t+""))},isDynamic:function(e){return"function"===typeof e&&!e._reglType||e instanceof B},unbox:function e(t,n){return"function"===typeof t?new B(L,t):"number"===typeof t||"boolean"===typeof t?new B(I,t):Array.isArray(t)?new B(D,t.map(function(t,r){return e(t,n+"["+r+"]")})):t instanceof B?t:void N(!1,"invalid option type in uniform "+n)},accessor:z},U={next:"function"===typeof requestAnimationFrame?function(e){return requestAnimationFrame(e)}:function(e){return setTimeout(e,16)},cancel:"function"===typeof cancelAnimationFrame?function(e){return cancelAnimationFrame(e)}:clearTimeout},G="undefined"!==typeof performance&&performance.now?function(){return performance.now()}:function(){return+new Date};function H(e){return"string"===typeof e?e.split():(N(Array.isArray(e),"invalid extension array"),e)}function W(e){return"string"===typeof e?(N("undefined"!==typeof document,"not supported outside of DOM"),document.querySelector(e)):e}function q(e){var n,r,i,o,a,u=e||{},s={},c=[],l=[],f="undefined"===typeof window?1:window.devicePixelRatio,h=!1,d=function(e){e&&N.raise(e)},p=function(){};if("string"===typeof u?(N("undefined"!==typeof document,"selector queries only supported in DOM enviroments"),n=document.querySelector(u),N(n,"invalid query string for element")):"object"===typeof u?"string"===typeof(a=u).nodeName&&"function"===typeof a.appendChild&&"function"===typeof a.getBoundingClientRect?n=u:function(e){return"function"===typeof e.drawArrays||"function"===typeof e.drawElements}(u)?i=(o=u).canvas:(N.constructor(u),"gl"in u?o=u.gl:"canvas"in u?i=W(u.canvas):"container"in u&&(r=W(u.container)),"attributes"in u&&(s=u.attributes,N.type(s,"object","invalid context attributes")),"extensions"in u&&(c=H(u.extensions)),"optionalExtensions"in u&&(l=H(u.optionalExtensions)),"onDone"in u&&(N.type(u.onDone,"function","invalid or missing onDone callback"),d=u.onDone),"profile"in u&&(h=!!u.profile),"pixelRatio"in u&&(f=+u.pixelRatio,N(f>0,"invalid pixel ratio"))):N.raise("invalid arguments to regl"),n&&("canvas"===n.nodeName.toLowerCase()?i=n:r=n),!o){if(!i){N("undefined"!==typeof document,"must manually specify webgl context outside of DOM environments");var v=function(e,n,r){var i,o=document.createElement("canvas");function a(){var n=window.innerWidth,i=window.innerHeight;if(e!==document.body){var a=e.getBoundingClientRect();n=a.right-a.left,i=a.bottom-a.top}o.width=r*n,o.height=r*i,t(o.style,{width:n+"px",height:i+"px"})}return t(o.style,{border:0,margin:0,padding:0,top:0,left:0}),e.appendChild(o),e===document.body&&(o.style.position="absolute",t(e.style,{margin:0,padding:0})),e!==document.body&&"function"===typeof ResizeObserver?(i=new ResizeObserver(function(){setTimeout(a)})).observe(e):window.addEventListener("resize",a,!1),a(),{canvas:o,onDestroy:function(){i?i.disconnect():window.removeEventListener("resize",a),e.removeChild(o)}}}(r||document.body,0,f);if(!v)return null;i=v.canvas,p=v.onDestroy}void 0===s.premultipliedAlpha&&(s.premultipliedAlpha=!0),o=function(e,t){function n(n){try{return e.getContext(n,t)}catch(r){return null}}return n("webgl")||n("experimental-webgl")||n("webgl-experimental")}(i,s)}return o?{gl:o,canvas:i,container:r,extensions:c,optionalExtensions:l,pixelRatio:f,profile:h,onDone:d,onDestroy:p}:(p(),d("webgl not supported, try upgrading your browser or graphics drivers http://get.webgl.org"),null)}function X(e,t){for(var n=Array(e),r=0;r<e;++r)n[r]=t(r);return n}var Y=5120,$=5121,J=5122,Q=5123,K=5124,Z=5125,ee=5126;function te(e){var t,n;return t=(e>65535)<<4,t|=n=((e>>>=t)>255)<<3,t|=n=((e>>>=n)>15)<<2,(t|=n=((e>>>=n)>3)<<1)|(e>>>=n)>>1}function ne(){var e=X(8,function(){return[]});function t(t){var n=function(e){for(var t=16;t<=1<<28;t*=16)if(e<=t)return t;return 0}(t),r=e[te(n)>>2];return r.length>0?r.pop():new ArrayBuffer(n)}function n(t){e[te(t.byteLength)>>2].push(t)}return{alloc:t,free:n,allocType:function(e,n){var r=null;switch(e){case Y:r=new Int8Array(t(n),0,n);break;case $:r=new Uint8Array(t(n),0,n);break;case J:r=new Int16Array(t(2*n),0,n);break;case Q:r=new Uint16Array(t(2*n),0,n);break;case K:r=new Int32Array(t(4*n),0,n);break;case Z:r=new Uint32Array(t(4*n),0,n);break;case ee:r=new Float32Array(t(4*n),0,n);break;default:return null}return r.length!==n?r.subarray(0,n):r},freeType:function(e){n(e.buffer)}}}var re=ne();re.zero=ne();var ie=function(e,t){var n=1;t.ext_texture_filter_anisotropic&&(n=e.getParameter(34047));var r=1,i=1;t.webgl_draw_buffers&&(r=e.getParameter(34852),i=e.getParameter(36063));var o=!!t.oes_texture_float;if(o){var a=e.createTexture();e.bindTexture(3553,a),e.texImage2D(3553,0,6408,1,1,0,6408,5126,null);var u=e.createFramebuffer();if(e.bindFramebuffer(36160,u),e.framebufferTexture2D(36160,36064,3553,a,0),e.bindTexture(3553,null),36053!==e.checkFramebufferStatus(36160))o=!1;else{e.viewport(0,0,1,1),e.clearColor(1,0,0,1),e.clear(16384);var s=re.allocType(5126,4);e.readPixels(0,0,1,1,6408,5126,s),e.getError()?o=!1:(e.deleteFramebuffer(u),e.deleteTexture(a),o=1===s[0]),re.freeType(s)}}var c="undefined"!==typeof navigator&&(/MSIE/.test(navigator.userAgent)||/Trident\//.test(navigator.appVersion)||/Edge/.test(navigator.userAgent)),l=!0;if(!c){var f=e.createTexture(),h=re.allocType(5121,36);e.activeTexture(33984),e.bindTexture(34067,f),e.texImage2D(34069,0,6408,3,3,0,6408,5121,h),re.freeType(h),e.bindTexture(34067,null),e.deleteTexture(f),l=!e.getError()}return{colorBits:[e.getParameter(3410),e.getParameter(3411),e.getParameter(3412),e.getParameter(3413)],depthBits:e.getParameter(3414),stencilBits:e.getParameter(3415),subpixelBits:e.getParameter(3408),extensions:Object.keys(t).filter(function(e){return!!t[e]}),maxAnisotropic:n,maxDrawbuffers:r,maxColorAttachments:i,pointSizeDims:e.getParameter(33901),lineWidthDims:e.getParameter(33902),maxViewportDims:e.getParameter(3386),maxCombinedTextureUnits:e.getParameter(35661),maxCubeMapSize:e.getParameter(34076),maxRenderbufferSize:e.getParameter(34024),maxTextureUnits:e.getParameter(34930),maxTextureSize:e.getParameter(3379),maxAttributes:e.getParameter(34921),maxVertexUniforms:e.getParameter(36347),maxVertexTextureUnits:e.getParameter(35660),maxVaryingVectors:e.getParameter(36348),maxFragmentUniforms:e.getParameter(36349),glsl:e.getParameter(35724),renderer:e.getParameter(7937),vendor:e.getParameter(7936),version:e.getParameter(7938),readFloat:o,npotTextureCube:l}};function oe(t){return!!t&&"object"===typeof t&&Array.isArray(t.shape)&&Array.isArray(t.stride)&&"number"===typeof t.offset&&t.shape.length===t.stride.length&&(Array.isArray(t.data)||e(t.data))}var ae=function(e){return Object.keys(e).map(function(t){return e[t]})},ue={shape:function(e){for(var t=[],n=e;n.length;n=n[0])t.push(n.length);return t},flatten:function(e,t,n,r){var i=1;if(t.length)for(var o=0;o<t.length;++o)i*=t[o];else i=0;var a=r||re.allocType(n,i);switch(t.length){case 0:break;case 1:!function(e,t,n){for(var r=0;r<t;++r)n[r]=e[r]}(e,t[0],a);break;case 2:!function(e,t,n,r){for(var i=0,o=0;o<t;++o)for(var a=e[o],u=0;u<n;++u)r[i++]=a[u]}(e,t[0],t[1],a);break;case 3:se(e,t[0],t[1],t[2],a,0);break;default:!function e(t,n,r,i,o){for(var a=1,u=r+1;u<n.length;++u)a*=n[u];var s=n[r];if(n.length-r===4){var c=n[r+1],l=n[r+2],f=n[r+3];for(u=0;u<s;++u)se(t[u],c,l,f,i,o),o+=a}else for(u=0;u<s;++u)e(t[u],n,r+1,i,o),o+=a}(e,t,0,a,0)}return a}};function se(e,t,n,r,i,o){for(var a=o,u=0;u<t;++u)for(var s=e[u],c=0;c<n;++c)for(var l=s[c],f=0;f<r;++f)i[a++]=l[f]}var ce={"[object Int8Array]":5120,"[object Int16Array]":5122,"[object Int32Array]":5124,"[object Uint8Array]":5121,"[object Uint8ClampedArray]":5121,"[object Uint16Array]":5123,"[object Uint32Array]":5125,"[object Float32Array]":5126,"[object Float64Array]":5121,"[object ArrayBuffer]":5121},le={int8:5120,int16:5122,int32:5124,uint8:5121,uint16:5123,uint32:5125,float:5126,float32:5126},fe={dynamic:35048,stream:35040,static:35044},he=ue.flatten,de=ue.shape,pe=35044,ve=35040,ge=5121,ye=5126,me=[];function be(e){return 0|ce[Object.prototype.toString.call(e)]}function we(e,t){for(var n=0;n<t.length;++n)e[n]=t[n]}function Ee(e,t,n,r,i,o,a){for(var u=0,s=0;s<n;++s)for(var c=0;c<r;++c)e[u++]=t[i*s+o*c+a]}me[5120]=1,me[5122]=2,me[5124]=4,me[5121]=1,me[5123]=2,me[5125]=4,me[5126]=4;var xe={points:0,point:0,lines:1,line:1,triangles:4,triangle:4,"line loop":2,"line strip":3,"triangle strip":5,"triangle fan":6},ke=0,Oe=1,Se=4,Ae=5120,Te=5121,je=5122,Ce=5123,_e=5124,Pe=5125,Me=34963,Ne=35040,Re=35044,Le=new Float32Array(1),Ie=new Uint32Array(Le.buffer),De=5123;function Be(e){for(var t=re.allocType(De,e.length),n=0;n<e.length;++n)if(isNaN(e[n]))t[n]=65535;else if(e[n]===1/0)t[n]=31744;else if(e[n]===-1/0)t[n]=64512;else{Le[0]=e[n];var r=Ie[0],i=r>>>31<<15,o=(r<<1>>>24)-127,a=r>>13&1023;if(o<-24)t[n]=i;else if(o<-14){var u=-14-o;t[n]=i+(a+1024>>u)}else t[n]=o>15?i+31744:i+(o+15<<10)+a}return t}function Fe(t){return Array.isArray(t)||e(t)}var ze=function(e){return!(e&e-1)&&!!e},Ve=34467,Ue=3553,Ge=34067,He=34069,We=6408,qe=6406,Xe=6407,Ye=6409,$e=6410,Je=32854,Qe=32855,Ke=36194,Ze=32819,et=32820,tt=33635,nt=34042,rt=6402,it=34041,ot=35904,at=35906,ut=36193,st=33776,ct=33777,lt=33778,ft=33779,ht=35986,dt=35987,pt=34798,vt=35840,gt=35841,yt=35842,mt=35843,bt=36196,wt=5121,Et=5123,xt=5125,kt=5126,Ot=10242,St=10243,At=10497,Tt=33071,jt=33648,Ct=10240,_t=10241,Pt=9728,Mt=9729,Nt=9984,Rt=9985,Lt=9986,It=9987,Dt=33170,Bt=4352,Ft=4353,zt=4354,Vt=34046,Ut=3317,Gt=37440,Ht=37441,Wt=37443,qt=37444,Xt=33984,Yt=[Nt,Lt,Rt,It],$t=[0,Ye,$e,Xe,We],Jt={};function Qt(e){return"[object "+e+"]"}Jt[Ye]=Jt[qe]=Jt[rt]=1,Jt[it]=Jt[$e]=2,Jt[Xe]=Jt[ot]=3,Jt[We]=Jt[at]=4;var Kt=Qt("HTMLCanvasElement"),Zt=Qt("OffscreenCanvas"),en=Qt("CanvasRenderingContext2D"),tn=Qt("ImageBitmap"),nn=Qt("HTMLImageElement"),rn=Qt("HTMLVideoElement"),on=Object.keys(ce).concat([Kt,Zt,en,tn,nn,rn]),an=[];an[wt]=1,an[kt]=4,an[ut]=2,an[Et]=2,an[xt]=4;var un=[];function sn(e){return Array.isArray(e)&&(0===e.length||"number"===typeof e[0])}function cn(e){if(!Array.isArray(e))return!1;var t=e.length;return!(0===t||!Fe(e[0]))}function ln(e){return Object.prototype.toString.call(e)}function fn(e){return ln(e)===Kt}function hn(e){return ln(e)===Zt}function dn(e){if(!e)return!1;var t=ln(e);return on.indexOf(t)>=0||sn(e)||cn(e)||oe(e)}function pn(e){return 0|ce[Object.prototype.toString.call(e)]}function vn(e,t){return re.allocType(e.type===ut?kt:e.type,t)}function gn(e,t){e.type===ut?(e.data=Be(t),re.freeType(t)):e.data=t}function yn(e,t,n,r,i,o){var a;if(a="undefined"!==typeof un[e]?un[e]:Jt[e]*an[t],o&&(a*=6),i){for(var u=0,s=n;s>=1;)u+=a*s*s,s/=2;return u}return a*n*r}function mn(n,r,i,o,a,u,s){var c={"don't care":Bt,"dont care":Bt,nice:zt,fast:Ft},l={repeat:At,clamp:Tt,mirror:jt},f={nearest:Pt,linear:Mt},h=t({mipmap:It,"nearest mipmap nearest":Nt,"linear mipmap nearest":Rt,"nearest mipmap linear":Lt,"linear mipmap linear":It},f),d={none:0,browser:qt},p={uint8:wt,rgba4:Ze,rgb565:tt,"rgb5 a1":et},v={alpha:qe,luminance:Ye,"luminance alpha":$e,rgb:Xe,rgba:We,rgba4:Je,"rgb5 a1":Qe,rgb565:Ke},g={};r.ext_srgb&&(v.srgb=ot,v.srgba=at),r.oes_texture_float&&(p.float32=p.float=kt),r.oes_texture_half_float&&(p.float16=p["half float"]=ut),r.webgl_depth_texture&&(t(v,{depth:rt,"depth stencil":it}),t(p,{uint16:Et,uint32:xt,"depth stencil":nt})),r.webgl_compressed_texture_s3tc&&t(g,{"rgb s3tc dxt1":st,"rgba s3tc dxt1":ct,"rgba s3tc dxt3":lt,"rgba s3tc dxt5":ft}),r.webgl_compressed_texture_atc&&t(g,{"rgb atc":ht,"rgba atc explicit alpha":dt,"rgba atc interpolated alpha":pt}),r.webgl_compressed_texture_pvrtc&&t(g,{"rgb pvrtc 4bppv1":vt,"rgb pvrtc 2bppv1":gt,"rgba pvrtc 4bppv1":yt,"rgba pvrtc 2bppv1":mt}),r.webgl_compressed_texture_etc1&&(g["rgb etc1"]=bt);var y=Array.prototype.slice.call(n.getParameter(Ve));Object.keys(g).forEach(function(e){var t=g[e];y.indexOf(t)>=0&&(v[e]=t)});var m=Object.keys(v);i.textureFormats=m;var b=[];Object.keys(v).forEach(function(e){var t=v[e];b[t]=e});var w=[];Object.keys(p).forEach(function(e){var t=p[e];w[t]=e});var E=[];Object.keys(f).forEach(function(e){var t=f[e];E[t]=e});var x=[];Object.keys(h).forEach(function(e){var t=h[e];x[t]=e});var k=[];Object.keys(l).forEach(function(e){var t=l[e];k[t]=e});var O=m.reduce(function(e,t){var n=v[t];return n===Ye||n===qe||n===Ye||n===$e||n===rt||n===it||r.ext_srgb&&(n===ot||n===at)?e[n]=n:n===Qe||t.indexOf("rgba")>=0?e[n]=We:e[n]=Xe,e},{});function S(){this.internalformat=We,this.format=We,this.type=wt,this.compressed=!1,this.premultiplyAlpha=!1,this.flipY=!1,this.unpackAlignment=1,this.colorSpace=qt,this.width=0,this.height=0,this.channels=0}function A(e,t){e.internalformat=t.internalformat,e.format=t.format,e.type=t.type,e.compressed=t.compressed,e.premultiplyAlpha=t.premultiplyAlpha,e.flipY=t.flipY,e.unpackAlignment=t.unpackAlignment,e.colorSpace=t.colorSpace,e.width=t.width,e.height=t.height,e.channels=t.channels}function T(e,t){if("object"===typeof t&&t){if("premultiplyAlpha"in t&&(N.type(t.premultiplyAlpha,"boolean","invalid premultiplyAlpha"),e.premultiplyAlpha=t.premultiplyAlpha),"flipY"in t&&(N.type(t.flipY,"boolean","invalid texture flip"),e.flipY=t.flipY),"alignment"in t&&(N.oneOf(t.alignment,[1,2,4,8],"invalid texture unpack alignment"),e.unpackAlignment=t.alignment),"colorSpace"in t&&(N.parameter(t.colorSpace,d,"invalid colorSpace"),e.colorSpace=d[t.colorSpace]),"type"in t){var n=t.type;N(r.oes_texture_float||!("float"===n||"float32"===n),"you must enable the OES_texture_float extension in order to use floating point textures."),N(r.oes_texture_half_float||!("half float"===n||"float16"===n),"you must enable the OES_texture_half_float extension in order to use 16-bit floating point textures."),N(r.webgl_depth_texture||!("uint16"===n||"uint32"===n||"depth stencil"===n),"you must enable the WEBGL_depth_texture extension in order to use depth/stencil textures."),N.parameter(n,p,"invalid texture type"),e.type=p[n]}var o=e.width,a=e.height,u=e.channels,s=!1;"shape"in t?(N(Array.isArray(t.shape)&&t.shape.length>=2,"shape must be an array"),o=t.shape[0],a=t.shape[1],3===t.shape.length&&(u=t.shape[2],N(u>0&&u<=4,"invalid number of channels"),s=!0),N(o>=0&&o<=i.maxTextureSize,"invalid width"),N(a>=0&&a<=i.maxTextureSize,"invalid height")):("radius"in t&&(o=a=t.radius,N(o>=0&&o<=i.maxTextureSize,"invalid radius")),"width"in t&&(o=t.width,N(o>=0&&o<=i.maxTextureSize,"invalid width")),"height"in t&&(a=t.height,N(a>=0&&a<=i.maxTextureSize,"invalid height")),"channels"in t&&(u=t.channels,N(u>0&&u<=4,"invalid number of channels"),s=!0)),e.width=0|o,e.height=0|a,e.channels=0|u;var c=!1;if("format"in t){var l=t.format;N(r.webgl_depth_texture||!("depth"===l||"depth stencil"===l),"you must enable the WEBGL_depth_texture extension in order to use depth/stencil textures."),N.parameter(l,v,"invalid texture format");var f=e.internalformat=v[l];e.format=O[f],l in p&&("type"in t||(e.type=p[l])),l in g&&(e.compressed=!0),c=!0}!s&&c?e.channels=Jt[e.format]:s&&!c?e.channels!==$t[e.format]&&(e.format=e.internalformat=$t[e.channels]):c&&s&&N(e.channels===Jt[e.format],"number of channels inconsistent with specified format")}}function j(e){n.pixelStorei(Gt,e.flipY),n.pixelStorei(Ht,e.premultiplyAlpha),n.pixelStorei(Wt,e.colorSpace),n.pixelStorei(Ut,e.unpackAlignment)}function C(){S.call(this),this.xOffset=0,this.yOffset=0,this.data=null,this.needsFree=!1,this.element=null,this.needsCopy=!1}function _(t,n){var r=null;if(dn(n)?r=n:n&&(N.type(n,"object","invalid pixel data type"),T(t,n),"x"in n&&(t.xOffset=0|n.x),"y"in n&&(t.yOffset=0|n.y),dn(n.data)&&(r=n.data)),N(!t.compressed||r instanceof Uint8Array,"compressed texture data must be stored in a uint8array"),n.copy){N(!r,"can not specify copy and data field for the same texture");var o=a.viewportWidth,u=a.viewportHeight;t.width=t.width||o-t.xOffset,t.height=t.height||u-t.yOffset,t.needsCopy=!0,N(t.xOffset>=0&&t.xOffset<o&&t.yOffset>=0&&t.yOffset<u&&t.width>0&&t.width<=o&&t.height>0&&t.height<=u,"copy texture read out of bounds")}else if(r){if(e(r))t.channels=t.channels||4,t.data=r,"type"in n||t.type!==wt||(t.type=pn(r));else if(sn(r))t.channels=t.channels||4,function(e,t){var n=t.length;switch(e.type){case wt:case Et:case xt:case kt:var r=re.allocType(e.type,n);r.set(t),e.data=r;break;case ut:e.data=Be(t);break;default:N.raise("unsupported texture type, must specify a typed array")}}(t,r),t.alignment=1,t.needsFree=!0;else if(oe(r)){var s=r.data;Array.isArray(s)||t.type!==wt||(t.type=pn(s));var c,l,f,h,d,p,v=r.shape,g=r.stride;3===v.length?(f=v[2],p=g[2]):(N(2===v.length,"invalid ndarray pixel data, must be 2 or 3D"),f=1,p=1),c=v[0],l=v[1],h=g[0],d=g[1],t.alignment=1,t.width=c,t.height=l,t.channels=f,t.format=t.internalformat=$t[f],t.needsFree=!0,function(e,t,n,r,i,o){for(var a=e.width,u=e.height,s=e.channels,c=vn(e,a*u*s),l=0,f=0;f<u;++f)for(var h=0;h<a;++h)for(var d=0;d<s;++d)c[l++]=t[n*h+r*f+i*d+o];gn(e,c)}(t,s,h,d,p,r.offset)}else if(fn(r)||hn(r)||ln(r)===en)fn(r)||hn(r)?t.element=r:t.element=r.canvas,t.width=t.element.width,t.height=t.element.height,t.channels=4;else if(function(e){return ln(e)===tn}(r))t.element=r,t.width=r.width,t.height=r.height,t.channels=4;else if(function(e){return ln(e)===nn}(r))t.element=r,t.width=r.naturalWidth,t.height=r.naturalHeight,t.channels=4;else if(function(e){return ln(e)===rn}(r))t.element=r,t.width=r.videoWidth,t.height=r.videoHeight,t.channels=4;else if(cn(r)){var y=t.width||r[0].length,m=t.height||r.length,b=t.channels;b=Fe(r[0][0])?b||r[0][0].length:b||1;for(var w=ue.shape(r),E=1,x=0;x<w.length;++x)E*=w[x];var k=vn(t,E);ue.flatten(r,w,"",k),gn(t,k),t.alignment=1,t.width=y,t.height=m,t.channels=b,t.format=t.internalformat=$t[b],t.needsFree=!0}}else t.width=t.width||1,t.height=t.height||1,t.channels=t.channels||4;t.type===kt?N(i.extensions.indexOf("oes_texture_float")>=0,"oes_texture_float extension not enabled"):t.type===ut&&N(i.extensions.indexOf("oes_texture_half_float")>=0,"oes_texture_half_float extension not enabled")}function P(e,t,r){var i=e.element,a=e.data,u=e.internalformat,s=e.format,c=e.type,l=e.width,f=e.height;j(e),i?n.texImage2D(t,r,s,s,c,i):e.compressed?n.compressedTexImage2D(t,r,u,l,f,0,a):e.needsCopy?(o(),n.copyTexImage2D(t,r,s,e.xOffset,e.yOffset,l,f,0)):n.texImage2D(t,r,s,l,f,0,s,c,a||null)}function M(e,t,r,i,a){var u=e.element,s=e.data,c=e.internalformat,l=e.format,f=e.type,h=e.width,d=e.height;j(e),u?n.texSubImage2D(t,a,r,i,l,f,u):e.compressed?n.compressedTexSubImage2D(t,a,r,i,c,h,d,s):e.needsCopy?(o(),n.copyTexSubImage2D(t,a,r,i,e.xOffset,e.yOffset,h,d)):n.texSubImage2D(t,a,r,i,h,d,l,f,s)}var R=[];function L(){return R.pop()||new C}function I(e){e.needsFree&&re.freeType(e.data),C.call(e),R.push(e)}function D(){S.call(this),this.genMipmaps=!1,this.mipmapHint=Bt,this.mipmask=0,this.images=Array(16)}function B(e,t,n){var r=e.images[0]=L();e.mipmask=1,r.width=e.width=t,r.height=e.height=n,r.channels=e.channels=4}function F(e,t){var n=null;if(dn(t))A(n=e.images[0]=L(),e),_(n,t),e.mipmask=1;else if(T(e,t),Array.isArray(t.mipmap))for(var r=t.mipmap,i=0;i<r.length;++i)A(n=e.images[i]=L(),e),n.width>>=i,n.height>>=i,_(n,r[i]),e.mipmask|=1<<i;else A(n=e.images[0]=L(),e),_(n,t),e.mipmask=1;A(e,e.images[0]),!e.compressed||e.internalformat!==st&&e.internalformat!==ct&&e.internalformat!==lt&&e.internalformat!==ft||N(e.width%4===0&&e.height%4===0,"for compressed texture formats, mipmap level 0 must have width and height that are a multiple of 4")}function z(e,t){for(var n=e.images,r=0;r<n.length;++r){if(!n[r])return;P(n[r],t,r)}}var V=[];function U(){var e=V.pop()||new D;S.call(e),e.mipmask=0;for(var t=0;t<16;++t)e.images[t]=null;return e}function G(e){for(var t=e.images,n=0;n<t.length;++n)t[n]&&I(t[n]),t[n]=null;V.push(e)}function H(){this.minFilter=Pt,this.magFilter=Pt,this.wrapS=Tt,this.wrapT=Tt,this.anisotropic=1,this.genMipmaps=!1,this.mipmapHint=Bt}function W(e,t){if("min"in t){var n=t.min;N.parameter(n,h),e.minFilter=h[n],Yt.indexOf(e.minFilter)>=0&&!("faces"in t)&&(e.genMipmaps=!0)}if("mag"in t){var r=t.mag;N.parameter(r,f),e.magFilter=f[r]}var o=e.wrapS,a=e.wrapT;if("wrap"in t){var u=t.wrap;"string"===typeof u?(N.parameter(u,l),o=a=l[u]):Array.isArray(u)&&(N.parameter(u[0],l),N.parameter(u[1],l),o=l[u[0]],a=l[u[1]])}else{if("wrapS"in t){var s=t.wrapS;N.parameter(s,l),o=l[s]}if("wrapT"in t){var d=t.wrapT;N.parameter(d,l),a=l[d]}}if(e.wrapS=o,e.wrapT=a,"anisotropic"in t){var p=t.anisotropic;N("number"===typeof p&&p>=1&&p<=i.maxAnisotropic,"aniso samples must be between 1 and "),e.anisotropic=t.anisotropic}if("mipmap"in t){var v=!1;switch(typeof t.mipmap){case"string":N.parameter(t.mipmap,c,"invalid mipmap hint"),e.mipmapHint=c[t.mipmap],e.genMipmaps=!0,v=!0;break;case"boolean":v=e.genMipmaps=t.mipmap;break;case"object":N(Array.isArray(t.mipmap),"invalid mipmap type"),e.genMipmaps=!1,v=!0;break;default:N.raise("invalid mipmap type")}!v||"min"in t||(e.minFilter=Nt)}}function q(e,t){n.texParameteri(t,_t,e.minFilter),n.texParameteri(t,Ct,e.magFilter),n.texParameteri(t,Ot,e.wrapS),n.texParameteri(t,St,e.wrapT),r.ext_texture_filter_anisotropic&&n.texParameteri(t,Vt,e.anisotropic),e.genMipmaps&&(n.hint(Dt,e.mipmapHint),n.generateMipmap(t))}var X=0,Y={},$=i.maxTextureUnits,J=Array($).map(function(){return null});function Q(e){S.call(this),this.mipmask=0,this.internalformat=We,this.id=X++,this.refCount=1,this.target=e,this.texture=n.createTexture(),this.unit=-1,this.bindCount=0,this.texInfo=new H,s.profile&&(this.stats={size:0})}function K(e){n.activeTexture(Xt),n.bindTexture(e.target,e.texture)}function Z(){var e=J[0];e?n.bindTexture(e.target,e.texture):n.bindTexture(Ue,null)}function ee(e){var t=e.texture;N(t,"must not double destroy texture");var r=e.unit,i=e.target;r>=0&&(n.activeTexture(Xt+r),n.bindTexture(i,null),J[r]=null),n.deleteTexture(t),e.texture=null,e.params=null,e.pixels=null,e.refCount=0,delete Y[e.id],u.textureCount--}return t(Q.prototype,{bind:function(){this.bindCount+=1;var e=this.unit;if(e<0){for(var t=0;t<$;++t){var r=J[t];if(r){if(r.bindCount>0)continue;r.unit=-1}J[t]=this,e=t;break}e>=$&&N.raise("insufficient number of texture units"),s.profile&&u.maxTextureUnits<e+1&&(u.maxTextureUnits=e+1),this.unit=e,n.activeTexture(Xt+e),n.bindTexture(this.target,this.texture)}return e},unbind:function(){this.bindCount-=1},decRef:function(){--this.refCount<=0&&ee(this)}}),s.profile&&(u.getTotalTextureSize=function(){var e=0;return Object.keys(Y).forEach(function(t){e+=Y[t].stats.size}),e}),{create2D:function(e,t){var r=new Q(Ue);function o(e,t){var n=r.texInfo;H.call(n);var a=U();return"number"===typeof e?B(a,0|e,"number"===typeof t?0|t:0|e):e?(N.type(e,"object","invalid arguments to regl.texture"),W(n,e),F(a,e)):B(a,1,1),n.genMipmaps&&(a.mipmask=(a.width<<1)-1),r.mipmask=a.mipmask,A(r,a),N.texture2D(n,a,i),r.internalformat=a.internalformat,o.width=a.width,o.height=a.height,K(r),z(a,Ue),q(n,Ue),Z(),G(a),s.profile&&(r.stats.size=yn(r.internalformat,r.type,a.width,a.height,n.genMipmaps,!1)),o.format=b[r.internalformat],o.type=w[r.type],o.mag=E[n.magFilter],o.min=x[n.minFilter],o.wrapS=k[n.wrapS],o.wrapT=k[n.wrapT],o}return Y[r.id]=r,u.textureCount++,o(e,t),o.subimage=function(e,t,n,i){N(!!e,"must specify image data");var a=0|t,u=0|n,s=0|i,c=L();return A(c,r),c.width=0,c.height=0,_(c,e),c.width=c.width||(r.width>>s)-a,c.height=c.height||(r.height>>s)-u,N(r.type===c.type&&r.format===c.format&&r.internalformat===c.internalformat,"incompatible format for texture.subimage"),N(a>=0&&u>=0&&a+c.width<=r.width&&u+c.height<=r.height,"texture.subimage write out of bounds"),N(r.mipmask&1<<s,"missing mipmap data"),N(c.data||c.element||c.needsCopy,"missing image data"),K(r),M(c,Ue,a,u,s),Z(),I(c),o},o.resize=function(e,t){var i=0|e,a=0|t||i;if(i===r.width&&a===r.height)return o;o.width=r.width=i,o.height=r.height=a,K(r);for(var u=0;r.mipmask>>u;++u){var c=i>>u,l=a>>u;if(!c||!l)break;n.texImage2D(Ue,u,r.format,c,l,0,r.format,r.type,null)}return Z(),s.profile&&(r.stats.size=yn(r.internalformat,r.type,i,a,!1,!1)),o},o._reglType="texture2d",o._texture=r,s.profile&&(o.stats=r.stats),o.destroy=function(){r.decRef()},o},createCube:function(e,t,r,o,a,c){var l=new Q(Ge);Y[l.id]=l,u.cubeCount++;var f=new Array(6);function h(e,t,n,r,o,a){var u,c=l.texInfo;for(H.call(c),u=0;u<6;++u)f[u]=U();if("number"!==typeof e&&e)if("object"===typeof e)if(t)F(f[0],e),F(f[1],t),F(f[2],n),F(f[3],r),F(f[4],o),F(f[5],a);else if(W(c,e),T(l,e),"faces"in e){var d=e.faces;for(N(Array.isArray(d)&&6===d.length,"cube faces must be a length 6 array"),u=0;u<6;++u)N("object"===typeof d[u]&&!!d[u],"invalid input for cube map face"),A(f[u],l),F(f[u],d[u])}else for(u=0;u<6;++u)F(f[u],e);else N.raise("invalid arguments to cube map");else{var p=0|e||1;for(u=0;u<6;++u)B(f[u],p,p)}for(A(l,f[0]),i.npotTextureCube||N(ze(l.width)&&ze(l.height),"your browser does not support non power or two texture dimensions"),c.genMipmaps?l.mipmask=(f[0].width<<1)-1:l.mipmask=f[0].mipmask,N.textureCube(l,c,f,i),l.internalformat=f[0].internalformat,h.width=f[0].width,h.height=f[0].height,K(l),u=0;u<6;++u)z(f[u],He+u);for(q(c,Ge),Z(),s.profile&&(l.stats.size=yn(l.internalformat,l.type,h.width,h.height,c.genMipmaps,!0)),h.format=b[l.internalformat],h.type=w[l.type],h.mag=E[c.magFilter],h.min=x[c.minFilter],h.wrapS=k[c.wrapS],h.wrapT=k[c.wrapT],u=0;u<6;++u)G(f[u]);return h}return h(e,t,r,o,a,c),h.subimage=function(e,t,n,r,i){N(!!t,"must specify image data"),N("number"===typeof e&&e===(0|e)&&e>=0&&e<6,"invalid face");var o=0|n,a=0|r,u=0|i,s=L();return A(s,l),s.width=0,s.height=0,_(s,t),s.width=s.width||(l.width>>u)-o,s.height=s.height||(l.height>>u)-a,N(l.type===s.type&&l.format===s.format&&l.internalformat===s.internalformat,"incompatible format for texture.subimage"),N(o>=0&&a>=0&&o+s.width<=l.width&&a+s.height<=l.height,"texture.subimage write out of bounds"),N(l.mipmask&1<<u,"missing mipmap data"),N(s.data||s.element||s.needsCopy,"missing image data"),K(l),M(s,He+e,o,a,u),Z(),I(s),h},h.resize=function(e){var t=0|e;if(t!==l.width){h.width=l.width=t,h.height=l.height=t,K(l);for(var r=0;r<6;++r)for(var i=0;l.mipmask>>i;++i)n.texImage2D(He+r,i,l.format,t>>i,t>>i,0,l.format,l.type,null);return Z(),s.profile&&(l.stats.size=yn(l.internalformat,l.type,h.width,h.height,!1,!0)),h}},h._reglType="textureCube",h._texture=l,s.profile&&(h.stats=l.stats),h.destroy=function(){l.decRef()},h},clear:function(){for(var e=0;e<$;++e)n.activeTexture(Xt+e),n.bindTexture(Ue,null),J[e]=null;ae(Y).forEach(ee),u.cubeCount=0,u.textureCount=0},getTexture:function(e){return null},restore:function(){for(var e=0;e<$;++e){var t=J[e];t&&(t.bindCount=0,t.unit=-1,J[e]=null)}ae(Y).forEach(function(e){e.texture=n.createTexture(),n.bindTexture(e.target,e.texture);for(var t=0;t<32;++t)if(0!==(e.mipmask&1<<t))if(e.target===Ue)n.texImage2D(Ue,t,e.internalformat,e.width>>t,e.height>>t,0,e.internalformat,e.type,null);else for(var r=0;r<6;++r)n.texImage2D(He+r,t,e.internalformat,e.width>>t,e.height>>t,0,e.internalformat,e.type,null);q(e.texInfo,e.target)})},refresh:function(){for(var e=0;e<$;++e){var t=J[e];t&&(t.bindCount=0,t.unit=-1,J[e]=null),n.activeTexture(Xt+e),n.bindTexture(Ue,null),n.bindTexture(Ge,null)}}}}un[Je]=2,un[Qe]=2,un[Ke]=2,un[it]=4,un[st]=.5,un[ct]=.5,un[lt]=1,un[ft]=1,un[ht]=.5,un[dt]=1,un[pt]=1,un[vt]=.5,un[gt]=.25,un[yt]=.5,un[mt]=.25,un[bt]=.5;var bn=36161,wn=32854,En=[];function xn(e,t,n){return En[e]*t*n}En[wn]=2,En[32855]=2,En[36194]=2,En[33189]=2,En[36168]=1,En[34041]=4,En[35907]=4,En[34836]=16,En[34842]=8,En[34843]=6;var kn=function(e,t,n,r,i){var o={rgba4:wn,rgb565:36194,"rgb5 a1":32855,depth:33189,stencil:36168,"depth stencil":34041};t.ext_srgb&&(o.srgba=35907),t.ext_color_buffer_half_float&&(o.rgba16f=34842,o.rgb16f=34843),t.webgl_color_buffer_float&&(o.rgba32f=34836);var a=[];Object.keys(o).forEach(function(e){var t=o[e];a[t]=e});var u=0,s={};function c(e){this.id=u++,this.refCount=1,this.renderbuffer=e,this.format=wn,this.width=0,this.height=0,i.profile&&(this.stats={size:0})}function l(t){var n=t.renderbuffer;N(n,"must not double destroy renderbuffer"),e.bindRenderbuffer(bn,null),e.deleteRenderbuffer(n),t.renderbuffer=null,t.refCount=0,delete s[t.id],r.renderbufferCount--}return c.prototype.decRef=function(){--this.refCount<=0&&l(this)},i.profile&&(r.getTotalRenderbufferSize=function(){var e=0;return Object.keys(s).forEach(function(t){e+=s[t].stats.size}),e}),{create:function(t,u){var l=new c(e.createRenderbuffer());function f(t,r){var u=0,s=0,c=wn;if("object"===typeof t&&t){var h=t;if("shape"in h){var d=h.shape;N(Array.isArray(d)&&d.length>=2,"invalid renderbuffer shape"),u=0|d[0],s=0|d[1]}else"radius"in h&&(u=s=0|h.radius),"width"in h&&(u=0|h.width),"height"in h&&(s=0|h.height);"format"in h&&(N.parameter(h.format,o,"invalid renderbuffer format"),c=o[h.format])}else"number"===typeof t?(u=0|t,s="number"===typeof r?0|r:u):t?N.raise("invalid arguments to renderbuffer constructor"):u=s=1;if(N(u>0&&s>0&&u<=n.maxRenderbufferSize&&s<=n.maxRenderbufferSize,"invalid renderbuffer size"),u!==l.width||s!==l.height||c!==l.format)return f.width=l.width=u,f.height=l.height=s,l.format=c,e.bindRenderbuffer(bn,l.renderbuffer),e.renderbufferStorage(bn,c,u,s),N(0===e.getError(),"invalid render buffer format"),i.profile&&(l.stats.size=xn(l.format,l.width,l.height)),f.format=a[l.format],f}return s[l.id]=l,r.renderbufferCount++,f(t,u),f.resize=function(t,r){var o=0|t,a=0|r||o;return o===l.width&&a===l.height?f:(N(o>0&&a>0&&o<=n.maxRenderbufferSize&&a<=n.maxRenderbufferSize,"invalid renderbuffer size"),f.width=l.width=o,f.height=l.height=a,e.bindRenderbuffer(bn,l.renderbuffer),e.renderbufferStorage(bn,l.format,o,a),N(0===e.getError(),"invalid render buffer format"),i.profile&&(l.stats.size=xn(l.format,l.width,l.height)),f)},f._reglType="renderbuffer",f._renderbuffer=l,i.profile&&(f.stats=l.stats),f.destroy=function(){l.decRef()},f},clear:function(){ae(s).forEach(l)},restore:function(){ae(s).forEach(function(t){t.renderbuffer=e.createRenderbuffer(),e.bindRenderbuffer(bn,t.renderbuffer),e.renderbufferStorage(bn,t.format,t.width,t.height)}),e.bindRenderbuffer(bn,null)}}},On=36160,Sn=36161,An=3553,Tn=34069,jn=36064,Cn=36096,_n=36128,Pn=33306,Mn=36053,Nn=6402,Rn=[6407,6408],Ln=[];Ln[6408]=4,Ln[6407]=3;var In=[];In[5121]=1,In[5126]=4,In[36193]=2;var Dn=33189,Bn=36168,Fn=34041,zn=[32854,32855,36194,35907,34842,34843,34836],Vn={};Vn[Mn]="complete",Vn[36054]="incomplete attachment",Vn[36057]="incomplete dimensions",Vn[36055]="incomplete, missing attachment",Vn[36061]="unsupported";var Un=5126,Gn=34962;function Hn(){this.state=0,this.x=0,this.y=0,this.z=0,this.w=0,this.buffer=null,this.size=0,this.normalized=!1,this.type=Un,this.offset=0,this.stride=0,this.divisor=0}var Wn=35632,qn=35633,Xn=35718,Yn=35721,$n=6408,Jn=5121,Qn=3333,Kn=5126;function Zn(t,n,r,i,o,a,u){function s(s){var c;null===n.next?(N(o.preserveDrawingBuffer,'you must create a webgl context with "preserveDrawingBuffer":true in order to read pixels from the drawing buffer'),c=Jn):(N(null!==n.next.colorAttachments[0].texture,"You cannot read from a renderbuffer"),c=n.next.colorAttachments[0].texture._texture.type,a.oes_texture_float?(N(c===Jn||c===Kn,"Reading from a framebuffer is only allowed for the types 'uint8' and 'float'"),c===Kn&&N(u.readFloat,"Reading 'float' values is not permitted in your browser. For a fallback, please see: https://www.npmjs.com/package/glsl-read-float")):N(c===Jn,"Reading from a framebuffer is only allowed for the type 'uint8'"));var l=0,f=0,h=i.framebufferWidth,d=i.framebufferHeight,p=null;e(s)?p=s:s&&(N.type(s,"object","invalid arguments to regl.read()"),l=0|s.x,f=0|s.y,N(l>=0&&l<i.framebufferWidth,"invalid x offset for regl.read"),N(f>=0&&f<i.framebufferHeight,"invalid y offset for regl.read"),h=0|(s.width||i.framebufferWidth-l),d=0|(s.height||i.framebufferHeight-f),p=s.data||null),p&&(c===Jn?N(p instanceof Uint8Array,"buffer must be 'Uint8Array' when reading from a framebuffer of type 'uint8'"):c===Kn&&N(p instanceof Float32Array,"buffer must be 'Float32Array' when reading from a framebuffer of type 'float'")),N(h>0&&h+l<=i.framebufferWidth,"invalid width for read pixels"),N(d>0&&d+f<=i.framebufferHeight,"invalid height for read pixels"),r();var v=h*d*4;return p||(c===Jn?p=new Uint8Array(v):c===Kn&&(p=p||new Float32Array(v))),N.isTypedArray(p,"data buffer for regl.read() must be a typedarray"),N(p.byteLength>=v,"data buffer for regl.read() too small"),t.pixelStorei(Qn,4),t.readPixels(l,f,h,d,$n,c,p),p}return function(e){return e&&"framebuffer"in e?function(e){var t;return n.setFBO({framebuffer:e.framebuffer},function(){t=s(e)}),t}(e):s(e)}}function er(e){return Array.prototype.slice.call(e)}function tr(e){return er(e).join("")}var nr="xyzw".split(""),rr=5121,ir=1,or=2,ar=0,ur=1,sr=2,cr=3,lr=4,fr=5,hr=6,dr="dither",pr="blend.enable",vr="blend.color",gr="blend.equation",yr="blend.func",mr="depth.enable",br="depth.func",wr="depth.range",Er="depth.mask",xr="colorMask",kr="cull.enable",Or="cull.face",Sr="frontFace",Ar="lineWidth",Tr="polygonOffset.enable",jr="polygonOffset.offset",Cr="sample.alpha",_r="sample.enable",Pr="sample.coverage",Mr="stencil.enable",Nr="stencil.mask",Rr="stencil.func",Lr="stencil.opFront",Ir="stencil.opBack",Dr="scissor.enable",Br="scissor.box",Fr="viewport",zr="profile",Vr="framebuffer",Ur="vert",Gr="frag",Hr="elements",Wr="primitive",qr="count",Xr="offset",Yr="instances",$r="vao",Jr=Vr+"Width",Qr=Vr+"Height",Kr=Fr+"Width",Zr=Fr+"Height",ei="drawingBufferWidth",ti="drawingBufferHeight",ni=[yr,gr,Rr,Lr,Ir,Pr,Fr,Br,jr],ri=34962,ii=34963,oi=3553,ai=34067,ui=2884,si=3042,ci=3024,li=2960,fi=2929,hi=3089,di=32823,pi=32926,vi=32928,gi=5126,yi=35664,mi=35665,bi=35666,wi=5124,Ei=35667,xi=35668,ki=35669,Oi=35670,Si=35671,Ai=35672,Ti=35673,ji=35674,Ci=35675,_i=35676,Pi=35678,Mi=35680,Ni=4,Ri=1028,Li=1029,Ii=2304,Di=2305,Bi=32775,Fi=32776,zi=519,Vi=7680,Ui=0,Gi=1,Hi=32774,Wi=513,qi=36160,Xi=36064,Yi={0:0,1:1,zero:0,one:1,"src color":768,"one minus src color":769,"src alpha":770,"one minus src alpha":771,"dst color":774,"one minus dst color":775,"dst alpha":772,"one minus dst alpha":773,"constant color":32769,"one minus constant color":32770,"constant alpha":32771,"one minus constant alpha":32772,"src alpha saturate":776},$i=["constant color, constant alpha","one minus constant color, constant alpha","constant color, one minus constant alpha","one minus constant color, one minus constant alpha","constant alpha, constant color","constant alpha, one minus constant color","one minus constant alpha, constant color","one minus constant alpha, one minus constant color"],Ji={never:512,less:513,"<":513,equal:514,"=":514,"==":514,"===":514,lequal:515,"<=":515,greater:516,">":516,notequal:517,"!=":517,"!==":517,gequal:518,">=":518,always:519},Qi={0:0,zero:0,keep:7680,replace:7681,increment:7682,decrement:7683,"increment wrap":34055,"decrement wrap":34056,invert:5386},Ki={frag:35632,vert:35633},Zi={cw:Ii,ccw:Di};function eo(t){return Array.isArray(t)||e(t)||oe(t)}function to(e){return e.sort(function(e,t){return e===Fr?-1:t===Fr?1:e<t?-1:1})}function no(e,t,n,r){this.thisDep=e,this.contextDep=t,this.propDep=n,this.append=r}function ro(e){return e&&!(e.thisDep||e.contextDep||e.propDep)}function io(e){return new no(!1,!1,!1,e)}function oo(e,t){var n=e.type;if(n===ar){var r=e.data.length;return new no(!0,r>=1,r>=2,t)}if(n===lr){var i=e.data;return new no(i.thisDep,i.contextDep,i.propDep,t)}if(n===fr)return new no(!1,!1,!1,t);if(n===hr){for(var o=!1,a=!1,u=!1,s=0;s<e.data.length;++s){var c=e.data[s];if(c.type===ur)u=!0;else if(c.type===sr)a=!0;else if(c.type===cr)o=!0;else if(c.type===ar){o=!0;var l=c.data;l>=1&&(a=!0),l>=2&&(u=!0)}else c.type===lr&&(o=o||c.data.thisDep,a=a||c.data.contextDep,u=u||c.data.propDep)}return new no(o,a,u,t)}return new no(n===cr,n===sr,n===ur,t)}var ao=new no(!1,!1,!1,function(){});function uo(e,n,r,i,o,a,u,s,c,l,f,h,d,p,v){var g=l.Record,y={add:32774,subtract:32778,"reverse subtract":32779};r.ext_blend_minmax&&(y.min=Bi,y.max=Fi);var m=r.angle_instanced_arrays,b=r.webgl_draw_buffers,w={dirty:!0,profile:v.profile},E={},x=[],k={},O={};function S(e){return e.replace(".","_")}function A(e,t,n){var r=S(e);x.push(e),E[r]=w[r]=!!n,k[r]=t}function T(e,t,n){var r=S(e);x.push(e),Array.isArray(n)?(w[r]=n.slice(),E[r]=n.slice()):w[r]=E[r]=n,O[r]=t}A(dr,ci),A(pr,si),T(vr,"blendColor",[0,0,0,0]),T(gr,"blendEquationSeparate",[Hi,Hi]),T(yr,"blendFuncSeparate",[Gi,Ui,Gi,Ui]),A(mr,fi,!0),T(br,"depthFunc",Wi),T(wr,"depthRange",[0,1]),T(Er,"depthMask",!0),T(xr,xr,[!0,!0,!0,!0]),A(kr,ui),T(Or,"cullFace",Li),T(Sr,Sr,Di),T(Ar,Ar,1),A(Tr,di),T(jr,"polygonOffset",[0,0]),A(Cr,pi),A(_r,vi),T(Pr,"sampleCoverage",[1,!1]),A(Mr,li),T(Nr,"stencilMask",-1),T(Rr,"stencilFunc",[zi,0,-1]),T(Lr,"stencilOpSeparate",[Ri,Vi,Vi,Vi]),T(Ir,"stencilOpSeparate",[Li,Vi,Vi,Vi]),A(Dr,hi),T(Br,"scissor",[0,0,e.drawingBufferWidth,e.drawingBufferHeight]),T(Fr,Fr,[0,0,e.drawingBufferWidth,e.drawingBufferHeight]);var j={gl:e,context:d,strings:n,next:E,current:w,draw:h,elements:a,buffer:o,shader:f,attributes:l.state,vao:l,uniforms:c,framebuffer:s,extensions:r,timer:p,isBufferArgs:eo},C={primTypes:xe,compareFuncs:Ji,blendFuncs:Yi,blendEquations:y,stencilOps:Qi,glTypes:le,orientationType:Zi};N.optional(function(){j.isArrayLike=Fe}),b&&(C.backBuffer=[Li],C.drawBuffer=X(i.maxDrawbuffers,function(e){return 0===e?[0]:X(e,function(e){return Xi+e})}));var _=0;function P(){var e=function(){var e=0,n=[],r=[];function i(){var n=[],r=[];return t(function(){n.push.apply(n,er(arguments))},{def:function(){var t="v"+e++;return r.push(t),arguments.length>0&&(n.push(t,"="),n.push.apply(n,er(arguments)),n.push(";")),t},toString:function(){return tr([r.length>0?"var "+r.join(",")+";":"",tr(n)])}})}function o(){var e=i(),n=i(),r=e.toString,o=n.toString;function a(t,r){n(t,r,"=",e.def(t,r),";")}return t(function(){e.apply(e,er(arguments))},{def:e.def,entry:e,exit:n,save:a,set:function(t,n,r){a(t,n),e(t,n,"=",r,";")},toString:function(){return r()+o()}})}var a=i(),u={};return{global:a,link:function(t){for(var i=0;i<r.length;++i)if(r[i]===t)return n[i];var o="g"+e++;return n.push(o),r.push(t),o},block:i,proc:function(e,n){var r=[];function i(){var e="a"+r.length;return r.push(e),e}n=n||0;for(var a=0;a<n;++a)i();var s=o(),c=s.toString;return u[e]=t(s,{arg:i,toString:function(){return tr(["function(",r.join(),"){",c(),"}"])}})},scope:o,cond:function(){var e=tr(arguments),n=o(),r=o(),i=n.toString,a=r.toString;return t(n,{then:function(){return n.apply(n,er(arguments)),this},else:function(){return r.apply(r,er(arguments)),this},toString:function(){var t=a();return t&&(t="else{"+t+"}"),tr(["if(",e,"){",i(),"}",t])}})},compile:function(){var e=['"use strict";',a,"return {"];Object.keys(u).forEach(function(t){e.push('"',t,'":',u[t].toString(),",")}),e.push("}");var t=tr(e).replace(/;/g,";\n").replace(/}/g,"}\n").replace(/{/g,"{\n");return Function.apply(null,n.concat(t)).apply(null,r)}}}(),r=e.link,i=e.global;e.id=_++,e.batchId="0";var o=r(j),a=e.shared={props:"a0"};Object.keys(j).forEach(function(e){a[e]=i.def(o,".",e)}),N.optional(function(){e.CHECK=r(N),e.commandStr=N.guessCommand(),e.command=r(e.commandStr),e.assert=function(e,t,n){e("if(!(",t,"))",this.CHECK,".commandRaise(",r(n),",",this.command,");")},C.invalidBlendCombinations=$i});var u=e.next={},s=e.current={};Object.keys(O).forEach(function(e){Array.isArray(w[e])&&(u[e]=i.def(a.next,".",e),s[e]=i.def(a.current,".",e))});var c=e.constants={};Object.keys(C).forEach(function(e){c[e]=i.def(JSON.stringify(C[e]))}),e.invoke=function(t,n){switch(n.type){case ar:var i=["this",a.context,a.props,e.batchId];return t.def(r(n.data),".call(",i.slice(0,Math.max(n.data.length+1,4)),")");case ur:return t.def(a.props,n.data);case sr:return t.def(a.context,n.data);case cr:return t.def("this",n.data);case lr:return n.data.append(e,t),n.data.ref;case fr:return n.data.toString();case hr:return n.data.map(function(n){return e.invoke(t,n)})}},e.attribCache={};var f={};return e.scopeAttrib=function(e){var t=n.id(e);if(t in f)return f[t];var i=l.scope[t];i||(i=l.scope[t]=new g);var o=f[t]=r(i);return o},e}function M(e,t,u,c,h){var d=e.static,p=e.dynamic;N.optional(function(){var e=[Vr,Ur,Gr,Hr,Wr,Xr,qr,Yr,zr,$r].concat(x);function t(t){Object.keys(t).forEach(function(t){N.command(e.indexOf(t)>=0,'unknown parameter "'+t+'"',h.commandStr)})}t(d),t(p)});var v=function(e,t){var n=e.static;if("string"===typeof n[Gr]&&"string"===typeof n[Ur]){if(Object.keys(t.dynamic).length>0)return null;var r=t.static,i=Object.keys(r);if(i.length>0&&"number"===typeof r[i[0]]){for(var o=[],a=0;a<i.length;++a)N("number"===typeof r[i[a]],"must specify all vertex attribute locations when using vaos"),o.push([0|r[i[a]],i[a]]);return o}}return null}(e,t),b=function(e,t){var n=e.static,r=e.dynamic;if(Vr in n){var i=n[Vr];return i?(i=s.getFramebuffer(i),N.command(i,"invalid framebuffer object"),io(function(e,t){var n=e.link(i),r=e.shared;t.set(r.framebuffer,".next",n);var o=r.context;return t.set(o,"."+Jr,n+".width"),t.set(o,"."+Qr,n+".height"),n})):io(function(e,t){var n=e.shared;t.set(n.framebuffer,".next","null");var r=n.context;return t.set(r,"."+Jr,r+"."+ei),t.set(r,"."+Qr,r+"."+ti),"null"})}if(Vr in r){var o=r[Vr];return oo(o,function(e,t){var n=e.invoke(t,o),r=e.shared,i=r.framebuffer,a=t.def(i,".getFramebuffer(",n,")");N.optional(function(){e.assert(t,"!"+n+"||"+a,"invalid framebuffer object")}),t.set(i,".next",a);var u=r.context;return t.set(u,"."+Jr,a+"?"+a+".width:"+u+"."+ei),t.set(u,"."+Qr,a+"?"+a+".height:"+u+"."+ti),a})}return null}(e),w=function(e,t,n){var r=e.static,i=e.dynamic;function o(e){if(e in r){var o=r[e];N.commandType(o,"object","invalid "+e,n.commandStr);var a,u,s=!0,c=0|o.x,l=0|o.y;return"width"in o?(a=0|o.width,N.command(a>=0,"invalid "+e,n.commandStr)):s=!1,"height"in o?(u=0|o.height,N.command(u>=0,"invalid "+e,n.commandStr)):s=!1,new no(!s&&t&&t.thisDep,!s&&t&&t.contextDep,!s&&t&&t.propDep,function(e,t){var n=e.shared.context,r=a;"width"in o||(r=t.def(n,".",Jr,"-",c));var i=u;return"height"in o||(i=t.def(n,".",Qr,"-",l)),[c,l,r,i]})}if(e in i){var f=i[e],h=oo(f,function(t,n){var r=t.invoke(n,f);N.optional(function(){t.assert(n,r+"&&typeof "+r+'==="object"',"invalid "+e)});var i=t.shared.context,o=n.def(r,".x|0"),a=n.def(r,".y|0"),u=n.def('"width" in ',r,"?",r,".width|0:","(",i,".",Jr,"-",o,")"),s=n.def('"height" in ',r,"?",r,".height|0:","(",i,".",Qr,"-",a,")");return N.optional(function(){t.assert(n,u+">=0&&"+s+">=0","invalid "+e)}),[o,a,u,s]});return t&&(h.thisDep=h.thisDep||t.thisDep,h.contextDep=h.contextDep||t.contextDep,h.propDep=h.propDep||t.propDep),h}return t?new no(t.thisDep,t.contextDep,t.propDep,function(e,t){var n=e.shared.context;return[0,0,t.def(n,".",Jr),t.def(n,".",Qr)]}):null}var a=o(Fr);if(a){var u=a;a=new no(a.thisDep,a.contextDep,a.propDep,function(e,t){var n=u.append(e,t),r=e.shared.context;return t.set(r,"."+Kr,n[2]),t.set(r,"."+Zr,n[3]),n})}return{viewport:a,scissor_box:o(Br)}}(e,b,h),E=function(e,t){var n=e.static,r=e.dynamic,i=function(){if(Hr in n){var e=n[Hr];eo(e)?e=a.getElements(a.create(e,!0)):e&&(e=a.getElements(e),N.command(e,"invalid elements",t.commandStr));var i=io(function(t,n){if(e){var r=t.link(e);return t.ELEMENTS=r,r}return t.ELEMENTS=null,null});return i.value=e,i}if(Hr in r){var o=r[Hr];return oo(o,function(e,t){var n=e.shared,r=n.isBufferArgs,i=n.elements,a=e.invoke(t,o),u=t.def("null"),s=t.def(r,"(",a,")"),c=e.cond(s).then(u,"=",i,".createStream(",a,");").else(u,"=",i,".getElements(",a,");");return N.optional(function(){e.assert(c.else,"!"+a+"||"+u,"invalid elements")}),t.entry(c),t.exit(e.cond(s).then(i,".destroyStream(",u,");")),e.ELEMENTS=u,u})}return null}();function o(e,o){if(e in n){var a=0|n[e];return N.command(!o||a>=0,"invalid "+e,t.commandStr),io(function(e,t){return o&&(e.OFFSET=a),a})}if(e in r){var u=r[e];return oo(u,function(t,n){var r=t.invoke(n,u);return o&&(t.OFFSET=r,N.optional(function(){t.assert(n,r+">=0","invalid "+e)})),r})}return o&&i?io(function(e,t){return e.OFFSET="0",0}):null}var u=o(Xr,!0);return{elements:i,primitive:function(){if(Wr in n){var e=n[Wr];return N.commandParameter(e,xe,"invalid primitve",t.commandStr),io(function(t,n){return xe[e]})}if(Wr in r){var o=r[Wr];return oo(o,function(e,t){var n=e.constants.primTypes,r=e.invoke(t,o);return N.optional(function(){e.assert(t,r+" in "+n,"invalid primitive, must be one of "+Object.keys(xe))}),t.def(n,"[",r,"]")})}return i?ro(i)?i.value?io(function(e,t){return t.def(e.ELEMENTS,".primType")}):io(function(){return Ni}):new no(i.thisDep,i.contextDep,i.propDep,function(e,t){var n=e.ELEMENTS;return t.def(n,"?",n,".primType:",Ni)}):null}(),count:function(){if(qr in n){var e=0|n[qr];return N.command("number"===typeof e&&e>=0,"invalid vertex count",t.commandStr),io(function(){return e})}if(qr in r){var o=r[qr];return oo(o,function(e,t){var n=e.invoke(t,o);return N.optional(function(){e.assert(t,"typeof "+n+'==="number"&&'+n+">=0&&"+n+"===("+n+"|0)","invalid vertex count")}),n})}if(i){if(ro(i)){if(i)return u?new no(u.thisDep,u.contextDep,u.propDep,function(e,t){var n=t.def(e.ELEMENTS,".vertCount-",e.OFFSET);return N.optional(function(){e.assert(t,n+">=0","invalid vertex offset/element buffer too small")}),n}):io(function(e,t){return t.def(e.ELEMENTS,".vertCount")});var a=io(function(){return-1});return N.optional(function(){a.MISSING=!0}),a}var s=new no(i.thisDep||u.thisDep,i.contextDep||u.contextDep,i.propDep||u.propDep,function(e,t){var n=e.ELEMENTS;return e.OFFSET?t.def(n,"?",n,".vertCount-",e.OFFSET,":-1"):t.def(n,"?",n,".vertCount:-1")});return N.optional(function(){s.DYNAMIC=!0}),s}return null}(),instances:o(Yr,!1),offset:u}}(e,h),k=function(e,t){var n=e.static,r=e.dynamic,o={};return x.forEach(function(e){var a=S(e);function u(t,i){if(e in n){var u=t(n[e]);o[a]=io(function(){return u})}else if(e in r){var s=r[e];o[a]=oo(s,function(e,t){return i(e,t,e.invoke(t,s))})}}switch(e){case kr:case pr:case dr:case Mr:case mr:case Dr:case Tr:case Cr:case _r:case Er:return u(function(n){return N.commandType(n,"boolean",e,t.commandStr),n},function(t,n,r){return N.optional(function(){t.assert(n,"typeof "+r+'==="boolean"',"invalid flag "+e,t.commandStr)}),r});case br:return u(function(n){return N.commandParameter(n,Ji,"invalid "+e,t.commandStr),Ji[n]},function(t,n,r){var i=t.constants.compareFuncs;return N.optional(function(){t.assert(n,r+" in "+i,"invalid "+e+", must be one of "+Object.keys(Ji))}),n.def(i,"[",r,"]")});case wr:return u(function(e){return N.command(Fe(e)&&2===e.length&&"number"===typeof e[0]&&"number"===typeof e[1]&&e[0]<=e[1],"depth range is 2d array",t.commandStr),e},function(e,t,n){return N.optional(function(){e.assert(t,e.shared.isArrayLike+"("+n+")&&"+n+".length===2&&typeof "+n+'[0]==="number"&&typeof '+n+'[1]==="number"&&'+n+"[0]<="+n+"[1]","depth range must be a 2d array")}),[t.def("+",n,"[0]"),t.def("+",n,"[1]")]});case yr:return u(function(e){N.commandType(e,"object","blend.func",t.commandStr);var n="srcRGB"in e?e.srcRGB:e.src,r="srcAlpha"in e?e.srcAlpha:e.src,i="dstRGB"in e?e.dstRGB:e.dst,o="dstAlpha"in e?e.dstAlpha:e.dst;return N.commandParameter(n,Yi,a+".srcRGB",t.commandStr),N.commandParameter(r,Yi,a+".srcAlpha",t.commandStr),N.commandParameter(i,Yi,a+".dstRGB",t.commandStr),N.commandParameter(o,Yi,a+".dstAlpha",t.commandStr),N.command(-1===$i.indexOf(n+", "+i),"unallowed blending combination (srcRGB, dstRGB) = ("+n+", "+i+")",t.commandStr),[Yi[n],Yi[i],Yi[r],Yi[o]]},function(t,n,r){var i=t.constants.blendFuncs;function o(o,a){var u=n.def('"',o,a,'" in ',r,"?",r,".",o,a,":",r,".",o);return N.optional(function(){t.assert(n,u+" in "+i,"invalid "+e+"."+o+a+", must be one of "+Object.keys(Yi))}),u}N.optional(function(){t.assert(n,r+"&&typeof "+r+'==="object"',"invalid blend func, must be an object")});var a=o("src","RGB"),u=o("dst","RGB");N.optional(function(){var e=t.constants.invalidBlendCombinations;t.assert(n,e+".indexOf("+a+'+", "+'+u+") === -1 ","unallowed blending combination for (srcRGB, dstRGB)")});var s=n.def(i,"[",a,"]"),c=n.def(i,"[",o("src","Alpha"),"]");return[s,n.def(i,"[",u,"]"),c,n.def(i,"[",o("dst","Alpha"),"]")]});case gr:return u(function(n){return"string"===typeof n?(N.commandParameter(n,y,"invalid "+e,t.commandStr),[y[n],y[n]]):"object"===typeof n?(N.commandParameter(n.rgb,y,e+".rgb",t.commandStr),N.commandParameter(n.alpha,y,e+".alpha",t.commandStr),[y[n.rgb],y[n.alpha]]):void N.commandRaise("invalid blend.equation",t.commandStr)},function(t,n,r){var i=t.constants.blendEquations,o=n.def(),a=n.def(),u=t.cond("typeof ",r,'==="string"');return N.optional(function(){function n(e,n,r){t.assert(e,r+" in "+i,"invalid "+n+", must be one of "+Object.keys(y))}n(u.then,e,r),t.assert(u.else,r+"&&typeof "+r+'==="object"',"invalid "+e),n(u.else,e+".rgb",r+".rgb"),n(u.else,e+".alpha",r+".alpha")}),u.then(o,"=",a,"=",i,"[",r,"];"),u.else(o,"=",i,"[",r,".rgb];",a,"=",i,"[",r,".alpha];"),n(u),[o,a]});case vr:return u(function(e){return N.command(Fe(e)&&4===e.length,"blend.color must be a 4d array",t.commandStr),X(4,function(t){return+e[t]})},function(e,t,n){return N.optional(function(){e.assert(t,e.shared.isArrayLike+"("+n+")&&"+n+".length===4","blend.color must be a 4d array")}),X(4,function(e){return t.def("+",n,"[",e,"]")})});case Nr:return u(function(e){return N.commandType(e,"number",a,t.commandStr),0|e},function(e,t,n){return N.optional(function(){e.assert(t,"typeof "+n+'==="number"',"invalid stencil.mask")}),t.def(n,"|0")});case Rr:return u(function(n){N.commandType(n,"object",a,t.commandStr);var r=n.cmp||"keep",i=n.ref||0,o="mask"in n?n.mask:-1;return N.commandParameter(r,Ji,e+".cmp",t.commandStr),N.commandType(i,"number",e+".ref",t.commandStr),N.commandType(o,"number",e+".mask",t.commandStr),[Ji[r],i,o]},function(e,t,n){var r=e.constants.compareFuncs;return N.optional(function(){function i(){e.assert(t,Array.prototype.join.call(arguments,""),"invalid stencil.func")}i(n+"&&typeof ",n,'==="object"'),i('!("cmp" in ',n,")||(",n,".cmp in ",r,")")}),[t.def('"cmp" in ',n,"?",r,"[",n,".cmp]",":",Vi),t.def(n,".ref|0"),t.def('"mask" in ',n,"?",n,".mask|0:-1")]});case Lr:case Ir:return u(function(n){N.commandType(n,"object",a,t.commandStr);var r=n.fail||"keep",i=n.zfail||"keep",o=n.zpass||"keep";return N.commandParameter(r,Qi,e+".fail",t.commandStr),N.commandParameter(i,Qi,e+".zfail",t.commandStr),N.commandParameter(o,Qi,e+".zpass",t.commandStr),[e===Ir?Li:Ri,Qi[r],Qi[i],Qi[o]]},function(t,n,r){var i=t.constants.stencilOps;function o(o){return N.optional(function(){t.assert(n,'!("'+o+'" in '+r+")||("+r+"."+o+" in "+i+")","invalid "+e+"."+o+", must be one of "+Object.keys(Qi))}),n.def('"',o,'" in ',r,"?",i,"[",r,".",o,"]:",Vi)}return N.optional(function(){t.assert(n,r+"&&typeof "+r+'==="object"',"invalid "+e)}),[e===Ir?Li:Ri,o("fail"),o("zfail"),o("zpass")]});case jr:return u(function(e){N.commandType(e,"object",a,t.commandStr);var n=0|e.factor,r=0|e.units;return N.commandType(n,"number",a+".factor",t.commandStr),N.commandType(r,"number",a+".units",t.commandStr),[n,r]},function(t,n,r){return N.optional(function(){t.assert(n,r+"&&typeof "+r+'==="object"',"invalid "+e)}),[n.def(r,".factor|0"),n.def(r,".units|0")]});case Or:return u(function(e){var n=0;return"front"===e?n=Ri:"back"===e&&(n=Li),N.command(!!n,a,t.commandStr),n},function(e,t,n){return N.optional(function(){e.assert(t,n+'==="front"||'+n+'==="back"',"invalid cull.face")}),t.def(n,'==="front"?',Ri,":",Li)});case Ar:return u(function(e){return N.command("number"===typeof e&&e>=i.lineWidthDims[0]&&e<=i.lineWidthDims[1],"invalid line width, must be a positive number between "+i.lineWidthDims[0]+" and "+i.lineWidthDims[1],t.commandStr),e},function(e,t,n){return N.optional(function(){e.assert(t,"typeof "+n+'==="number"&&'+n+">="+i.lineWidthDims[0]+"&&"+n+"<="+i.lineWidthDims[1],"invalid line width")}),n});case Sr:return u(function(e){return N.commandParameter(e,Zi,a,t.commandStr),Zi[e]},function(e,t,n){return N.optional(function(){e.assert(t,n+'==="cw"||'+n+'==="ccw"',"invalid frontFace, must be one of cw,ccw")}),t.def(n+'==="cw"?'+Ii+":"+Di)});case xr:return u(function(e){return N.command(Fe(e)&&4===e.length,"color.mask must be length 4 array",t.commandStr),e.map(function(e){return!!e})},function(e,t,n){return N.optional(function(){e.assert(t,e.shared.isArrayLike+"("+n+")&&"+n+".length===4","invalid color.mask")}),X(4,function(e){return"!!"+n+"["+e+"]"})});case Pr:return u(function(e){N.command("object"===typeof e&&e,a,t.commandStr);var n="value"in e?e.value:1,r=!!e.invert;return N.command("number"===typeof n&&n>=0&&n<=1,"sample.coverage.value must be a number between 0 and 1",t.commandStr),[n,r]},function(e,t,n){return N.optional(function(){e.assert(t,n+"&&typeof "+n+'==="object"',"invalid sample.coverage")}),[t.def('"value" in ',n,"?+",n,".value:1"),t.def("!!",n,".invert")]})}}),o}(e,h),O=function(e,t,r){var i=e.static,o=e.dynamic;function a(e){if(e in i){var t=n.id(i[e]);N.optional(function(){f.shader(Ki[e],t,N.guessCommand())});var r=io(function(){return t});return r.id=t,r}if(e in o){var a=o[e];return oo(a,function(t,n){var r=t.invoke(n,a),i=n.def(t.shared.strings,".id(",r,")");return N.optional(function(){n(t.shared.shader,".shader(",Ki[e],",",i,",",t.command,");")}),i})}return null}var u,s=a(Gr),c=a(Ur),l=null;return ro(s)&&ro(c)?(l=f.program(c.id,s.id,null,r),u=io(function(e,t){return e.link(l)})):u=new no(s&&s.thisDep||c&&c.thisDep,s&&s.contextDep||c&&c.contextDep,s&&s.propDep||c&&c.propDep,function(e,t){var n,r,i=e.shared.shader;n=s?s.append(e,t):t.def(i,".",Gr),r=c?c.append(e,t):t.def(i,".",Ur);var o=i+".program("+r+","+n;return N.optional(function(){o+=","+e.command}),t.def(o+")")}),{frag:s,vert:c,progVar:u,program:l}}(e,0,v);function A(e){var t=w[e];t&&(k[e]=t)}A(Fr),A(S(Br));var T=Object.keys(k).length>0,j={framebuffer:b,draw:E,shader:O,state:k,dirty:T,scopeVAO:null,drawVAO:null,useVAO:!1,attributes:{}};if(j.profile=function(e){var t,n=e.static,r=e.dynamic;if(zr in n){var i=!!n[zr];(t=io(function(e,t){return i})).enable=i}else if(zr in r){var o=r[zr];t=oo(o,function(e,t){return e.invoke(t,o)})}return t}(e),j.uniforms=function(e,t){var n=e.static,r=e.dynamic,i={};return Object.keys(n).forEach(function(e){var r,o=n[e];if("number"===typeof o||"boolean"===typeof o)r=io(function(){return o});else if("function"===typeof o){var a=o._reglType;"texture2d"===a||"textureCube"===a?r=io(function(e){return e.link(o)}):"framebuffer"===a||"framebufferCube"===a?(N.command(o.color.length>0,'missing color attachment for framebuffer sent to uniform "'+e+'"',t.commandStr),r=io(function(e){return e.link(o.color[0])})):N.commandRaise('invalid data for uniform "'+e+'"',t.commandStr)}else Fe(o)?r=io(function(t){return t.global.def("[",X(o.length,function(n){return N.command("number"===typeof o[n]||"boolean"===typeof o[n],"invalid uniform "+e,t.commandStr),o[n]}),"]")}):N.commandRaise('invalid or missing data for uniform "'+e+'"',t.commandStr);r.value=o,i[e]=r}),Object.keys(r).forEach(function(e){var t=r[e];i[e]=oo(t,function(e,n){return e.invoke(n,t)})}),i}(u,h),j.drawVAO=j.scopeVAO=function(e,t){var n=e.static,r=e.dynamic;if($r in n){var i=n[$r];return null!==i&&null===l.getVAO(i)&&(i=l.createVAO(i)),io(function(e){return e.link(l.getVAO(i))})}if($r in r){var o=r[$r];return oo(o,function(e,t){var n=e.invoke(t,o);return t.def(e.shared.vao+".getVAO("+n+")")})}return null}(e),!j.drawVAO&&O.program&&!v&&r.angle_instanced_arrays){var C=!0,_=O.program.attributes.map(function(e){var n=t.static[e];return C=C&&!!n,n});if(C&&_.length>0){var P=l.getVAO(l.createVAO(_));j.drawVAO=new no(null,null,null,function(e,t){return e.link(P)}),j.useVAO=!0}}return v?j.useVAO=!0:j.attributes=function(e,t){var r=e.static,i=e.dynamic,a={};return Object.keys(r).forEach(function(e){var i=r[e],u=n.id(e),s=new g;if(eo(i))s.state=ir,s.buffer=o.getBuffer(o.create(i,ri,!1,!0)),s.type=0;else{var c=o.getBuffer(i);if(c)s.state=ir,s.buffer=c,s.type=0;else if(N.command("object"===typeof i&&i,"invalid data for attribute "+e,t.commandStr),"constant"in i){var l=i.constant;s.buffer="null",s.state=or,"number"===typeof l?s.x=l:(N.command(Fe(l)&&l.length>0&&l.length<=4,"invalid constant for attribute "+e,t.commandStr),nr.forEach(function(e,t){t<l.length&&(s[e]=l[t])}))}else{c=eo(i.buffer)?o.getBuffer(o.create(i.buffer,ri,!1,!0)):o.getBuffer(i.buffer),N.command(!!c,'missing buffer for attribute "'+e+'"',t.commandStr);var f=0|i.offset;N.command(f>=0,'invalid offset for attribute "'+e+'"',t.commandStr);var h=0|i.stride;N.command(h>=0&&h<256,'invalid stride for attribute "'+e+'", must be integer betweeen [0, 255]',t.commandStr);var d=0|i.size;N.command(!("size"in i)||d>0&&d<=4,'invalid size for attribute "'+e+'", must be 1,2,3,4',t.commandStr);var p=!!i.normalized,v=0;"type"in i&&(N.commandParameter(i.type,le,"invalid type for attribute "+e,t.commandStr),v=le[i.type]);var y=0|i.divisor;"divisor"in i&&(N.command(0===y||m,'cannot specify divisor for attribute "'+e+'", instancing not supported',t.commandStr),N.command(y>=0,'invalid divisor for attribute "'+e+'"',t.commandStr)),N.optional(function(){var n=t.commandStr,r=["buffer","offset","divisor","normalized","type","size","stride"];Object.keys(i).forEach(function(t){N.command(r.indexOf(t)>=0,'unknown parameter "'+t+'" for attribute pointer "'+e+'" (valid parameters are '+r+")",n)})}),s.buffer=c,s.state=ir,s.size=d,s.normalized=p,s.type=v||c.dtype,s.offset=f,s.stride=h,s.divisor=y}}a[e]=io(function(e,t){var n=e.attribCache;if(u in n)return n[u];var r={isStream:!1};return Object.keys(s).forEach(function(e){r[e]=s[e]}),s.buffer&&(r.buffer=e.link(s.buffer),r.type=r.type||r.buffer+".dtype"),n[u]=r,r})}),Object.keys(i).forEach(function(e){var t=i[e];a[e]=oo(t,function(n,r){var i=n.invoke(r,t),o=n.shared,a=n.constants,u=o.isBufferArgs,s=o.buffer;N.optional(function(){n.assert(r,i+"&&(typeof "+i+'==="object"||typeof '+i+'==="function")&&('+u+"("+i+")||"+s+".getBuffer("+i+")||"+s+".getBuffer("+i+".buffer)||"+u+"("+i+'.buffer)||("constant" in '+i+"&&(typeof "+i+'.constant==="number"||'+o.isArrayLike+"("+i+".constant))))",'invalid dynamic attribute "'+e+'"')});var c={isStream:r.def(!1)},l=new g;l.state=ir,Object.keys(l).forEach(function(e){c[e]=r.def(""+l[e])});var f=c.buffer,h=c.type;function d(e){r(c[e],"=",i,".",e,"|0;")}return r("if(",u,"(",i,")){",c.isStream,"=true;",f,"=",s,".createStream(",ri,",",i,");",h,"=",f,".dtype;","}else{",f,"=",s,".getBuffer(",i,");","if(",f,"){",h,"=",f,".dtype;",'}else if("constant" in ',i,"){",c.state,"=",or,";","if(typeof "+i+'.constant === "number"){',c[nr[0]],"=",i,".constant;",nr.slice(1).map(function(e){return c[e]}).join("="),"=0;","}else{",nr.map(function(e,t){return c[e]+"="+i+".constant.length>"+t+"?"+i+".constant["+t+"]:0;"}).join(""),"}}else{","if(",u,"(",i,".buffer)){",f,"=",s,".createStream(",ri,",",i,".buffer);","}else{",f,"=",s,".getBuffer(",i,".buffer);","}",h,'="type" in ',i,"?",a.glTypes,"[",i,".type]:",f,".dtype;",c.normalized,"=!!",i,".normalized;"),d("size"),d("offset"),d("stride"),d("divisor"),r("}}"),r.exit("if(",c.isStream,"){",s,".destroyStream(",f,");","}"),c})}),a}(t,h),j.context=function(e){var t=e.static,n=e.dynamic,r={};return Object.keys(t).forEach(function(e){var n=t[e];r[e]=io(function(e,t){return"number"===typeof n||"boolean"===typeof n?""+n:e.link(n)})}),Object.keys(n).forEach(function(e){var t=n[e];r[e]=oo(t,function(e,n){return e.invoke(n,t)})}),r}(c),j}function R(e,t,n){var r=e.shared,i=r.context,o=e.scope();Object.keys(n).forEach(function(r){t.save(i,"."+r);var a=n[r],u=a.append(e,t);Array.isArray(u)?o(i,".",r,"=[",u.join(),"];"):o(i,".",r,"=",u,";")}),t(o)}function L(e,t,n,r){var i,o=e.shared,a=o.gl,u=o.framebuffer;b&&(i=t.def(o.extensions,".webgl_draw_buffers"));var s,c=e.constants,l=c.drawBuffer,f=c.backBuffer;s=n?n.append(e,t):t.def(u,".next"),r||t("if(",s,"!==",u,".cur){"),t("if(",s,"){",a,".bindFramebuffer(",qi,",",s,".framebuffer);"),b&&t(i,".drawBuffersWEBGL(",l,"[",s,".colorAttachments.length]);"),t("}else{",a,".bindFramebuffer(",qi,",null);"),b&&t(i,".drawBuffersWEBGL(",f,");"),t("}",u,".cur=",s,";"),r||t("}")}function I(e,t,n){var r=e.shared,i=r.gl,o=e.current,a=e.next,u=r.current,s=r.next,c=e.cond(u,".dirty");x.forEach(function(t){var r,l,f=S(t);if(!(f in n.state))if(f in a){r=a[f],l=o[f];var h=X(w[f].length,function(e){return c.def(r,"[",e,"]")});c(e.cond(h.map(function(e,t){return e+"!=="+l+"["+t+"]"}).join("||")).then(i,".",O[f],"(",h,");",h.map(function(e,t){return l+"["+t+"]="+e}).join(";"),";"))}else{r=c.def(s,".",f);var d=e.cond(r,"!==",u,".",f);c(d),f in k?d(e.cond(r).then(i,".enable(",k[f],");").else(i,".disable(",k[f],");"),u,".",f,"=",r,";"):d(i,".",O[f],"(",r,");",u,".",f,"=",r,";")}}),0===Object.keys(n.state).length&&c(u,".dirty=false;"),t(c)}function D(e,t,n,r){var i=e.shared,o=e.current,a=i.current,u=i.gl;to(Object.keys(n)).forEach(function(i){var s=n[i];if(!r||r(s)){var c=s.append(e,t);if(k[i]){var l=k[i];ro(s)?t(u,c?".enable(":".disable(",l,");"):t(e.cond(c).then(u,".enable(",l,");").else(u,".disable(",l,");")),t(a,".",i,"=",c,";")}else if(Fe(c)){var f=o[i];t(u,".",O[i],"(",c,");",c.map(function(e,t){return f+"["+t+"]="+e}).join(";"),";")}else t(u,".",O[i],"(",c,");",a,".",i,"=",c,";")}})}function B(e,t){m&&(e.instancing=t.def(e.shared.extensions,".angle_instanced_arrays"))}function F(e,t,n,r,i){var o,a,u,s=e.shared,c=e.stats,l=s.current,f=s.timer,h=n.profile;function d(){return"undefined"===typeof performance?"Date.now()":"performance.now()"}function v(e){o=t.def(),e(o,"=",d(),";"),"string"===typeof i?e(c,".count+=",i,";"):e(c,".count++;"),p&&(r?(a=t.def(),e(a,"=",f,".getNumPendingQueries();")):e(f,".beginQuery(",c,");"))}function g(e){e(c,".cpuTime+=",d(),"-",o,";"),p&&(r?e(f,".pushScopeStats(",a,",",f,".getNumPendingQueries(),",c,");"):e(f,".endQuery();"))}function y(e){var n=t.def(l,".profile");t(l,".profile=",e,";"),t.exit(l,".profile=",n,";")}if(h){if(ro(h))return void(h.enable?(v(t),g(t.exit),y("true")):y("false"));y(u=h.append(e,t))}else u=t.def(l,".profile");var m=e.block();v(m),t("if(",u,"){",m,"}");var b=e.block();g(b),t.exit("if(",u,"){",b,"}")}function z(e,t,n,r,i){var o=e.shared;r.forEach(function(r){var a,u=r.name,s=n.attributes[u];if(s){if(!i(s))return;a=s.append(e,t)}else{if(!i(ao))return;var c=e.scopeAttrib(u);N.optional(function(){e.assert(t,c+".state","missing attribute "+u)}),a={},Object.keys(new g).forEach(function(e){a[e]=t.def(c,".",e)})}!function(n,r,i){var a=o.gl,u=t.def(n,".location"),s=t.def(o.attributes,"[",u,"]"),c=i.state,l=i.buffer,f=[i.x,i.y,i.z,i.w],h=["buffer","normalized","offset","stride"];function d(){t("if(!",s,".buffer){",a,".enableVertexAttribArray(",u,");}");var n,o=i.type;if(n=i.size?t.def(i.size,"||",r):r,t("if(",s,".type!==",o,"||",s,".size!==",n,"||",h.map(function(e){return s+"."+e+"!=="+i[e]}).join("||"),"){",a,".bindBuffer(",ri,",",l,".buffer);",a,".vertexAttribPointer(",[u,n,o,i.normalized,i.stride,i.offset],");",s,".type=",o,";",s,".size=",n,";",h.map(function(e){return s+"."+e+"="+i[e]+";"}).join(""),"}"),m){var c=i.divisor;t("if(",s,".divisor!==",c,"){",e.instancing,".vertexAttribDivisorANGLE(",[u,c],");",s,".divisor=",c,";}")}}function p(){t("if(",s,".buffer){",a,".disableVertexAttribArray(",u,");",s,".buffer=null;","}if(",nr.map(function(e,t){return s+"."+e+"!=="+f[t]}).join("||"),"){",a,".vertexAttrib4f(",u,",",f,");",nr.map(function(e,t){return s+"."+e+"="+f[t]+";"}).join(""),"}")}c===ir?d():c===or?p():(t("if(",c,"===",ir,"){"),d(),t("}else{"),p(),t("}"))}(e.link(r),function(e){switch(e){case yi:case Ei:case Si:return 2;case mi:case xi:case Ai:return 3;case bi:case ki:case Ti:return 4;default:return 1}}(r.info.type),a)})}function U(e,t,r,i,o){for(var a,u=e.shared,s=u.gl,c=0;c<i.length;++c){var l,f=i[c],h=f.name,d=f.info.type,p=r.uniforms[h],v=e.link(f),g=v+".location";if(p){if(!o(p))continue;if(ro(p)){var y=p.value;if(N.command(null!==y&&"undefined"!==typeof y,'missing uniform "'+h+'"',e.commandStr),d===Pi||d===Mi){N.command("function"===typeof y&&(d===Pi&&("texture2d"===y._reglType||"framebuffer"===y._reglType)||d===Mi&&("textureCube"===y._reglType||"framebufferCube"===y._reglType)),"invalid texture for uniform "+h,e.commandStr);var m=e.link(y._texture||y.color[0]._texture);t(s,".uniform1i(",g,",",m+".bind());"),t.exit(m,".unbind();")}else if(d===ji||d===Ci||d===_i){N.optional(function(){N.command(Fe(y),"invalid matrix for uniform "+h,e.commandStr),N.command(d===ji&&4===y.length||d===Ci&&9===y.length||d===_i&&16===y.length,"invalid length for matrix uniform "+h,e.commandStr)});var b=e.global.def("new Float32Array(["+Array.prototype.slice.call(y)+"])"),w=2;d===Ci?w=3:d===_i&&(w=4),t(s,".uniformMatrix",w,"fv(",g,",false,",b,");")}else{switch(d){case gi:N.commandType(y,"number","uniform "+h,e.commandStr),a="1f";break;case yi:N.command(Fe(y)&&2===y.length,"uniform "+h,e.commandStr),a="2f";break;case mi:N.command(Fe(y)&&3===y.length,"uniform "+h,e.commandStr),a="3f";break;case bi:N.command(Fe(y)&&4===y.length,"uniform "+h,e.commandStr),a="4f";break;case Oi:N.commandType(y,"boolean","uniform "+h,e.commandStr),a="1i";break;case wi:N.commandType(y,"number","uniform "+h,e.commandStr),a="1i";break;case Si:case Ei:N.command(Fe(y)&&2===y.length,"uniform "+h,e.commandStr),a="2i";break;case Ai:case xi:N.command(Fe(y)&&3===y.length,"uniform "+h,e.commandStr),a="3i";break;case Ti:case ki:N.command(Fe(y)&&4===y.length,"uniform "+h,e.commandStr),a="4i"}t(s,".uniform",a,"(",g,",",Fe(y)?Array.prototype.slice.call(y):y,");")}continue}l=p.append(e,t)}else{if(!o(ao))continue;l=t.def(u.uniforms,"[",n.id(h),"]")}d===Pi?(N(!Array.isArray(l),"must specify a scalar prop for textures"),t("if(",l,"&&",l,'._reglType==="framebuffer"){',l,"=",l,".color[0];","}")):d===Mi&&(N(!Array.isArray(l),"must specify a scalar prop for cube maps"),t("if(",l,"&&",l,'._reglType==="framebufferCube"){',l,"=",l,".color[0];","}")),N.optional(function(){function n(n,r){e.assert(t,n,'bad data or missing for uniform "'+h+'".  '+r)}function r(e){N(!Array.isArray(l),"must not specify an array type for uniform"),n("typeof "+l+'==="'+e+'"',"invalid type, expected "+e)}function i(t,r){Array.isArray(l)?N(l.length===t,"must have length "+t):n(u.isArrayLike+"("+l+")&&"+l+".length==="+t,"invalid vector, should have length "+t,e.commandStr)}function o(t){N(!Array.isArray(l),"must not specify a value type"),n("typeof "+l+'==="function"&&'+l+'._reglType==="texture'+(t===oi?"2d":"Cube")+'"',"invalid texture type",e.commandStr)}switch(d){case wi:r("number");break;case Ei:i(2);break;case xi:i(3);break;case ki:i(4);break;case gi:r("number");break;case yi:i(2);break;case mi:i(3);break;case bi:i(4);break;case Oi:r("boolean");break;case Si:i(2);break;case Ai:i(3);break;case Ti:case ji:i(4);break;case Ci:i(9);break;case _i:i(16);break;case Pi:o(oi);break;case Mi:o(ai)}});var E=1;switch(d){case Pi:case Mi:var x=t.def(l,"._texture");t(s,".uniform1i(",g,",",x,".bind());"),t.exit(x,".unbind();");continue;case wi:case Oi:a="1i";break;case Ei:case Si:a="2i",E=2;break;case xi:case Ai:a="3i",E=3;break;case ki:case Ti:a="4i",E=4;break;case gi:a="1f";break;case yi:a="2f",E=2;break;case mi:a="3f",E=3;break;case bi:a="4f",E=4;break;case ji:a="Matrix2fv";break;case Ci:a="Matrix3fv";break;case _i:a="Matrix4fv"}if(t(s,".uniform",a,"(",g,","),"M"===a.charAt(0)){var k=Math.pow(d-ji+2,2),O=e.global.def("new Float32Array(",k,")");Array.isArray(l)?t("false,(",X(k,function(e){return O+"["+e+"]="+l[e]}),",",O,")"):t("false,(Array.isArray(",l,")||",l," instanceof Float32Array)?",l,":(",X(k,function(e){return O+"["+e+"]="+l+"["+e+"]"}),",",O,")")}else E>1?t(X(E,function(e){return Array.isArray(l)?l[e]:l+"["+e+"]"})):(N(!Array.isArray(l),"uniform value must not be an array"),t(l));t(");")}}function G(e,t,n,r){var i=e.shared,o=i.gl,a=i.draw,u=r.draw,s=function(){var i,s=u.elements,c=t;return s?((s.contextDep&&r.contextDynamic||s.propDep)&&(c=n),i=s.append(e,c)):i=c.def(a,".",Hr),i&&c("if("+i+")"+o+".bindBuffer("+ii+","+i+".buffer.buffer);"),i}();function c(i){var o=u[i];return o?o.contextDep&&r.contextDynamic||o.propDep?o.append(e,n):o.append(e,t):t.def(a,".",i)}var l,f,h=c(Wr),d=c(Xr),p=function(){var i,o=u.count,s=t;return o?((o.contextDep&&r.contextDynamic||o.propDep)&&(s=n),i=o.append(e,s),N.optional(function(){o.MISSING&&e.assert(t,"false","missing vertex count"),o.DYNAMIC&&e.assert(s,i+">=0","missing vertex count")})):(i=s.def(a,".",qr),N.optional(function(){e.assert(s,i+">=0","missing vertex count")})),i}();if("number"===typeof p){if(0===p)return}else n("if(",p,"){"),n.exit("}");m&&(l=c(Yr),f=e.instancing);var v=s+".type",g=u.elements&&ro(u.elements);function y(){function e(){n(f,".drawElementsInstancedANGLE(",[h,p,v,d+"<<(("+v+"-"+rr+")>>1)",l],");")}function t(){n(f,".drawArraysInstancedANGLE(",[h,d,p,l],");")}s?g?e():(n("if(",s,"){"),e(),n("}else{"),t(),n("}")):t()}function b(){function e(){n(o+".drawElements("+[h,p,v,d+"<<(("+v+"-"+rr+")>>1)"]+");")}function t(){n(o+".drawArrays("+[h,d,p]+");")}s?g?e():(n("if(",s,"){"),e(),n("}else{"),t(),n("}")):t()}m&&("number"!==typeof l||l>=0)?"string"===typeof l?(n("if(",l,">0){"),y(),n("}else if(",l,"<0){"),b(),n("}")):y():b()}function H(e,t,n,r,i){var o=P(),a=o.proc("body",i);return N.optional(function(){o.commandStr=t.commandStr,o.command=o.link(t.commandStr)}),m&&(o.instancing=a.def(o.shared.extensions,".angle_instanced_arrays")),e(o,a,n,r),o.compile().body}function W(e,t,n,r){B(e,t),n.useVAO?n.drawVAO?t(e.shared.vao,".setVAO(",n.drawVAO.append(e,t),");"):t(e.shared.vao,".setVAO(",e.shared.vao,".targetVAO);"):(t(e.shared.vao,".setVAO(null);"),z(e,t,n,r.attributes,function(){return!0})),U(e,t,n,r.uniforms,function(){return!0}),G(e,t,t,n)}function q(e,t,n,r){function i(){return!0}e.batchId="a1",B(e,t),z(e,t,n,r.attributes,i),U(e,t,n,r.uniforms,i),G(e,t,t,n)}function Y(e,t,n,r){B(e,t);var i=n.contextDep,o=t.def(),a=t.def();e.shared.props=a,e.batchId=o;var u=e.scope(),s=e.scope();function c(e){return e.contextDep&&i||e.propDep}function l(e){return!c(e)}if(t(u.entry,"for(",o,"=0;",o,"<","a1",";++",o,"){",a,"=","a0","[",o,"];",s,"}",u.exit),n.needsContext&&R(e,s,n.context),n.needsFramebuffer&&L(e,s,n.framebuffer),D(e,s,n.state,c),n.profile&&c(n.profile)&&F(e,s,n,!1,!0),r)n.useVAO?n.drawVAO?c(n.drawVAO)?s(e.shared.vao,".setVAO(",n.drawVAO.append(e,s),");"):u(e.shared.vao,".setVAO(",n.drawVAO.append(e,u),");"):u(e.shared.vao,".setVAO(",e.shared.vao,".targetVAO);"):(u(e.shared.vao,".setVAO(null);"),z(e,u,n,r.attributes,l),z(e,s,n,r.attributes,c)),U(e,u,n,r.uniforms,l),U(e,s,n,r.uniforms,c),G(e,u,s,n);else{var f=e.global.def("{}"),h=n.shader.progVar.append(e,s),d=s.def(h,".id"),p=s.def(f,"[",d,"]");s(e.shared.gl,".useProgram(",h,".program);","if(!",p,"){",p,"=",f,"[",d,"]=",e.link(function(t){return H(q,e,n,t,2)}),"(",h,");}",p,".call(this,a0[",o,"],",o,");")}}function $(e,t,n){var r=t.static[n];if(r&&function(e){if("object"===typeof e&&!Fe(e)){for(var t=Object.keys(e),n=0;n<t.length;++n)if(V.isDynamic(e[t[n]]))return!0;return!1}}(r)){var i=e.global,o=Object.keys(r),a=!1,u=!1,s=!1,c=e.global.def("{}");o.forEach(function(t){var n=r[t];if(V.isDynamic(n)){"function"===typeof n&&(n=r[t]=V.unbox(n));var o=oo(n,null);a=a||o.thisDep,s=s||o.propDep,u=u||o.contextDep}else{switch(i(c,".",t,"="),typeof n){case"number":i(n);break;case"string":i('"',n,'"');break;case"object":Array.isArray(n)&&i("[",n.join(),"]");break;default:i(e.link(n))}i(";")}}),t.dynamic[n]=new V.DynamicVariable(lr,{thisDep:a,contextDep:u,propDep:s,ref:c,append:function(e,t){o.forEach(function(n){var i=r[n];if(V.isDynamic(i)){var o=e.invoke(t,i);t(c,".",n,"=",o,";")}})}}),delete t.static[n]}}return{next:E,current:w,procs:function(){var e=P(),t=e.proc("poll"),n=e.proc("refresh"),o=e.block();t(o),n(o);var a,u=e.shared,s=u.gl,c=u.next,l=u.current;o(l,".dirty=false;"),L(e,t),L(e,n,null,!0),m&&(a=e.link(m)),r.oes_vertex_array_object&&n(e.link(r.oes_vertex_array_object),".bindVertexArrayOES(null);");for(var f=0;f<i.maxAttributes;++f){var h=n.def(u.attributes,"[",f,"]"),d=e.cond(h,".buffer");d.then(s,".enableVertexAttribArray(",f,");",s,".bindBuffer(",ri,",",h,".buffer.buffer);",s,".vertexAttribPointer(",f,",",h,".size,",h,".type,",h,".normalized,",h,".stride,",h,".offset);").else(s,".disableVertexAttribArray(",f,");",s,".vertexAttrib4f(",f,",",h,".x,",h,".y,",h,".z,",h,".w);",h,".buffer=null;"),n(d),m&&n(a,".vertexAttribDivisorANGLE(",f,",",h,".divisor);")}return n(e.shared.vao,".currentVAO=null;",e.shared.vao,".setVAO(",e.shared.vao,".targetVAO);"),Object.keys(k).forEach(function(r){var i=k[r],a=o.def(c,".",r),u=e.block();u("if(",a,"){",s,".enable(",i,")}else{",s,".disable(",i,")}",l,".",r,"=",a,";"),n(u),t("if(",a,"!==",l,".",r,"){",u,"}")}),Object.keys(O).forEach(function(r){var i,a,u=O[r],f=w[r],h=e.block();if(h(s,".",u,"("),Fe(f)){var d=f.length;i=e.global.def(c,".",r),a=e.global.def(l,".",r),h(X(d,function(e){return i+"["+e+"]"}),");",X(d,function(e){return a+"["+e+"]="+i+"["+e+"];"}).join("")),t("if(",X(d,function(e){return i+"["+e+"]!=="+a+"["+e+"]"}).join("||"),"){",h,"}")}else i=o.def(c,".",r),a=o.def(l,".",r),h(i,");",l,".",r,"=",i,";"),t("if(",i,"!==",a,"){",h,"}");n(h)}),e.compile()}(),compile:function(e,r,i,o,a){var u=P();u.stats=u.link(a),Object.keys(r.static).forEach(function(e){$(u,r,e)}),ni.forEach(function(t){$(u,e,t)});var s=M(e,r,i,o,u);return function(e,t){var n=e.proc("draw",1);B(e,n),R(e,n,t.context),L(e,n,t.framebuffer),I(e,n,t),D(e,n,t.state),F(e,n,t,!1,!0);var r=t.shader.progVar.append(e,n);if(n(e.shared.gl,".useProgram(",r,".program);"),t.shader.program)W(e,n,t,t.shader.program);else{n(e.shared.vao,".setVAO(null);");var i=e.global.def("{}"),o=n.def(r,".id"),a=n.def(i,"[",o,"]");n(e.cond(a).then(a,".call(this,a0);").else(a,"=",i,"[",o,"]=",e.link(function(n){return H(W,e,t,n,1)}),"(",r,");",a,".call(this,a0);"))}Object.keys(t.state).length>0&&n(e.shared.current,".dirty=true;")}(u,s),function(e,t){var r=e.proc("scope",3);e.batchId="a2";var i=e.shared,o=i.current;function a(n){var o=t.shader[n];o&&r.set(i.shader,"."+n,o.append(e,r))}R(e,r,t.context),t.framebuffer&&t.framebuffer.append(e,r),to(Object.keys(t.state)).forEach(function(n){var o=t.state[n].append(e,r);Fe(o)?o.forEach(function(t,i){r.set(e.next[n],"["+i+"]",t)}):r.set(i.next,"."+n,o)}),F(e,r,t,!0,!0),[Hr,Xr,qr,Yr,Wr].forEach(function(n){var o=t.draw[n];o&&r.set(i.draw,"."+n,""+o.append(e,r))}),Object.keys(t.uniforms).forEach(function(o){var a=t.uniforms[o].append(e,r);Array.isArray(a)&&(a="["+a.join()+"]"),r.set(i.uniforms,"["+n.id(o)+"]",a)}),Object.keys(t.attributes).forEach(function(n){var i=t.attributes[n].append(e,r),o=e.scopeAttrib(n);Object.keys(new g).forEach(function(e){r.set(o,"."+e,i[e])})}),t.scopeVAO&&r.set(i.vao,".targetVAO",t.scopeVAO.append(e,r)),a(Ur),a(Gr),Object.keys(t.state).length>0&&(r(o,".dirty=true;"),r.exit(o,".dirty=true;")),r("a1(",e.shared.context,",a0,",e.batchId,");")}(u,s),function(e,t){var n=e.proc("batch",2);e.batchId="0",B(e,n);var r=!1,i=!0;Object.keys(t.context).forEach(function(e){r=r||t.context[e].propDep}),r||(R(e,n,t.context),i=!1);var o=t.framebuffer,a=!1;function u(e){return e.contextDep&&r||e.propDep}o?(o.propDep?r=a=!0:o.contextDep&&r&&(a=!0),a||L(e,n,o)):L(e,n,null),t.state.viewport&&t.state.viewport.propDep&&(r=!0),I(e,n,t),D(e,n,t.state,function(e){return!u(e)}),t.profile&&u(t.profile)||F(e,n,t,!1,"a1"),t.contextDep=r,t.needsContext=i,t.needsFramebuffer=a;var s=t.shader.progVar;if(s.contextDep&&r||s.propDep)Y(e,n,t,null);else{var c=s.append(e,n);if(n(e.shared.gl,".useProgram(",c,".program);"),t.shader.program)Y(e,n,t,t.shader.program);else{n(e.shared.vao,".setVAO(null);");var l=e.global.def("{}"),f=n.def(c,".id"),h=n.def(l,"[",f,"]");n(e.cond(h).then(h,".call(this,a0,a1);").else(h,"=",l,"[",f,"]=",e.link(function(n){return H(Y,e,t,n,2)}),"(",c,");",h,".call(this,a0,a1);"))}}Object.keys(t.state).length>0&&n(e.shared.current,".dirty=true;")}(u,s),t(u.compile(),{destroy:function(){s.shader.program.destroy()}})}}}var so=34918,co=34919,lo=35007,fo=function(e,t){if(!t.ext_disjoint_timer_query)return null;var n=[];function r(e){n.push(e)}var i=[];function o(){this.startQueryIndex=-1,this.endQueryIndex=-1,this.sum=0,this.stats=null}var a=[];function u(e){a.push(e)}var s=[];function c(e,t,n){var r=a.pop()||new o;r.startQueryIndex=e,r.endQueryIndex=t,r.sum=0,r.stats=n,s.push(r)}var l=[],f=[];return{beginQuery:function(e){var r=n.pop()||t.ext_disjoint_timer_query.createQueryEXT();t.ext_disjoint_timer_query.beginQueryEXT(lo,r),i.push(r),c(i.length-1,i.length,e)},endQuery:function(){t.ext_disjoint_timer_query.endQueryEXT(lo)},pushScopeStats:c,update:function(){var e,n,o=i.length;if(0!==o){f.length=Math.max(f.length,o+1),l.length=Math.max(l.length,o+1),l[0]=0,f[0]=0;var a=0;for(e=0,n=0;n<i.length;++n){var c=i[n];t.ext_disjoint_timer_query.getQueryObjectEXT(c,co)?(a+=t.ext_disjoint_timer_query.getQueryObjectEXT(c,so),r(c)):i[e++]=c,l[n+1]=a,f[n+1]=e}for(i.length=e,e=0,n=0;n<s.length;++n){var h=s[n],d=h.startQueryIndex,p=h.endQueryIndex;h.sum+=l[p]-l[d];var v=f[d],g=f[p];g===v?(h.stats.gpuTime+=h.sum/1e6,u(h)):(h.startQueryIndex=v,h.endQueryIndex=g,s[e++]=h)}s.length=e}},getNumPendingQueries:function(){return i.length},clear:function(){n.push.apply(n,i);for(var e=0;e<n.length;e++)t.ext_disjoint_timer_query.deleteQueryEXT(n[e]);i.length=0,n.length=0},restore:function(){i.length=0,n.length=0}}},ho=16384,po=256,vo=1024,go=34962,yo="webglcontextlost",mo="webglcontextrestored",bo=1,wo=2,Eo=3;function xo(e,t){for(var n=0;n<e.length;++n)if(e[n]===t)return n;return-1}return function(n){var r=q(n);if(!r)return null;var i=r.gl,o=i.getContextAttributes(),a=i.isContextLost(),u=function(e,t){var n={};function r(t){N.type(t,"string","extension name must be string");var r,i=t.toLowerCase();try{r=n[i]=e.getExtension(i)}catch(o){}return!!r}for(var i=0;i<t.extensions.length;++i){var o=t.extensions[i];if(!r(o))return t.onDestroy(),t.onDone('"'+o+'" extension is not supported by the current WebGL context, try upgrading your system or a different browser'),null}return t.optionalExtensions.forEach(r),{extensions:n,restore:function(){Object.keys(n).forEach(function(e){if(n[e]&&!r(e))throw new Error("(regl): error restoring extension "+e)})}}}(i,r);if(!u)return null;var s=function(){var e={"":0},t=[""];return{id:function(n){var r=e[n];return r||(r=e[n]=t.length,t.push(n),r)},str:function(e){return t[e]}}}(),c={vaoCount:0,bufferCount:0,elementsCount:0,framebufferCount:0,shaderCount:0,textureCount:0,cubeCount:0,renderbufferCount:0,maxTextureUnits:0},l=u.extensions,f=fo(i,l),h=G(),d=i.drawingBufferWidth,p=i.drawingBufferHeight,v={tick:0,time:0,viewportWidth:d,viewportHeight:p,framebufferWidth:d,framebufferHeight:p,drawingBufferWidth:d,drawingBufferHeight:p,pixelRatio:r.pixelRatio},g=ie(i,l),y=function(t,n,r,i){var o=0,a={};function u(e){this.id=o++,this.buffer=t.createBuffer(),this.type=e,this.usage=pe,this.byteLength=0,this.dimension=1,this.dtype=ge,this.persistentData=null,r.profile&&(this.stats={size:0})}u.prototype.bind=function(){t.bindBuffer(this.type,this.buffer)},u.prototype.destroy=function(){f(this)};var s=[];function c(e,n,r){e.byteLength=n.byteLength,t.bufferData(e.type,n,r)}function l(t,n,r,i,o,a){var u,s;if(t.usage=r,Array.isArray(n)){if(t.dtype=i||ye,n.length>0)if(Array.isArray(n[0])){u=de(n);for(var l=1,f=1;f<u.length;++f)l*=u[f];t.dimension=l,s=he(n,u,t.dtype),c(t,s,r),a?t.persistentData=s:re.freeType(s)}else if("number"===typeof n[0]){t.dimension=o;var h=re.allocType(t.dtype,n.length);we(h,n),c(t,h,r),a?t.persistentData=h:re.freeType(h)}else e(n[0])?(t.dimension=n[0].length,t.dtype=i||be(n[0])||ye,s=he(n,[n.length,n[0].length],t.dtype),c(t,s,r),a?t.persistentData=s:re.freeType(s)):N.raise("invalid buffer data")}else if(e(n))t.dtype=i||be(n),t.dimension=o,c(t,n,r),a&&(t.persistentData=new Uint8Array(new Uint8Array(n.buffer)));else if(oe(n)){u=n.shape;var d=n.stride,p=n.offset,v=0,g=0,y=0,m=0;1===u.length?(v=u[0],g=1,y=d[0],m=0):2===u.length?(v=u[0],g=u[1],y=d[0],m=d[1]):N.raise("invalid shape"),t.dtype=i||be(n.data)||ye,t.dimension=g;var b=re.allocType(t.dtype,v*g);Ee(b,n.data,v,g,y,m,p),c(t,b,r),a?t.persistentData=b:re.freeType(b)}else n instanceof ArrayBuffer?(t.dtype=ge,t.dimension=o,c(t,n,r),a&&(t.persistentData=new Uint8Array(new Uint8Array(n)))):N.raise("invalid buffer data")}function f(e){n.bufferCount--,i(e);var r=e.buffer;N(r,"buffer must not be deleted already"),t.deleteBuffer(r),e.buffer=null,delete a[e.id]}return r.profile&&(n.getTotalBufferSize=function(){var e=0;return Object.keys(a).forEach(function(t){e+=a[t].stats.size}),e}),{create:function(i,o,s,c){n.bufferCount++;var h=new u(o);function d(n){var i=pe,o=null,a=0,u=0,s=1;return Array.isArray(n)||e(n)||oe(n)||n instanceof ArrayBuffer?o=n:"number"===typeof n?a=0|n:n&&(N.type(n,"object","buffer arguments must be an object, a number or an array"),"data"in n&&(N(null===o||Array.isArray(o)||e(o)||oe(o),"invalid data for buffer"),o=n.data),"usage"in n&&(N.parameter(n.usage,fe,"invalid buffer usage"),i=fe[n.usage]),"type"in n&&(N.parameter(n.type,le,"invalid buffer type"),u=le[n.type]),"dimension"in n&&(N.type(n.dimension,"number","invalid dimension"),s=0|n.dimension),"length"in n&&(N.nni(a,"buffer length must be a nonnegative integer"),a=0|n.length)),h.bind(),o?l(h,o,i,u,s,c):(a&&t.bufferData(h.type,a,i),h.dtype=u||ge,h.usage=i,h.dimension=s,h.byteLength=a),r.profile&&(h.stats.size=h.byteLength*me[h.dtype]),d}function p(e,n){N(n+e.byteLength<=h.byteLength,"invalid buffer subdata call, buffer is too small.  Can't write data of size "+e.byteLength+" starting from offset "+n+" to a buffer of size "+h.byteLength),t.bufferSubData(h.type,n,e)}return a[h.id]=h,s||d(i),d._reglType="buffer",d._buffer=h,d.subdata=function(t,n){var r,i=0|(n||0);if(h.bind(),e(t)||t instanceof ArrayBuffer)p(t,i);else if(Array.isArray(t)){if(t.length>0)if("number"===typeof t[0]){var o=re.allocType(h.dtype,t.length);we(o,t),p(o,i),re.freeType(o)}else if(Array.isArray(t[0])||e(t[0])){r=de(t);var a=he(t,r,h.dtype);p(a,i),re.freeType(a)}else N.raise("invalid buffer data")}else if(oe(t)){r=t.shape;var u=t.stride,s=0,c=0,l=0,f=0;1===r.length?(s=r[0],c=1,l=u[0],f=0):2===r.length?(s=r[0],c=r[1],l=u[0],f=u[1]):N.raise("invalid shape");var v=Array.isArray(t.data)?h.dtype:be(t.data),g=re.allocType(v,s*c);Ee(g,t.data,s,c,l,f,t.offset),p(g,i),re.freeType(g)}else N.raise("invalid data for buffer subdata");return d},r.profile&&(d.stats=h.stats),d.destroy=function(){f(h)},d},createStream:function(e,t){var n=s.pop();return n||(n=new u(e)),n.bind(),l(n,t,ve,0,1,!1),n},destroyStream:function(e){s.push(e)},clear:function(){ae(a).forEach(f),s.forEach(f)},getBuffer:function(e){return e&&e._buffer instanceof u?e._buffer:null},restore:function(){ae(a).forEach(function(e){e.buffer=t.createBuffer(),t.bindBuffer(e.type,e.buffer),t.bufferData(e.type,e.persistentData||e.byteLength,e.usage)})},_initBuffer:l}}(i,c,r,function(e){return m.destroyBuffer(e)}),m=function(t,n,r,i,o){for(var a=r.maxAttributes,u=new Array(a),s=0;s<a;++s)u[s]=new Hn;var c=0,l={},f={Record:Hn,scope:{},state:u,currentVAO:null,targetVAO:null,restore:h()?function(){h()&&ae(l).forEach(function(e){e.refresh()})}:function(){},createVAO:function(t){var r=new p;function u(t){N(Array.isArray(t),"arguments to vertex array constructor must be an array"),N(t.length<a,"too many attributes"),N(t.length>0,"must specify at least one attribute");var i={},s=r.attributes;s.length=t.length;for(var c=0;c<t.length;++c){var l,f=t[c],h=s[c]=new Hn,d=f.data||f;Array.isArray(d)||e(d)||oe(d)?(r.buffers[c]&&(l=r.buffers[c],e(d)&&l._buffer.byteLength>=d.byteLength?l.subdata(d):(l.destroy(),r.buffers[c]=null)),r.buffers[c]||(l=r.buffers[c]=o.create(f,Gn,!1,!0)),h.buffer=o.getBuffer(l),h.size=0|h.buffer.dimension,h.normalized=!1,h.type=h.buffer.dtype,h.offset=0,h.stride=0,h.divisor=0,h.state=1,i[c]=1):o.getBuffer(f)?(h.buffer=o.getBuffer(f),h.size=0|h.buffer.dimension,h.normalized=!1,h.type=h.buffer.dtype,h.offset=0,h.stride=0,h.divisor=0,h.state=1):o.getBuffer(f.buffer)?(h.buffer=o.getBuffer(f.buffer),h.size=0|(+f.size||h.buffer.dimension),h.normalized=!!f.normalized||!1,"type"in f?(N.parameter(f.type,le,"invalid buffer type"),h.type=le[f.type]):h.type=h.buffer.dtype,h.offset=0|(f.offset||0),h.stride=0|(f.stride||0),h.divisor=0|(f.divisor||0),h.state=1,N(h.size>=1&&h.size<=4,"size must be between 1 and 4"),N(h.offset>=0,"invalid offset"),N(h.stride>=0&&h.stride<=255,"stride must be between 0 and 255"),N(h.divisor>=0,"divisor must be positive"),N(!h.divisor||!!n.angle_instanced_arrays,"ANGLE_instanced_arrays must be enabled to use divisor")):"x"in f?(N(c>0,"first attribute must not be a constant"),h.x=+f.x||0,h.y=+f.y||0,h.z=+f.z||0,h.w=+f.w||0,h.state=2):N(!1,"invalid attribute spec for location "+c)}for(var p=0;p<r.buffers.length;++p)!i[p]&&r.buffers[p]&&(r.buffers[p].destroy(),r.buffers[p]=null);return r.refresh(),u}return i.vaoCount+=1,u.destroy=function(){for(var e=0;e<r.buffers.length;++e)r.buffers[e]&&r.buffers[e].destroy();r.buffers.length=0,r.destroy()},u._vao=r,u._reglType="vao",u(t)},getVAO:function(e){return"function"===typeof e&&e._vao?e._vao:null},destroyBuffer:function(e){for(var n=0;n<u.length;++n){var r=u[n];r.buffer===e&&(t.disableVertexAttribArray(n),r.buffer=null)}},setVAO:h()?function(e){if(e!==f.currentVAO){var t=h();e?t.bindVertexArrayOES(e.vao):t.bindVertexArrayOES(null),f.currentVAO=e}}:function(e){if(e!==f.currentVAO){if(e)e.bindAttrs();else for(var n=d(),r=0;r<u.length;++r){var i=u[r];i.buffer?(t.enableVertexAttribArray(r),t.vertexAttribPointer(r,i.size,i.type,i.normalized,i.stride,i.offfset),n&&i.divisor&&n.vertexAttribDivisorANGLE(r,i.divisor)):(t.disableVertexAttribArray(r),t.vertexAttrib4f(r,i.x,i.y,i.z,i.w))}f.currentVAO=e}},clear:h()?function(){ae(l).forEach(function(e){e.destroy()})}:function(){}};function h(){return n.oes_vertex_array_object}function d(){return n.angle_instanced_arrays}function p(){this.id=++c,this.attributes=[];var e=h();this.vao=e?e.createVertexArrayOES():null,l[this.id]=this,this.buffers=[]}return p.prototype.bindAttrs=function(){for(var e=d(),n=this.attributes,r=0;r<n.length;++r){var i=n[r];i.buffer?(t.enableVertexAttribArray(r),t.bindBuffer(Gn,i.buffer.buffer),t.vertexAttribPointer(r,i.size,i.type,i.normalized,i.stride,i.offset),e&&i.divisor&&e.vertexAttribDivisorANGLE(r,i.divisor)):(t.disableVertexAttribArray(r),t.vertexAttrib4f(r,i.x,i.y,i.z,i.w))}for(var o=n.length;o<a;++o)t.disableVertexAttribArray(o)},p.prototype.refresh=function(){var e=h();e&&(e.bindVertexArrayOES(this.vao),this.bindAttrs(),f.currentVAO=this)},p.prototype.destroy=function(){if(this.vao){var e=h();this===f.currentVAO&&(f.currentVAO=null,e.bindVertexArrayOES(null)),e.deleteVertexArrayOES(this.vao),this.vao=null}l[this.id]&&(delete l[this.id],i.vaoCount-=1)},f}(i,l,g,c,y),b=function(t,n,r,i){var o={},a=0,u={uint8:Te,uint16:Ce};function s(e){this.id=a++,o[this.id]=this,this.buffer=e,this.primType=Se,this.vertCount=0,this.type=0}n.oes_element_index_uint&&(u.uint32=Pe),s.prototype.bind=function(){this.buffer.bind()};var c=[];function l(i,o,a,u,s,c,l){var f;if(i.buffer.bind(),o){var h=l;l||e(o)&&(!oe(o)||e(o.data))||(h=n.oes_element_index_uint?Pe:Ce),r._initBuffer(i.buffer,o,a,h,3)}else t.bufferData(Me,c,a),i.buffer.dtype=f||Te,i.buffer.usage=a,i.buffer.dimension=3,i.buffer.byteLength=c;if(f=l,!l){switch(i.buffer.dtype){case Te:case Ae:f=Te;break;case Ce:case je:f=Ce;break;case Pe:case _e:f=Pe;break;default:N.raise("unsupported type for element array")}i.buffer.dtype=f}i.type=f,N(f!==Pe||!!n.oes_element_index_uint,"32 bit element buffers not supported, enable oes_element_index_uint first");var d=s;d<0&&(d=i.buffer.byteLength,f===Ce?d>>=1:f===Pe&&(d>>=2)),i.vertCount=d;var p=u;if(u<0){p=Se;var v=i.buffer.dimension;1===v&&(p=ke),2===v&&(p=Oe),3===v&&(p=Se)}i.primType=p}function f(e){i.elementsCount--,N(null!==e.buffer,"must not double destroy elements"),delete o[e.id],e.buffer.destroy(),e.buffer=null}return{create:function(t,n){var o=r.create(null,Me,!0),a=new s(o._buffer);function c(t){if(t)if("number"===typeof t)o(t),a.primType=Se,a.vertCount=0|t,a.type=Te;else{var n=null,r=Re,i=-1,s=-1,f=0,h=0;Array.isArray(t)||e(t)||oe(t)?n=t:(N.type(t,"object","invalid arguments for elements"),"data"in t&&(n=t.data,N(Array.isArray(n)||e(n)||oe(n),"invalid data for element buffer")),"usage"in t&&(N.parameter(t.usage,fe,"invalid element buffer usage"),r=fe[t.usage]),"primitive"in t&&(N.parameter(t.primitive,xe,"invalid element buffer primitive"),i=xe[t.primitive]),"count"in t&&(N("number"===typeof t.count&&t.count>=0,"invalid vertex count for elements"),s=0|t.count),"type"in t&&(N.parameter(t.type,u,"invalid buffer type"),h=u[t.type]),"length"in t?f=0|t.length:(f=s,h===Ce||h===je?f*=2:h!==Pe&&h!==_e||(f*=4))),l(a,n,r,i,s,f,h)}else o(),a.primType=Se,a.vertCount=0,a.type=Te;return c}return i.elementsCount++,c(t),c._reglType="elements",c._elements=a,c.subdata=function(e,t){return o.subdata(e,t),c},c.destroy=function(){f(a)},c},createStream:function(e){var t=c.pop();return t||(t=new s(r.create(null,Me,!0,!1)._buffer)),l(t,e,Ne,-1,-1,0,0),t},destroyStream:function(e){c.push(e)},getElements:function(e){return"function"===typeof e&&e._elements instanceof s?e._elements:null},clear:function(){ae(o).forEach(f)}}}(i,l,y,c),w=function(e,n,r,i){var o={},a={};function u(e,t,n,r){this.name=e,this.id=t,this.location=n,this.info=r}function s(e,t){for(var n=0;n<e.length;++n)if(e[n].id===t.id)return void(e[n].location=t.location);e.push(t)}function c(t,r,i){var u=t===Wn?o:a,s=u[r];if(!s){var c=n.str(r);s=e.createShader(t),e.shaderSource(s,c),e.compileShader(s),N.shaderError(e,s,c,t,i),u[r]=s}return s}var l={},f=[],h=0;function d(e,t){this.id=h++,this.fragId=e,this.vertId=t,this.program=null,this.uniforms=[],this.attributes=[],this.refCount=1,i.profile&&(this.stats={uniformsCount:0,attributesCount:0})}function p(t,r,o){var a,l,f=c(Wn,t.fragId),h=c(qn,t.vertId),d=t.program=e.createProgram();if(e.attachShader(d,f),e.attachShader(d,h),o)for(a=0;a<o.length;++a){var p=o[a];e.bindAttribLocation(d,p[0],p[1])}e.linkProgram(d),N.linkError(e,d,n.str(t.fragId),n.str(t.vertId),r);var v=e.getProgramParameter(d,Xn);i.profile&&(t.stats.uniformsCount=v);var g=t.uniforms;for(a=0;a<v;++a)if(l=e.getActiveUniform(d,a))if(l.size>1)for(var y=0;y<l.size;++y){var m=l.name.replace("[0]","["+y+"]");s(g,new u(m,n.id(m),e.getUniformLocation(d,m),l))}else s(g,new u(l.name,n.id(l.name),e.getUniformLocation(d,l.name),l));var b=e.getProgramParameter(d,Yn);i.profile&&(t.stats.attributesCount=b);var w=t.attributes;for(a=0;a<b;++a)(l=e.getActiveAttrib(d,a))&&s(w,new u(l.name,n.id(l.name),e.getAttribLocation(d,l.name),l))}return i.profile&&(r.getMaxUniformsCount=function(){var e=0;return f.forEach(function(t){t.stats.uniformsCount>e&&(e=t.stats.uniformsCount)}),e},r.getMaxAttributesCount=function(){var e=0;return f.forEach(function(t){t.stats.attributesCount>e&&(e=t.stats.attributesCount)}),e}),{clear:function(){var t=e.deleteShader.bind(e);ae(o).forEach(t),o={},ae(a).forEach(t),a={},f.forEach(function(t){e.deleteProgram(t.program)}),f.length=0,l={},r.shaderCount=0},program:function(n,i,u,s){N.command(n>=0,"missing vertex shader",u),N.command(i>=0,"missing fragment shader",u);var c=l[i];c||(c=l[i]={});var h=c[n];if(h&&(h.refCount++,!s))return h;var v=new d(i,n);return r.shaderCount++,p(v,u,s),h||(c[n]=v),f.push(v),t(v,{destroy:function(){if(v.refCount--,v.refCount<=0){e.deleteProgram(v.program);var t=f.indexOf(v);f.splice(t,1),r.shaderCount--}c[v.vertId].refCount<=0&&(e.deleteShader(a[v.vertId]),delete a[v.vertId],delete l[v.fragId][v.vertId]),Object.keys(l[v.fragId]).length||(e.deleteShader(o[v.fragId]),delete o[v.fragId],delete l[v.fragId])}})},restore:function(){o={},a={};for(var e=0;e<f.length;++e)p(f[e],null,f[e].attributes.map(function(e){return[e.location,e.name]}))},shader:c,frag:-1,vert:-1}}(i,s,c,r),E=mn(i,l,g,function(){O.procs.poll()},v,c,r),x=kn(i,l,g,c,r),k=function(e,n,r,i,o,a){var u={cur:null,next:null,dirty:!1,setFBO:null},s=["rgba"],c=["rgba4","rgb565","rgb5 a1"];n.ext_srgb&&c.push("srgba"),n.ext_color_buffer_half_float&&c.push("rgba16f","rgb16f"),n.webgl_color_buffer_float&&c.push("rgba32f");var l=["uint8"];function f(e,t,n){this.target=e,this.texture=t,this.renderbuffer=n;var r=0,i=0;t?(r=t.width,i=t.height):n&&(r=n.width,i=n.height),this.width=r,this.height=i}function h(e){e&&(e.texture&&e.texture._texture.decRef(),e.renderbuffer&&e.renderbuffer._renderbuffer.decRef())}function d(e,t,n){if(e)if(e.texture){var r=e.texture._texture,i=Math.max(1,r.width),o=Math.max(1,r.height);N(i===t&&o===n,"inconsistent width/height for supplied texture"),r.refCount+=1}else{var a=e.renderbuffer._renderbuffer;N(a.width===t&&a.height===n,"inconsistent width/height for renderbuffer"),a.refCount+=1}}function p(t,n){n&&(n.texture?e.framebufferTexture2D(On,t,n.target,n.texture._texture.texture,0):e.framebufferRenderbuffer(On,t,Sn,n.renderbuffer._renderbuffer.renderbuffer))}function v(e){var t=An,n=null,r=null,i=e;"object"===typeof e&&(i=e.data,"target"in e&&(t=0|e.target)),N.type(i,"function","invalid attachment data");var o=i._reglType;return"texture2d"===o?(n=i,N(t===An)):"textureCube"===o?(n=i,N(t>=Tn&&t<Tn+6,"invalid cube map target")):"renderbuffer"===o?(r=i,t=Sn):N.raise("invalid regl object for attachment"),new f(t,n,r)}function g(e,t,n,r,a){if(n){var u=i.create2D({width:e,height:t,format:r,type:a});return u._texture.refCount=0,new f(An,u,null)}var s=o.create({width:e,height:t,format:r});return s._renderbuffer.refCount=0,new f(Sn,null,s)}function y(e){return e&&(e.texture||e.renderbuffer)}function m(e,t,n){e&&(e.texture?e.texture.resize(t,n):e.renderbuffer&&e.renderbuffer.resize(t,n),e.width=t,e.height=n)}n.oes_texture_half_float&&l.push("half float","float16"),n.oes_texture_float&&l.push("float","float32");var b=0,w={};function E(){this.id=b++,w[this.id]=this,this.framebuffer=e.createFramebuffer(),this.width=0,this.height=0,this.colorAttachments=[],this.depthAttachment=null,this.stencilAttachment=null,this.depthStencilAttachment=null}function x(e){e.colorAttachments.forEach(h),h(e.depthAttachment),h(e.stencilAttachment),h(e.depthStencilAttachment)}function k(t){var n=t.framebuffer;N(n,"must not double destroy framebuffer"),e.deleteFramebuffer(n),t.framebuffer=null,a.framebufferCount--,delete w[t.id]}function O(t){var n;e.bindFramebuffer(On,t.framebuffer);var i=t.colorAttachments;for(n=0;n<i.length;++n)p(jn+n,i[n]);for(n=i.length;n<r.maxColorAttachments;++n)e.framebufferTexture2D(On,jn+n,An,null,0);e.framebufferTexture2D(On,Pn,An,null,0),e.framebufferTexture2D(On,Cn,An,null,0),e.framebufferTexture2D(On,_n,An,null,0),p(Cn,t.depthAttachment),p(_n,t.stencilAttachment),p(Pn,t.depthStencilAttachment);var o=e.checkFramebufferStatus(On);e.isContextLost()||o===Mn||N.raise("framebuffer configuration not supported, status = "+Vn[o]),e.bindFramebuffer(On,u.next?u.next.framebuffer:null),u.cur=u.next,e.getError()}function S(e,i){var o=new E;function f(e,t){var i;N(u.next!==o,"can not update framebuffer which is currently in use");var a=0,h=0,p=!0,m=!0,b=null,w=!0,E="rgba",k="uint8",S=1,A=null,T=null,j=null,C=!1;if("number"===typeof e)a=0|e,h=0|t||a;else if(e){N.type(e,"object","invalid arguments for framebuffer");var _=e;if("shape"in _){var P=_.shape;N(Array.isArray(P)&&P.length>=2,"invalid shape for framebuffer"),a=P[0],h=P[1]}else"radius"in _&&(a=h=_.radius),"width"in _&&(a=_.width),"height"in _&&(h=_.height);("color"in _||"colors"in _)&&(b=_.color||_.colors,Array.isArray(b)&&N(1===b.length||n.webgl_draw_buffers,"multiple render targets not supported")),b||("colorCount"in _&&(S=0|_.colorCount,N(S>0,"invalid color buffer count")),"colorTexture"in _&&(w=!!_.colorTexture,E="rgba4"),"colorType"in _&&(k=_.colorType,w?(N(n.oes_texture_float||!("float"===k||"float32"===k),"you must enable OES_texture_float in order to use floating point framebuffer objects"),N(n.oes_texture_half_float||!("half float"===k||"float16"===k),"you must enable OES_texture_half_float in order to use 16-bit floating point framebuffer objects")):"half float"===k||"float16"===k?(N(n.ext_color_buffer_half_float,"you must enable EXT_color_buffer_half_float to use 16-bit render buffers"),E="rgba16f"):"float"!==k&&"float32"!==k||(N(n.webgl_color_buffer_float,"you must enable WEBGL_color_buffer_float in order to use 32-bit floating point renderbuffers"),E="rgba32f"),N.oneOf(k,l,"invalid color type")),"colorFormat"in _&&(E=_.colorFormat,s.indexOf(E)>=0?w=!0:c.indexOf(E)>=0?w=!1:w?N.oneOf(_.colorFormat,s,"invalid color format for texture"):N.oneOf(_.colorFormat,c,"invalid color format for renderbuffer"))),("depthTexture"in _||"depthStencilTexture"in _)&&(C=!(!_.depthTexture&&!_.depthStencilTexture),N(!C||n.webgl_depth_texture,"webgl_depth_texture extension not supported")),"depth"in _&&("boolean"===typeof _.depth?p=_.depth:(A=_.depth,m=!1)),"stencil"in _&&("boolean"===typeof _.stencil?m=_.stencil:(T=_.stencil,p=!1)),"depthStencil"in _&&("boolean"===typeof _.depthStencil?p=m=_.depthStencil:(j=_.depthStencil,p=!1,m=!1))}else a=h=1;var M=null,R=null,L=null,I=null;if(Array.isArray(b))M=b.map(v);else if(b)M=[v(b)];else for(M=new Array(S),i=0;i<S;++i)M[i]=g(a,h,w,E,k);N(n.webgl_draw_buffers||M.length<=1,"you must enable the WEBGL_draw_buffers extension in order to use multiple color buffers."),N(M.length<=r.maxColorAttachments,"too many color attachments, not supported"),a=a||M[0].width,h=h||M[0].height,A?R=v(A):p&&!m&&(R=g(a,h,C,"depth","uint32")),T?L=v(T):m&&!p&&(L=g(a,h,!1,"stencil","uint8")),j?I=v(j):!A&&!T&&m&&p&&(I=g(a,h,C,"depth stencil","depth stencil")),N(!!A+!!T+!!j<=1,"invalid framebuffer configuration, can specify exactly one depth/stencil attachment");var D=null;for(i=0;i<M.length;++i)if(d(M[i],a,h),N(!M[i]||M[i].texture&&Rn.indexOf(M[i].texture._texture.format)>=0||M[i].renderbuffer&&zn.indexOf(M[i].renderbuffer._renderbuffer.format)>=0,"framebuffer color attachment "+i+" is invalid"),M[i]&&M[i].texture){var B=Ln[M[i].texture._texture.format]*In[M[i].texture._texture.type];null===D?D=B:N(D===B,"all color attachments much have the same number of bits per pixel.")}return d(R,a,h),N(!R||R.texture&&R.texture._texture.format===Nn||R.renderbuffer&&R.renderbuffer._renderbuffer.format===Dn,"invalid depth attachment for framebuffer object"),d(L,a,h),N(!L||L.renderbuffer&&L.renderbuffer._renderbuffer.format===Bn,"invalid stencil attachment for framebuffer object"),d(I,a,h),N(!I||I.texture&&I.texture._texture.format===Fn||I.renderbuffer&&I.renderbuffer._renderbuffer.format===Fn,"invalid depth-stencil attachment for framebuffer object"),x(o),o.width=a,o.height=h,o.colorAttachments=M,o.depthAttachment=R,o.stencilAttachment=L,o.depthStencilAttachment=I,f.color=M.map(y),f.depth=y(R),f.stencil=y(L),f.depthStencil=y(I),f.width=o.width,f.height=o.height,O(o),f}return a.framebufferCount++,f(e,i),t(f,{resize:function(e,t){N(u.next!==o,"can not resize a framebuffer which is currently in use");var n=Math.max(0|e,1),r=Math.max(0|t||n,1);if(n===o.width&&r===o.height)return f;for(var i=o.colorAttachments,a=0;a<i.length;++a)m(i[a],n,r);return m(o.depthAttachment,n,r),m(o.stencilAttachment,n,r),m(o.depthStencilAttachment,n,r),o.width=f.width=n,o.height=f.height=r,O(o),f},_reglType:"framebuffer",_framebuffer:o,destroy:function(){k(o),x(o)},use:function(e){u.setFBO({framebuffer:f},e)}})}return t(u,{getFramebuffer:function(e){if("function"===typeof e&&"framebuffer"===e._reglType){var t=e._framebuffer;if(t instanceof E)return t}return null},create:S,createCube:function(e){var o=Array(6);function a(e){var r;N(o.indexOf(u.next)<0,"can not update framebuffer which is currently in use");var c,f={color:null},h=0,d=null,p="rgba",v="uint8",g=1;if("number"===typeof e)h=0|e;else if(e){N.type(e,"object","invalid arguments for framebuffer");var y=e;if("shape"in y){var m=y.shape;N(Array.isArray(m)&&m.length>=2,"invalid shape for framebuffer"),N(m[0]===m[1],"cube framebuffer must be square"),h=m[0]}else"radius"in y&&(h=0|y.radius),"width"in y?(h=0|y.width,"height"in y&&N(y.height===h,"must be square")):"height"in y&&(h=0|y.height);("color"in y||"colors"in y)&&(d=y.color||y.colors,Array.isArray(d)&&N(1===d.length||n.webgl_draw_buffers,"multiple render targets not supported")),d||("colorCount"in y&&(g=0|y.colorCount,N(g>0,"invalid color buffer count")),"colorType"in y&&(N.oneOf(y.colorType,l,"invalid color type"),v=y.colorType),"colorFormat"in y&&(p=y.colorFormat,N.oneOf(y.colorFormat,s,"invalid color format for texture"))),"depth"in y&&(f.depth=y.depth),"stencil"in y&&(f.stencil=y.stencil),"depthStencil"in y&&(f.depthStencil=y.depthStencil)}else h=1;if(d)if(Array.isArray(d))for(c=[],r=0;r<d.length;++r)c[r]=d[r];else c=[d];else{c=Array(g);var b={radius:h,format:p,type:v};for(r=0;r<g;++r)c[r]=i.createCube(b)}for(f.color=Array(c.length),r=0;r<c.length;++r){var w=c[r];N("function"===typeof w&&"textureCube"===w._reglType,"invalid cube map"),h=h||w.width,N(w.width===h&&w.height===h,"invalid cube map shape"),f.color[r]={target:Tn,data:c[r]}}for(r=0;r<6;++r){for(var E=0;E<c.length;++E)f.color[E].target=Tn+r;r>0&&(f.depth=o[0].depth,f.stencil=o[0].stencil,f.depthStencil=o[0].depthStencil),o[r]?o[r](f):o[r]=S(f)}return t(a,{width:h,height:h,color:c})}return a(e),t(a,{faces:o,resize:function(e){var t,n=0|e;if(N(n>0&&n<=r.maxCubeMapSize,"invalid radius for cube fbo"),n===a.width)return a;var i=a.color;for(t=0;t<i.length;++t)i[t].resize(n);for(t=0;t<6;++t)o[t].resize(n);return a.width=a.height=n,a},_reglType:"framebufferCube",destroy:function(){o.forEach(function(e){e.destroy()})}})},clear:function(){ae(w).forEach(k)},restore:function(){u.cur=null,u.next=null,u.dirty=!0,ae(w).forEach(function(t){t.framebuffer=e.createFramebuffer(),O(t)})}})}(i,l,g,E,x,c),O=uo(i,s,l,g,y,b,0,k,{},m,w,{elements:null,primitive:4,count:-1,offset:0,instances:-1},v,f,r),S=Zn(i,k,O.procs.poll,v,o,l,g),A=O.next,T=i.canvas,j=[],C=[],_=[],P=[r.onDestroy],M=null;function R(){if(0===j.length)return f&&f.update(),void(M=null);M=U.next(R),Y();for(var e=j.length-1;e>=0;--e){var t=j[e];t&&t(v,null,0)}i.flush(),f&&f.update()}function L(){!M&&j.length>0&&(M=U.next(R))}function I(){M&&(U.cancel(R),M=null)}function D(e){e.preventDefault(),a=!0,I(),C.forEach(function(e){e()})}function B(e){i.getError(),a=!1,u.restore(),w.restore(),y.restore(),E.restore(),x.restore(),k.restore(),m.restore(),f&&f.restore(),O.procs.refresh(),L(),_.forEach(function(e){e()})}function F(e){function n(e,t){var n={},r={};return Object.keys(e).forEach(function(i){var o=e[i];if(V.isDynamic(o))r[i]=V.unbox(o,i);else{if(t&&Array.isArray(o))for(var a=0;a<o.length;++a)if(V.isDynamic(o[a]))return void(r[i]=V.unbox(o,i));n[i]=o}}),{dynamic:r,static:n}}N(!!e,"invalid args to regl({...})"),N.type(e,"object","invalid args to regl({...})");var r=n(e.context||{},!0),i=n(e.uniforms||{},!0),o=n(e.attributes||{},!1),u=n(function(e){var n=t({},e);function r(e){if(e in n){var t=n[e];delete n[e],Object.keys(t).forEach(function(r){n[e+"."+r]=t[r]})}}return delete n.uniforms,delete n.attributes,delete n.context,delete n.vao,"stencil"in n&&n.stencil.op&&(n.stencil.opBack=n.stencil.opFront=n.stencil.op,delete n.stencil.op),r("blend"),r("depth"),r("cull"),r("stencil"),r("polygonOffset"),r("scissor"),r("sample"),"vao"in e&&(n.vao=e.vao),n}(e),!1),s={gpuTime:0,cpuTime:0,count:0},c=O.compile(u,o,i,r,s),l=c.draw,f=c.batch,h=c.scope,d=[];return t(function(e,t){var n;if(a&&N.raise("context lost"),"function"===typeof e)return h.call(this,null,e,0);if("function"===typeof t)if("number"===typeof e)for(n=0;n<e;++n)h.call(this,null,t,n);else{if(!Array.isArray(e))return h.call(this,e,t,0);for(n=0;n<e.length;++n)h.call(this,e[n],t,n)}else if("number"===typeof e){if(e>0)return f.call(this,function(e){for(;d.length<e;)d.push(null);return d}(0|e),0|e)}else{if(!Array.isArray(e))return l.call(this,e);if(e.length)return f.call(this,e,e.length)}},{stats:s,destroy:function(){c.destroy()}})}T&&(T.addEventListener(yo,D,!1),T.addEventListener(mo,B,!1));var z=k.setFBO=F({framebuffer:V.define.call(null,bo,"framebuffer")});function H(e,t){var n=0;O.procs.poll();var r=t.color;r&&(i.clearColor(+r[0]||0,+r[1]||0,+r[2]||0,+r[3]||0),n|=ho),"depth"in t&&(i.clearDepth(+t.depth),n|=po),"stencil"in t&&(i.clearStencil(0|t.stencil),n|=vo),N(!!n,"called regl.clear with no buffer specified"),i.clear(n)}function W(e){return N.type(e,"function","regl.frame() callback must be a function"),j.push(e),L(),{cancel:function(){var t=xo(j,e);N(t>=0,"cannot cancel a frame twice"),j[t]=function e(){var t=xo(j,e);j[t]=j[j.length-1],j.length-=1,j.length<=0&&I()}}}}function X(){var e=A.viewport,t=A.scissor_box;e[0]=e[1]=t[0]=t[1]=0,v.viewportWidth=v.framebufferWidth=v.drawingBufferWidth=e[2]=t[2]=i.drawingBufferWidth,v.viewportHeight=v.framebufferHeight=v.drawingBufferHeight=e[3]=t[3]=i.drawingBufferHeight}function Y(){v.tick+=1,v.time=J(),X(),O.procs.poll()}function $(){E.refresh(),X(),O.procs.refresh(),f&&f.update()}function J(){return(G()-h)/1e3}$();var Q=t(F,{clear:function(e){if(N("object"===typeof e&&e,"regl.clear() takes an object as input"),"framebuffer"in e)if(e.framebuffer&&"framebufferCube"===e.framebuffer_reglType)for(var n=0;n<6;++n)z(t({framebuffer:e.framebuffer.faces[n]},e),H);else z(e,H);else H(null,e)},prop:V.define.bind(null,bo),context:V.define.bind(null,wo),this:V.define.bind(null,Eo),draw:F({}),buffer:function(e){return y.create(e,go,!1,!1)},elements:function(e){return b.create(e,!1)},texture:E.create2D,cube:E.createCube,renderbuffer:x.create,framebuffer:k.create,framebufferCube:k.createCube,vao:m.createVAO,attributes:o,frame:W,on:function(e,t){var n;switch(N.type(t,"function","listener callback must be a function"),e){case"frame":return W(t);case"lost":n=C;break;case"restore":n=_;break;case"destroy":n=P;break;default:N.raise("invalid event, must be one of frame,lost,restore,destroy")}return n.push(t),{cancel:function(){for(var e=0;e<n.length;++e)if(n[e]===t)return n[e]=n[n.length-1],void n.pop()}}},limits:g,hasExtension:function(e){return g.extensions.indexOf(e.toLowerCase())>=0},read:S,destroy:function(){j.length=0,I(),T&&(T.removeEventListener(yo,D),T.removeEventListener(mo,B)),w.clear(),k.clear(),x.clear(),E.clear(),b.clear(),y.clear(),m.clear(),f&&f.clear(),P.forEach(function(e){e()})},_gl:i,_refresh:$,poll:function(){Y(),f&&f.update()},now:J,stats:c});return r.onDone(null,Q),Q}}()},function(e,t,n){var r=n(641),i=n(642),o=n(643),a=n(644);e.exports=function(e){return r(e)||i(e)||o(e)||a()},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,n){var r=n(183),i=n(645),o=n(184),a="[object Object]",u=Function.prototype,s=Object.prototype,c=u.toString,l=s.hasOwnProperty,f=c.call(Object);e.exports=function(e){if(!o(e)||r(e)!=a)return!1;var t=i(e);if(null===t)return!0;var n=l.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&c.call(n)==f}},function(e,t,n){"use strict";function r(e){return function(t){var n=t.dispatch,r=t.getState;return function(t){return function(i){return"function"===typeof i?i(n,r,e):t(i)}}}}var i=r();i.withExtraArgument=r,t.a=i},function(e,t,n){"use strict";e.exports=n(649)},function(e,t,n){"use strict";e.exports=n(651)},,function(e,t,n){"use strict";(function(e){var r=n(4),i=n.n(r),o=n(50),a=n(121),u=n.n(a),s=1073741823,c="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof e?e:{};var l=i.a.createContext||function(e,t){var n,i,a="__create-react-context-"+function(){var e="__global_unique_id__";return c[e]=(c[e]||0)+1}()+"__",l=function(e){function n(){var t;return(t=e.apply(this,arguments)||this).emitter=function(e){var t=[];return{on:function(e){t.push(e)},off:function(e){t=t.filter(function(t){return t!==e})},get:function(){return e},set:function(n,r){e=n,t.forEach(function(t){return t(e,r)})}}}(t.props.value),t}Object(o.a)(n,e);var r=n.prototype;return r.getChildContext=function(){var e;return(e={})[a]=this.emitter,e},r.componentWillReceiveProps=function(e){if(this.props.value!==e.value){var n,r=this.props.value,i=e.value;((o=r)===(a=i)?0!==o||1/o===1/a:o!==o&&a!==a)?n=0:(n="function"===typeof t?t(r,i):s,0!==(n|=0)&&this.emitter.set(e.value,n))}var o,a},r.render=function(){return this.props.children},n}(r.Component);l.childContextTypes=((n={})[a]=u.a.object.isRequired,n);var f=function(t){function n(){var e;return(e=t.apply(this,arguments)||this).state={value:e.getValue()},e.onUpdate=function(t,n){0!==((0|e.observedBits)&n)&&e.setState({value:e.getValue()})},e}Object(o.a)(n,t);var r=n.prototype;return r.componentWillReceiveProps=function(e){var t=e.observedBits;this.observedBits=void 0===t||null===t?s:t},r.componentDidMount=function(){this.context[a]&&this.context[a].on(this.onUpdate);var e=this.props.observedBits;this.observedBits=void 0===e||null===e?s:e},r.componentWillUnmount=function(){this.context[a]&&this.context[a].off(this.onUpdate)},r.getValue=function(){return this.context[a]?this.context[a].get():e},r.render=function(){return(e=this.props.children,Array.isArray(e)?e[0]:e)(this.state.value);var e},n}(r.Component);return f.contextTypes=((i={})[a]=u.a.object,i),{Provider:l,Consumer:f}};t.a=l}).call(this,n(62))},function(e,t,n){"use strict";n.d(t,"a",function(){return f});var r=n(25),i=n(50),o=n(4),a=n.n(o),u=n(43),s=n(17),c=n(58),l=n(51);a.a.Component;var f=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).history=Object(u.b)(t.props),t}return Object(i.a)(t,e),t.prototype.render=function(){return a.a.createElement(r.b,{history:this.history,children:this.props.children})},t}(a.a.Component);var h=function(e,t){return"function"===typeof e?e(t):e},d=function(e,t){return"string"===typeof e?Object(u.c)(e,null,null,t):e},p=function(e){return e},v=a.a.forwardRef;"undefined"===typeof v&&(v=p);var g=v(function(e,t){var n=e.innerRef,r=e.navigate,i=e.onClick,o=Object(c.a)(e,["innerRef","navigate","onClick"]),u=o.target,l=Object(s.a)({},o,{onClick:function(e){try{i&&i(e)}catch(t){throw e.preventDefault(),t}e.defaultPrevented||0!==e.button||u&&"_self"!==u||function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)||(e.preventDefault(),r())}});return l.ref=p!==v&&t||n,a.a.createElement("a",l)});var y=v(function(e,t){var n=e.component,i=void 0===n?g:n,o=e.replace,f=e.to,y=e.innerRef,m=Object(c.a)(e,["component","replace","to","innerRef"]);return a.a.createElement(r.d.Consumer,null,function(e){e||Object(l.a)(!1);var n=e.history,r=d(h(f,e.location),e.location),c=r?n.createHref(r):"",g=Object(s.a)({},m,{href:c,navigate:function(){var t=h(f,e.location),r=Object(u.e)(e.location)===Object(u.e)(d(t));(o||r?n.replace:n.push)(t)}});return p!==v?g.ref=t||y:g.innerRef=y,a.a.createElement(i,g)})}),m=function(e){return e},b=a.a.forwardRef;"undefined"===typeof b&&(b=m);b(function(e,t){var n=e["aria-current"],i=void 0===n?"page":n,o=e.activeClassName,u=void 0===o?"active":o,f=e.activeStyle,p=e.className,v=e.exact,g=e.isActive,w=e.location,E=e.sensitive,x=e.strict,k=e.style,O=e.to,S=e.innerRef,A=Object(c.a)(e,["aria-current","activeClassName","activeStyle","className","exact","isActive","location","sensitive","strict","style","to","innerRef"]);return a.a.createElement(r.d.Consumer,null,function(e){e||Object(l.a)(!1);var n=w||e.location,o=d(h(O,n),n),c=o.pathname,T=c&&c.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1"),j=T?Object(r.e)(n.pathname,{path:T,exact:v,sensitive:E,strict:x}):null,C=!!(g?g(j,n):j),_="function"===typeof p?p(C):p,P="function"===typeof k?k(C):k;C&&(_=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter(function(e){return e}).join(" ")}(_,u),P=Object(s.a)({},P,f));var M=Object(s.a)({"aria-current":C&&i||null,className:_,style:P,to:o},A);return m!==b?M.ref=t||S:M.innerRef=S,a.a.createElement(y,M)})})},function(e,t,n){"use strict";var r={};n.r(r),n.d(r,"components",function(){return be}),n.d(r,"dfs",function(){return we}),n.d(r,"dijkstra",function(){return Se}),n.d(r,"dijkstraAll",function(){return Ae}),n.d(r,"findCycles",function(){return je}),n.d(r,"tarjan",function(){return Te}),n.d(r,"isAcyclic",function(){return Fe}),n.d(r,"postorder",function(){return ze}),n.d(r,"preorder",function(){return Ve}),n.d(r,"prim",function(){return me}),n.d(r,"topsort",function(){return Be}),n.d(r,"floydWarshall",function(){return Ge});var i=n(1),o=n(0),a=n(15),u=n(2),s=n(3),c=function(){function e(){Object(o.a)(this,e),this.nodes=[],this.edges=[],this.combos=[],this.comboEdges=[],this.hiddenNodes=[],this.hiddenEdges=[],this.hiddenCombos=[],this.vedges=[],this.positions=[],this.destroyed=!1,this.onLayoutEnd=function(){}}return Object(i.a)(e,[{key:"layout",value:function(e){return this.init(e),this.execute(!0)}},{key:"init",value:function(e){this.nodes=e.nodes||[],this.edges=e.edges||[],this.combos=e.combos||[],this.comboEdges=e.comboEdges||[],this.hiddenNodes=e.hiddenNodes||[],this.hiddenEdges=e.hiddenEdges||[],this.hiddenCombos=e.hiddenCombos||[],this.vedges=e.vedges||[]}},{key:"execute",value:function(e){}},{key:"executeWithWorker",value:function(){}},{key:"getDefaultCfg",value:function(){return{}}},{key:"updateCfg",value:function(e){e&&Object.assign(this,e)}},{key:"getType",value:function(){return"base"}},{key:"destroy",value:function(){this.nodes=null,this.edges=null,this.combos=null,this.positions=null,this.destroyed=!0}}]),e}(),l=function(e){return"string"===typeof e},f=/-(\w)/g,h=(function(e){var t=Object.create(null)}(function(e){return e.replace(f,function(e,t){return t?t.toUpperCase():""})}),Array.isArray),d=function(e){return"number"===typeof e},p=function(e){return null!==e&&"object"===typeof e},v=function e(t){if(null===t)return t;if(t instanceof Date)return new Date(t.getTime());if(t instanceof Array){var n=[];return t.forEach(function(e){n.push(e)}),n.map(function(t){return e(t)})}if("object"===typeof t&&Object.keys(t).length){var r=Object.assign({},t);return Object.keys(r).forEach(function(t){r[t]=e(r[t])}),r}return t},g=function(e,t){var n=e[t];return p(n)?n.cell:n},y=n(5),m=function(e,t,n){return n||(d(e)?function(){return e}:function(){return t})};new Map,n(14);function b(e,t,n,r){if(isNaN(t)||isNaN(n))return e;var i,o,a,u,s,c,l,f,h,d=e._root,p={data:r},v=e._x0,g=e._y0,y=e._x1,m=e._y1;if(!d)return e._root=p,e;for(;d.length;)if((c=t>=(o=(v+y)/2))?v=o:y=o,(l=n>=(a=(g+m)/2))?g=a:m=a,i=d,!(d=d[f=l<<1|c]))return i[f]=p,e;if(u=+e._x.call(null,d.data),s=+e._y.call(null,d.data),t===u&&n===s)return p.next=d,i?i[f]=p:e._root=p,e;do{i=i?i[f]=new Array(4):e._root=new Array(4),(c=t>=(o=(v+y)/2))?v=o:y=o,(l=n>=(a=(g+m)/2))?g=a:m=a}while((f=l<<1|c)===(h=(s>=a)<<1|u>=o));return i[h]=d,i[f]=p,e}var w=function(e,t,n,r,i){this.node=e,this.x0=t,this.y0=n,this.x1=r,this.y1=i};function E(e){return e[0]}function x(e){return e[1]}function k(e,t,n){var r=new O(null==t?E:t,null==n?x:n,NaN,NaN,NaN,NaN);return null==e?r:r.addAll(e)}function O(e,t,n,r,i,o){this._x=e,this._y=t,this._x0=n,this._y0=r,this._x1=i,this._y1=o,this._root=void 0}function S(e){for(var t={data:e.data},n=t;e=e.next;)n=n.next={data:e.data};return t}var A=k.prototype=O.prototype;A.copy=function(){var e,t,n=new O(this._x,this._y,this._x0,this._y0,this._x1,this._y1),r=this._root;if(!r)return n;if(!r.length)return n._root=S(r),n;for(e=[{source:r,target:n._root=new Array(4)}];r=e.pop();)for(var i=0;i<4;++i)(t=r.source[i])&&(t.length?e.push({source:t,target:r.target[i]=new Array(4)}):r.target[i]=S(t));return n},A.add=function(e){var t=+this._x.call(null,e),n=+this._y.call(null,e);return b(this.cover(t,n),t,n,e)},A.addAll=function(e){var t,n,r,i,o=e.length,a=new Array(o),u=new Array(o),s=1/0,c=1/0,l=-1/0,f=-1/0;for(n=0;n<o;++n)isNaN(r=+this._x.call(null,t=e[n]))||isNaN(i=+this._y.call(null,t))||(a[n]=r,u[n]=i,r<s&&(s=r),r>l&&(l=r),i<c&&(c=i),i>f&&(f=i));if(s>l||c>f)return this;for(this.cover(s,c).cover(l,f),n=0;n<o;++n)b(this,a[n],u[n],e[n]);return this},A.cover=function(e,t){if(isNaN(e=+e)||isNaN(t=+t))return this;var n=this._x0,r=this._y0,i=this._x1,o=this._y1;if(isNaN(n))i=(n=Math.floor(e))+1,o=(r=Math.floor(t))+1;else{for(var a,u,s=i-n||1,c=this._root;n>e||e>=i||r>t||t>=o;)switch(u=(t<r)<<1|e<n,(a=new Array(4))[u]=c,c=a,s*=2,u){case 0:i=n+s,o=r+s;break;case 1:n=i-s,o=r+s;break;case 2:i=n+s,r=o-s;break;case 3:n=i-s,r=o-s}this._root&&this._root.length&&(this._root=c)}return this._x0=n,this._y0=r,this._x1=i,this._y1=o,this},A.data=function(){var e=[];return this.visit(function(t){if(!t.length)do{e.push(t.data)}while(t=t.next)}),e},A.extent=function(e){return arguments.length?this.cover(+e[0][0],+e[0][1]).cover(+e[1][0],+e[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]},A.find=function(e,t,n){var r,i,o,a,u,s,c,l=this._x0,f=this._y0,h=this._x1,d=this._y1,p=[],v=this._root;for(v&&p.push(new w(v,l,f,h,d)),null==n?n=1/0:(l=e-n,f=t-n,h=e+n,d=t+n,n*=n);s=p.pop();)if(!(!(v=s.node)||(i=s.x0)>h||(o=s.y0)>d||(a=s.x1)<l||(u=s.y1)<f))if(v.length){var g=(i+a)/2,y=(o+u)/2;p.push(new w(v[3],g,y,a,u),new w(v[2],i,y,g,u),new w(v[1],g,o,a,y),new w(v[0],i,o,g,y)),(c=(t>=y)<<1|e>=g)&&(s=p[p.length-1],p[p.length-1]=p[p.length-1-c],p[p.length-1-c]=s)}else{var m=e-+this._x.call(null,v.data),b=t-+this._y.call(null,v.data),E=m*m+b*b;if(E<n){var x=Math.sqrt(n=E);l=e-x,f=t-x,h=e+x,d=t+x,r=v.data}}return r},A.remove=function(e){if(isNaN(o=+this._x.call(null,e))||isNaN(a=+this._y.call(null,e)))return this;var t,n,r,i,o,a,u,s,c,l,f,h,d=this._root,p=this._x0,v=this._y0,g=this._x1,y=this._y1;if(!d)return this;if(d.length)for(;;){if((c=o>=(u=(p+g)/2))?p=u:g=u,(l=a>=(s=(v+y)/2))?v=s:y=s,t=d,!(d=d[f=l<<1|c]))return this;if(!d.length)break;(t[f+1&3]||t[f+2&3]||t[f+3&3])&&(n=t,h=f)}for(;d.data!==e;)if(r=d,!(d=d.next))return this;return(i=d.next)&&delete d.next,r?(i?r.next=i:delete r.next,this):t?(i?t[f]=i:delete t[f],(d=t[0]||t[1]||t[2]||t[3])&&d===(t[3]||t[2]||t[1]||t[0])&&!d.length&&(n?n[h]=d:this._root=d),this):(this._root=i,this)},A.removeAll=function(e){for(var t=0,n=e.length;t<n;++t)this.remove(e[t]);return this},A.root=function(){return this._root},A.size=function(){var e=0;return this.visit(function(t){if(!t.length)do{++e}while(t=t.next)}),e},A.visit=function(e){var t,n,r,i,o,a,u=[],s=this._root;for(s&&u.push(new w(s,this._x0,this._y0,this._x1,this._y1));t=u.pop();)if(!e(s=t.node,r=t.x0,i=t.y0,o=t.x1,a=t.y1)&&s.length){var c=(r+o)/2,l=(i+a)/2;(n=s[3])&&u.push(new w(n,c,l,o,a)),(n=s[2])&&u.push(new w(n,r,l,c,a)),(n=s[1])&&u.push(new w(n,c,i,o,l)),(n=s[0])&&u.push(new w(n,r,i,c,l))}return this},A.visitAfter=function(e){var t,n=[],r=[];for(this._root&&n.push(new w(this._root,this._x0,this._y0,this._x1,this._y1));t=n.pop();){var i=t.node;if(i.length){var o,a=t.x0,u=t.y0,s=t.x1,c=t.y1,l=(a+s)/2,f=(u+c)/2;(o=i[0])&&n.push(new w(o,a,u,l,f)),(o=i[1])&&n.push(new w(o,l,u,s,f)),(o=i[2])&&n.push(new w(o,a,f,l,c)),(o=i[3])&&n.push(new w(o,l,f,s,c))}r.push(t)}for(;t=r.pop();)e(t.node,t.x0,t.y0,t.x1,t.y1);return this},A.x=function(e){return arguments.length?(this._x=e,this):this._x},A.y=function(e){return arguments.length?(this._y=e,this):this._y};var T={value:function(){}};function j(){for(var e,t=0,n=arguments.length,r={};t<n;++t){if(!(e=arguments[t]+"")||e in r||/[\s.]/.test(e))throw new Error("illegal type: "+e);r[e]=[]}return new C(r)}function C(e){this._=e}function _(e,t){for(var n,r=0,i=e.length;r<i;++r)if((n=e[r]).name===t)return n.value}function P(e,t,n){for(var r=0,i=e.length;r<i;++r)if(e[r].name===t){e[r]=T,e=e.slice(0,r).concat(e.slice(r+1));break}return null!=n&&e.push({name:t,value:n}),e}C.prototype=j.prototype={constructor:C,on:function(e,t){var n,r,i=this._,o=(r=i,(e+"").trim().split(/^|\s+/).map(function(e){var t="",n=e.indexOf(".");if(n>=0&&(t=e.slice(n+1),e=e.slice(0,n)),e&&!r.hasOwnProperty(e))throw new Error("unknown type: "+e);return{type:e,name:t}})),a=-1,u=o.length;if(!(arguments.length<2)){if(null!=t&&"function"!==typeof t)throw new Error("invalid callback: "+t);for(;++a<u;)if(n=(e=o[a]).type)i[n]=P(i[n],e.name,t);else if(null==t)for(n in i)i[n]=P(i[n],e.name,null);return this}for(;++a<u;)if((n=(e=o[a]).type)&&(n=_(i[n],e.name)))return n},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new C(e)},call:function(e,t){if((n=arguments.length-2)>0)for(var n,r,i=new Array(n),o=0;o<n;++o)i[o]=arguments[o+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(o=0,n=(r=this._[e]).length;o<n;++o)r[o].value.apply(t,i)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var r=this._[e],i=0,o=r.length;i<o;++i)r[i].value.apply(t,n)}};var M,N,R=0,L=0,I=0,D=1e3,B=0,F=0,z=0,V="object"===typeof performance&&performance.now?performance:Date,U="object"===typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function G(){return F||(U(H),F=V.now()+z)}function H(){F=0}function W(){this._call=this._time=this._next=null}function q(e,t,n){var r=new W;return r.restart(e,t,n),r}function X(){F=(B=V.now())+z,R=L=0;try{!function(){G(),++R;for(var e,t=M;t;)(e=F-t._time)>=0&&t._call.call(null,e),t=t._next;--R}()}finally{R=0,function(){var e,t,n=M,r=1/0;for(;n;)n._call?(r>n._time&&(r=n._time),e=n,n=n._next):(t=n._next,n._next=null,n=e?e._next=t:M=t);N=e,$(r)}(),F=0}}function Y(){var e=V.now(),t=e-B;t>D&&(z-=t,B=e)}function $(e){R||(L&&(L=clearTimeout(L)),e-F>24?(e<1/0&&(L=setTimeout(X,e-V.now()-z)),I&&(I=clearInterval(I))):(I||(B=V.now(),I=setInterval(Y,D)),R=1,U(X)))}W.prototype=q.prototype={constructor:W,restart:function(e,t,n){if("function"!==typeof e)throw new TypeError("callback is not a function");n=(null==n?G():+n)+(null==t?0:+t),this._next||N===this||(N?N._next=this:M=this,N=this),this._call=e,this._time=n,$()},stop:function(){this._call&&(this._call=null,this._time=1/0,$())}};Math.PI,Math.sqrt(5);var J,Q=function(e,t){if("next"!==e&&"prev"!==e)return t},K=function(e){e.prev.next=e.next,e.next.prev=e.prev,delete e.next,delete e.prev},Z=function(){function e(){Object(o.a)(this,e);var t={};t.prev=t,t.next=t.prev,this.shortcut=t}return Object(i.a)(e,[{key:"dequeue",value:function(){var e=this.shortcut,t=e.prev;if(t&&t!==e)return K(t),t}},{key:"enqueue",value:function(e){var t=this.shortcut;e.prev&&e.next&&K(e),e.next=t.next,t.next.prev=e,t.next=e,e.prev=t}},{key:"toString",value:function(){for(var e=[],t=this.shortcut,n=t.prev;n!==t;)e.push(JSON.stringify(n,Q)),n=null===n||void 0===n?void 0:n.prev;return"[".concat(e.join(", "),"]")}}]),e}();function ee(e,t){var n=e.get(t)||0;e.set(t,n+1)}function te(e,t){var n=e.get(t);void 0!==n&&((n-=1)>0?e.set(t,n):e.delete(t))}function ne(e,t,n,r){var i=String(t),o=String(n);if(!e&&i>o){var a=i;i=o,o=a}return i+J.EDGE_KEY_DELIM+o+J.EDGE_KEY_DELIM+(void 0===r?J.DEFAULT_EDGE_NAME:r)}function re(e,t,n,r){var i=String(t),o=String(n),a={v:t,w:n};if(!e&&i>o){var u=a.v;a.v=a.w,a.w=u}return void 0!==r&&(a.name=r),a}function ie(e,t){return ne(e,t.v,t.w,t.name)}function oe(e){return"function"===typeof e}!function(e){e.DEFAULT_EDGE_NAME="\0",e.GRAPH_NODE="\0",e.EDGE_KEY_DELIM="\x01"}(J||(J={}));var ae=function(e){return e.nodes().map(function(t){var n={id:t,value:e.node(t),parent:e.parent(t)};return void 0===n.value&&delete n.value,void 0===n.parent&&delete n.parent,n})},ue=function(e){return e.edges().map(function(t){var n=e.edge(t),r={v:t.v,w:t.w,value:n,name:t.name};return void 0===r.name&&delete r.name,void 0===r.value&&delete r.value,r})},se=function(e){var t={options:{directed:e.isDirected(),multigraph:e.isMultigraph(),compound:e.isCompound()},nodes:ae(e),edges:ue(e),value:e.graph()};return void 0===t.value&&delete t.value,t};function ce(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function le(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ce(Object(n),!0).forEach(function(t){fe(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ce(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function fe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function he(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var de={compound:!1,multigraph:!1,directed:!0},pe=function(){function e(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.directed=!0,this.multigraph=!1,this.compound=!1,this.GRAPH_NODE=J.GRAPH_NODE,this.label=void 0,this.nodeCountNum=0,this.edgeCountNum=0,this.defaultNodeLabelFn=function(){},this.defaultEdgeLabelFn=function(){},this.parentMap=void 0,this.childrenMap=void 0,this.nodesLabelMap=new Map,this.inEdgesMap=new Map,this.outEdgesMap=new Map,this.predecessorsMap=new Map,this.successorsMap=new Map,this.edgesMap=new Map,this.edgesLabelsMap=new Map,this.isDirected=function(){return t.directed},this.isMultigraph=function(){return t.multigraph},this.isCompound=function(){return t.compound},this.setGraph=function(e){return t.label=e,t},this.graph=function(){return t.label},this.setDefaultNodeLabel=function(e){return oe(e)?t.defaultNodeLabelFn=e:t.defaultNodeLabelFn=function(){return e},t},this.nodeCount=function(){return t.nodeCountNum},this.node=function(e){return t.nodesLabelMap.get(e)},this.nodes=function(){return Array.from(t.nodesLabelMap.keys())},this.sources=function(){return t.nodes().filter(function(e){var n;return!(null===(n=t.inEdgesMap.get(e))||void 0===n?void 0:n.size)})},this.sinks=function(){return t.nodes().filter(function(e){var n;return!(null===(n=t.outEdgesMap.get(e))||void 0===n?void 0:n.size)})},this.setNodes=function(e,n){return e.map(function(e){return t.setNode(e,n)}),t},this.hasNode=function(e){return t.nodesLabelMap.has(e)},this.checkCompound=function(){if(!t.isCompound())throw new Error("Cannot construct parent-children relations in a non-compound graph")},this.parent=function(e){if(t.isCompound()){var n,r=null===(n=t.parentMap)||void 0===n?void 0:n.get(e);if(r!==t.GRAPH_NODE)return r}},this.removeFromParentsChildList=function(e){var n=t.parentMap.get(e);t.childrenMap.get(n).delete(e)},this.setParent=function(e,n){var r,i;t.checkCompound();for(var o=void 0===n?t.GRAPH_NODE:n,a=t.parent(o);a;){if(e===a)throw new Error("Setting "+n+" as parent of "+e+" would create a cycle");a=t.parent(a)}n&&t.setNode(n),t.setNode(e),t.removeFromParentsChildList(e),null===(r=t.parentMap)||void 0===r||r.set(e,o);var u=t.childrenMap.get(o);return u.set(e,!0),null===(i=t.childrenMap)||void 0===i||i.set(o,u),t},this.children=function(e){var n=void 0===e?t.GRAPH_NODE:e;if(t.isCompound()){var r,i=null===(r=t.childrenMap)||void 0===r?void 0:r.get(n);return i?Array.from(i.keys()):void 0}return n===t.GRAPH_NODE?t.nodes():e&&t.hasNode(e)?[]:void 0},this.predecessors=function(e){var n=t.predecessorsMap.get(e);return n?Array.from(n.keys()):void 0},this.successors=function(e){var n=t.successorsMap.get(e);return n?Array.from(n.keys()):void 0},this.neighbors=function(e){var n;if(t.hasNode(e))return Array.from(new Set(null===(n=t.predecessors(e))||void 0===n?void 0:n.concat(t.successors(e))))},this.isLeaf=function(e){var n,r;return t.isDirected()?!(null===(r=t.successors(e))||void 0===r?void 0:r.length):!(null===(n=t.neighbors(e))||void 0===n?void 0:n.length)},this.filterNodes=function(n){var r=t.directed,i=t.multigraph,o=t.compound,a=new e({directed:r,multigraph:i,compound:o});if(a.setGraph(t.graph()),t.nodes().forEach(function(e){n(e)&&a.setNode(e,t.node(e))}),t.edges().forEach(function(e){a.hasNode(e.v)&&a.hasNode(e.w)&&a.setEdgeObj(e,t.edge(e))}),o){a.nodes().forEach(function(e){a.setParent(e,function(e){for(var n=t.parent(e);void 0!==n&&!a.hasNode(n);)n=t.parent(n);return n}(e))})}return a},this.setDefaultEdgeLabel=function(e){return oe(e)?t.defaultEdgeLabelFn=e:t.defaultEdgeLabelFn=function(){return e},t},this.edgeCount=function(){return t.edgeCountNum},this.setEdgeObj=function(e,n){return t.setEdge(e.v,e.w,n,e.name)},this.setPath=function(e,n){return e.reduce(function(e,r){return t.setEdge(e,r,n),r}),t},this.edgeFromArgs=function(e,n,r){return t.edge({v:e,w:n,name:r})},this.edge=function(e){return t.edgesLabelsMap.get(ie(t.isDirected(),e))},this.hasEdge=function(e,n,r){return t.edgesLabelsMap.has(ie(t.isDirected(),{v:e,w:n,name:r}))},this.removeEdgeObj=function(e){var n=e.v,r=e.w,i=e.name;return t.removeEdge(n,r,i)},this.edges=function(){return Array.from(t.edgesMap.values())},this.inEdges=function(e,n){var r=t.inEdgesMap.get(e);if(r)return Array.from(r.values()).filter(function(e){return!n||e.v===n})},this.outEdges=function(e,n){var r=t.outEdgesMap.get(e);if(r)return Array.from(r.values()).filter(function(e){return!n||e.w===n})},this.nodeEdges=function(e,n){var r;if(t.hasNode(e))return null===(r=t.inEdges(e,n))||void 0===r?void 0:r.concat(t.outEdges(e,n))},this.toJSON=function(){return se(t)},this.nodeInDegree=function(e){var n=t.inEdgesMap.get(e);return n?n.size:0},this.nodeOutDegree=function(e){var n=t.outEdgesMap.get(e);return n?n.size:0},this.nodeDegree=function(e){return t.nodeInDegree(e)+t.nodeOutDegree(e)},this.source=function(e){return e.v},this.target=function(e){return e.w};var r=le(le({},de),n);this.compound=r.compound,this.directed=r.directed,this.multigraph=r.multigraph,this.compound&&(this.parentMap=new Map,this.childrenMap=new Map)}var t,n,r;return t=e,(n=[{key:"setNode",value:function(e,t){var n,r=this.nodesLabelMap,i=this.defaultNodeLabelFn,o=this.isCompound,a=this.parentMap,u=this.childrenMap,s=this.inEdgesMap,c=this.outEdgesMap,l=this.predecessorsMap,f=this.successorsMap;if(r.has(e))return void 0!==t&&r.set(e,t),this;(r.set(e,t||i(e)),o())&&(null===a||void 0===a||a.set(e,this.GRAPH_NODE),null===u||void 0===u||u.set(e,new Map),(null===u||void 0===u?void 0:u.has(this.GRAPH_NODE))||null===u||void 0===u||u.set(this.GRAPH_NODE,new Map),null===u||void 0===u||null===(n=u.get(this.GRAPH_NODE))||void 0===n||n.set(e,!0));return[s,c,l,f].forEach(function(t){return t.set(e,new Map)}),this.nodeCountNum+=1,this}},{key:"removeNode",value:function(e){var t=this;if(this.hasNode(e)){var n,r,i,o=function(e){t.removeEdge(e.v,e.w,e.name)},a=this.inEdgesMap,u=this.outEdgesMap,s=this.predecessorsMap,c=this.successorsMap,l=this.nodesLabelMap;if(this.isCompound())this.removeFromParentsChildList(e),null===(n=this.parentMap)||void 0===n||n.delete(e),null===(r=this.children(e))||void 0===r||r.forEach(function(e){return t.setParent(e)}),null===(i=this.childrenMap)||void 0===i||i.delete(e);var f=a.get(e),h=u.get(e);Array.from(f.values()).forEach(function(e){return o(e)}),Array.from(h.values()).forEach(function(e){return o(e)}),l.delete(e),a.delete(e),u.delete(e),s.delete(e),c.delete(e),this.nodeCountNum-=1}return this}},{key:"setEdge",value:function(e,t,n,r){var i,o,a=re(this.isDirected(),e,t,r),u=ie(this.isDirected(),a),s=a.v,c=a.w;if(this.edgesLabelsMap.has(u))return this.edgesLabelsMap.set(u,n),this;if(void 0!==r&&!this.isMultigraph())throw new Error("Cannot set a named edge when isMultigraph = false");this.setNode(s),this.setNode(c),this.edgesLabelsMap.set(u,n||this.defaultEdgeLabelFn(s,c,r)),Object.freeze(a),this.edgesMap.set(u,a);var l=this.predecessorsMap.get(c),f=this.successorsMap.get(s);return ee(l,s),ee(f,c),null===(i=this.inEdgesMap.get(c))||void 0===i||i.set(u,a),null===(o=this.outEdgesMap.get(s))||void 0===o||o.set(u,a),this.edgeCountNum+=1,this}},{key:"removeEdge",value:function(e,t,n){var r=ne(this.isDirected(),e,t,n);if(this.edgesMap.get(r)){var i=re(this.isDirected(),e,t,n),o=i.v,a=i.w;this.edgesLabelsMap.delete(r),this.edgesMap.delete(r);var u=this.predecessorsMap.get(a),s=this.successorsMap.get(o);te(u,o),te(s,a),this.inEdgesMap.get(a).delete(r),this.outEdgesMap.get(o).delete(r),this.edgeCountNum-=1}return this}}])&&he(t.prototype,n),r&&he(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();pe.fromJSON=function(e){var t=new pe(e.options);return void 0!==e.value&&t.setGraph(e.value),e.nodes.forEach(function(e){t.setNode(e.id,e.value),e.parent&&t.setParent(e.id,e.parent)}),e.edges.forEach(function(e){t.setEdge(e.v,e.w,e.value,e.name)}),t};function ve(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ge(e,t,n){return t&&ve(e.prototype,t),n&&ve(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}var ye=ge(function e(){var t=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.arr=[],this.keyIndice=new Map,this.size=function(){return t.arr.length},this.keys=function(){return t.arr.map(function(e){return e.key})},this.has=function(e){return t.keyIndice.has(e)},this.priority=function(e){var n=t.keyIndice.get(e);if(void 0!==n)return t.arr[n].priority},this.swap=function(e,n){var r=t.arr,i=t.keyIndice,o=[r[e],r[n]],a=o[0],u=o[1];r[e]=u,r[n]=a,i.set(a.key,n),i.set(u.key,e)},this.innerDecrease=function(e){for(var n,r=t.arr,i=r[e].priority,o=e;0!==o;){var a;if((null===(a=r[n=o>>1])||void 0===a?void 0:a.priority)<i)break;t.swap(o,n),o=n}},this.heapify=function(e){var n=t.arr,r=e<<1,i=r+1,o=e;r<n.length&&(o=n[r].priority<n[o].priority?r:o,i<n.length&&(o=n[i].priority<n[o].priority?i:o),o!==e&&(t.swap(e,o),t.heapify(o)))},this.min=function(){if(0===t.size())throw new Error("Queue underflow");return t.arr[0].key},this.add=function(e,n){var r=t.keyIndice,i=t.arr;if(!r.has(e)){var o=i.length;return r.set(e,o),i.push({key:e,priority:n}),t.innerDecrease(o),!0}return!1},this.removeMin=function(){t.swap(0,t.arr.length-1);var e=t.arr.pop();return t.keyIndice.delete(e.key),t.heapify(0),e.key},this.decrease=function(e,n){if(!t.has(e))throw new Error("There's no key named ".concat(e));var r=t.keyIndice.get(e);if(n>t.arr[r].priority)throw new Error("New priority is greater than current priority.Key: ".concat(e," Old: + ").concat(t.arr[r].priority," New: ").concat(n));t.arr[r].priority=n,t.innerDecrease(r)}}),me=function(e,t){var n,r=new pe,i=new Map,o=new ye;function a(e){var r=e.v===n?e.w:e.v,a=o.priority(r);if(void 0!==a){var u=t(e);u<a&&(i.set(r,n),o.decrease(r,u))}}if(0===e.nodeCount())return r;e.nodes().forEach(function(e){o.add(e,Number.POSITIVE_INFINITY),r.setNode(e)}),o.decrease(e.nodes()[0],0);for(var u=!1;o.size()>0;){var s;if(n=o.removeMin(),i.has(n))r.setEdge(n,i.get(n));else{if(u)throw new Error("Input graph is not connected: "+e.graph());u=!0}null===(s=e.nodeEdges(n))||void 0===s||s.forEach(a)}return r},be=function(e){var t=new Set,n=[];return e.nodes().forEach(function(r){for(var i=[],o=[r];o.length>0;){var a,u,s=o.pop();t.has(s)||(t.add(s),i.push(s),null===(a=e.successors(s))||void 0===a||a.forEach(function(e){return o.push(e)}),null===(u=e.predecessors(s))||void 0===u||u.forEach(function(e){return o.push(e)}))}i.length&&n.push(i)}),n},we=function(e,t,n){var r=Array.isArray(t)?t:[t],i=function(t){return e.isDirected()?e.successors(t):e.neighbors(t)},o=[],a=[];return r.forEach(function(t){if(!e.hasNode(t))throw new Error("Graph does not have node: "+t);!function e(t,n,r,i,o,a){i.includes(n)||(i.push(n),r||a.push(n),o(n).forEach(function(n){return e(t,n,r,i,o,a)}),r&&a.push(n))}(e,t,"post"===n,a,i,o)}),o};function Ee(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,o=[],a=!0,u=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(s){u=!0,i=s}finally{try{a||null==n.return||n.return()}finally{if(u)throw i}}return o}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return xe(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return xe(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function xe(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var ke=function(){return 1},Oe=function(e,t,n,r){var i,o,a=new Map,u=new ye,s=function(e){var t=e.v!==i?e.v:e.w,r=a.get(t),s=n(e),c=o.distance+s;if(s<0)throw new Error("dijkstra does not allow negative edge weights. Bad edge: "+e+" Weight: "+s);c<r.distance&&(r.distance=c,r.predecessor=i,u.decrease(t,c))};for(e.nodes().forEach(function(e){var n=e===t?0:Number.POSITIVE_INFINITY;a.set(e,{distance:n}),u.add(e,n)});u.size()>0&&(i=u.removeMin(),!(o=a.get(i))||o.distance!==Number.POSITIVE_INFINITY);)r(i).forEach(s);var c={};return Array.from(a.entries()).forEach(function(e){var t=Ee(e,2),n=t[0],r=t[1];return c[String(n)]=r,c}),c},Se=function(e,t,n,r){return Oe(e,t,n||ke,r||function(t){return e.outEdges(t)})},Ae=function(e,t,n){var r={};return e.nodes().forEach(function(i){return r[String(i)]=Se(e,i,t,n),r}),r},Te=function(e){var t=0,n=[],r=new Map,i=[];return e.nodes().forEach(function(o){r.has(o)||function o(a){var u,s={onStack:!0,lowlink:t,index:t};if(r.set(a,s),t+=1,n.push(a),null===(u=e.successors(a))||void 0===u||u.forEach(function(e){var t;if(r.has(e)){if(null===(t=r.get(e))||void 0===t?void 0:t.onStack){var n=r.get(e);s.lowlink=Math.min(s.lowlink,n.index)}}else{o(e);var i=r.get(e);s.lowlink=Math.min(s.lowlink,i.lowlink)}}),s.lowlink===s.index){var c,l=[];do{c=n.pop(),r.get(c).onStack=!1,l.push(c)}while(a!==c);i.push(l)}}(o)}),i},je=function(e){return Te(e).filter(function(t){return t.length>1||1===t.length&&e.hasEdge(t[0],t[0])})};function Ce(e){return(Ce="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Pe(e){var t=Re();return function(){var n,r=Ie(e);if(t){var i=Ie(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===Ce(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,n)}}function Me(e){var t="function"===typeof Map?new Map:void 0;return(Me=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return Ne(e,arguments,Ie(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),Le(r,e)})(e)}function Ne(e,t,n){return(Ne=Re()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&Le(i,n.prototype),i}).apply(null,arguments)}function Re(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function Le(e,t){return(Le=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ie(e){return(Ie=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var De=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Le(e,t)}(o,Me(Error));var t,n,r,i=Pe(o);function o(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),i.apply(this,arguments)}return t=o,n&&_e(t.prototype,n),r&&_e(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}();var Be=function(e){var t=new Set,n=new Set,r=[];if(e.sinks().forEach(function i(o){if(n.has(o))throw new De;var a;t.has(o)||(n.add(o),t.add(o),null===(a=e.predecessors(o))||void 0===a||a.forEach(i),n.delete(o),r.push(o))}),t.size!==e.nodeCount())throw new De;return r},Fe=function(e){try{Be(e)}catch(t){if(t instanceof De)return!1;throw t}return!0},ze=function(e,t){return we(e,t,"post")},Ve=function(e,t){return we(e,t,"pre")},Ue=function(){return 1};var Ge=function(e,t,n){return function(e,t,n){var r={},i=e.nodes();return i.forEach(function(e){var o=String(e);r[o]={},r[o][o]={distance:0},i.forEach(function(t){e!==t&&(r[o][String(t)]={distance:Number.POSITIVE_INFINITY})}),n(e).forEach(function(n){var i=n.v===e?n.w:n.v,a=t(n);r[o][String(i)]={distance:a,predecessor:e}})}),i.forEach(function(e){var t=String(e),n=r[t];i.forEach(function(e){var o=String(e),a=r[o];i.forEach(function(e){var r=String(e),i=a[t],o=n[r],u=a[r],s=i.distance+o.distance;s<u.distance&&(u.distance=s,u.predecessor=o.predecessor)})})}),r}(e,t||Ue,n||function(t){return e.outEdges(t)})};var He=function(e){Object(u.a)(n,e);var t=Object(s.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(i.a)(n)}(Z),We=function(e){Object(u.a)(n,e);var t=Object(s.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(i.a)(n)}(pe),qe=function(){return 1},Xe=function(e,t,n){for(var r,i=[],o=t[t.length-1],a=t[0];e.nodeCount();){for(;r=a.dequeue();)Ye(e,t,n,r);for(;r=o.dequeue();)Ye(e,t,n,r);if(e.nodeCount())for(var u=t.length-2;u>0;--u)if(r=t[u].dequeue()){i=i.concat(Ye(e,t,n,r,!0));break}}return i},Ye=function(e,t,n,r,i){var o,a,u=[];return null===(o=e.inEdges(r.v))||void 0===o||o.forEach(function(r){var o=e.edge(r),a=e.node(r.v);i&&u.push({v:r.v,w:r.w,in:0,out:0}),void 0===a.out&&(a.out=0),a.out-=o,Je(t,n,a)}),null===(a=e.outEdges(r.v))||void 0===a||a.forEach(function(r){var i=e.edge(r),o=r.w,a=e.node(o);void 0===a.in&&(a.in=0),a.in-=i,Je(t,n,a)}),e.removeNode(r.v),i?u:void 0},$e=function(e,t){var n=new We,r=0,i=0;e.nodes().forEach(function(e){n.setNode(e,{v:e,in:0,out:0})}),e.edges().forEach(function(e){var o=n.edge(e)||0,a=(null===t||void 0===t?void 0:t(e))||1,u=o+a;n.setEdge(e.v,e.w,u),i=Math.max(i,n.node(e.v).out+=a),r=Math.max(r,n.node(e.w).in+=a)});for(var o=[],a=i+r+3,u=0;u<a;u++)o.push(new He);var s=r+1;return n.nodes().forEach(function(e){Je(o,s,n.node(e))}),{buckets:o,zeroIdx:s,graph:n}},Je=function(e,t,n){n.out?n.in?e[n.out-n.in+t].enqueue(n):e[e.length-1].enqueue(n):e[0].enqueue(n)},Qe=function(e,t){var n;if(e.nodeCount()<=1)return[];var r=$e(e,t||qe);return null===(n=Xe(r.graph,r.buckets,r.zeroIdx).map(function(t){return e.outEdges(t.v,t.w)}))||void 0===n?void 0:n.flat()},Ke=function(e){var t=[],n={},r={};return e.nodes().forEach(function i(o){var a;r[o]||(r[o]=!0,n[o]=!0,null===(a=e.outEdges(o))||void 0===a||a.forEach(function(e){n[e.w]?t.push(e):i(e.w)}),delete n[o])}),t},Ze=function(e){var t="greedy"===e.graph().acyclicer?Qe(e,function(e){return function(t){var n;return(null===(n=e.edge(t))||void 0===n?void 0:n.weight)||1}}(e)):Ke(e);null===t||void 0===t||t.forEach(function(t){var n=e.edge(t);e.removeEdgeObj(t),n.forwardName=t.name,n.reversed=!0,e.setEdge(t.w,t.v,n,"rev-".concat(Math.random()))})},et=function(e){e.edges().forEach(function(t){var n=e.edge(t);if(n.reversed){e.removeEdgeObj(t);var r=n.forwardName;delete n.reversed,delete n.forwardName,e.setEdge(t.w,t.v,n,r)}})},tt=function(e){Object(u.a)(n,e);var t=Object(s.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(i.a)(n)}(pe),nt=function(e,t,n,r){var i;do{i="".concat(r).concat(Math.random())}while(e.hasNode(i));return n.dummy=t,e.setNode(i,n),i},rt=function(e){var t=new tt({multigraph:e.isMultigraph()}).setGraph(e.graph());return e.nodes().forEach(function(n){var r;(null===(r=e.children(n))||void 0===r?void 0:r.length)||t.setNode(n,e.node(n))}),e.edges().forEach(function(n){t.setEdgeObj(n,e.edge(n))}),t},it=function(e,t){return null===e||void 0===e?void 0:e.reduce(function(e,n,r){return e[n]=t[r],e},{})},ot=function(e,t){var n,r,i=Number(e.x),o=Number(e.y),a=Number(t.x)-i,u=Number(t.y)-o,s=Number(e.width)/2,c=Number(e.height)/2;return a||u?(Math.abs(u)*s>Math.abs(a)*c?(u<0&&(c=-c),n=c*a/u,r=c):(a<0&&(s=-s),n=s,r=s*u/a),{x:i+n,y:o+r}):{x:0,y:0}},at=function(e){for(var t=[],n=st(e)+1,r=0;r<n;r++)t.push([]);e.nodes().forEach(function(n){var r=e.node(n);if(r){var i=r.rank;void 0!==i&&t[i]&&t[i].push(n)}});for(var i=0;i<n;i++)t[i]=t[i].sort(function(t,n){var r,i,o,a;return o=null===(r=e.node(t))||void 0===r?void 0:r.order,a=null===(i=e.node(n))||void 0===i?void 0:i.order,Number(o)-Number(a)});return t},ut=function(e,t,n,r){var i={width:0,height:0};return d(n)&&d(r)&&(i.rank=n,i.order=r),nt(e,"border",i,t)},st=function(e){var t;return e.nodes().forEach(function(n){var r,i=null===(r=e.node(n))||void 0===r?void 0:r.rank;void 0!==i&&(void 0===t||i>t)&&(t=i)}),t||(t=0),t},ct=function(e,t){var n=Date.now();try{return t()}finally{console.log("".concat(e," time: ").concat(Date.now()-n,"ms"))}},lt=function(e,t){return t()},ft=function(e,t){return e.reduce(function(e,n){return t(e)>t(n)?n:e})},ht=function(e,t){var n=t.v,r=e.node(n).rank,i=t.w,o=e.node(i).rank,a=t.name,u=e.edge(t),s=u.labelRank;if(o!==r+1){e.removeEdgeObj(t);var c,l,f,h=e.graph();for(f=0,++r;r<o;++f,++r)u.points=[],c=nt(e,"edge",l={edgeLabel:u,width:0,height:0,edgeObj:t,rank:r},"_d"),r===s&&(l.width=u.width,l.height=u.height,l.dummy="edge-label",l.labelpos=u.labelpos),e.setEdge(n,c,{weight:u.weight},a),0===f&&(h.dummyChains||(h.dummyChains=[]),h.dummyChains.push(c)),n=c;e.setEdge(n,i,{weight:u.weight},a)}},dt=function(e){e.graph().dummyChains=[],e.edges().forEach(function(t){return ht(e,t)})},pt=function(e){var t;null===(t=e.graph().dummyChains)||void 0===t||t.forEach(function(t){var n,r=e.node(t),i=r.edgeLabel;r.edgeObj&&e.setEdgeObj(r.edgeObj,i);for(var o=t;r.dummy;)n=e.successors(o)[0],e.removeNode(o),i.points.push({x:r.x,y:r.y}),"edge-label"===r.dummy&&(i.x=r.x,i.y=r.y,i.width=r.width,i.height=r.height),o=n,r=e.node(o)})},vt=function(e){var t,n={};null===(t=e.sources())||void 0===t||t.forEach(function(t){return function t(r){var i,o,a=e.node(r);return a?n[r]?a.rank:(n[r]=!0,null===(i=e.outEdges(r))||void 0===i||i.forEach(function(n){var r=t(n.w)-e.edge(n).minlen;r&&(void 0===o||r<o)&&(o=r)}),o||(o=0),a.rank=o,o):0}(t)})},gt=function(e){var t,n,r={};null===(t=e.sources())||void 0===t||t.forEach(function(t){e.node(t)&&function t(i){var o,a,u=e.node(i);return u?r[i]?u.rank:(r[i]=!0,null===(o=e.outEdges(i))||void 0===o||o.forEach(function(n){var r=t(n.w)-e.edge(n).minlen;r&&(void 0===a||r<a)&&(a=r)}),a||(a=0),(void 0===n||a<n)&&(n=a),u.rank=a,a):0}(t)}),void 0===n&&(n=0);var i={};e.nodes().forEach(function(t){var r=e.node(t);r&&(isNaN(r.layer)?r.rank-=n:function t(n,r){var o,a=e.node(n),u=isNaN(a.layer)?r:a.layer;(void 0===a.rank||a.rank<u)&&(a.rank=u),i[n]||(i[n]=!0,null===(o=e.outEdges(n))||void 0===o||o.map(function(n){t(n.w,u+e.edge(n).minlen)}))}(t,r.layer))})},yt=function(e,t){return e.node(t.w).rank-e.node(t.v).rank-e.edge(t).minlen},mt=function(e){var t,n,r=new tt({directed:!1}),i=e.nodes()[0],o=e.nodeCount();for(r.setNode(i,{});bt(r,e)<o;)t=xt(r,e),n=r.hasNode(t.v)?yt(e,t):-yt(e,t),kt(r,e,n);return r},bt=function(e,t){return e.nodes().forEach(function n(r){t.nodeEdges(r).forEach(function(i){var o=i.v,a=r===o?i.w:o;e.hasNode(a)||yt(t,i)||(e.setNode(a,{}),e.setEdge(r,a,{}),n(a))})}),e.nodeCount()},wt=function(e){var t,n,r=new tt({directed:!1}),i=e.nodes()[0],o=e.nodes().filter(function(t){return!!e.node(t)}).length;for(r.setNode(i,{});Et(r,e)<o;)t=xt(r,e),n=r.hasNode(t.v)?yt(e,t):-yt(e,t),kt(r,e,n);return r},Et=function(e,t){return e.nodes().forEach(function n(r){var i;null===(i=t.nodeEdges(r))||void 0===i||i.forEach(function(i){var o=i.v,a=r===o?i.w:o;e.hasNode(a)||void 0===t.node(a).layer&&yt(t,i)||(e.setNode(a,{}),e.setEdge(r,a,{}),n(a))})}),e.nodeCount()},xt=function(e,t){return ft(t.edges(),function(n){return e.hasNode(n.v)!==e.hasNode(n.w)?yt(t,n):1/0})},kt=function(e,t,n){e.nodes().forEach(function(e){t.node(e).rank||(t.node(e).rank=0),t.node(e).rank+=n})},Ot=r.preorder,St=r.postorder,At=function(e,t){var n=St(e,e.nodes());null===(n=null===n||void 0===n?void 0:n.slice(0,(null===n||void 0===n?void 0:n.length)-1))||void 0===n||n.forEach(function(n){Tt(e,t,n)})},Tt=function(e,t,n){var r=e.node(n).parent;e.edgeFromArgs(n,r).cutvalue=jt(e,t,n)},jt=function(e,t,n){var r,i=e.node(n).parent,o=!0,a=t.edgeFromArgs(n,i),u=0;return a||(o=!1,a=t.edgeFromArgs(i,n)),u=a.weight,null===(r=t.nodeEdges(n))||void 0===r||r.forEach(function(r){var a=r.v===n,s=a?r.w:r.v;if(s!==i){var c=a===o,l=t.edge(r).weight;if(u+=c?l:-l,Lt(e,n,s)){var f=e.edgeFromArgs(n,s).cutvalue;u+=c?-f:f}}}),u},Ct=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.nodes()[0];_t(e,{},1,t)},_t=function e(t,n,r,i,o){var a,u=r,s=r,c=t.node(i);return n[i]=!0,null===(a=t.neighbors(i))||void 0===a||a.forEach(function(r){n[r]||(s=e(t,n,s,r,i))}),c.low=u,c.lim=s++,o?c.parent=o:delete c.parent,s},Pt=function(e){return e.edges().find(function(t){return e.edge(t).cutvalue<0})},Mt=function(e,t,n){var r=n.v,i=n.w;t.hasEdge(r,i)||(r=n.w,i=n.v);var o=e.node(r),a=e.node(i),u=o,s=!1;o.lim>a.lim&&(u=a,s=!0);var c=t.edges().filter(function(t){return s===It(e,e.node(t.v),u)&&s!==It(e,e.node(t.w),u)});return ft(c,function(e){return yt(t,e)})},Nt=function(e,t,n,r){var i=n.v,o=n.w;e.removeEdge(i,o),e.setEdge(r.v,r.w,{}),Ct(e),At(e,t),Rt(e,t)},Rt=function(e,t){var n=e.nodes().find(function(e){var n;return!(null===(n=t.node(e))||void 0===n?void 0:n.parent)}),r=Ot(e,n);null===(r=null===r||void 0===r?void 0:r.slice(1))||void 0===r||r.forEach(function(n){var r=e.node(n).parent,i=t.edgeFromArgs(n,r),o=!1;i||(i=t.edgeFromArgs(r,n),o=!0),t.node(n).rank=t.node(r).rank+(o?i.minlen:-i.minlen)})},Lt=function(e,t,n){return e.hasEdge(t,n)},It=function(e,t,n){return n.low<=t.lim&&t.lim<=n.lim},Dt=function(e){var t=function(e){var t=(new tt).setGraph(e.graph());return e.nodes().forEach(function(n){t.setNode(n,e.node(n))}),e.edges().forEach(function(n){var r=t.edgeFromArgs(n.v,n.w)||{weight:0,minlen:1},i=e.edge(n);t.setEdge(n.v,n.w,{weight:r.weight+i.weight,minlen:Math.max(r.minlen,i.minlen)})}),t}(e);vt(t);var n,r,i=mt(t);for(Ct(i),At(i,t);n=Pt(i);)r=Mt(i,t,n),Nt(i,t,n,r)},Bt=vt,Ft=function(e){gt(e),wt(e)},zt=function(e){Dt(e)},Vt=function(e){switch(e.graph().ranker){case"network-simplex":zt(e);break;case"tight-tree":Ft(e);break;case"longest-path":Bt(e);break;default:Ft(e)}},Ut=function(e){var t,n=function(e){var t,n={},r=0;return null===(t=e.children())||void 0===t||t.forEach(function t(i){var o,a=r;null===(o=e.children(i))||void 0===o||o.forEach(t),n[i]={low:a,lim:r++}}),n}(e);null===(t=e.graph().dummyChains)||void 0===t||t.forEach(function(t){var r,i,o=t,a=e.node(o),u=a.edgeObj;if(u)for(var s=function(e,t,n,r){var i,o,a=[],u=[],s=Math.min(t[n].low,t[r].low),c=Math.max(t[n].lim,t[r].lim);i=n;do{i=e.parent(i),a.push(i)}while(i&&(t[i].low>s||c>t[i].lim));for(o=i,i=r;i&&i!==o;)u.push(i),i=e.parent(i);return{lca:o,path:a.concat(u.reverse())}}(e,n,u.v,u.w),c=s.path,l=s.lca,f=0,h=c[f],d=!0;o!==u.w;){if(a=e.node(o),d){for(;h!==l&&(null===(r=e.node(h))||void 0===r?void 0:r.maxRank)<a.rank;)h=c[++f];h===l&&(d=!1)}if(!d){for(;f<c.length-1&&(null===(i=e.node(c[f+1]))||void 0===i?void 0:i.minRank)<=a.rank;)f++;h=c[f]}e.setParent(o,h),o=e.successors(o)[0]}})},Gt=function e(t,n,r,i,o,a,u){var s=t.children(u);if(null===s||void 0===s?void 0:s.length){var c=ut(t,"_bt"),l=ut(t,"_bb"),f=t.node(u);t.setParent(c,u),f.borderTop=c,t.setParent(l,u),f.borderBottom=l,null===s||void 0===s||s.forEach(function(s){e(t,n,r,i,o,a,s);var f=t.node(s),h=f.borderTop?f.borderTop:s,d=f.borderBottom?f.borderBottom:s,p=f.borderTop?i:2*i,v=h!==d?1:o-a[u]+1;t.setEdge(c,h,{minlen:v,weight:p,nestingEdge:!0}),t.setEdge(d,l,{minlen:v,weight:p,nestingEdge:!0})}),t.parent(u)||t.setEdge(n,c,{weight:0,minlen:o+a[u]})}else u!==n&&t.setEdge(n,u,{weight:0,minlen:r})},Ht=function(e){var t,n={};return null===(t=e.children())||void 0===t||t.forEach(function(t){return function t(r,i){var o=e.children(r);null===o||void 0===o||o.forEach(function(e){return t(e,i+1)}),n[r]=i}(t,1)}),n},Wt=function(e){var t=0;return e.edges().forEach(function(n){t+=e.edge(n).weight}),t},qt=function(e){var t,n=nt(e,"root",{},"_root"),r=Ht(e),i=Math.max.apply(Math,Object(y.a)(Object.values(r)));Math.abs(i)===1/0&&(i=1);var o=i-1,a=2*o+1;e.graph().nestingRoot=n,e.edges().forEach(function(t){e.edge(t).minlen*=a});var u=Wt(e)+1;null===(t=e.children())||void 0===t||t.forEach(function(t){Gt(e,n,a,u,o,r,t)}),e.graph().nodeRankFactor=a},Xt=function(e){var t=e.graph();t.nestingRoot&&e.removeNode(t.nestingRoot),delete t.nestingRoot,e.edges().forEach(function(t){e.edge(t).nestingEdge&&e.removeEdgeObj(t)})},Yt=function(e,t,n,r,i,o){var a={rank:o,borderType:t,width:0,height:0},u=i[t][o-1],s=nt(e,"border",a,n);i[t][o]=s,e.setParent(s,r),u&&e.setEdge(u,s,{weight:1})},$t=function(e){var t;null===(t=e.children())||void 0===t||t.forEach(function(t){return function t(n){var r=e.children(n),i=e.node(n);if((null===r||void 0===r?void 0:r.length)&&r.forEach(function(e){return t(e)}),i.hasOwnProperty("minRank")){i.borderLeft=[],i.borderRight=[];for(var o=i.minRank,a=i.maxRank+1;o<a;o+=1)Yt(e,"borderLeft","_bl",n,i,o),Yt(e,"borderRight","_br",n,i,o)}}(t)})},Jt=function(e){e.nodes().forEach(function(t){Qt(e.node(t))}),e.edges().forEach(function(t){Qt(e.edge(t))})},Qt=function(e){var t=e.width;e.width=e.height,e.height=t},Kt=function(e){e.nodes().forEach(function(t){Zt(e.node(t))}),e.edges().forEach(function(t){var n,r=e.edge(t);null===(n=r.points)||void 0===n||n.forEach(function(e){return Zt(e)}),r.hasOwnProperty("y")&&Zt(r)})},Zt=function(e){(null===e||void 0===e?void 0:e.y)&&(e.y=-e.y)},en=function(e){e.nodes().forEach(function(t){tn(e.node(t))}),e.edges().forEach(function(t){var n,r=e.edge(t);null===(n=r.points)||void 0===n||n.forEach(function(e){return tn(e)}),r.hasOwnProperty("x")&&tn(r)})},tn=function(e){var t=e.x;e.x=e.y,e.y=t},nn=function(e){var t,n=null===(t=e.graph().rankdir)||void 0===t?void 0:t.toLowerCase();"lr"!==n&&"rl"!==n||Jt(e)},rn=function(e){var t,n=null===(t=e.graph().rankdir)||void 0===t?void 0:t.toLowerCase();"bt"!==n&&"rl"!==n||Kt(e),"lr"!==n&&"rl"!==n||(en(e),Jt(e))},on=function(e){for(var t={},n=e.nodes().filter(function(t){var n;return!(null===(n=e.children(t))||void 0===n?void 0:n.length)}),r=n.map(function(t){return e.node(t).rank}),i=Math.max.apply(Math,Object(y.a)(r)),o=[],a=0;a<i+1;a++)o.push([]);var u=n.sort(function(t,n){return e.node(t).rank-e.node(n).rank}),s=u.filter(function(t){return void 0!==e.node(t).fixorder}).sort(function(t,n){return e.node(t).fixorder-e.node(n).fixorder});return null===s||void 0===s||s.forEach(function(n){isNaN(e.node(n).rank)||o[e.node(n).rank].push(n),t[n]=!0}),null===u||void 0===u||u.forEach(function n(r){var i;if(!t.hasOwnProperty(r)){t[r]=!0;var a=e.node(r);isNaN(a.rank)||o[a.rank].push(r),null===(i=e.successors(r))||void 0===i||i.forEach(function(e){return n(e)})}}),o},an=function(e,t,n){for(var r=it(n,n.map(function(e,t){return t})),i=t.map(function(t){var n,i=null===(n=e.outEdges(t))||void 0===n?void 0:n.map(function(t){return{pos:r[t.w]||0,weight:e.edge(t).weight}});return null===i||void 0===i?void 0:i.sort(function(e,t){return e.pos-t.pos})}).flat().filter(function(e){return void 0!==e}),o=1;o<n.length;)o<<=1;var a=2*o-1;o-=1;var u=Array(a).fill(0,0,a),s=0;return null===i||void 0===i||i.forEach(function(e){if(e){var t=e.pos+o;u[t]+=e.weight;for(var n=0;t>0;)t%2&&(n+=u[t+1]),u[t=t-1>>1]+=e.weight;s+=e.weight*n}}),s},un=function(e,t){for(var n=0,r=1;r<(null===t||void 0===t?void 0:t.length);r+=1)n+=an(e,t[r-1],t[r]);return n},sn=function(e){for(var t;e.hasNode(t="_root".concat(Math.random())););return t},cn=function(e,t,n){var r=sn(e),i=new tt({compound:!0}).setGraph({root:r}).setDefaultNodeLabel(function(t){return e.node(t)});return e.nodes().forEach(function(o){var a,u=e.node(o),s=e.parent(o);(u.rank===t||u.minRank<=t&&t<=u.maxRank)&&(i.setNode(o),i.setParent(o,s||r),null===(a=e[n](o))||void 0===a||a.forEach(function(t){var n=t.v===o?t.w:t.v,r=i.edgeFromArgs(n,o),a=void 0!==r?r.weight:0;i.setEdge(n,o,{weight:e.edge(t).weight+a})}),u.hasOwnProperty("minRank")&&i.setNode(o,{borderLeft:u.borderLeft[t],borderRight:u.borderRight[t]}))}),i},ln=function(e,t,n){var r,i={};null===n||void 0===n||n.forEach(function(n){for(var o,a,u=e.parent(n);u;){if((o=e.parent(u))?(a=i[o],i[o]=u):(a=r,r=u),a&&a!==u)return void t.setEdge(a,u);u=o}})},fn=function(e,t){return t.map(function(t){var n=e.inEdges(t);if(!(null===n||void 0===n?void 0:n.length))return{v:t};var r={sum:0,weight:0};return null===n||void 0===n||n.forEach(function(t){var n=e.edge(t),i=e.node(t.v);r.sum+=n.weight*i.order,r.weight+=n.weight}),{v:t,barycenter:r.sum/r.weight,weight:r.weight}})},hn=function(e){for(var t,n,r=[],i=function(){var i=e.pop();r.push(i),null===(t=i.in.reverse())||void 0===t||t.forEach(function(e){return(t=i,function(e){e.merged||(void 0===e.barycenter||void 0===t.barycenter||e.barycenter>=t.barycenter)&&dn(t,e)})(e);var t}),null===(n=i.out)||void 0===n||n.forEach(function(t){return(n=i,function(t){t.in.push(n),0===--t.indegree&&e.push(t)})(t);var n})};null===e||void 0===e?void 0:e.length;)i();var o=r.filter(function(e){return!e.merged}),a=["vs","i","barycenter","weight"];return o.map(function(e){var t={};return null===a||void 0===a||a.forEach(function(n){void 0!==e[n]&&(t[n]=e[n])}),t})},dn=function(e,t){var n,r=0,i=0;e.weight&&(r+=e.barycenter*e.weight,i+=e.weight),t.weight&&(r+=t.barycenter*t.weight,i+=t.weight),e.vs=null===(n=t.vs)||void 0===n?void 0:n.concat(e.vs),e.barycenter=r/i,e.weight=i,e.i=Math.min(t.i,e.i),t.merged=!0},pn=function(e,t){var n,r,i,o={};null===e||void 0===e||e.forEach(function(e,t){o[e.v]={i:t,indegree:0,in:[],out:[],vs:[e.v]};var n=o[e.v];void 0!==e.barycenter&&(n.barycenter=e.barycenter,n.weight=e.weight)}),null===(n=t.edges())||void 0===n||n.forEach(function(e){var t=o[e.v],n=o[e.w];void 0!==t&&void 0!==n&&(n.indegree++,t.out.push(o[e.w]))});var a=null===(i=(r=Object.values(o)).filter)||void 0===i?void 0:i.call(r,function(e){return!e.indegree});return hn(a)},vn=function(e,t,n){for(var r,i=n;t.length&&(r=t[t.length-1]).i<=i;)t.pop(),null===e||void 0===e||e.push(r.vs),i++;return i},gn=function(e,t){return function(n,r){if(void 0!==n.fixorder&&void 0!==r.fixorder)return n.fixorder-r.fixorder;if(n.barycenter<r.barycenter)return-1;if(n.barycenter>r.barycenter)return 1;if(t&&void 0!==n.order&&void 0!==r.order){if(n.order<r.order)return-1;if(n.order>r.order)return 1}return e?r.i-n.i:n.i-r.i}},yn=function(e,t,n,r){var i=function(e,t){var n={lhs:[],rhs:[]};return null===e||void 0===e||e.forEach(function(e){t(e)?n.lhs.push(e):n.rhs.push(e)}),n}(e,function(e){var t=e.hasOwnProperty("fixorder")&&!isNaN(e.fixorder);return r?!t&&e.hasOwnProperty("barycenter"):t||e.hasOwnProperty("barycenter")}),o=i.lhs,a=i.rhs.sort(function(e,t){return-e.i- -t.i}),u=[],s=0,c=0,l=0;null===o||void 0===o||o.sort(gn(!!t,!!n)),l=vn(u,a,l),null===o||void 0===o||o.forEach(function(e){var t;l+=null===(t=e.vs)||void 0===t?void 0:t.length,u.push(e.vs),s+=e.barycenter*e.weight,c+=e.weight,l=vn(u,a,l)});var f={vs:u.flat()};return c&&(f.barycenter=s/c,f.weight=c),f},mn=function(e,t){null===e||void 0===e||e.forEach(function(e){var n,r=null===(n=e.vs)||void 0===n?void 0:n.map(function(e){return t[e]?t[e].vs:e});e.vs=r.flat()})},bn=function(e,t){void 0!==e.barycenter?(e.barycenter=(e.barycenter*e.weight+t.barycenter*t.weight)/(e.weight+t.weight),e.weight+=t.weight):(e.barycenter=t.barycenter,e.weight=t.weight)},wn=function e(t,n,r,i,o,a){var u,s,c,l,f=t.children(n),h=t.node(n),d=h?h.borderLeft:void 0,p=h?h.borderRight:void 0,v={};d&&(f=null===f||void 0===f?void 0:f.filter(function(e){return e!==d&&e!==p}));var g=fn(t,f||[]);null===g||void 0===g||g.forEach(function(n){var o;if(null===(o=t.children(n.v))||void 0===o?void 0:o.length){var u=e(t,n.v,r,i,a);v[n.v]=u,u.hasOwnProperty("barycenter")&&bn(n,u)}});var y=pn(g,r);mn(y,v),null===(u=y.filter(function(e){return e.vs.length>0}))||void 0===u||u.forEach(function(e){var n=t.node(e.vs[0]);n&&(e.fixorder=n.fixorder,e.order=n.order)});var m=yn(y,i,o,a);if(d&&(m.vs=[d,m.vs,p].flat(),null===(s=t.predecessors(d))||void 0===s?void 0:s.length)){var b=t.node((null===(c=t.predecessors(d))||void 0===c?void 0:c[0])||""),w=t.node((null===(l=t.predecessors(p))||void 0===l?void 0:l[0])||"");m.hasOwnProperty("barycenter")||(m.barycenter=0,m.weight=0),m.barycenter=(m.barycenter*m.weight+b.order+w.order)/(m.weight+2),m.weight+=2}return m},En=function(e,t,n){return t.map(function(t){return cn(e,t,n)})},xn=function(e,t,n,r){var i=new tt;null===e||void 0===e||e.forEach(function(e){for(var o,a=e.graph().root,u=wn(e,a,i,t,n,r),s=0;s<(null===(o=u.vs)||void 0===o?void 0:o.length);s++){var c=e.node(u.vs[s]);c&&(c.order=s)}ln(e,i,u.vs)})},kn=function(e,t){null===t||void 0===t||t.forEach(function(t){null===t||void 0===t||t.forEach(function(t,n){e.node(t).order=n})})},On=function(e,t){for(var n=st(e),r=[],i=[],o=1;o<n+1;o++)r.push(o);for(var a=n-1;a>-1;a--)i.push(a);var u=En(e,r,"inEdges"),s=En(e,i,"outEdges"),c=on(e);kn(e,c);for(var l,f=Number.POSITIVE_INFINITY,h=0,d=0;d<4;++h,++d){xn(h%2?u:s,h%4>=2,!1,t),c=at(e);var p=un(e,c);p<f&&(d=0,l=v(c),f=p)}c=on(e),kn(e,c);for(var g=0,y=0;y<4;++g,++y){xn(g%2?u:s,g%4>=2,!0,t),c=at(e);var m=un(e,c);m<f&&(y=0,l=v(c),f=m)}kn(e,l)},Sn=function(e){Object(u.a)(n,e);var t=Object(s.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(i.a)(n)}(pe),An=function(e,t){var n={};return(null===t||void 0===t?void 0:t.length)&&t.reduce(function(t,r){var i=0,o=0,a=t.length,u=null===r||void 0===r?void 0:r[(null===r||void 0===r?void 0:r.length)-1];return null===r||void 0===r||r.forEach(function(t,s){var c,l=jn(e,t),f=l?e.node(l).order:a;(l||t===u)&&(null===(c=r.slice(o,s+1))||void 0===c||c.forEach(function(t){var r;null===(r=e.predecessors(t))||void 0===r||r.forEach(function(r){var o,a=e.node(r),u=a.order;!(u<i||f<u)||a.dummy&&(null===(o=e.node(t))||void 0===o?void 0:o.dummy)||Cn(n,r,t)})}),o=s+1,i=f)}),r}),n},Tn=function(e,t){var n={};function r(t,r){var i=function(e){return JSON.stringify(e.slice(1))}(t);r.get(i)||(function(t,r,i,o,a){for(var u,s,c,l=r;l<i;l++)c=t[l],(null===(u=e.node(c))||void 0===u?void 0:u.dummy)&&(null===(s=e.predecessors(c))||void 0===s||s.forEach(function(t){var r=e.node(t);r.dummy&&(r.order<o||r.order>a)&&Cn(n,t,c)}))}.apply(void 0,Object(y.a)(t)),r.set(i,!0))}return(null===t||void 0===t?void 0:t.length)&&t.reduce(function(t,n){var i,o=-1,a=0,u=new Map;return null===n||void 0===n||n.forEach(function(s,c){var l;if("border"===(null===(l=e.node(s))||void 0===l?void 0:l.dummy)){var f=e.predecessors(s)||[];f.length&&(i=e.node(f[0]).order,r([n,a,c,o,i],u),a=c,o=i)}r([n,a,n.length,i,t.length],u)}),n}),n},jn=function(e,t){var n,r;if(null===(n=e.node(t))||void 0===n?void 0:n.dummy)return null===(r=e.predecessors(t))||void 0===r?void 0:r.find(function(t){return e.node(t).dummy})},Cn=function(e,t,n){var r=t,i=n;if(r>i){var o=r;r=i,i=o}var a=e[r];a||(e[r]=a={}),a[i]=!0},_n=function(e,t,n){var r=t;r>n&&(r=n);return!!e[r]},Pn=function(e,t,n,r){var i={},o={},a={};return null===t||void 0===t||t.forEach(function(e){null===e||void 0===e||e.forEach(function(e,t){i[e]=e,o[e]=e,a[e]=t})}),null===t||void 0===t||t.forEach(function(e){var t=-1;null===e||void 0===e||e.forEach(function(e){var u=r(e);if(u.length)for(var s=((u=u.sort(function(e,t){return a[e]-a[t]})).length-1)/2,c=Math.floor(s),l=Math.ceil(s);c<=l;++c){var f=u[c];o[e]===e&&t<a[f]&&!_n(n,e,f)&&(o[f]=e,o[e]=i[e]=i[f],t=a[f])}})}),{root:i,align:o}},Mn=function(e,t,n,r,i){var o,a={},u=Nn(e,t,n,i),s=i?"borderLeft":"borderRight",c=function(e,t){for(var n=u.nodes(),r=n.pop(),i={};r;)i[r]?e(r):(i[r]=!0,n.push(r),n=n.concat(t(r))),r=n.pop()};return c(function(e){a[e]=(u.inEdges(e)||[]).reduce(function(e,t){return Math.max(e,(a[t.v]||0)+u.edge(t))},0)},u.predecessors.bind(u)),c(function(t){var n=(u.outEdges(t)||[]).reduce(function(e,t){return Math.min(e,(a[t.w]||0)-u.edge(t))},Number.POSITIVE_INFINITY),r=e.node(t);n!==Number.POSITIVE_INFINITY&&r.borderType!==s&&(a[t]=Math.max(a[t],n))},u.successors.bind(u)),null===(o=Object.values(r))||void 0===o||o.forEach(function(e){a[e]=a[n[e]]}),a},Nn=function(e,t,n,r){var i=new Sn,o=e.graph(),a=Dn(o.nodesep,o.edgesep,r);return null===t||void 0===t||t.forEach(function(t){var r;null===t||void 0===t||t.forEach(function(t){var o=n[t];if(i.setNode(o),r){var u=n[r],s=i.edgeFromArgs(u,o);i.setEdge(u,o,Math.max(a(e,t,r),s||0))}r=t})}),i},Rn=function(e,t){return ft(Object.values(t),function(t){var n,r=Number.NEGATIVE_INFINITY,i=Number.POSITIVE_INFINITY;return null===(n=Object.keys(t))||void 0===n||n.forEach(function(n){var o=t[n],a=Bn(e,n)/2;r=Math.max(o+a,r),i=Math.min(o-a,i)}),r-i})};function Ln(e,t){var n=Object.values(t),r=Math.min.apply(Math,n),i=Math.max.apply(Math,n);["u","d"].forEach(function(n){["l","r"].forEach(function(o){var a,u=n+o,s=e[u];if(s!==t){var c=Object.values(s);(a="l"===o?r-Math.min.apply(Math,c):i-Math.max.apply(Math,c))&&(e[u]={},Object.keys(s).forEach(function(t){e[u][t]=s[t]+a}))}})})}var In=function(e,t){var n={};return Object.keys(e.ul).forEach(function(r){if(t)n[r]=e[t.toLowerCase()][r];else{var i=Object.values(e).map(function(e){return e[r]});n[r]=(i[0]+i[1])/2}}),n},Dn=function(e,t,n){return function(r,i,o){var a,u=r.node(i),s=r.node(o),c=0;if(c+=u.width/2,u.hasOwnProperty("labelpos"))switch((u.labelpos||"").toLowerCase()){case"l":a=-u.width/2;break;case"r":a=u.width/2}if(a&&(c+=n?a:-a),a=0,c+=(u.dummy?t:e)/2,c+=(s.dummy?t:e)/2,c+=s.width/2,s.labelpos)switch((s.labelpos||"").toLowerCase()){case"l":a=s.width/2;break;case"r":a=-s.width/2}return a&&(c+=n?a:-a),a=0,c}},Bn=function(e,t){return e.node(t).width||0},Fn=function(e){var t,n=rt(e);!function(e){var t=at(e),n=e.graph().ranksep,r=0;null===t||void 0===t||t.forEach(function(t){var i=t.map(function(t){return e.node(t).height}),o=Math.max.apply(Math,Object(y.a)(i).concat([0]));null===t||void 0===t||t.forEach(function(t){e.node(t).y=r+o/2}),r+=o+n})}(n);var r=function(e){var t=at(e),n=Object.assign(An(e,t),Tn(e,t)),r={},i=[];["u","d"].forEach(function(o){i="u"===o?t:Object.values(t).reverse(),["l","r"].forEach(function(t){"r"===t&&(i=i.map(function(e){return Object.values(e).reverse()}));var a=("u"===o?e.predecessors:e.successors).bind(e),u=Pn(0,i,n,a),s=Mn(e,i,u.root,u.align,"r"===t);"r"===t&&Object.keys(s).forEach(function(e){return s[e]=-s[e]}),r[o+t]=s})});var o=Rn(e,r);return o&&Ln(r,o),In(r,e.graph().align)}(n);null===(t=Object.keys(r))||void 0===t||t.forEach(function(e){n.node(e).x=r[e]})},zn=function(e,t){for(var n=e.nodes().filter(function(t){var n;return!(null===(n=e.children(t))||void 0===n?void 0:n.length)}).map(function(t){return e.node(t).rank}),r=Math.max.apply(Math,Object(y.a)(n)),i=[],o=0;o<r+1;o++)i[o]=[];null===t||void 0===t||t.forEach(function(t){var n=e.node(t);!n||null!==n&&void 0!==n&&n.dummy||isNaN(n.rank)||(n.fixorder=i[n.rank].length,i[n.rank].push(t))})},Vn=function(e,t,n){t("    removeSelfEdges",function(){sr(e)}),t("    acyclic",function(){Ze(e)}),t("    nestingGraph.run",function(){qt(e)}),t("    rank",function(){Vt(rt(e))}),t("    injectEdgeLabelProxies",function(){er(e)}),t("    removeEmptyRanks",function(){!function(e){var t=e.nodes(),n=t.filter(function(t){var n;return void 0!==(null===(n=e.node(t))||void 0===n?void 0:n.rank)}).map(function(t){return e.node(t).rank}),r=Math.min.apply(Math,Object(y.a)(n)),i=[];t.forEach(function(t){var n,o=((null===(n=e.node(t))||void 0===n?void 0:n.rank)||0)-r;i[o]||(i[o]=[]),i[o].push(t)});for(var o=0,a=e.graph().nodeRankFactor||0,u=0;u<i.length;u++){var s=i[u];void 0===s?u%a!==0&&(o-=1):o&&(null===s||void 0===s||s.forEach(function(t){var n=e.node(t);n&&(n.rank=n.rank||0,n.rank+=o)}))}}(e)}),t("    nestingGraph.cleanup",function(){Xt(e)}),t("    normalizeRanks",function(){!function(e){var t=e.nodes().filter(function(t){var n;return void 0!==(null===(n=e.node(t))||void 0===n?void 0:n.rank)}).map(function(t){return e.node(t).rank}),n=Math.min.apply(Math,Object(y.a)(t));e.nodes().forEach(function(t){var r=e.node(t);r.hasOwnProperty("rank")&&n!==1/0&&(r.rank-=n)})}(e)}),t("    assignRankMinMax",function(){tr(e)}),t("    removeEdgeLabelProxies",function(){nr(e)}),t("    normalize.run",function(){dt(e)}),t("    parentDummyChains",function(){Ut(e)}),t("    addBorderSegments",function(){$t(e)}),n&&n.keepNodeOrder&&t("    initDataOrder",function(){zn(e,n.nodeOrder)}),t("    order",function(){On(e,null===n||void 0===n?void 0:n.keepNodeOrder)}),t("    insertSelfEdges",function(){cr(e)}),t("    adjustCoordinateSystem",function(){nn(e)}),t("    position",function(){Fn(e)}),t("    positionSelfEdges",function(){lr(e)}),t("    removeBorderNodes",function(){ur(e)}),t("    normalize.undo",function(){pt(e)}),t("    fixupEdgeLabelCoords",function(){or(e)}),t("    undoCoordinateSystem",function(){rn(e)}),t("    translateGraph",function(){rr(e)}),t("    assignNodeIntersects",function(){ir(e)}),t("    reversePoints",function(){ar(e)}),t("    acyclic.undo",function(){et(e)})},Un=function(e,t){e.nodes().forEach(function(n){var r=e.node(n),i=t.node(n);void 0!==i?(r.fixorder=i._order,delete i._order):delete r.fixorder})},Gn=function(e,t){e.nodes().forEach(function(n){var r,i=e.node(n);if(i){var o=t.node(n);i.x=o.x,i.y=o.y,i._order=o.order,i._rank=o.rank,(null===(r=t.children(n))||void 0===r?void 0:r.length)&&(i.width=o.width,i.height=o.height)}}),e.edges().forEach(function(n){var r=e.edge(n),i=t.edge(n);r.points=i?i.points:[],i&&i.hasOwnProperty("x")&&(r.x=i.x,r.y=i.y)}),e.graph().width=t.graph().width,e.graph().height=t.graph().height},Hn=["nodesep","edgesep","ranksep","marginx","marginy"],Wn={ranksep:50,edgesep:20,nodesep:50,rankdir:"tb"},qn=["acyclicer","ranker","rankdir","align"],Xn=["width","height","layer","fixorder"],Yn={width:0,height:0},$n=["minlen","weight","width","height","labeloffset"],Jn={minlen:1,weight:1,width:0,height:0,labeloffset:10,labelpos:"r"},Qn=["labelpos"],Kn=function(e){var t=new tt({multigraph:!0,compound:!0}),n=hr(e.graph()),r={};return null===qn||void 0===qn||qn.forEach(function(e){void 0!==n[e]&&(r[e]=n[e])}),t.setGraph(Object.assign({},Wn,fr(n,Hn),r)),e.nodes().forEach(function(n){var r=hr(e.node(n)),i=Object.assign(Object.assign({},Yn),r),o=fr(i,Xn);t.setNode(n,o),t.setParent(n,e.parent(n))}),e.edges().forEach(function(n){var r=hr(e.edge(n)),i={};null===Qn||void 0===Qn||Qn.forEach(function(e){void 0!==r[e]&&(i[e]=r[e])}),t.setEdgeObj(n,Object.assign({},Jn,fr(r,$n),i))}),t},Zn=function(e){var t=e.graph();t.ranksep||(t.ranksep=0),t.ranksep/=2,e.nodes().forEach(function(t){var n=e.node(t);isNaN(n.layer)||n.layer||(n.layer=0)}),e.edges().forEach(function(n){var r,i=e.edge(n);i.minlen*=2,"c"!==(null===(r=i.labelpos)||void 0===r?void 0:r.toLowerCase())&&("TB"===t.rankdir||"BT"===t.rankdir?i.width+=i.labeloffset:i.height+=i.labeloffset)})},er=function(e){e.edges().forEach(function(t){var n=e.edge(t);if(n.width&&n.height){var r=e.node(t.v),i={e:t,rank:(e.node(t.w).rank-r.rank)/2+r.rank};nt(e,"edge-proxy",i,"_ep")}})},tr=function(e){var t=0;e.nodes().forEach(function(n){var r,i,o=e.node(n);o.borderTop&&(o.minRank=null===(r=e.node(o.borderTop))||void 0===r?void 0:r.rank,o.maxRank=null===(i=e.node(o.borderBottom))||void 0===i?void 0:i.rank,t=Math.max(t,o.maxRank||-1/0))}),e.graph().maxRank=t},nr=function(e){e.nodes().forEach(function(t){var n=e.node(t);"edge-proxy"===n.dummy&&(e.edge(n.e).labelRank=n.rank,e.removeNode(t))})},rr=function(e){var t,n,r=0,i=0,o=e.graph(),a=o.marginx||0,u=o.marginy||0,s=function(e){if(e){var o=e.x,a=e.y,u=e.width,s=e.height;isNaN(o)||isNaN(u)||(void 0===t&&(t=o-u/2),t=Math.min(t,o-u/2),r=Math.max(r,o+u/2)),isNaN(a)||isNaN(s)||(void 0===n&&(n=a-s/2),n=Math.min(n,a-s/2),i=Math.max(i,a+s/2))}};e.nodes().forEach(function(t){s(e.node(t))}),e.edges().forEach(function(t){var n=e.edge(t);(null===n||void 0===n?void 0:n.hasOwnProperty("x"))&&s(n)}),t-=a,n-=u,e.nodes().forEach(function(r){var i=e.node(r);i&&(i.x-=t,i.y-=n)}),e.edges().forEach(function(r){var i,o=e.edge(r);null===(i=o.points)||void 0===i||i.forEach(function(e){e.x-=t,e.y-=n}),o.hasOwnProperty("x")&&(o.x-=t),o.hasOwnProperty("y")&&(o.y-=n)}),o.width=r-t+a,o.height=i-n+u},ir=function(e){e.edges().forEach(function(t){var n,r,i=e.edge(t),o=e.node(t.v),a=e.node(t.w);i.points?(n=i.points[0],r=i.points[i.points.length-1]):(i.points=[],n=a,r=o),i.points.unshift(ot(o,n)),i.points.push(ot(a,r))})},or=function(e){e.edges().forEach(function(t){var n=e.edge(t);if(null===n||void 0===n?void 0:n.hasOwnProperty("x"))switch("l"!==n.labelpos&&"r"!==n.labelpos||(n.width-=n.labeloffset),n.labelpos){case"l":n.x-=n.width/2+n.labeloffset;break;case"r":n.x+=n.width/2+n.labeloffset}})},ar=function(e){e.edges().forEach(function(t){var n,r=e.edge(t);r.reversed&&(null===(n=r.points)||void 0===n||n.reverse())})},ur=function(e){e.nodes().forEach(function(t){var n,r,i;if(null===(n=e.children(t))||void 0===n?void 0:n.length){var o=e.node(t),a=e.node(o.borderTop),u=e.node(o.borderBottom),s=e.node(o.borderLeft[(null===(r=o.borderLeft)||void 0===r?void 0:r.length)-1]),c=e.node(o.borderRight[(null===(i=o.borderRight)||void 0===i?void 0:i.length)-1]);o.width=Math.abs((null===c||void 0===c?void 0:c.x)-(null===s||void 0===s?void 0:s.x))||10,o.height=Math.abs((null===u||void 0===u?void 0:u.y)-(null===a||void 0===a?void 0:a.y))||10,o.x=((null===s||void 0===s?void 0:s.x)||0)+o.width/2,o.y=((null===a||void 0===a?void 0:a.y)||0)+o.height/2}}),e.nodes().forEach(function(t){var n;"border"===(null===(n=e.node(t))||void 0===n?void 0:n.dummy)&&e.removeNode(t)})},sr=function(e){e.edges().forEach(function(t){if(t.v===t.w){var n=e.node(t.v);n.selfEdges||(n.selfEdges=[]),n.selfEdges.push({e:t,label:e.edge(t)}),e.removeEdgeObj(t)}})},cr=function(e){var t=at(e);null===t||void 0===t||t.forEach(function(t){var n=0;null===t||void 0===t||t.forEach(function(t,r){var i,o=e.node(t);o.order=r+n,null===(i=o.selfEdges)||void 0===i||i.forEach(function(t){nt(e,"selfedge",{width:t.label.width,height:t.label.height,rank:o.rank,order:r+ ++n,e:t.e,label:t.label},"_se")}),delete o.selfEdges})})},lr=function(e){e.nodes().forEach(function(t){var n=e.node(t);if("selfedge"===n.dummy){var r=e.node(n.e.v),i=r.x+r.width/2,o=r.y,a=n.x-i,u=r.height/2;e.setEdgeObj(n.e,n.label),e.removeNode(t),n.label.points=[{x:i+2*a/3,y:o-u},{x:i+5*a/6,y:o-u},{y:o,x:i+a},{x:i+5*a/6,y:o+u},{x:i+2*a/3,y:o+u}],n.label.x=n.x,n.label.y=n.y}})},fr=function(e,t){var n={};return null===t||void 0===t||t.forEach(function(t){void 0!==e[t]&&(n[t]=+e[t])}),n},hr=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t={};return Object.keys(e).forEach(function(n){t[n.toLowerCase()]=e[n]}),t},dr={layout:function(e,t){var n=t&&t.debugTiming?ct:lt;n("layout",function(){t&&!t.keepNodeOrder&&t.prevGraph&&n("  inheritOrder",function(){Un(e,t.prevGraph)});var r=n("  buildLayoutGraph",function(){return Kn(e)});t&&!1===t.edgeLabelSpace||n("  makeSpaceForEdgeLabels",function(){Zn(r)});try{n("  runLayout",function(){Vn(r,n,t)})}catch(i){if("Not possible to find intersection inside of the rectangle"===i.message)return void console.error("The following error may be caused by improper layer setting, please make sure your manual layer setting does not violate the graph's structure:\n",i);throw i}n("  updateInputGraph",function(){Gn(e,r)})})},util:{time:ct,notime:lt}},pr=function(e){Object(u.a)(n,e);var t=Object(s.a)(n);function n(e){var r;return Object(o.a)(this,n),(r=t.call(this)).rankdir="TB",r.nodesep=50,r.ranksep=50,r.controlPoints=!1,r.sortByCombo=!1,r.edgeLabelSpace=!0,r.radial=!1,r.nodes=[],r.edges=[],r.onLayoutEnd=function(){},r.layoutNode=function(e){var t=Object(a.a)(r).nodes.find(function(t){return t.id===e});return!t||!1!==t.layout},r.updateCfg(e),r}return Object(i.a)(n,[{key:"getDefaultCfg",value:function(){return{rankdir:"TB",align:void 0,nodeSize:void 0,nodesepFunc:void 0,ranksepFunc:void 0,nodesep:50,ranksep:50,controlPoints:!1,radial:!1,focusNode:null}}},{key:"execute",value:function(){var e,t,n,r=this,i=this,o=i.nodes,a=i.nodeSize,u=i.rankdir,s=i.combos,c=i.begin,f=i.radial,v=i.comboEdges,y=void 0===v?[]:v,b=i.vedges,w=void 0===b?[]:b;if(o){var E=i.edges||[],x=new tt({multigraph:!0,compound:!0});i.nodeMap={};var k,O={};o.forEach(function(e){i.nodeMap[e.id]=e,e.comboId&&(O[e.comboId]=O[e.comboId]||[],O[e.comboId].push(e.id))}),k=a?h(a)?function(){return a}:function(){return[a,a]}:function(e){return e.size?h(e.size)?e.size:p(e.size)?[e.size.width||40,e.size.height||40]:[e.size,e.size]:[40,40]};var S=m(i.ranksep,50,i.ranksepFunc),A=m(i.nodesep,50,i.nodesepFunc),T=A,j=S;"LR"!==u&&"RL"!==u||(T=S,j=A),x.setDefaultEdgeLabel(function(){return{}}),x.setGraph(i);var C={};this.sortByCombo&&s&&s.forEach(function(e){if(C[e.id]=e,e.collapsed){var t=k(e),n=j(e),r=T(e),i=t[0]+2*r,o=t[1]+2*n;x.setNode(e.id,{width:i,height:o})}e.parentId&&(C[e.parentId]||x.setNode(e.parentId,{}),x.setParent(e.id,e.parentId))}),o.filter(function(e){return!1!==e.layout}).forEach(function(e){var t=k(e),n=j(e),i=T(e),o=t[0]+2*i,a=t[1]+2*n,u=e.layer;d(u)?x.setNode(e.id,{width:o,height:a,layer:u}):x.setNode(e.id,{width:o,height:a}),r.sortByCombo&&e.comboId&&(C[e.comboId]||(C[e.comboId]={id:e.comboId},x.setNode(e.comboId,{})),x.setParent(e.id,e.comboId))}),E.forEach(function(e){var t=g(e,"source"),n=g(e,"target");r.layoutNode(t)&&r.layoutNode(n)&&x.setEdge(t,n,{weight:e.weight||1})}),null===(e=null===y||void 0===y?void 0:y.concat(w||[]))||void 0===e||e.forEach(function(e){var t,n,r=e.source,i=e.target,o=(null===(t=C[r])||void 0===t?void 0:t.collapsed)?[r]:O[r]||[r],a=(null===(n=C[i])||void 0===n?void 0:n.collapsed)?[i]:O[i]||[i];o.forEach(function(t){a.forEach(function(n){x.setEdge(t,n,{weight:e.weight||1})})})});var _=void 0;(null===(t=i.preset)||void 0===t?void 0:t.nodes)&&(_=new tt({multigraph:!0,compound:!0}),i.preset.nodes.forEach(function(e){null===_||void 0===_||_.setNode(e.id,e)})),dr.layout(x,{prevGraph:_,edgeLabelSpace:i.edgeLabelSpace,keepNodeOrder:Boolean(!!i.nodeOrder),nodeOrder:i.nodeOrder});var P=[0,0];if(c){var M=1/0,N=1/0;x.nodes().forEach(function(e){var t=x.node(e);M>t.x&&(M=t.x),N>t.y&&(N=t.y)}),x.edges().forEach(function(e){var t;null===(t=x.edge(e).points)||void 0===t||t.forEach(function(e){M>e.x&&(M=e.x),N>e.y&&(N=e.y)})}),P[0]=c[0]-M,P[1]=c[1]-N}var R="LR"===u||"RL"===u;if(f){var L=this.focusNode,I=this.ranksep,D=this.getRadialPos,B=l(L)?L:null===L||void 0===L?void 0:L.id,F=B?null===(n=x.node(B))||void 0===n?void 0:n._rank:0,z=[],V=R?"y":"x",U=R?"height":"width",G=1/0,H=-1/0;x.nodes().forEach(function(e){var t=x.node(e),n=o.findIndex(function(t){return t.id===e});if(o[n]){var r=A(o[n]);if(0===F)z[t._rank]||(z[t._rank]={nodes:[],totalWidth:0,maxSize:-1/0}),z[t._rank].nodes.push(e),z[t._rank].totalWidth+=2*r+t[U],z[t._rank].maxSize<Math.max(t.width,t.height)&&(z[t._rank].maxSize=Math.max(t.width,t.height));else{var i=t._rank-F;if(0===i)z[i]||(z[i]={nodes:[],totalWidth:0,maxSize:-1/0}),z[i].nodes.push(e),z[i].totalWidth+=2*r+t[U],z[i].maxSize<Math.max(t.width,t.height)&&(z[i].maxSize=Math.max(t.width,t.height));else{var a=Math.abs(i);z[a]||(z[a]={left:[],right:[],totalWidth:0,maxSize:-1/0}),z[a].totalWidth+=2*r+t[U],z[a].maxSize<Math.max(t.width,t.height)&&(z[a].maxSize=Math.max(t.width,t.height)),i<0?z[a].left.push(e):z[a].right.push(e)}}var u=t[V]-t[U]/2-r,s=t[V]+t[U]/2+r;u<G&&(G=u),s>H&&(H=s)}});var W=I||50,q={},X=(H-G)/.9,Y=[.5*(G+H-X),.5*(G+H+X)],$=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-1/0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[0,1],i=n;return e.forEach(function(e){var n=x.node(e);q[e]=t;var a=D(n[V],Y,X,t,r),u=a.x,s=a.y,c=o.findIndex(function(t){return t.id===e});if(o[c]){o[c].x=u+P[0],o[c].y=s+P[1],o[c]._order=n._order;var l=S(o[c]);i<l&&(i=l)}}),i},J=!0;z.forEach(function(e){var t,n,r,i,a,u,s;if((null===(t=null===e||void 0===e?void 0:e.nodes)||void 0===t?void 0:t.length)||(null===(n=null===e||void 0===e?void 0:e.left)||void 0===n?void 0:n.length)||(null===(r=null===e||void 0===e?void 0:e.right)||void 0===r?void 0:r.length)){if(J&&1===e.nodes.length){var c=o.findIndex(function(t){return t.id===e.nodes[0]});if(c<=-1)return;return o[c].x=P[0],o[c].y=P[1],q[e.nodes[0]]=0,W=S(o[c]),void(J=!1)}W=Math.max(W,e.totalWidth/(2*Math.PI));var l=-1/0;if(0===F||(null===(i=e.nodes)||void 0===i?void 0:i.length))l=$(e.nodes,W,l,[0,1]);else{var f=(null===(a=e.left)||void 0===a?void 0:a.length)/((null===(u=e.left)||void 0===u?void 0:u.length)+(null===(s=e.right)||void 0===s?void 0:s.length));l=$(e.left,W,l,[0,f]),l=$(e.right,W,l,[f+.05,1])}W+=l,J=!1,e.maxSize}}),x.edges().forEach(function(e){var t,n,r,o=x.edge(e),a=E.findIndex(function(t){var n=g(t,"source"),r=g(t,"target");return n===e.v&&r===e.w});if(!(a<=-1)&&i.edgeLabelSpace&&i.controlPoints&&"loop"!==E[a].type){var u="x"===V?"y":"x",s=null===(t=null===o||void 0===o?void 0:o.points)||void 0===t?void 0:t.slice(1,o.points.length-1),c=[],l=null===(n=x.node(e.v))||void 0===n?void 0:n[u],f=l-(null===(r=x.node(e.w))||void 0===r?void 0:r[u]),h=q[e.v],d=h-q[e.w];null===s||void 0===s||s.forEach(function(e){var t=(e[u]-l)/f*d+h,n=D(e[V],Y,X,t);c.push({x:n.x+P[0],y:n.y+P[1]})}),E[a].controlPoints=c}})}else{var Q=new Set,K="BT"===u||"RL"===u?function(e,t){return t-e}:function(e,t){return e-t};x.nodes().forEach(function(e){var t=x.node(e);if(t){var n=r.nodeMap[e];n||(n=null===s||void 0===s?void 0:s.find(function(t){return t.id===e})),n&&(n.x=t.x+P[0],n.y=t.y+P[1],n._order=t._order,Q.add(R?n.x:n.y))}});var Z=Array.from(Q).sort(K),ee=R?function(e,t){return e.x!==t.x}:function(e,t){return e.y!==t.y},te=R?function(e,t,n){var r=Math.max(t.y,n.y),i=Math.min(t.y,n.y);return e.filter(function(e){return e.y<=r&&e.y>=i})}:function(e,t,n){var r=Math.max(t.x,n.x),i=Math.min(t.x,n.x);return e.filter(function(e){return e.x<=r&&e.x>=i})};x.edges().forEach(function(e){var t=x.edge(e),n=E.findIndex(function(t){var n=g(t,"source"),r=g(t,"target");return n===e.v&&r===e.w});if(!(n<=-1)&&i.edgeLabelSpace&&i.controlPoints&&"loop"!==E[n].type){var r=i.nodeMap[e.v],o=i.nodeMap[e.w];E[n].controlPoints=vr(null===t||void 0===t?void 0:t.points,r,o,Z,R,ee,te),E[n].controlPoints.forEach(function(e){e.x+=P[0],e.y+=P[1]})}})}return i.onLayoutEnd&&i.onLayoutEnd(),{nodes:o,edges:E}}}},{key:"getRadialPos",value:function(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[0,1],o=(e-t[0])/n,a=2*(o=o*(i[1]-i[0])+i[0])*Math.PI;return{x:Math.cos(a)*r,y:Math.sin(a)*r}}},{key:"getType",value:function(){return"dagre"}}]),n}(c),vr=function(e,t,n,r,i,o,a){var u=(null===e||void 0===e?void 0:e.slice(1,e.length-1))||[];if(t&&n){var s=t.x,c=t.y,l=n.x,f=n.y;if(i&&(s=t.y,c=t.x,l=n.y,f=n.x),f!==c&&s!==l){var h=r.indexOf(c),d=r[h+1];if(d){var p=u[0],v=i?{x:(c+d)/2,y:(null===p||void 0===p?void 0:p.y)||l}:{x:(null===p||void 0===p?void 0:p.x)||l,y:(c+d)/2};p&&!o(p,v)||u.unshift(v)}var g=r.indexOf(f),y=Math.abs(g-h);if(1===y)(u=a(u,t,n)).length||u.push(i?{x:(c+f)/2,y:s}:{x:s,y:(c+f)/2});else if(y>1){var m=r[g-1];if(m){var b=u[u.length-1],w=i?{x:(f+m)/2,y:(null===b||void 0===b?void 0:b.y)||l}:{x:(null===b||void 0===b?void 0:b.x)||s,y:(f+m)/2};b&&!o(b,w)||u.push(w)}}}}return u},gr=(n(52),n(102)),yr=Object.prototype.toString;function mr(e){return yr.call(e).endsWith("Array]")}function br(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!mr(e))throw new TypeError("input must be an array");if(0===e.length)throw new TypeError("input must not be empty");if(void 0!==n.output){if(!mr(n.output))throw new TypeError("output option must be an array if specified");t=n.output}else t=new Array(e.length);var r=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!mr(e))throw new TypeError("input must be an array");if(0===e.length)throw new TypeError("input must not be empty");var n=t.fromIndex,r=void 0===n?0:n,i=t.toIndex,o=void 0===i?e.length:i;if(r<0||r>=e.length||!Number.isInteger(r))throw new Error("fromIndex must be a positive integer smaller than length");if(o<=r||o>e.length||!Number.isInteger(o))throw new Error("toIndex must be an integer greater than fromIndex and at most equal to length");for(var a=e[r],u=r+1;u<o;u++)e[u]<a&&(a=e[u]);return a}(e),i=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!mr(e))throw new TypeError("input must be an array");if(0===e.length)throw new TypeError("input must not be empty");var n=t.fromIndex,r=void 0===n?0:n,i=t.toIndex,o=void 0===i?e.length:i;if(r<0||r>=e.length||!Number.isInteger(r))throw new Error("fromIndex must be a positive integer smaller than length");if(o<=r||o>e.length||!Number.isInteger(o))throw new Error("toIndex must be an integer greater than fromIndex and at most equal to length");for(var a=e[r],u=r+1;u<o;u++)e[u]>a&&(a=e[u]);return a}(e);if(r===i)throw new RangeError("minimum and maximum input values are equal. Cannot rescale a constant array");var o=n.min,a=void 0===o?n.autoMinMax?r:0:o,u=n.max,s=void 0===u?n.autoMinMax?i:1:u;if(a>=s)throw new RangeError("min option must be smaller than max option");for(var c=(s-a)/(i-r),l=0;l<e.length;l++)t[l]=(e[l]-r)*c+a;return t}var wr=" ".repeat(2),Er=" ".repeat(4);function xr(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.maxRows,r=void 0===n?15:n,i=t.maxColumns,o=void 0===i?10:i,a=t.maxNumSize,u=void 0===a?8:a,s=t.padMinus,c=void 0===s?"auto":s;return"".concat(e.constructor.name," {\n").concat(wr,"[\n").concat(Er).concat(function(e,t,n,r,i){var o=e.rows,a=e.columns,u=Math.min(o,t),s=Math.min(a,n),c=[];if("auto"===i){i=!1;e:for(var l=0;l<u;l++)for(var f=0;f<s;f++)if(e.get(l,f)<0){i=!0;break e}}for(var h=0;h<u;h++){for(var d=[],p=0;p<s;p++)d.push(kr(e.get(h,p),r,i));c.push("".concat(d.join(" ")))}s!==a&&(c[c.length-1]+=" ... ".concat(a-n," more columns"));u!==o&&c.push("... ".concat(o-t," more rows"));return c.join("\n".concat(Er))}(e,r,o,u,c),"\n").concat(wr,"]\n").concat(wr,"rows: ").concat(e.rows,"\n").concat(wr,"columns: ").concat(e.columns,"\n}")}function kr(e,t,n){return(e>=0&&n?" ".concat(Or(e,t-1)):Or(e,t)).padEnd(t)}function Or(e,t){var n=e.toString();if(n.length<=t)return n;var r=e.toFixed(t);if(r.length>t&&(r=e.toFixed(Math.max(0,t-(r.length-t)))),r.length<=t&&!r.startsWith("0.000")&&!r.startsWith("-0.000"))return r;var i=e.toExponential(t);return i.length>t&&(i=e.toExponential(Math.max(0,t-(i.length-t)))),i.slice(0)}function Sr(e,t,n){var r=n?e.rows:e.rows-1;if(t<0||t>r)throw new RangeError("Row index out of range")}function Ar(e,t,n){var r=n?e.columns:e.columns-1;if(t<0||t>r)throw new RangeError("Column index out of range")}function Tr(e,t){if(t.to1DArray&&(t=t.to1DArray()),t.length!==e.columns)throw new RangeError("vector size must be the same as the number of columns");return t}function jr(e,t){if(t.to1DArray&&(t=t.to1DArray()),t.length!==e.rows)throw new RangeError("vector size must be the same as the number of rows");return t}function Cr(e,t,n,r,i){if(5!==arguments.length)throw new RangeError("expected 4 arguments");if(Pr("startRow",t),Pr("endRow",n),Pr("startColumn",r),Pr("endColumn",i),t>n||r>i||t<0||t>=e.rows||n<0||n>=e.rows||r<0||r>=e.columns||i<0||i>=e.columns)throw new RangeError("Submatrix indices are out of range")}function _r(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=[],r=0;r<e;r++)n.push(t);return n}function Pr(e,t){if("number"!==typeof t)throw new TypeError("".concat(e," must be a number"))}function Mr(e){if(e.isEmpty())throw new Error("Empty matrix has no elements to index")}var Nr=function(){function e(){Object(o.a)(this,e)}return Object(i.a)(e,[{key:"size",get:function(){return this.rows*this.columns}},{key:"apply",value:function(e){if("function"!==typeof e)throw new TypeError("callback must be a function");for(var t=0;t<this.rows;t++)for(var n=0;n<this.columns;n++)e.call(this,t,n);return this}},{key:"to1DArray",value:function(){for(var e=[],t=0;t<this.rows;t++)for(var n=0;n<this.columns;n++)e.push(this.get(t,n));return e}},{key:"to2DArray",value:function(){for(var e=[],t=0;t<this.rows;t++){e.push([]);for(var n=0;n<this.columns;n++)e[t].push(this.get(t,n))}return e}},{key:"toJSON",value:function(){return this.to2DArray()}},{key:"isRowVector",value:function(){return 1===this.rows}},{key:"isColumnVector",value:function(){return 1===this.columns}},{key:"isVector",value:function(){return 1===this.rows||1===this.columns}},{key:"isSquare",value:function(){return this.rows===this.columns}},{key:"isEmpty",value:function(){return 0===this.rows||0===this.columns}},{key:"isSymmetric",value:function(){if(this.isSquare()){for(var e=0;e<this.rows;e++)for(var t=0;t<=e;t++)if(this.get(e,t)!==this.get(t,e))return!1;return!0}return!1}},{key:"isEchelonForm",value:function(){for(var e=0,t=0,n=-1,r=!0,i=!1;e<this.rows&&r;){for(t=0,i=!1;t<this.columns&&!1===i;)0===this.get(e,t)?t++:1===this.get(e,t)&&t>n?(i=!0,n=t):(r=!1,i=!0);e++}return r}},{key:"isReducedEchelonForm",value:function(){for(var e=0,t=0,n=-1,r=!0,i=!1;e<this.rows&&r;){for(t=0,i=!1;t<this.columns&&!1===i;)0===this.get(e,t)?t++:1===this.get(e,t)&&t>n?(i=!0,n=t):(r=!1,i=!0);for(var o=t+1;o<this.rows;o++)0!==this.get(e,o)&&(r=!1);e++}return r}},{key:"echelonForm",value:function(){for(var e=this.clone(),t=0,n=0;t<e.rows&&n<e.columns;){for(var r=t,i=t;i<e.rows;i++)e.get(i,n)>e.get(r,n)&&(r=i);if(0===e.get(r,n))n++;else{e.swapRows(t,r);for(var o=e.get(t,n),a=n;a<e.columns;a++)e.set(t,a,e.get(t,a)/o);for(var u=t+1;u<e.rows;u++){var s=e.get(u,n)/e.get(t,n);e.set(u,n,0);for(var c=n+1;c<e.columns;c++)e.set(u,c,e.get(u,c)-e.get(t,c)*s)}t++,n++}}return e}},{key:"reducedEchelonForm",value:function(){for(var e=this.echelonForm(),t=e.columns,n=e.rows,r=n-1;r>=0;)if(0===e.maxRow(r))r--;else{for(var i=0,o=!1;i<n&&!1===o;)1===e.get(r,i)?o=!0:i++;for(var a=0;a<r;a++)for(var u=e.get(a,i),s=i;s<t;s++){var c=e.get(a,s)-u*e.get(r,s);e.set(a,s,c)}r--}return e}},{key:"set",value:function(){throw new Error("set method is unimplemented")}},{key:"get",value:function(){throw new Error("get method is unimplemented")}},{key:"repeat",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if("object"!==typeof e)throw new TypeError("options must be an object");var t=e.rows,n=void 0===t?1:t,r=e.columns,i=void 0===r?1:r;if(!Number.isInteger(n)||n<=0)throw new TypeError("rows must be a positive integer");if(!Number.isInteger(i)||i<=0)throw new TypeError("columns must be a positive integer");for(var o=new Dr(this.rows*n,this.columns*i),a=0;a<n;a++)for(var u=0;u<i;u++)o.setSubMatrix(this,this.rows*a,this.columns*u);return o}},{key:"fill",value:function(e){for(var t=0;t<this.rows;t++)for(var n=0;n<this.columns;n++)this.set(t,n,e);return this}},{key:"neg",value:function(){return this.mulS(-1)}},{key:"getRow",value:function(e){Sr(this,e);for(var t=[],n=0;n<this.columns;n++)t.push(this.get(e,n));return t}},{key:"getRowVector",value:function(e){return Dr.rowVector(this.getRow(e))}},{key:"setRow",value:function(e,t){Sr(this,e),t=Tr(this,t);for(var n=0;n<this.columns;n++)this.set(e,n,t[n]);return this}},{key:"swapRows",value:function(e,t){Sr(this,e),Sr(this,t);for(var n=0;n<this.columns;n++){var r=this.get(e,n);this.set(e,n,this.get(t,n)),this.set(t,n,r)}return this}},{key:"getColumn",value:function(e){Ar(this,e);for(var t=[],n=0;n<this.rows;n++)t.push(this.get(n,e));return t}},{key:"getColumnVector",value:function(e){return Dr.columnVector(this.getColumn(e))}},{key:"setColumn",value:function(e,t){Ar(this,e),t=jr(this,t);for(var n=0;n<this.rows;n++)this.set(n,e,t[n]);return this}},{key:"swapColumns",value:function(e,t){Ar(this,e),Ar(this,t);for(var n=0;n<this.rows;n++){var r=this.get(n,e);this.set(n,e,this.get(n,t)),this.set(n,t,r)}return this}},{key:"addRowVector",value:function(e){e=Tr(this,e);for(var t=0;t<this.rows;t++)for(var n=0;n<this.columns;n++)this.set(t,n,this.get(t,n)+e[n]);return this}},{key:"subRowVector",value:function(e){e=Tr(this,e);for(var t=0;t<this.rows;t++)for(var n=0;n<this.columns;n++)this.set(t,n,this.get(t,n)-e[n]);return this}},{key:"mulRowVector",value:function(e){e=Tr(this,e);for(var t=0;t<this.rows;t++)for(var n=0;n<this.columns;n++)this.set(t,n,this.get(t,n)*e[n]);return this}},{key:"divRowVector",value:function(e){e=Tr(this,e);for(var t=0;t<this.rows;t++)for(var n=0;n<this.columns;n++)this.set(t,n,this.get(t,n)/e[n]);return this}},{key:"addColumnVector",value:function(e){e=jr(this,e);for(var t=0;t<this.rows;t++)for(var n=0;n<this.columns;n++)this.set(t,n,this.get(t,n)+e[t]);return this}},{key:"subColumnVector",value:function(e){e=jr(this,e);for(var t=0;t<this.rows;t++)for(var n=0;n<this.columns;n++)this.set(t,n,this.get(t,n)-e[t]);return this}},{key:"mulColumnVector",value:function(e){e=jr(this,e);for(var t=0;t<this.rows;t++)for(var n=0;n<this.columns;n++)this.set(t,n,this.get(t,n)*e[t]);return this}},{key:"divColumnVector",value:function(e){e=jr(this,e);for(var t=0;t<this.rows;t++)for(var n=0;n<this.columns;n++)this.set(t,n,this.get(t,n)/e[t]);return this}},{key:"mulRow",value:function(e,t){Sr(this,e);for(var n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)*t);return this}},{key:"mulColumn",value:function(e,t){Ar(this,e);for(var n=0;n<this.rows;n++)this.set(n,e,this.get(n,e)*t);return this}},{key:"max",value:function(e){if(this.isEmpty())return NaN;switch(e){case"row":for(var t=new Array(this.rows).fill(Number.NEGATIVE_INFINITY),n=0;n<this.rows;n++)for(var r=0;r<this.columns;r++)this.get(n,r)>t[n]&&(t[n]=this.get(n,r));return t;case"column":for(var i=new Array(this.columns).fill(Number.NEGATIVE_INFINITY),o=0;o<this.rows;o++)for(var a=0;a<this.columns;a++)this.get(o,a)>i[a]&&(i[a]=this.get(o,a));return i;case void 0:for(var u=this.get(0,0),s=0;s<this.rows;s++)for(var c=0;c<this.columns;c++)this.get(s,c)>u&&(u=this.get(s,c));return u;default:throw new Error("invalid option: ".concat(e))}}},{key:"maxIndex",value:function(){Mr(this);for(var e=this.get(0,0),t=[0,0],n=0;n<this.rows;n++)for(var r=0;r<this.columns;r++)this.get(n,r)>e&&(e=this.get(n,r),t[0]=n,t[1]=r);return t}},{key:"min",value:function(e){if(this.isEmpty())return NaN;switch(e){case"row":for(var t=new Array(this.rows).fill(Number.POSITIVE_INFINITY),n=0;n<this.rows;n++)for(var r=0;r<this.columns;r++)this.get(n,r)<t[n]&&(t[n]=this.get(n,r));return t;case"column":for(var i=new Array(this.columns).fill(Number.POSITIVE_INFINITY),o=0;o<this.rows;o++)for(var a=0;a<this.columns;a++)this.get(o,a)<i[a]&&(i[a]=this.get(o,a));return i;case void 0:for(var u=this.get(0,0),s=0;s<this.rows;s++)for(var c=0;c<this.columns;c++)this.get(s,c)<u&&(u=this.get(s,c));return u;default:throw new Error("invalid option: ".concat(e))}}},{key:"minIndex",value:function(){Mr(this);for(var e=this.get(0,0),t=[0,0],n=0;n<this.rows;n++)for(var r=0;r<this.columns;r++)this.get(n,r)<e&&(e=this.get(n,r),t[0]=n,t[1]=r);return t}},{key:"maxRow",value:function(e){if(Sr(this,e),this.isEmpty())return NaN;for(var t=this.get(e,0),n=1;n<this.columns;n++)this.get(e,n)>t&&(t=this.get(e,n));return t}},{key:"maxRowIndex",value:function(e){Sr(this,e),Mr(this);for(var t=this.get(e,0),n=[e,0],r=1;r<this.columns;r++)this.get(e,r)>t&&(t=this.get(e,r),n[1]=r);return n}},{key:"minRow",value:function(e){if(Sr(this,e),this.isEmpty())return NaN;for(var t=this.get(e,0),n=1;n<this.columns;n++)this.get(e,n)<t&&(t=this.get(e,n));return t}},{key:"minRowIndex",value:function(e){Sr(this,e),Mr(this);for(var t=this.get(e,0),n=[e,0],r=1;r<this.columns;r++)this.get(e,r)<t&&(t=this.get(e,r),n[1]=r);return n}},{key:"maxColumn",value:function(e){if(Ar(this,e),this.isEmpty())return NaN;for(var t=this.get(0,e),n=1;n<this.rows;n++)this.get(n,e)>t&&(t=this.get(n,e));return t}},{key:"maxColumnIndex",value:function(e){Ar(this,e),Mr(this);for(var t=this.get(0,e),n=[0,e],r=1;r<this.rows;r++)this.get(r,e)>t&&(t=this.get(r,e),n[0]=r);return n}},{key:"minColumn",value:function(e){if(Ar(this,e),this.isEmpty())return NaN;for(var t=this.get(0,e),n=1;n<this.rows;n++)this.get(n,e)<t&&(t=this.get(n,e));return t}},{key:"minColumnIndex",value:function(e){Ar(this,e),Mr(this);for(var t=this.get(0,e),n=[0,e],r=1;r<this.rows;r++)this.get(r,e)<t&&(t=this.get(r,e),n[0]=r);return n}},{key:"diag",value:function(){for(var e=Math.min(this.rows,this.columns),t=[],n=0;n<e;n++)t.push(this.get(n,n));return t}},{key:"norm",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"frobenius",t=0;if("max"===e)return this.max();if("frobenius"===e){for(var n=0;n<this.rows;n++)for(var r=0;r<this.columns;r++)t+=this.get(n,r)*this.get(n,r);return Math.sqrt(t)}throw new RangeError("unknown norm type: ".concat(e))}},{key:"cumulativeSum",value:function(){for(var e=0,t=0;t<this.rows;t++)for(var n=0;n<this.columns;n++)e+=this.get(t,n),this.set(t,n,e);return this}},{key:"dot",value:function(t){e.isMatrix(t)&&(t=t.to1DArray());var n=this.to1DArray();if(n.length!==t.length)throw new RangeError("vectors do not have the same size");for(var r=0,i=0;i<n.length;i++)r+=n[i]*t[i];return r}},{key:"mmul",value:function(e){e=Dr.checkMatrix(e);for(var t=this.rows,n=this.columns,r=e.columns,i=new Dr(t,r),o=new Float64Array(n),a=0;a<r;a++){for(var u=0;u<n;u++)o[u]=e.get(u,a);for(var s=0;s<t;s++){for(var c=0,l=0;l<n;l++)c+=this.get(s,l)*o[l];i.set(s,a,c)}}return i}},{key:"strassen2x2",value:function(e){e=Dr.checkMatrix(e);var t=new Dr(2,2),n=this.get(0,0),r=e.get(0,0),i=this.get(0,1),o=e.get(0,1),a=this.get(1,0),u=e.get(1,0),s=this.get(1,1),c=e.get(1,1),l=(n+s)*(r+c),f=(a+s)*r,h=n*(o-c),d=s*(u-r),p=(n+i)*c,v=l+d-p+(i-s)*(u+c),g=h+p,y=f+d,m=l-f+h+(a-n)*(r+o);return t.set(0,0,v),t.set(0,1,g),t.set(1,0,y),t.set(1,1,m),t}},{key:"strassen3x3",value:function(e){e=Dr.checkMatrix(e);var t=new Dr(3,3),n=this.get(0,0),r=this.get(0,1),i=this.get(0,2),o=this.get(1,0),a=this.get(1,1),u=this.get(1,2),s=this.get(2,0),c=this.get(2,1),l=this.get(2,2),f=e.get(0,0),h=e.get(0,1),d=e.get(0,2),p=e.get(1,0),v=e.get(1,1),g=e.get(1,2),y=e.get(2,0),m=e.get(2,1),b=e.get(2,2),w=(n-o)*(-h+v),E=(-n+o+a)*(f-h+v),x=(o+a)*(-f+h),k=n*f,O=(-n+s+c)*(f-d+g),S=(-n+s)*(d-g),A=(s+c)*(-f+d),T=(-i+c+l)*(v+y-m),j=(i-l)*(v-m),C=i*y,_=(c+l)*(-y+m),P=(-i+a+u)*(g+y-b),M=(i-u)*(g-b),N=(a+u)*(-y+b),R=k+C+r*p,L=(n+r+i-o-a-c-l)*v+E+x+k+T+C+_,I=k+O+A+(n+r+i-a-u-s-c)*g+C+P+N,D=w+a*(-f+h+p-v-g-y+b)+E+k+C+P+M,B=w+E+x+k+u*m,F=C+P+M+N+o*d,z=k+O+S+c*(-f+d+p-v-g-y+m)+T+j+C,V=T+j+C+_+s*h,U=k+O+S+A+l*b;return t.set(0,0,R),t.set(0,1,L),t.set(0,2,I),t.set(1,0,D),t.set(1,1,B),t.set(1,2,F),t.set(2,0,z),t.set(2,1,V),t.set(2,2,U),t}},{key:"mmulStrassen",value:function(t){t=Dr.checkMatrix(t);var n=this.clone(),r=n.rows,i=n.columns,o=t.rows,a=t.columns;function u(t,n,r){var i=t.rows,o=t.columns;if(i===n&&o===r)return t;var a=e.zeros(n,r);return a=a.setSubMatrix(t,0,0)}i!==o&&console.warn("Multiplying ".concat(r," x ").concat(i," and ").concat(o," x ").concat(a," matrix: dimensions do not match."));var s=Math.max(r,o),c=Math.max(i,a);return function t(n,r,i,o){if(i<=512||o<=512)return n.mmul(r);i%2===1&&o%2===1?(n=u(n,i+1,o+1),r=u(r,i+1,o+1)):i%2===1?(n=u(n,i+1,o),r=u(r,i+1,o)):o%2===1&&(n=u(n,i,o+1),r=u(r,i,o+1));var a=parseInt(n.rows/2,10),s=parseInt(n.columns/2,10),c=n.subMatrix(0,a-1,0,s-1),l=r.subMatrix(0,a-1,0,s-1),f=n.subMatrix(0,a-1,s,n.columns-1),h=r.subMatrix(0,a-1,s,r.columns-1),d=n.subMatrix(a,n.rows-1,0,s-1),p=r.subMatrix(a,r.rows-1,0,s-1),v=n.subMatrix(a,n.rows-1,s,n.columns-1),g=r.subMatrix(a,r.rows-1,s,r.columns-1),y=t(e.add(c,v),e.add(l,g),a,s),m=t(e.add(d,v),l,a,s),b=t(c,e.sub(h,g),a,s),w=t(v,e.sub(p,l),a,s),E=t(e.add(c,f),g,a,s),x=t(e.sub(d,c),e.add(l,h),a,s),k=t(e.sub(f,v),e.add(p,g),a,s),O=e.add(y,w);O.sub(E),O.add(k);var S=e.add(b,E),A=e.add(m,w),T=e.sub(y,m);T.add(b),T.add(x);var j=e.zeros(2*O.rows,2*O.columns);return(j=(j=(j=(j=j.setSubMatrix(O,0,0)).setSubMatrix(S,O.rows,0)).setSubMatrix(A,0,O.columns)).setSubMatrix(T,O.rows,O.columns)).subMatrix(0,i-1,0,o-1)}(n=u(n,s,c),t=u(t,s,c),s,c)}},{key:"scaleRows",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if("object"!==typeof e)throw new TypeError("options must be an object");var t=e.min,n=void 0===t?0:t,r=e.max,i=void 0===r?1:r;if(!Number.isFinite(n))throw new TypeError("min must be a number");if(!Number.isFinite(i))throw new TypeError("max must be a number");if(n>=i)throw new RangeError("min must be smaller than max");for(var o=new Dr(this.rows,this.columns),a=0;a<this.rows;a++){var u=this.getRow(a);u.length>0&&br(u,{min:n,max:i,output:u}),o.setRow(a,u)}return o}},{key:"scaleColumns",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if("object"!==typeof e)throw new TypeError("options must be an object");var t=e.min,n=void 0===t?0:t,r=e.max,i=void 0===r?1:r;if(!Number.isFinite(n))throw new TypeError("min must be a number");if(!Number.isFinite(i))throw new TypeError("max must be a number");if(n>=i)throw new RangeError("min must be smaller than max");for(var o=new Dr(this.rows,this.columns),a=0;a<this.columns;a++){var u=this.getColumn(a);u.length&&br(u,{min:n,max:i,output:u}),o.setColumn(a,u)}return o}},{key:"flipRows",value:function(){for(var e=Math.ceil(this.columns/2),t=0;t<this.rows;t++)for(var n=0;n<e;n++){var r=this.get(t,n),i=this.get(t,this.columns-1-n);this.set(t,n,i),this.set(t,this.columns-1-n,r)}return this}},{key:"flipColumns",value:function(){for(var e=Math.ceil(this.rows/2),t=0;t<this.columns;t++)for(var n=0;n<e;n++){var r=this.get(n,t),i=this.get(this.rows-1-n,t);this.set(n,t,i),this.set(this.rows-1-n,t,r)}return this}},{key:"kroneckerProduct",value:function(e){e=Dr.checkMatrix(e);for(var t=this.rows,n=this.columns,r=e.rows,i=e.columns,o=new Dr(t*r,n*i),a=0;a<t;a++)for(var u=0;u<n;u++)for(var s=0;s<r;s++)for(var c=0;c<i;c++)o.set(r*a+s,i*u+c,this.get(a,u)*e.get(s,c));return o}},{key:"kroneckerSum",value:function(e){if(e=Dr.checkMatrix(e),!this.isSquare()||!e.isSquare())throw new Error("Kronecker Sum needs two Square Matrices");var t=this.rows,n=e.rows,r=this.kroneckerProduct(Dr.eye(n,n)),i=Dr.eye(t,t).kroneckerProduct(e);return r.add(i)}},{key:"transpose",value:function(){for(var e=new Dr(this.columns,this.rows),t=0;t<this.rows;t++)for(var n=0;n<this.columns;n++)e.set(n,t,this.get(t,n));return e}},{key:"sortRows",value:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Rr,t=0;t<this.rows;t++)this.setRow(t,this.getRow(t).sort(e));return this}},{key:"sortColumns",value:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Rr,t=0;t<this.columns;t++)this.setColumn(t,this.getColumn(t).sort(e));return this}},{key:"subMatrix",value:function(e,t,n,r){Cr(this,e,t,n,r);for(var i=new Dr(t-e+1,r-n+1),o=e;o<=t;o++)for(var a=n;a<=r;a++)i.set(o-e,a-n,this.get(o,a));return i}},{key:"subMatrixRow",value:function(e,t,n){if(void 0===t&&(t=0),void 0===n&&(n=this.columns-1),t>n||t<0||t>=this.columns||n<0||n>=this.columns)throw new RangeError("Argument out of range");for(var r=new Dr(e.length,n-t+1),i=0;i<e.length;i++)for(var o=t;o<=n;o++){if(e[i]<0||e[i]>=this.rows)throw new RangeError("Row index out of range: ".concat(e[i]));r.set(i,o-t,this.get(e[i],o))}return r}},{key:"subMatrixColumn",value:function(e,t,n){if(void 0===t&&(t=0),void 0===n&&(n=this.rows-1),t>n||t<0||t>=this.rows||n<0||n>=this.rows)throw new RangeError("Argument out of range");for(var r=new Dr(n-t+1,e.length),i=0;i<e.length;i++)for(var o=t;o<=n;o++){if(e[i]<0||e[i]>=this.columns)throw new RangeError("Column index out of range: ".concat(e[i]));r.set(o-t,i,this.get(o,e[i]))}return r}},{key:"setSubMatrix",value:function(e,t,n){if((e=Dr.checkMatrix(e)).isEmpty())return this;Cr(this,t,t+e.rows-1,n,n+e.columns-1);for(var r=0;r<e.rows;r++)for(var i=0;i<e.columns;i++)this.set(t+r,n+i,e.get(r,i));return this}},{key:"selection",value:function(e,t){!function(e,t){if(!mr(t))throw new TypeError("row indices must be an array");for(var n=0;n<t.length;n++)if(t[n]<0||t[n]>=e.rows)throw new RangeError("row indices are out of range")}(this,e),function(e,t){if(!mr(t))throw new TypeError("column indices must be an array");for(var n=0;n<t.length;n++)if(t[n]<0||t[n]>=e.columns)throw new RangeError("column indices are out of range")}(this,t);for(var n=new Dr(e.length,t.length),r=0;r<e.length;r++)for(var i=e[r],o=0;o<t.length;o++){var a=t[o];n.set(r,o,this.get(i,a))}return n}},{key:"trace",value:function(){for(var e=Math.min(this.rows,this.columns),t=0,n=0;n<e;n++)t+=this.get(n,n);return t}},{key:"clone",value:function(){for(var e=new Dr(this.rows,this.columns),t=0;t<this.rows;t++)for(var n=0;n<this.columns;n++)e.set(t,n,this.get(t,n));return e}},{key:"sum",value:function(e){switch(e){case"row":return function(e){for(var t=_r(e.rows),n=0;n<e.rows;++n)for(var r=0;r<e.columns;++r)t[n]+=e.get(n,r);return t}(this);case"column":return function(e){for(var t=_r(e.columns),n=0;n<e.rows;++n)for(var r=0;r<e.columns;++r)t[r]+=e.get(n,r);return t}(this);case void 0:return function(e){for(var t=0,n=0;n<e.rows;n++)for(var r=0;r<e.columns;r++)t+=e.get(n,r);return t}(this);default:throw new Error("invalid option: ".concat(e))}}},{key:"product",value:function(e){switch(e){case"row":return function(e){for(var t=_r(e.rows,1),n=0;n<e.rows;++n)for(var r=0;r<e.columns;++r)t[n]*=e.get(n,r);return t}(this);case"column":return function(e){for(var t=_r(e.columns,1),n=0;n<e.rows;++n)for(var r=0;r<e.columns;++r)t[r]*=e.get(n,r);return t}(this);case void 0:return function(e){for(var t=1,n=0;n<e.rows;n++)for(var r=0;r<e.columns;r++)t*=e.get(n,r);return t}(this);default:throw new Error("invalid option: ".concat(e))}}},{key:"mean",value:function(e){var t=this.sum(e);switch(e){case"row":for(var n=0;n<this.rows;n++)t[n]/=this.columns;return t;case"column":for(var r=0;r<this.columns;r++)t[r]/=this.rows;return t;case void 0:return t/this.size;default:throw new Error("invalid option: ".concat(e))}}},{key:"variance",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("object"===typeof e&&(t=e,e=void 0),"object"!==typeof t)throw new TypeError("options must be an object");var n=t,r=n.unbiased,i=void 0===r||r,o=n.mean,a=void 0===o?this.mean(e):o;if("boolean"!==typeof i)throw new TypeError("unbiased must be a boolean");switch(e){case"row":if(!mr(a))throw new TypeError("mean must be an array");return function(e,t,n){for(var r=e.rows,i=e.columns,o=[],a=0;a<r;a++){for(var u=0,s=0,c=0,l=0;l<i;l++)u+=c=e.get(a,l)-n[a],s+=c*c;t?o.push((s-u*u/i)/(i-1)):o.push((s-u*u/i)/i)}return o}(this,i,a);case"column":if(!mr(a))throw new TypeError("mean must be an array");return function(e,t,n){for(var r=e.rows,i=e.columns,o=[],a=0;a<i;a++){for(var u=0,s=0,c=0,l=0;l<r;l++)u+=c=e.get(l,a)-n[a],s+=c*c;t?o.push((s-u*u/r)/(r-1)):o.push((s-u*u/r)/r)}return o}(this,i,a);case void 0:if("number"!==typeof a)throw new TypeError("mean must be a number");return function(e,t,n){for(var r=e.rows,i=e.columns,o=r*i,a=0,u=0,s=0,c=0;c<r;c++)for(var l=0;l<i;l++)a+=s=e.get(c,l)-n,u+=s*s;return t?(u-a*a/o)/(o-1):(u-a*a/o)/o}(this,i,a);default:throw new Error("invalid option: ".concat(e))}}},{key:"standardDeviation",value:function(e,t){"object"===typeof e&&(t=e,e=void 0);var n=this.variance(e,t);if(void 0===e)return Math.sqrt(n);for(var r=0;r<n.length;r++)n[r]=Math.sqrt(n[r]);return n}},{key:"center",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("object"===typeof e&&(t=e,e=void 0),"object"!==typeof t)throw new TypeError("options must be an object");var n=t.center,r=void 0===n?this.mean(e):n;switch(e){case"row":if(!mr(r))throw new TypeError("center must be an array");return function(e,t){for(var n=0;n<e.rows;n++)for(var r=0;r<e.columns;r++)e.set(n,r,e.get(n,r)-t[n])}(this,r),this;case"column":if(!mr(r))throw new TypeError("center must be an array");return function(e,t){for(var n=0;n<e.rows;n++)for(var r=0;r<e.columns;r++)e.set(n,r,e.get(n,r)-t[r])}(this,r),this;case void 0:if("number"!==typeof r)throw new TypeError("center must be a number");return function(e,t){for(var n=0;n<e.rows;n++)for(var r=0;r<e.columns;r++)e.set(n,r,e.get(n,r)-t)}(this,r),this;default:throw new Error("invalid option: ".concat(e))}}},{key:"scale",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("object"===typeof e&&(t=e,e=void 0),"object"!==typeof t)throw new TypeError("options must be an object");var n=t.scale;switch(e){case"row":if(void 0===n)n=function(e){for(var t=[],n=0;n<e.rows;n++){for(var r=0,i=0;i<e.columns;i++)r+=Math.pow(e.get(n,i),2)/(e.columns-1);t.push(Math.sqrt(r))}return t}(this);else if(!mr(n))throw new TypeError("scale must be an array");return function(e,t){for(var n=0;n<e.rows;n++)for(var r=0;r<e.columns;r++)e.set(n,r,e.get(n,r)/t[n])}(this,n),this;case"column":if(void 0===n)n=function(e){for(var t=[],n=0;n<e.columns;n++){for(var r=0,i=0;i<e.rows;i++)r+=Math.pow(e.get(i,n),2)/(e.rows-1);t.push(Math.sqrt(r))}return t}(this);else if(!mr(n))throw new TypeError("scale must be an array");return function(e,t){for(var n=0;n<e.rows;n++)for(var r=0;r<e.columns;r++)e.set(n,r,e.get(n,r)/t[r])}(this,n),this;case void 0:if(void 0===n)n=function(e){for(var t=e.size-1,n=0,r=0;r<e.columns;r++)for(var i=0;i<e.rows;i++)n+=Math.pow(e.get(i,r),2)/t;return Math.sqrt(n)}(this);else if("number"!==typeof n)throw new TypeError("scale must be a number");return function(e,t){for(var n=0;n<e.rows;n++)for(var r=0;r<e.columns;r++)e.set(n,r,e.get(n,r)/t)}(this,n),this;default:throw new Error("invalid option: ".concat(e))}}},{key:"toString",value:function(e){return xr(this,e)}}],[{key:"from1DArray",value:function(e,t,n){if(e*t!==n.length)throw new RangeError("data length does not match given dimensions");for(var r=new Dr(e,t),i=0;i<e;i++)for(var o=0;o<t;o++)r.set(i,o,n[i*t+o]);return r}},{key:"rowVector",value:function(e){for(var t=new Dr(1,e.length),n=0;n<e.length;n++)t.set(0,n,e[n]);return t}},{key:"columnVector",value:function(e){for(var t=new Dr(e.length,1),n=0;n<e.length;n++)t.set(n,0,e[n]);return t}},{key:"zeros",value:function(e,t){return new Dr(e,t)}},{key:"ones",value:function(e,t){return new Dr(e,t).fill(1)}},{key:"rand",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if("object"!==typeof n)throw new TypeError("options must be an object");for(var r=n.random,i=void 0===r?Math.random:r,o=new Dr(e,t),a=0;a<e;a++)for(var u=0;u<t;u++)o.set(a,u,i());return o}},{key:"randInt",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if("object"!==typeof n)throw new TypeError("options must be an object");var r=n.min,i=void 0===r?0:r,o=n.max,a=void 0===o?1e3:o,u=n.random,s=void 0===u?Math.random:u;if(!Number.isInteger(i))throw new TypeError("min must be an integer");if(!Number.isInteger(a))throw new TypeError("max must be an integer");if(i>=a)throw new RangeError("min must be smaller than max");for(var c=a-i,l=new Dr(e,t),f=0;f<e;f++)for(var h=0;h<t;h++){var d=i+Math.round(s()*c);l.set(f,h,d)}return l}},{key:"eye",value:function(e,t,n){void 0===t&&(t=e),void 0===n&&(n=1);for(var r=Math.min(e,t),i=this.zeros(e,t),o=0;o<r;o++)i.set(o,o,n);return i}},{key:"diag",value:function(e,t,n){var r=e.length;void 0===t&&(t=r),void 0===n&&(n=t);for(var i=Math.min(r,t,n),o=this.zeros(t,n),a=0;a<i;a++)o.set(a,a,e[a]);return o}},{key:"min",value:function(e,t){e=this.checkMatrix(e),t=this.checkMatrix(t);for(var n=e.rows,r=e.columns,i=new Dr(n,r),o=0;o<n;o++)for(var a=0;a<r;a++)i.set(o,a,Math.min(e.get(o,a),t.get(o,a)));return i}},{key:"max",value:function(e,t){e=this.checkMatrix(e),t=this.checkMatrix(t);for(var n=e.rows,r=e.columns,i=new this(n,r),o=0;o<n;o++)for(var a=0;a<r;a++)i.set(o,a,Math.max(e.get(o,a),t.get(o,a)));return i}},{key:"checkMatrix",value:function(t){return e.isMatrix(t)?t:new Dr(t)}},{key:"isMatrix",value:function(e){return null!=e&&"Matrix"===e.klass}}]),e}();function Rr(e,t){return e-t}Nr.prototype.klass="Matrix","undefined"!==typeof Symbol&&(Nr.prototype[Symbol.for("nodejs.util.inspect.custom")]=function(){return xr(this)}),Nr.random=Nr.rand,Nr.randomInt=Nr.randInt,Nr.diagonal=Nr.diag,Nr.prototype.diagonal=Nr.prototype.diag,Nr.identity=Nr.eye,Nr.prototype.negate=Nr.prototype.neg,Nr.prototype.tensorProduct=Nr.prototype.kroneckerProduct;var Lr,Ir,Dr=function(e){Object(u.a)(n,e);var t=Object(s.a)(n);function n(e,r){var i;if(Object(o.a)(this,n),i=t.call(this),n.isMatrix(e))return Object(gr.a)(i,e.clone());if(Number.isInteger(e)&&e>=0){if(i.data=[],!(Number.isInteger(r)&&r>=0))throw new TypeError("nColumns must be a positive integer");for(var a=0;a<e;a++)i.data.push(new Float64Array(r))}else{if(!mr(e))throw new TypeError("First argument must be a positive number or an array");var u=e;if("number"!==typeof(r=(e=u.length)?u[0].length:0))throw new TypeError("Data must be a 2D array with at least one element");i.data=[];for(var s=0;s<e;s++){if(u[s].length!==r)throw new RangeError("Inconsistent array dimensions");if(!u[s].every(function(e){return"number"===typeof e}))throw new TypeError("Input data contains non-numeric values");i.data.push(Float64Array.from(u[s]))}}return i.rows=e,i.columns=r,i}return Object(i.a)(n,[{key:"set",value:function(e,t,n){return this.data[e][t]=n,this}},{key:"get",value:function(e,t){return this.data[e][t]}},{key:"removeRow",value:function(e){return Sr(this,e),this.data.splice(e,1),this.rows-=1,this}},{key:"addRow",value:function(e,t){return void 0===t&&(t=e,e=this.rows),Sr(this,e,!0),t=Float64Array.from(Tr(this,t)),this.data.splice(e,0,t),this.rows+=1,this}},{key:"removeColumn",value:function(e){Ar(this,e);for(var t=0;t<this.rows;t++){for(var n=new Float64Array(this.columns-1),r=0;r<e;r++)n[r]=this.data[t][r];for(var i=e+1;i<this.columns;i++)n[i-1]=this.data[t][i];this.data[t]=n}return this.columns-=1,this}},{key:"addColumn",value:function(e,t){"undefined"===typeof t&&(t=e,e=this.columns),Ar(this,e,!0),t=jr(this,t);for(var n=0;n<this.rows;n++){for(var r=new Float64Array(this.columns+1),i=0;i<e;i++)r[i]=this.data[n][i];for(r[i++]=t[n];i<this.columns+1;i++)r[i]=this.data[n][i-1];this.data[n]=r}return this.columns+=1,this}}]),n}(Nr);Ir=Dr,(Lr=Nr).prototype.add=function(e){return"number"===typeof e?this.addS(e):this.addM(e)},Lr.prototype.addS=function(e){for(var t=0;t<this.rows;t++)for(var n=0;n<this.columns;n++)this.set(t,n,this.get(t,n)+e);return this},Lr.prototype.addM=function(e){if(e=Ir.checkMatrix(e),this.rows!==e.rows||this.columns!==e.columns)throw new RangeError("Matrices dimensions must be equal");for(var t=0;t<this.rows;t++)for(var n=0;n<this.columns;n++)this.set(t,n,this.get(t,n)+e.get(t,n));return this},Lr.add=function(e,t){return new Ir(e).add(t)},Lr.prototype.sub=function(e){return"number"===typeof e?this.subS(e):this.subM(e)},Lr.prototype.subS=function(e){for(var t=0;t<this.rows;t++)for(var n=0;n<this.columns;n++)this.set(t,n,this.get(t,n)-e);return this},Lr.prototype.subM=function(e){if(e=Ir.checkMatrix(e),this.rows!==e.rows||this.columns!==e.columns)throw new RangeError("Matrices dimensions must be equal");for(var t=0;t<this.rows;t++)for(var n=0;n<this.columns;n++)this.set(t,n,this.get(t,n)-e.get(t,n));return this},Lr.sub=function(e,t){return new Ir(e).sub(t)},Lr.prototype.subtract=Lr.prototype.sub,Lr.prototype.subtractS=Lr.prototype.subS,Lr.prototype.subtractM=Lr.prototype.subM,Lr.subtract=Lr.sub,Lr.prototype.mul=function(e){return"number"===typeof e?this.mulS(e):this.mulM(e)},Lr.prototype.mulS=function(e){for(var t=0;t<this.rows;t++)for(var n=0;n<this.columns;n++)this.set(t,n,this.get(t,n)*e);return this},Lr.prototype.mulM=function(e){if(e=Ir.checkMatrix(e),this.rows!==e.rows||this.columns!==e.columns)throw new RangeError("Matrices dimensions must be equal");for(var t=0;t<this.rows;t++)for(var n=0;n<this.columns;n++)this.set(t,n,this.get(t,n)*e.get(t,n));return this},Lr.mul=function(e,t){return new Ir(e).mul(t)},Lr.prototype.multiply=Lr.prototype.mul,Lr.prototype.multiplyS=Lr.prototype.mulS,Lr.prototype.multiplyM=Lr.prototype.mulM,Lr.multiply=Lr.mul,Lr.prototype.div=function(e){return"number"===typeof e?this.divS(e):this.divM(e)},Lr.prototype.divS=function(e){for(var t=0;t<this.rows;t++)for(var n=0;n<this.columns;n++)this.set(t,n,this.get(t,n)/e);return this},Lr.prototype.divM=function(e){if(e=Ir.checkMatrix(e),this.rows!==e.rows||this.columns!==e.columns)throw new RangeError("Matrices dimensions must be equal");for(var t=0;t<this.rows;t++)for(var n=0;n<this.columns;n++)this.set(t,n,this.get(t,n)/e.get(t,n));return this},Lr.div=function(e,t){return new Ir(e).div(t)},Lr.prototype.divide=Lr.prototype.div,Lr.prototype.divideS=Lr.prototype.divS,Lr.prototype.divideM=Lr.prototype.divM,Lr.divide=Lr.div,Lr.prototype.mod=function(e){return"number"===typeof e?this.modS(e):this.modM(e)},Lr.prototype.modS=function(e){for(var t=0;t<this.rows;t++)for(var n=0;n<this.columns;n++)this.set(t,n,this.get(t,n)%e);return this},Lr.prototype.modM=function(e){if(e=Ir.checkMatrix(e),this.rows!==e.rows||this.columns!==e.columns)throw new RangeError("Matrices dimensions must be equal");for(var t=0;t<this.rows;t++)for(var n=0;n<this.columns;n++)this.set(t,n,this.get(t,n)%e.get(t,n));return this},Lr.mod=function(e,t){return new Ir(e).mod(t)},Lr.prototype.modulus=Lr.prototype.mod,Lr.prototype.modulusS=Lr.prototype.modS,Lr.prototype.modulusM=Lr.prototype.modM,Lr.modulus=Lr.mod,Lr.prototype.and=function(e){return"number"===typeof e?this.andS(e):this.andM(e)},Lr.prototype.andS=function(e){for(var t=0;t<this.rows;t++)for(var n=0;n<this.columns;n++)this.set(t,n,this.get(t,n)&e);return this},Lr.prototype.andM=function(e){if(e=Ir.checkMatrix(e),this.rows!==e.rows||this.columns!==e.columns)throw new RangeError("Matrices dimensions must be equal");for(var t=0;t<this.rows;t++)for(var n=0;n<this.columns;n++)this.set(t,n,this.get(t,n)&e.get(t,n));return this},Lr.and=function(e,t){return new Ir(e).and(t)},Lr.prototype.or=function(e){return"number"===typeof e?this.orS(e):this.orM(e)},Lr.prototype.orS=function(e){for(var t=0;t<this.rows;t++)for(var n=0;n<this.columns;n++)this.set(t,n,this.get(t,n)|e);return this},Lr.prototype.orM=function(e){if(e=Ir.checkMatrix(e),this.rows!==e.rows||this.columns!==e.columns)throw new RangeError("Matrices dimensions must be equal");for(var t=0;t<this.rows;t++)for(var n=0;n<this.columns;n++)this.set(t,n,this.get(t,n)|e.get(t,n));return this},Lr.or=function(e,t){return new Ir(e).or(t)},Lr.prototype.xor=function(e){return"number"===typeof e?this.xorS(e):this.xorM(e)},Lr.prototype.xorS=function(e){for(var t=0;t<this.rows;t++)for(var n=0;n<this.columns;n++)this.set(t,n,this.get(t,n)^e);return this},Lr.prototype.xorM=function(e){if(e=Ir.checkMatrix(e),this.rows!==e.rows||this.columns!==e.columns)throw new RangeError("Matrices dimensions must be equal");for(var t=0;t<this.rows;t++)for(var n=0;n<this.columns;n++)this.set(t,n,this.get(t,n)^e.get(t,n));return this},Lr.xor=function(e,t){return new Ir(e).xor(t)},Lr.prototype.leftShift=function(e){return"number"===typeof e?this.leftShiftS(e):this.leftShiftM(e)},Lr.prototype.leftShiftS=function(e){for(var t=0;t<this.rows;t++)for(var n=0;n<this.columns;n++)this.set(t,n,this.get(t,n)<<e);return this},Lr.prototype.leftShiftM=function(e){if(e=Ir.checkMatrix(e),this.rows!==e.rows||this.columns!==e.columns)throw new RangeError("Matrices dimensions must be equal");for(var t=0;t<this.rows;t++)for(var n=0;n<this.columns;n++)this.set(t,n,this.get(t,n)<<e.get(t,n));return this},Lr.leftShift=function(e,t){return new Ir(e).leftShift(t)},Lr.prototype.signPropagatingRightShift=function(e){return"number"===typeof e?this.signPropagatingRightShiftS(e):this.signPropagatingRightShiftM(e)},Lr.prototype.signPropagatingRightShiftS=function(e){for(var t=0;t<this.rows;t++)for(var n=0;n<this.columns;n++)this.set(t,n,this.get(t,n)>>e);return this},Lr.prototype.signPropagatingRightShiftM=function(e){if(e=Ir.checkMatrix(e),this.rows!==e.rows||this.columns!==e.columns)throw new RangeError("Matrices dimensions must be equal");for(var t=0;t<this.rows;t++)for(var n=0;n<this.columns;n++)this.set(t,n,this.get(t,n)>>e.get(t,n));return this},Lr.signPropagatingRightShift=function(e,t){return new Ir(e).signPropagatingRightShift(t)},Lr.prototype.rightShift=function(e){return"number"===typeof e?this.rightShiftS(e):this.rightShiftM(e)},Lr.prototype.rightShiftS=function(e){for(var t=0;t<this.rows;t++)for(var n=0;n<this.columns;n++)this.set(t,n,this.get(t,n)>>>e);return this},Lr.prototype.rightShiftM=function(e){if(e=Ir.checkMatrix(e),this.rows!==e.rows||this.columns!==e.columns)throw new RangeError("Matrices dimensions must be equal");for(var t=0;t<this.rows;t++)for(var n=0;n<this.columns;n++)this.set(t,n,this.get(t,n)>>>e.get(t,n));return this},Lr.rightShift=function(e,t){return new Ir(e).rightShift(t)},Lr.prototype.zeroFillRightShift=Lr.prototype.rightShift,Lr.prototype.zeroFillRightShiftS=Lr.prototype.rightShiftS,Lr.prototype.zeroFillRightShiftM=Lr.prototype.rightShiftM,Lr.zeroFillRightShift=Lr.rightShift,Lr.prototype.not=function(){for(var e=0;e<this.rows;e++)for(var t=0;t<this.columns;t++)this.set(e,t,~this.get(e,t));return this},Lr.not=function(e){return new Ir(e).not()},Lr.prototype.abs=function(){for(var e=0;e<this.rows;e++)for(var t=0;t<this.columns;t++)this.set(e,t,Math.abs(this.get(e,t)));return this},Lr.abs=function(e){return new Ir(e).abs()},Lr.prototype.acos=function(){for(var e=0;e<this.rows;e++)for(var t=0;t<this.columns;t++)this.set(e,t,Math.acos(this.get(e,t)));return this},Lr.acos=function(e){return new Ir(e).acos()},Lr.prototype.acosh=function(){for(var e=0;e<this.rows;e++)for(var t=0;t<this.columns;t++)this.set(e,t,Math.acosh(this.get(e,t)));return this},Lr.acosh=function(e){return new Ir(e).acosh()},Lr.prototype.asin=function(){for(var e=0;e<this.rows;e++)for(var t=0;t<this.columns;t++)this.set(e,t,Math.asin(this.get(e,t)));return this},Lr.asin=function(e){return new Ir(e).asin()},Lr.prototype.asinh=function(){for(var e=0;e<this.rows;e++)for(var t=0;t<this.columns;t++)this.set(e,t,Math.asinh(this.get(e,t)));return this},Lr.asinh=function(e){return new Ir(e).asinh()},Lr.prototype.atan=function(){for(var e=0;e<this.rows;e++)for(var t=0;t<this.columns;t++)this.set(e,t,Math.atan(this.get(e,t)));return this},Lr.atan=function(e){return new Ir(e).atan()},Lr.prototype.atanh=function(){for(var e=0;e<this.rows;e++)for(var t=0;t<this.columns;t++)this.set(e,t,Math.atanh(this.get(e,t)));return this},Lr.atanh=function(e){return new Ir(e).atanh()},Lr.prototype.cbrt=function(){for(var e=0;e<this.rows;e++)for(var t=0;t<this.columns;t++)this.set(e,t,Math.cbrt(this.get(e,t)));return this},Lr.cbrt=function(e){return new Ir(e).cbrt()},Lr.prototype.ceil=function(){for(var e=0;e<this.rows;e++)for(var t=0;t<this.columns;t++)this.set(e,t,Math.ceil(this.get(e,t)));return this},Lr.ceil=function(e){return new Ir(e).ceil()},Lr.prototype.clz32=function(){for(var e=0;e<this.rows;e++)for(var t=0;t<this.columns;t++)this.set(e,t,Math.clz32(this.get(e,t)));return this},Lr.clz32=function(e){return new Ir(e).clz32()},Lr.prototype.cos=function(){for(var e=0;e<this.rows;e++)for(var t=0;t<this.columns;t++)this.set(e,t,Math.cos(this.get(e,t)));return this},Lr.cos=function(e){return new Ir(e).cos()},Lr.prototype.cosh=function(){for(var e=0;e<this.rows;e++)for(var t=0;t<this.columns;t++)this.set(e,t,Math.cosh(this.get(e,t)));return this},Lr.cosh=function(e){return new Ir(e).cosh()},Lr.prototype.exp=function(){for(var e=0;e<this.rows;e++)for(var t=0;t<this.columns;t++)this.set(e,t,Math.exp(this.get(e,t)));return this},Lr.exp=function(e){return new Ir(e).exp()},Lr.prototype.expm1=function(){for(var e=0;e<this.rows;e++)for(var t=0;t<this.columns;t++)this.set(e,t,Math.expm1(this.get(e,t)));return this},Lr.expm1=function(e){return new Ir(e).expm1()},Lr.prototype.floor=function(){for(var e=0;e<this.rows;e++)for(var t=0;t<this.columns;t++)this.set(e,t,Math.floor(this.get(e,t)));return this},Lr.floor=function(e){return new Ir(e).floor()},Lr.prototype.fround=function(){for(var e=0;e<this.rows;e++)for(var t=0;t<this.columns;t++)this.set(e,t,Math.fround(this.get(e,t)));return this},Lr.fround=function(e){return new Ir(e).fround()},Lr.prototype.log=function(){for(var e=0;e<this.rows;e++)for(var t=0;t<this.columns;t++)this.set(e,t,Math.log(this.get(e,t)));return this},Lr.log=function(e){return new Ir(e).log()},Lr.prototype.log1p=function(){for(var e=0;e<this.rows;e++)for(var t=0;t<this.columns;t++)this.set(e,t,Math.log1p(this.get(e,t)));return this},Lr.log1p=function(e){return new Ir(e).log1p()},Lr.prototype.log10=function(){for(var e=0;e<this.rows;e++)for(var t=0;t<this.columns;t++)this.set(e,t,Math.log10(this.get(e,t)));return this},Lr.log10=function(e){return new Ir(e).log10()},Lr.prototype.log2=function(){for(var e=0;e<this.rows;e++)for(var t=0;t<this.columns;t++)this.set(e,t,Math.log2(this.get(e,t)));return this},Lr.log2=function(e){return new Ir(e).log2()},Lr.prototype.round=function(){for(var e=0;e<this.rows;e++)for(var t=0;t<this.columns;t++)this.set(e,t,Math.round(this.get(e,t)));return this},Lr.round=function(e){return new Ir(e).round()},Lr.prototype.sign=function(){for(var e=0;e<this.rows;e++)for(var t=0;t<this.columns;t++)this.set(e,t,Math.sign(this.get(e,t)));return this},Lr.sign=function(e){return new Ir(e).sign()},Lr.prototype.sin=function(){for(var e=0;e<this.rows;e++)for(var t=0;t<this.columns;t++)this.set(e,t,Math.sin(this.get(e,t)));return this},Lr.sin=function(e){return new Ir(e).sin()},Lr.prototype.sinh=function(){for(var e=0;e<this.rows;e++)for(var t=0;t<this.columns;t++)this.set(e,t,Math.sinh(this.get(e,t)));return this},Lr.sinh=function(e){return new Ir(e).sinh()},Lr.prototype.sqrt=function(){for(var e=0;e<this.rows;e++)for(var t=0;t<this.columns;t++)this.set(e,t,Math.sqrt(this.get(e,t)));return this},Lr.sqrt=function(e){return new Ir(e).sqrt()},Lr.prototype.tan=function(){for(var e=0;e<this.rows;e++)for(var t=0;t<this.columns;t++)this.set(e,t,Math.tan(this.get(e,t)));return this},Lr.tan=function(e){return new Ir(e).tan()},Lr.prototype.tanh=function(){for(var e=0;e<this.rows;e++)for(var t=0;t<this.columns;t++)this.set(e,t,Math.tanh(this.get(e,t)));return this},Lr.tanh=function(e){return new Ir(e).tanh()},Lr.prototype.trunc=function(){for(var e=0;e<this.rows;e++)for(var t=0;t<this.columns;t++)this.set(e,t,Math.trunc(this.get(e,t)));return this},Lr.trunc=function(e){return new Ir(e).trunc()},Lr.pow=function(e,t){return new Ir(e).pow(t)},Lr.prototype.pow=function(e){return"number"===typeof e?this.powS(e):this.powM(e)},Lr.prototype.powS=function(e){for(var t=0;t<this.rows;t++)for(var n=0;n<this.columns;n++)this.set(t,n,Math.pow(this.get(t,n),e));return this},Lr.prototype.powM=function(e){if(e=Ir.checkMatrix(e),this.rows!==e.rows||this.columns!==e.columns)throw new RangeError("Matrices dimensions must be equal");for(var t=0;t<this.rows;t++)for(var n=0;n<this.columns;n++)this.set(t,n,Math.pow(this.get(t,n),e.get(t,n)));return this};n(35),n(49);var Br=n(6),Fr=n.n(Br);n(18),n(19),n(93),n(242),n(243),n(24);var zr,Vr;(Vr=zr||(zr={}))[Vr.DEPTH_BUFFER_BIT=256]="DEPTH_BUFFER_BIT",Vr[Vr.STENCIL_BUFFER_BIT=1024]="STENCIL_BUFFER_BIT",Vr[Vr.COLOR_BUFFER_BIT=16384]="COLOR_BUFFER_BIT",Vr[Vr.POINTS=0]="POINTS",Vr[Vr.LINES=1]="LINES",Vr[Vr.LINE_LOOP=2]="LINE_LOOP",Vr[Vr.LINE_STRIP=3]="LINE_STRIP",Vr[Vr.TRIANGLES=4]="TRIANGLES",Vr[Vr.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",Vr[Vr.TRIANGLE_FAN=6]="TRIANGLE_FAN",Vr[Vr.ZERO=0]="ZERO",Vr[Vr.ONE=1]="ONE",Vr[Vr.SRC_COLOR=768]="SRC_COLOR",Vr[Vr.ONE_MINUS_SRC_COLOR=769]="ONE_MINUS_SRC_COLOR",Vr[Vr.SRC_ALPHA=770]="SRC_ALPHA",Vr[Vr.ONE_MINUS_SRC_ALPHA=771]="ONE_MINUS_SRC_ALPHA",Vr[Vr.DST_ALPHA=772]="DST_ALPHA",Vr[Vr.ONE_MINUS_DST_ALPHA=773]="ONE_MINUS_DST_ALPHA",Vr[Vr.DST_COLOR=774]="DST_COLOR",Vr[Vr.ONE_MINUS_DST_COLOR=775]="ONE_MINUS_DST_COLOR",Vr[Vr.SRC_ALPHA_SATURATE=776]="SRC_ALPHA_SATURATE",Vr[Vr.FUNC_ADD=32774]="FUNC_ADD",Vr[Vr.BLEND_EQUATION=32777]="BLEND_EQUATION",Vr[Vr.BLEND_EQUATION_RGB=32777]="BLEND_EQUATION_RGB",Vr[Vr.BLEND_EQUATION_ALPHA=34877]="BLEND_EQUATION_ALPHA",Vr[Vr.FUNC_SUBTRACT=32778]="FUNC_SUBTRACT",Vr[Vr.FUNC_REVERSE_SUBTRACT=32779]="FUNC_REVERSE_SUBTRACT",Vr[Vr.MAX_EXT=32776]="MAX_EXT",Vr[Vr.MIN_EXT=32775]="MIN_EXT",Vr[Vr.BLEND_DST_RGB=32968]="BLEND_DST_RGB",Vr[Vr.BLEND_SRC_RGB=32969]="BLEND_SRC_RGB",Vr[Vr.BLEND_DST_ALPHA=32970]="BLEND_DST_ALPHA",Vr[Vr.BLEND_SRC_ALPHA=32971]="BLEND_SRC_ALPHA",Vr[Vr.CONSTANT_COLOR=32769]="CONSTANT_COLOR",Vr[Vr.ONE_MINUS_CONSTANT_COLOR=32770]="ONE_MINUS_CONSTANT_COLOR",Vr[Vr.CONSTANT_ALPHA=32771]="CONSTANT_ALPHA",Vr[Vr.ONE_MINUS_CONSTANT_ALPHA=32772]="ONE_MINUS_CONSTANT_ALPHA",Vr[Vr.BLEND_COLOR=32773]="BLEND_COLOR",Vr[Vr.ARRAY_BUFFER=34962]="ARRAY_BUFFER",Vr[Vr.ELEMENT_ARRAY_BUFFER=34963]="ELEMENT_ARRAY_BUFFER",Vr[Vr.ARRAY_BUFFER_BINDING=34964]="ARRAY_BUFFER_BINDING",Vr[Vr.ELEMENT_ARRAY_BUFFER_BINDING=34965]="ELEMENT_ARRAY_BUFFER_BINDING",Vr[Vr.STREAM_DRAW=35040]="STREAM_DRAW",Vr[Vr.STATIC_DRAW=35044]="STATIC_DRAW",Vr[Vr.DYNAMIC_DRAW=35048]="DYNAMIC_DRAW",Vr[Vr.BUFFER_SIZE=34660]="BUFFER_SIZE",Vr[Vr.BUFFER_USAGE=34661]="BUFFER_USAGE",Vr[Vr.CURRENT_VERTEX_ATTRIB=34342]="CURRENT_VERTEX_ATTRIB",Vr[Vr.FRONT=1028]="FRONT",Vr[Vr.BACK=1029]="BACK",Vr[Vr.FRONT_AND_BACK=1032]="FRONT_AND_BACK",Vr[Vr.CULL_FACE=2884]="CULL_FACE",Vr[Vr.BLEND=3042]="BLEND",Vr[Vr.DITHER=3024]="DITHER",Vr[Vr.STENCIL_TEST=2960]="STENCIL_TEST",Vr[Vr.DEPTH_TEST=2929]="DEPTH_TEST",Vr[Vr.SCISSOR_TEST=3089]="SCISSOR_TEST",Vr[Vr.POLYGON_OFFSET_FILL=32823]="POLYGON_OFFSET_FILL",Vr[Vr.SAMPLE_ALPHA_TO_COVERAGE=32926]="SAMPLE_ALPHA_TO_COVERAGE",Vr[Vr.SAMPLE_COVERAGE=32928]="SAMPLE_COVERAGE",Vr[Vr.NO_ERROR=0]="NO_ERROR",Vr[Vr.INVALID_ENUM=1280]="INVALID_ENUM",Vr[Vr.INVALID_VALUE=1281]="INVALID_VALUE",Vr[Vr.INVALID_OPERATION=1282]="INVALID_OPERATION",Vr[Vr.OUT_OF_MEMORY=1285]="OUT_OF_MEMORY",Vr[Vr.CW=2304]="CW",Vr[Vr.CCW=2305]="CCW",Vr[Vr.LINE_WIDTH=2849]="LINE_WIDTH",Vr[Vr.ALIASED_POINT_SIZE_RANGE=33901]="ALIASED_POINT_SIZE_RANGE",Vr[Vr.ALIASED_LINE_WIDTH_RANGE=33902]="ALIASED_LINE_WIDTH_RANGE",Vr[Vr.CULL_FACE_MODE=2885]="CULL_FACE_MODE",Vr[Vr.FRONT_FACE=2886]="FRONT_FACE",Vr[Vr.DEPTH_RANGE=2928]="DEPTH_RANGE",Vr[Vr.DEPTH_WRITEMASK=2930]="DEPTH_WRITEMASK",Vr[Vr.DEPTH_CLEAR_VALUE=2931]="DEPTH_CLEAR_VALUE",Vr[Vr.DEPTH_FUNC=2932]="DEPTH_FUNC",Vr[Vr.STENCIL_CLEAR_VALUE=2961]="STENCIL_CLEAR_VALUE",Vr[Vr.STENCIL_FUNC=2962]="STENCIL_FUNC",Vr[Vr.STENCIL_FAIL=2964]="STENCIL_FAIL",Vr[Vr.STENCIL_PASS_DEPTH_FAIL=2965]="STENCIL_PASS_DEPTH_FAIL",Vr[Vr.STENCIL_PASS_DEPTH_PASS=2966]="STENCIL_PASS_DEPTH_PASS",Vr[Vr.STENCIL_REF=2967]="STENCIL_REF",Vr[Vr.STENCIL_VALUE_MASK=2963]="STENCIL_VALUE_MASK",Vr[Vr.STENCIL_WRITEMASK=2968]="STENCIL_WRITEMASK",Vr[Vr.STENCIL_BACK_FUNC=34816]="STENCIL_BACK_FUNC",Vr[Vr.STENCIL_BACK_FAIL=34817]="STENCIL_BACK_FAIL",Vr[Vr.STENCIL_BACK_PASS_DEPTH_FAIL=34818]="STENCIL_BACK_PASS_DEPTH_FAIL",Vr[Vr.STENCIL_BACK_PASS_DEPTH_PASS=34819]="STENCIL_BACK_PASS_DEPTH_PASS",Vr[Vr.STENCIL_BACK_REF=36003]="STENCIL_BACK_REF",Vr[Vr.STENCIL_BACK_VALUE_MASK=36004]="STENCIL_BACK_VALUE_MASK",Vr[Vr.STENCIL_BACK_WRITEMASK=36005]="STENCIL_BACK_WRITEMASK",Vr[Vr.VIEWPORT=2978]="VIEWPORT",Vr[Vr.SCISSOR_BOX=3088]="SCISSOR_BOX",Vr[Vr.COLOR_CLEAR_VALUE=3106]="COLOR_CLEAR_VALUE",Vr[Vr.COLOR_WRITEMASK=3107]="COLOR_WRITEMASK",Vr[Vr.UNPACK_ALIGNMENT=3317]="UNPACK_ALIGNMENT",Vr[Vr.PACK_ALIGNMENT=3333]="PACK_ALIGNMENT",Vr[Vr.MAX_TEXTURE_SIZE=3379]="MAX_TEXTURE_SIZE",Vr[Vr.MAX_VIEWPORT_DIMS=3386]="MAX_VIEWPORT_DIMS",Vr[Vr.SUBPIXEL_BITS=3408]="SUBPIXEL_BITS",Vr[Vr.RED_BITS=3410]="RED_BITS",Vr[Vr.GREEN_BITS=3411]="GREEN_BITS",Vr[Vr.BLUE_BITS=3412]="BLUE_BITS",Vr[Vr.ALPHA_BITS=3413]="ALPHA_BITS",Vr[Vr.DEPTH_BITS=3414]="DEPTH_BITS",Vr[Vr.STENCIL_BITS=3415]="STENCIL_BITS",Vr[Vr.POLYGON_OFFSET_UNITS=10752]="POLYGON_OFFSET_UNITS",Vr[Vr.POLYGON_OFFSET_FACTOR=32824]="POLYGON_OFFSET_FACTOR",Vr[Vr.TEXTURE_BINDING_2D=32873]="TEXTURE_BINDING_2D",Vr[Vr.SAMPLE_BUFFERS=32936]="SAMPLE_BUFFERS",Vr[Vr.SAMPLES=32937]="SAMPLES",Vr[Vr.SAMPLE_COVERAGE_VALUE=32938]="SAMPLE_COVERAGE_VALUE",Vr[Vr.SAMPLE_COVERAGE_INVERT=32939]="SAMPLE_COVERAGE_INVERT",Vr[Vr.COMPRESSED_TEXTURE_FORMATS=34467]="COMPRESSED_TEXTURE_FORMATS",Vr[Vr.DONT_CARE=4352]="DONT_CARE",Vr[Vr.FASTEST=4353]="FASTEST",Vr[Vr.NICEST=4354]="NICEST",Vr[Vr.GENERATE_MIPMAP_HINT=33170]="GENERATE_MIPMAP_HINT",Vr[Vr.BYTE=5120]="BYTE",Vr[Vr.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",Vr[Vr.SHORT=5122]="SHORT",Vr[Vr.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",Vr[Vr.INT=5124]="INT",Vr[Vr.UNSIGNED_INT=5125]="UNSIGNED_INT",Vr[Vr.FLOAT=5126]="FLOAT",Vr[Vr.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",Vr[Vr.ALPHA=6406]="ALPHA",Vr[Vr.RGB=6407]="RGB",Vr[Vr.RGBA=6408]="RGBA",Vr[Vr.LUMINANCE=6409]="LUMINANCE",Vr[Vr.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",Vr[Vr.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",Vr[Vr.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",Vr[Vr.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",Vr[Vr.FRAGMENT_SHADER=35632]="FRAGMENT_SHADER",Vr[Vr.VERTEX_SHADER=35633]="VERTEX_SHADER",Vr[Vr.MAX_VERTEX_ATTRIBS=34921]="MAX_VERTEX_ATTRIBS",Vr[Vr.MAX_VERTEX_UNIFORM_VECTORS=36347]="MAX_VERTEX_UNIFORM_VECTORS",Vr[Vr.MAX_VARYING_VECTORS=36348]="MAX_VARYING_VECTORS",Vr[Vr.MAX_COMBINED_TEXTURE_IMAGE_UNITS=35661]="MAX_COMBINED_TEXTURE_IMAGE_UNITS",Vr[Vr.MAX_VERTEX_TEXTURE_IMAGE_UNITS=35660]="MAX_VERTEX_TEXTURE_IMAGE_UNITS",Vr[Vr.MAX_TEXTURE_IMAGE_UNITS=34930]="MAX_TEXTURE_IMAGE_UNITS",Vr[Vr.MAX_FRAGMENT_UNIFORM_VECTORS=36349]="MAX_FRAGMENT_UNIFORM_VECTORS",Vr[Vr.SHADER_TYPE=35663]="SHADER_TYPE",Vr[Vr.DELETE_STATUS=35712]="DELETE_STATUS",Vr[Vr.LINK_STATUS=35714]="LINK_STATUS",Vr[Vr.VALIDATE_STATUS=35715]="VALIDATE_STATUS",Vr[Vr.ATTACHED_SHADERS=35717]="ATTACHED_SHADERS",Vr[Vr.ACTIVE_UNIFORMS=35718]="ACTIVE_UNIFORMS",Vr[Vr.ACTIVE_ATTRIBUTES=35721]="ACTIVE_ATTRIBUTES",Vr[Vr.SHADING_LANGUAGE_VERSION=35724]="SHADING_LANGUAGE_VERSION",Vr[Vr.CURRENT_PROGRAM=35725]="CURRENT_PROGRAM",Vr[Vr.NEVER=512]="NEVER",Vr[Vr.LESS=513]="LESS",Vr[Vr.EQUAL=514]="EQUAL",Vr[Vr.LEQUAL=515]="LEQUAL",Vr[Vr.GREATER=516]="GREATER",Vr[Vr.NOTEQUAL=517]="NOTEQUAL",Vr[Vr.GEQUAL=518]="GEQUAL",Vr[Vr.ALWAYS=519]="ALWAYS",Vr[Vr.KEEP=7680]="KEEP",Vr[Vr.REPLACE=7681]="REPLACE",Vr[Vr.INCR=7682]="INCR",Vr[Vr.DECR=7683]="DECR",Vr[Vr.INVERT=5386]="INVERT",Vr[Vr.INCR_WRAP=34055]="INCR_WRAP",Vr[Vr.DECR_WRAP=34056]="DECR_WRAP",Vr[Vr.VENDOR=7936]="VENDOR",Vr[Vr.RENDERER=7937]="RENDERER",Vr[Vr.VERSION=7938]="VERSION",Vr[Vr.NEAREST=9728]="NEAREST",Vr[Vr.LINEAR=9729]="LINEAR",Vr[Vr.NEAREST_MIPMAP_NEAREST=9984]="NEAREST_MIPMAP_NEAREST",Vr[Vr.LINEAR_MIPMAP_NEAREST=9985]="LINEAR_MIPMAP_NEAREST",Vr[Vr.NEAREST_MIPMAP_LINEAR=9986]="NEAREST_MIPMAP_LINEAR",Vr[Vr.LINEAR_MIPMAP_LINEAR=9987]="LINEAR_MIPMAP_LINEAR",Vr[Vr.TEXTURE_MAG_FILTER=10240]="TEXTURE_MAG_FILTER",Vr[Vr.TEXTURE_MIN_FILTER=10241]="TEXTURE_MIN_FILTER",Vr[Vr.TEXTURE_WRAP_S=10242]="TEXTURE_WRAP_S",Vr[Vr.TEXTURE_WRAP_T=10243]="TEXTURE_WRAP_T",Vr[Vr.TEXTURE_2D=3553]="TEXTURE_2D",Vr[Vr.TEXTURE=5890]="TEXTURE",Vr[Vr.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",Vr[Vr.TEXTURE_BINDING_CUBE_MAP=34068]="TEXTURE_BINDING_CUBE_MAP",Vr[Vr.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",Vr[Vr.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",Vr[Vr.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",Vr[Vr.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",Vr[Vr.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",Vr[Vr.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z",Vr[Vr.MAX_CUBE_MAP_TEXTURE_SIZE=34076]="MAX_CUBE_MAP_TEXTURE_SIZE",Vr[Vr.TEXTURE0=33984]="TEXTURE0",Vr[Vr.TEXTURE1=33985]="TEXTURE1",Vr[Vr.TEXTURE2=33986]="TEXTURE2",Vr[Vr.TEXTURE3=33987]="TEXTURE3",Vr[Vr.TEXTURE4=33988]="TEXTURE4",Vr[Vr.TEXTURE5=33989]="TEXTURE5",Vr[Vr.TEXTURE6=33990]="TEXTURE6",Vr[Vr.TEXTURE7=33991]="TEXTURE7",Vr[Vr.TEXTURE8=33992]="TEXTURE8",Vr[Vr.TEXTURE9=33993]="TEXTURE9",Vr[Vr.TEXTURE10=33994]="TEXTURE10",Vr[Vr.TEXTURE11=33995]="TEXTURE11",Vr[Vr.TEXTURE12=33996]="TEXTURE12",Vr[Vr.TEXTURE13=33997]="TEXTURE13",Vr[Vr.TEXTURE14=33998]="TEXTURE14",Vr[Vr.TEXTURE15=33999]="TEXTURE15",Vr[Vr.TEXTURE16=34e3]="TEXTURE16",Vr[Vr.TEXTURE17=34001]="TEXTURE17",Vr[Vr.TEXTURE18=34002]="TEXTURE18",Vr[Vr.TEXTURE19=34003]="TEXTURE19",Vr[Vr.TEXTURE20=34004]="TEXTURE20",Vr[Vr.TEXTURE21=34005]="TEXTURE21",Vr[Vr.TEXTURE22=34006]="TEXTURE22",Vr[Vr.TEXTURE23=34007]="TEXTURE23",Vr[Vr.TEXTURE24=34008]="TEXTURE24",Vr[Vr.TEXTURE25=34009]="TEXTURE25",Vr[Vr.TEXTURE26=34010]="TEXTURE26",Vr[Vr.TEXTURE27=34011]="TEXTURE27",Vr[Vr.TEXTURE28=34012]="TEXTURE28",Vr[Vr.TEXTURE29=34013]="TEXTURE29",Vr[Vr.TEXTURE30=34014]="TEXTURE30",Vr[Vr.TEXTURE31=34015]="TEXTURE31",Vr[Vr.ACTIVE_TEXTURE=34016]="ACTIVE_TEXTURE",Vr[Vr.REPEAT=10497]="REPEAT",Vr[Vr.CLAMP_TO_EDGE=33071]="CLAMP_TO_EDGE",Vr[Vr.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT",Vr[Vr.FLOAT_VEC2=35664]="FLOAT_VEC2",Vr[Vr.FLOAT_VEC3=35665]="FLOAT_VEC3",Vr[Vr.FLOAT_VEC4=35666]="FLOAT_VEC4",Vr[Vr.INT_VEC2=35667]="INT_VEC2",Vr[Vr.INT_VEC3=35668]="INT_VEC3",Vr[Vr.INT_VEC4=35669]="INT_VEC4",Vr[Vr.BOOL=35670]="BOOL",Vr[Vr.BOOL_VEC2=35671]="BOOL_VEC2",Vr[Vr.BOOL_VEC3=35672]="BOOL_VEC3",Vr[Vr.BOOL_VEC4=35673]="BOOL_VEC4",Vr[Vr.FLOAT_MAT2=35674]="FLOAT_MAT2",Vr[Vr.FLOAT_MAT3=35675]="FLOAT_MAT3",Vr[Vr.FLOAT_MAT4=35676]="FLOAT_MAT4",Vr[Vr.SAMPLER_2D=35678]="SAMPLER_2D",Vr[Vr.SAMPLER_CUBE=35680]="SAMPLER_CUBE",Vr[Vr.VERTEX_ATTRIB_ARRAY_ENABLED=34338]="VERTEX_ATTRIB_ARRAY_ENABLED",Vr[Vr.VERTEX_ATTRIB_ARRAY_SIZE=34339]="VERTEX_ATTRIB_ARRAY_SIZE",Vr[Vr.VERTEX_ATTRIB_ARRAY_STRIDE=34340]="VERTEX_ATTRIB_ARRAY_STRIDE",Vr[Vr.VERTEX_ATTRIB_ARRAY_TYPE=34341]="VERTEX_ATTRIB_ARRAY_TYPE",Vr[Vr.VERTEX_ATTRIB_ARRAY_NORMALIZED=34922]="VERTEX_ATTRIB_ARRAY_NORMALIZED",Vr[Vr.VERTEX_ATTRIB_ARRAY_POINTER=34373]="VERTEX_ATTRIB_ARRAY_POINTER",Vr[Vr.VERTEX_ATTRIB_ARRAY_BUFFER_BINDING=34975]="VERTEX_ATTRIB_ARRAY_BUFFER_BINDING",Vr[Vr.COMPILE_STATUS=35713]="COMPILE_STATUS",Vr[Vr.LOW_FLOAT=36336]="LOW_FLOAT",Vr[Vr.MEDIUM_FLOAT=36337]="MEDIUM_FLOAT",Vr[Vr.HIGH_FLOAT=36338]="HIGH_FLOAT",Vr[Vr.LOW_INT=36339]="LOW_INT",Vr[Vr.MEDIUM_INT=36340]="MEDIUM_INT",Vr[Vr.HIGH_INT=36341]="HIGH_INT",Vr[Vr.FRAMEBUFFER=36160]="FRAMEBUFFER",Vr[Vr.RENDERBUFFER=36161]="RENDERBUFFER",Vr[Vr.RGBA4=32854]="RGBA4",Vr[Vr.RGB5_A1=32855]="RGB5_A1",Vr[Vr.RGB565=36194]="RGB565",Vr[Vr.DEPTH_COMPONENT16=33189]="DEPTH_COMPONENT16",Vr[Vr.STENCIL_INDEX=6401]="STENCIL_INDEX",Vr[Vr.STENCIL_INDEX8=36168]="STENCIL_INDEX8",Vr[Vr.DEPTH_STENCIL=34041]="DEPTH_STENCIL",Vr[Vr.RENDERBUFFER_WIDTH=36162]="RENDERBUFFER_WIDTH",Vr[Vr.RENDERBUFFER_HEIGHT=36163]="RENDERBUFFER_HEIGHT",Vr[Vr.RENDERBUFFER_INTERNAL_FORMAT=36164]="RENDERBUFFER_INTERNAL_FORMAT",Vr[Vr.RENDERBUFFER_RED_SIZE=36176]="RENDERBUFFER_RED_SIZE",Vr[Vr.RENDERBUFFER_GREEN_SIZE=36177]="RENDERBUFFER_GREEN_SIZE",Vr[Vr.RENDERBUFFER_BLUE_SIZE=36178]="RENDERBUFFER_BLUE_SIZE",Vr[Vr.RENDERBUFFER_ALPHA_SIZE=36179]="RENDERBUFFER_ALPHA_SIZE",Vr[Vr.RENDERBUFFER_DEPTH_SIZE=36180]="RENDERBUFFER_DEPTH_SIZE",Vr[Vr.RENDERBUFFER_STENCIL_SIZE=36181]="RENDERBUFFER_STENCIL_SIZE",Vr[Vr.FRAMEBUFFER_ATTACHMENT_OBJECT_TYPE=36048]="FRAMEBUFFER_ATTACHMENT_OBJECT_TYPE",Vr[Vr.FRAMEBUFFER_ATTACHMENT_OBJECT_NAME=36049]="FRAMEBUFFER_ATTACHMENT_OBJECT_NAME",Vr[Vr.FRAMEBUFFER_ATTACHMENT_TEXTURE_LEVEL=36050]="FRAMEBUFFER_ATTACHMENT_TEXTURE_LEVEL",Vr[Vr.FRAMEBUFFER_ATTACHMENT_TEXTURE_CUBE_MAP_FACE=36051]="FRAMEBUFFER_ATTACHMENT_TEXTURE_CUBE_MAP_FACE",Vr[Vr.COLOR_ATTACHMENT0=36064]="COLOR_ATTACHMENT0",Vr[Vr.DEPTH_ATTACHMENT=36096]="DEPTH_ATTACHMENT",Vr[Vr.STENCIL_ATTACHMENT=36128]="STENCIL_ATTACHMENT",Vr[Vr.DEPTH_STENCIL_ATTACHMENT=33306]="DEPTH_STENCIL_ATTACHMENT",Vr[Vr.NONE=0]="NONE",Vr[Vr.FRAMEBUFFER_COMPLETE=36053]="FRAMEBUFFER_COMPLETE",Vr[Vr.FRAMEBUFFER_INCOMPLETE_ATTACHMENT=36054]="FRAMEBUFFER_INCOMPLETE_ATTACHMENT",Vr[Vr.FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT=36055]="FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT",Vr[Vr.FRAMEBUFFER_INCOMPLETE_DIMENSIONS=36057]="FRAMEBUFFER_INCOMPLETE_DIMENSIONS",Vr[Vr.FRAMEBUFFER_UNSUPPORTED=36061]="FRAMEBUFFER_UNSUPPORTED",Vr[Vr.FRAMEBUFFER_BINDING=36006]="FRAMEBUFFER_BINDING",Vr[Vr.RENDERBUFFER_BINDING=36007]="RENDERBUFFER_BINDING",Vr[Vr.MAX_RENDERBUFFER_SIZE=34024]="MAX_RENDERBUFFER_SIZE",Vr[Vr.INVALID_FRAMEBUFFER_OPERATION=1286]="INVALID_FRAMEBUFFER_OPERATION",Vr[Vr.UNPACK_FLIP_Y_WEBGL=37440]="UNPACK_FLIP_Y_WEBGL",Vr[Vr.UNPACK_PREMULTIPLY_ALPHA_WEBGL=37441]="UNPACK_PREMULTIPLY_ALPHA_WEBGL",Vr[Vr.CONTEXT_LOST_WEBGL=37442]="CONTEXT_LOST_WEBGL",Vr[Vr.UNPACK_COLORSPACE_CONVERSION_WEBGL=37443]="UNPACK_COLORSPACE_CONVERSION_WEBGL",Vr[Vr.BROWSER_DEFAULT_WEBGL=37444]="BROWSER_DEFAULT_WEBGL",Vr[Vr.COPY_SRC=1]="COPY_SRC",Vr[Vr.COPY_DST=2]="COPY_DST",Vr[Vr.SAMPLED=4]="SAMPLED",Vr[Vr.STORAGE=8]="STORAGE",Vr[Vr.RENDER_ATTACHMENT=16]="RENDER_ATTACHMENT";var Ur,Gr,Hr,Wr;"undefined"!==typeof navigator&&/Version\/[\d\.]+.*Safari/.test(navigator.userAgent);!function(e){e.Void="Void",e.Boolean="Boolean",e.Float="Float",e.Uint32="Uint32",e.Int32="Int32",e.Vector="Vector",e.Vector2Float="vec2<f32>",e.Vector3Float="vec3<f32>",e.Vector4Float="vec4<f32>",e.Vector2Boolean="vec2<bool>",e.Vector3Boolean="vec3<bool>",e.Vector4Boolean="vec4<bool>",e.Vector2Uint="vec2<u32>",e.Vector3Uint="vec3<u32>",e.Vector4Uint="vec4<u32>",e.Vector2Int="vec2<i32>",e.Vector3Int="vec3<i32>",e.Vector4Int="vec4<i32>",e.Matrix="Matrix",e.Matrix3x3Float="mat3x3<f32>",e.Matrix4x4Float="mat4x4<i32>",e.Struct="Struct",e.FloatArray="Float[]",e.Vector4FloatArray="vec4<f32>[]"}(Ur||(Ur={})),function(e){e.Program="Program",e.Identifier="Identifier",e.VariableDeclaration="VariableDeclaration",e.BlockStatement="BlockStatement",e.ReturnStatement="ReturnStatement",e.FunctionDeclaration="FunctionDeclaration",e.VariableDeclarator="VariableDeclarator",e.AssignmentExpression="AssignmentExpression",e.LogicalExpression="LogicalExpression",e.BinaryExpression="BinaryExpression",e.ArrayExpression="ArrayExpression",e.UnaryExpression="UnaryExpression",e.UpdateExpression="UpdateExpression",e.FunctionExpression="FunctionExpression",e.MemberExpression="MemberExpression",e.ConditionalExpression="ConditionalExpression",e.ExpressionStatement="ExpressionStatement",e.CallExpression="CallExpression",e.NumThreadStatement="NumThreadStatement",e.StorageStatement="StorageStatement",e.DoWhileStatement="DoWhileStatement",e.WhileStatement="WhileStatement",e.ForStatement="ForStatement",e.BreakStatement="BreakStatement",e.ContinueStatement="ContinueStatement",e.IfStatement="IfStatement",e.ImportedFunctionStatement="ImportedFunctionStatement"}(Gr||(Gr={})),function(e){e.Input="Input",e.Output="Output",e.Uniform="Uniform",e.Workgroup="Workgroup",e.UniformConstant="UniformConstant",e.Image="Image",e.StorageBuffer="StorageBuffer",e.Private="Private",e.Function="Function"}(Hr||(Hr={})),function(e){e.GLSL100="GLSL100",e.GLSL450="GLSL450",e.WGSL="WGSL"}(Wr||(Wr={}));var qr,Xr,Yr,$r,Jr,Qr,Kr,Zr,ei,ti,ni,ri,ii,oi;n(244),qr={},Fr()(qr,zr.POINTS,"points"),Fr()(qr,zr.LINES,"lines"),Fr()(qr,zr.LINE_LOOP,"line loop"),Fr()(qr,zr.LINE_STRIP,"line strip"),Fr()(qr,zr.TRIANGLES,"triangles"),Fr()(qr,zr.TRIANGLE_FAN,"triangle fan"),Fr()(qr,zr.TRIANGLE_STRIP,"triangle strip"),Xr={},Fr()(Xr,zr.STATIC_DRAW,"static"),Fr()(Xr,zr.DYNAMIC_DRAW,"dynamic"),Fr()(Xr,zr.STREAM_DRAW,"stream"),Yr={},Fr()(Yr,zr.BYTE,"int8"),Fr()(Yr,zr.UNSIGNED_INT,"int16"),Fr()(Yr,zr.INT,"int32"),Fr()(Yr,zr.UNSIGNED_BYTE,"uint8"),Fr()(Yr,zr.UNSIGNED_SHORT,"uint16"),Fr()(Yr,zr.UNSIGNED_INT,"uint32"),Fr()(Yr,zr.FLOAT,"float"),$r={},Fr()($r,zr.ALPHA,"alpha"),Fr()($r,zr.LUMINANCE,"luminance"),Fr()($r,zr.LUMINANCE_ALPHA,"luminance alpha"),Fr()($r,zr.RGB,"rgb"),Fr()($r,zr.RGBA,"rgba"),Fr()($r,zr.RGBA4,"rgba4"),Fr()($r,zr.RGB5_A1,"rgb5 a1"),Fr()($r,zr.RGB565,"rgb565"),Fr()($r,zr.DEPTH_COMPONENT,"depth"),Fr()($r,zr.DEPTH_STENCIL,"depth stencil"),Jr={},Fr()(Jr,zr.DONT_CARE,"dont care"),Fr()(Jr,zr.NICEST,"nice"),Fr()(Jr,zr.FASTEST,"fast"),Qr={},Fr()(Qr,zr.NEAREST,"nearest"),Fr()(Qr,zr.LINEAR,"linear"),Fr()(Qr,zr.LINEAR_MIPMAP_LINEAR,"mipmap"),Fr()(Qr,zr.NEAREST_MIPMAP_LINEAR,"nearest mipmap linear"),Fr()(Qr,zr.LINEAR_MIPMAP_NEAREST,"linear mipmap nearest"),Fr()(Qr,zr.NEAREST_MIPMAP_NEAREST,"nearest mipmap nearest"),Kr={},Fr()(Kr,zr.REPEAT,"repeat"),Fr()(Kr,zr.CLAMP_TO_EDGE,"clamp"),Fr()(Kr,zr.MIRRORED_REPEAT,"mirror"),Zr={},Fr()(Zr,zr.NONE,"none"),Fr()(Zr,zr.BROWSER_DEFAULT_WEBGL,"browser"),ei={},Fr()(ei,zr.NEVER,"never"),Fr()(ei,zr.ALWAYS,"always"),Fr()(ei,zr.LESS,"less"),Fr()(ei,zr.LEQUAL,"lequal"),Fr()(ei,zr.GREATER,"greater"),Fr()(ei,zr.GEQUAL,"gequal"),Fr()(ei,zr.EQUAL,"equal"),Fr()(ei,zr.NOTEQUAL,"notequal"),ti={},Fr()(ti,zr.FUNC_ADD,"add"),Fr()(ti,zr.MIN_EXT,"min"),Fr()(ti,zr.MAX_EXT,"max"),Fr()(ti,zr.FUNC_SUBTRACT,"subtract"),Fr()(ti,zr.FUNC_REVERSE_SUBTRACT,"reverse subtract"),ni={},Fr()(ni,zr.ZERO,"zero"),Fr()(ni,zr.ONE,"one"),Fr()(ni,zr.SRC_COLOR,"src color"),Fr()(ni,zr.ONE_MINUS_SRC_COLOR,"one minus src color"),Fr()(ni,zr.SRC_ALPHA,"src alpha"),Fr()(ni,zr.ONE_MINUS_SRC_ALPHA,"one minus src alpha"),Fr()(ni,zr.DST_COLOR,"dst color"),Fr()(ni,zr.ONE_MINUS_DST_COLOR,"one minus dst color"),Fr()(ni,zr.DST_ALPHA,"dst alpha"),Fr()(ni,zr.ONE_MINUS_DST_ALPHA,"one minus dst alpha"),Fr()(ni,zr.CONSTANT_COLOR,"constant color"),Fr()(ni,zr.ONE_MINUS_CONSTANT_COLOR,"one minus constant color"),Fr()(ni,zr.CONSTANT_ALPHA,"constant alpha"),Fr()(ni,zr.ONE_MINUS_CONSTANT_ALPHA,"one minus constant alpha"),Fr()(ni,zr.SRC_ALPHA_SATURATE,"src alpha saturate"),ri={},Fr()(ri,zr.NEVER,"never"),Fr()(ri,zr.ALWAYS,"always"),Fr()(ri,zr.LESS,"less"),Fr()(ri,zr.LEQUAL,"lequal"),Fr()(ri,zr.GREATER,"greater"),Fr()(ri,zr.GEQUAL,"gequal"),Fr()(ri,zr.EQUAL,"equal"),Fr()(ri,zr.NOTEQUAL,"notequal"),ii={},Fr()(ii,zr.ZERO,"zero"),Fr()(ii,zr.KEEP,"keep"),Fr()(ii,zr.REPLACE,"replace"),Fr()(ii,zr.INVERT,"invert"),Fr()(ii,zr.INCR,"increment"),Fr()(ii,zr.DECR,"decrement"),Fr()(ii,zr.INCR_WRAP,"increment wrap"),Fr()(ii,zr.DECR_WRAP,"decrement wrap"),oi={},Fr()(oi,zr.FRONT,"front"),Fr()(oi,zr.BACK,"back"),n(245);n(120),n(246);var ai=function(){function e(){Object(o.a)(this,e),this.cells=[],this.columnNum=0,this.rowNum=0,this.additionColumn=[],this.additionRow=[]}return Object(i.a)(e,[{key:"init",value:function(t,n,r){this.cells=[],this.CELL_W=r.CELL_W||e.DEFAULT_CELL_W,this.CELL_H=r.CELL_H||e.DEFAULT_CELL_H,this.columnNum=Math.ceil(t/this.CELL_W),this.rowNum=Math.ceil(n/this.CELL_H),e.MIN_DIST=Math.pow(t,2)+Math.pow(n,2);for(var i=0;i<this.columnNum;i++){for(var o=[],a=0;a<this.rowNum;a++){var u={dx:i,dy:a,x:i*this.CELL_W,y:a*this.CELL_H,occupied:!1};o.push(u)}this.cells.push(o)}}},{key:"findGridByNodeId",value:function(e){for(var t,n,r=0;r<this.columnNum;r++)for(var i=0;i<this.rowNum;i++)if(this.cells[r][i].node&&(null===(n=null===(t=this.cells[r][i])||void 0===t?void 0:t.node)||void 0===n?void 0:n.id)===e)return{column:r,row:i};return null}},{key:"sqdist",value:function(e,t){return Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2)}},{key:"occupyNearest",value:function(t){for(var n,r=e.MIN_DIST,i=null,o=0;o<this.columnNum;o++)for(var a=0;a<this.rowNum;a++)!this.cells[o][a].occupied&&(n=this.sqdist(t,this.cells[o][a]))<r&&(r=n,i=this.cells[o][a]);return i&&(i.occupied=!0),i}},{key:"insertColumn",value:function(e,t){if(!(t<=0)){for(var n=0;n<t;n++){this.cells[n+this.columnNum]=[];for(var r=0;r<this.rowNum;r++)this.cells[n+this.columnNum][r]={dx:n,dy:r,x:n*this.CELL_W,y:r*this.CELL_H,occupied:!1,node:null}}for(var i=this.columnNum-1;i>e;i--)for(var o=0;o<this.rowNum;o++)this.cells[i+t][o]=Object.assign(Object.assign({},this.cells[i][o]),{x:(i+t)*this.CELL_W,y:o*this.CELL_H}),this.cells[i][o]={x:i*this.CELL_W,y:o*this.CELL_H,occupied:!0,node:null};for(var a=0;a<this.additionColumn.length;a++)this.additionColumn[a]>=e&&(this.additionColumn[a]+=t);for(var u=0;u<t;u++)this.additionColumn.push(e+u+1);this.columnNum+=t}}},{key:"insertRow",value:function(e,t){if(!(t<=0)){for(var n=0;n<t;n++)for(var r=0;r<this.columnNum;r++)this.cells[r][n+this.rowNum]={dx:r,dy:n,x:r*this.CELL_W,y:n*this.CELL_H,occupied:!1,node:null};for(var i=0;i<this.columnNum;i++)for(var o=this.rowNum-1;o>e;o--)this.cells[i][o+t]=Object.assign(Object.assign({},this.cells[i][o]),{dx:i,dy:o+t,x:i*this.CELL_W,y:(o+t)*this.CELL_H}),this.cells[i][o]={dx:i,dy:o,x:i*this.CELL_W,y:o*this.CELL_H,occupied:!1,node:null};for(var a=0;a<this.additionRow.length;a++)this.additionRow[a]>=e&&(this.additionRow[a]+=t);for(var u=0;u<t;u++)this.additionRow.push(e+u+1);this.rowNum+=t}}},{key:"getNodes",value:function(){for(var e=[],t=0;t<this.columnNum;t++)for(var n=0;n<this.rowNum;n++)this.cells[t][n].node&&e.push(this.cells[t][n]);return e}}]),e}();ai.MIN_DIST=50,ai.DEFAULT_CELL_W=80,ai.DEFAULT_CELL_H=80;new Map;n.d(t,"a",function(){return pr})},function(e,t,n){"use strict";var r=n(1),i=n(0),o=n(2),a=n(3),u=n(61),s=function(e){Object(o.a)(n,e);var t=Object(a.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(r.a)(n)}(u.q);!function(e){function t(e){var t=[],n=u.n.getForeignObjectMarkup();return e?t.push.apply(t,[{tagName:e,selector:"body"},n]):t.push(n),t}e.config({view:"react-shape-view",markup:t(),attrs:{body:{fill:"none",stroke:"none",refWidth:"100%",refHeight:"100%"},fo:{refWidth:"100%",refHeight:"100%"}},propHooks:function(e){if(null==e.markup){var n=e.primer;if(n){e.markup=t(n);var r={};switch(n){case"circle":r={refCx:"50%",refCy:"50%",refR:"50%"};break;case"ellipse":r={refCx:"50%",refCy:"50%",refRx:"50%",refRy:"50%"}}e.attrs=u.s.merge({},{body:Object.assign({refWidth:null,refHeight:null},r)},e.attrs||{})}}return e}}),u.q.registry.register("react-shape",e,!0)}(s||(s={}));var c,l=n(10),f=n(7),h=n(4),d=n.n(h),p=n(85),v=n(145),g=n(14),y=n(5);!function(e){var t,n=!1,r=function(e,t){var n=t.payload;switch(t.type){case"add":var r=e.findIndex(function(e){return e.id===n.id});return r>=0?(e[r]=n,Object(y.a)(e)):[].concat(Object(y.a)(e),[n]);case"remove":var i=e.findIndex(function(e){return e.id===n.id});if(i>=0){var o=Object(y.a)(e);return o.splice(i,1),o}}return e};e.connect=function(e,r){n&&t({type:"add",payload:{id:e,portal:r}})},e.disconnect=function(e){n&&t({type:"remove",payload:{id:e}})},e.isActive=function(){return n},e.getProvider=function(){return function(){n=!0;var e=Object(h.useReducer)(r,[]),i=Object(g.a)(e,2),o=i[0],a=i[1];return t=a,d.a.createElement(d.a.Fragment,{children:o.map(function(e){return e.portal})})}}}(c||(c={}));var m={};var b,w=function(e){Object(o.a)(n,e);var t=Object(a.a)(n);function n(e){var r;return Object(i.a)(this,n),(r=t.call(this,e)).state={tick:0},r}return Object(r.a)(n,[{key:"componentDidMount",value:function(){var e=this,t=this.props.node;t.on("change:*",function(n){var r=n.key,i=m[t.shape];if(i){var o=i.effect;o&&!o.includes(r)||e.setState({tick:e.state.tick+1})}})}},{key:"clone",value:function(e){var t=this.props,n=t.node,r=t.graph;return"string"===typeof e.type?d.a.cloneElement(e):d.a.cloneElement(e,{node:n,graph:r})}},{key:"render",value:function(){var e=this.props.node,t=m[e.shape];if(!t)return null;var n=t.component;if(d.a.isValidElement(n))return this.clone(n);var r=n;return this.clone(d.a.createElement(r,null))}}]),n}(d.a.PureComponent),E=function(e){Object(o.a)(n,e);var t=Object(a.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(r.a)(n,[{key:"getComponentContainer",value:function(){return this.selectors&&this.selectors.foContent}},{key:"confirmUpdate",value:function(e){var t=this,r=Object(l.a)(Object(f.a)(n.prototype),"confirmUpdate",this).call(this,e);return this.handleAction(r,n.action,function(){t.renderReactComponent()})}},{key:"renderReactComponent",value:function(){this.unmountReactComponent();var e=this.getComponentContainer(),t=this.cell;if(e){var n=d.a.createElement(w,{node:t,graph:this.graph});if(c.isActive()){var r=Object(p.createPortal)(n,e);c.connect(this.cell.id,r)}else this.root=Object(v.createRoot)(e),this.root.render(n)}}},{key:"unmountReactComponent",value:function(){this.getComponentContainer()&&this.root&&(this.root.unmount(),this.root=void 0)}},{key:"onMouseDown",value:function(e,t,r){var i=e.target;if("input"===i.tagName.toLowerCase()){var o=i.getAttribute("type");if(null==o||["text","password","number","email","search","tel","url"].includes(o))return}Object(l.a)(Object(f.a)(n.prototype),"onMouseDown",this).call(this,e,t,r)}},{key:"unmount",value:function(){return c.isActive()&&c.disconnect(this.cell.id),this.unmountReactComponent(),Object(l.a)(Object(f.a)(n.prototype),"unmount",this).call(this),this}}]),n}(u.r);(b=E||(E={})).action="react",b.config({bootstrap:[b.action],actions:{component:b.action}}),u.r.registry.register("react-shape-view",b,!0),n.d(t,"a",function(){return s})},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";n(194),n(521),n(222),n(223),n(533),n(534),n(535),n(536),n(537),n(538),n(540),n(541),n(543),n(544),n(545),n(546),n(547),n(548),n(549),n(550),n(551),n(227),n(554),n(556),n(557),n(558),n(561),n(562),n(563),n(564),n(565),n(567),n(569),n(571),n(573),n(574),n(575),n(576),n(577),n(578),n(580),n(582),n(623).polyfill()},function(e,t,n){var r=n(28),i=n(112),o=n(53).f,a=r("unscopables"),u=Array.prototype;void 0==u[a]&&o(u,a,{configurable:!0,value:i(null)}),e.exports=function(e){u[a][e]=!0}},function(e,t){e.exports="undefined"!=typeof navigator&&String(navigator.userAgent)||""},function(e,t,n){var r=n(21),i=n(44),o=n(132),a=n(171),u=n(511),s=n(28),c=TypeError,l=s("toPrimitive");e.exports=function(e,t){if(!i(e)||o(e))return e;var n,s=a(e,l);if(s){if(void 0===t&&(t="default"),n=r(s,e,t),!i(n)||o(n))return n;throw c("Can't convert object to primitive value")}return void 0===t&&(t="number"),u(e,t)}},function(e,t,n){var r=n(21),i=n(20),o=n(44),a=TypeError;e.exports=function(e,t){var n,u;if("string"===t&&i(n=e.toString)&&!o(u=r(n,e)))return u;if(i(n=e.valueOf)&&!o(u=r(n,e)))return u;if("string"!==t&&i(n=e.toString)&&!o(u=r(n,e)))return u;throw a("Can't convert object to primitive value")}},function(e,t,n){var r=n(86),i=n(203),o=n(98),a=function(e){return function(t,n,a){var u,s=r(t),c=o(s),l=i(a,c);if(e&&n!=n){for(;c>l;)if((u=s[l++])!=u)return!0}else for(;c>l;l++)if((e||l in s)&&s[l]===n)return e||l||0;return!e&&-1}};e.exports={includes:a(!0),indexOf:a(!1)}},function(e,t){var n=Math.ceil,r=Math.floor;e.exports=Math.trunc||function(e){var t=+e;return(t>0?r:n)(t)}},function(e,t,n){var r=n(133),i=Math.min;e.exports=function(e){return e>0?i(r(e),9007199254740991):0}},function(e,t,n){var r=n(63);e.exports=r("document","documentElement")},function(e,t,n){var r=n(36),i=n(20),o=r.WeakMap;e.exports=i(o)&&/native code/.test(String(o))},function(e,t,n){var r=n(63),i=n(16),o=n(136),a=n(175),u=n(56),s=i([].concat);e.exports=r("Reflect","ownKeys")||function(e){var t=o.f(u(e)),n=a.f;return n?s(t,n(e)):t}},function(e,t,n){"use strict";var r=n(210).IteratorPrototype,i=n(112),o=n(117),a=n(89),u=n(99),s=function(){return this};e.exports=function(e,t,n,c){var l=t+" Iterator";return e.prototype=i(r,{next:o(+!c,n)}),a(e,l,!1,!0),u[l]=s,e}},function(e,t,n){var r=n(26);e.exports=!r(function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype})},function(e,t,n){var r=n(20),i=String,o=TypeError;e.exports=function(e){if("object"==typeof e||r(e))return e;throw o("Can't set "+i(e)+" as a prototype")}},function(e,t,n){n(522)},function(e,t,n){"use strict";n(214)("Map",function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}},n(221))},function(e,t,n){var r=n(203),i=n(98),o=n(177),a=Array,u=Math.max;e.exports=function(e,t,n){for(var s=i(e),c=r(t,s),l=r(void 0===n?s:n,s),f=a(u(l-c,0)),h=0;c<l;c++,h++)o(f,h,e[c]);return f.length=h,f}},function(e,t,n){var r=n(26),i=n(44),o=n(87),a=n(525),u=Object.isExtensible,s=r(function(){u(1)});e.exports=s||a?function(e){return!!i(e)&&((!a||"ArrayBuffer"!=o(e))&&(!u||u(e)))}:u},function(e,t,n){var r=n(26);e.exports=r(function(){if("function"==typeof ArrayBuffer){var e=new ArrayBuffer(8);Object.isExtensible(e)&&Object.defineProperty(e,"a",{value:8})}})},function(e,t,n){var r=n(26);e.exports=!r(function(){return Object.isExtensible(Object.preventExtensions({}))})},function(e,t,n){var r=n(87),i=n(16);e.exports=function(e){if("Function"===r(e))return i(e)}},function(e,t,n){var r=n(20),i=n(44),o=n(212);e.exports=function(e,t,n){var a,u;return o&&r(a=t.constructor)&&a!==n&&i(u=a.prototype)&&u!==n.prototype&&o(e,u),e}},function(e,t,n){var r=n(76);e.exports=function(e,t,n){for(var i in t)r(e,i,t[i],n);return e}},function(e,t,n){"use strict";var r=n(63),i=n(138),o=n(28),a=n(45),u=o("species");e.exports=function(e){var t=r(e);a&&t&&!t[u]&&i(t,u,{configurable:!0,get:function(){return this}})}},function(e,t,n){"use strict";var r=n(179),i=n(118);e.exports=r?{}.toString:function(){return"[object "+i(this)+"]"}},function(e,t,n){var r=n(16),i=n(133),o=n(90),a=n(166),u=r("".charAt),s=r("".charCodeAt),c=r("".slice),l=function(e){return function(t,n){var r,l,f=o(a(t)),h=i(n),d=f.length;return h<0||h>=d?e?"":void 0:(r=s(f,h))<55296||r>56319||h+1===d||(l=s(f,h+1))<56320||l>57343?e?u(f,h):r:e?c(f,h,h+2):l-56320+(r-55296<<10)+65536}};e.exports={codeAt:l(!1),charAt:l(!0)}},function(e,t,n){"use strict";var r=n(9),i=n(46),o=n(64).remove;r({target:"Map",proto:!0,real:!0,forced:!0},{deleteAll:function(){for(var e,t=i(this),n=!0,r=0,a=arguments.length;r<a;r++)e=o(t,arguments[r]),n=n&&e;return!!n}})},function(e,t,n){"use strict";var r=n(9),i=n(30),o=n(46),a=n(65);r({target:"Map",proto:!0,real:!0,forced:!0},{every:function(e){var t=o(this),n=i(e,arguments.length>1?arguments[1]:void 0);return!1!==a(t,function(e,r){if(!n(e,r,t))return!1},!0)}})},function(e,t,n){"use strict";var r=n(9),i=n(30),o=n(46),a=n(64),u=n(65),s=a.Map,c=a.set;r({target:"Map",proto:!0,real:!0,forced:!0},{filter:function(e){var t=o(this),n=i(e,arguments.length>1?arguments[1]:void 0),r=new s;return u(t,function(e,i){n(e,i,t)&&c(r,i,e)}),r}})},function(e,t,n){"use strict";var r=n(9),i=n(30),o=n(46),a=n(65);r({target:"Map",proto:!0,real:!0,forced:!0},{find:function(e){var t=o(this),n=i(e,arguments.length>1?arguments[1]:void 0),r=a(t,function(e,r){if(n(e,r,t))return{value:e}},!0);return r&&r.value}})},function(e,t,n){"use strict";var r=n(9),i=n(30),o=n(46),a=n(65);r({target:"Map",proto:!0,real:!0,forced:!0},{findKey:function(e){var t=o(this),n=i(e,arguments.length>1?arguments[1]:void 0),r=a(t,function(e,r){if(n(e,r,t))return{key:r}},!0);return r&&r.key}})},function(e,t,n){n(9)({target:"Map",stat:!0,forced:!0},{from:n(224)})},function(e,t,n){var r=n(180),i=n(114),o=TypeError;e.exports=function(e){if(r(e))return e;throw o(i(e)+" is not a constructor")}},function(e,t,n){"use strict";var r=n(9),i=n(21),o=n(16),a=n(20),u=n(57),s=n(100),c=n(64).Map,l=o([].push);r({target:"Map",stat:!0,forced:!0},{groupBy:function(e,t){var n=new(a(this)?this:c);u(t);var r=u(n.has),o=u(n.get),f=u(n.set);return s(e,function(e){var a=t(e);i(r,n,a)?l(i(o,n,a),e):i(f,n,a,[e])}),n}})},function(e,t,n){"use strict";var r=n(9),i=n(542),o=n(46),a=n(65);r({target:"Map",proto:!0,real:!0,forced:!0},{includes:function(e){return!0===a(o(this),function(t){if(i(t,e))return!0},!0)}})},function(e,t){e.exports=function(e,t){return e===t||e!=e&&t!=t}},function(e,t,n){"use strict";var r=n(9),i=n(21),o=n(100),a=n(20),u=n(57),s=n(64).Map;r({target:"Map",stat:!0,forced:!0},{keyBy:function(e,t){var n=new(a(this)?this:s);u(t);var r=u(n.set);return o(e,function(e){i(r,n,t(e),e)}),n}})},function(e,t,n){"use strict";var r=n(9),i=n(46),o=n(65);r({target:"Map",proto:!0,real:!0,forced:!0},{keyOf:function(e){var t=o(i(this),function(t,n){if(t===e)return{key:n}},!0);return t&&t.key}})},function(e,t,n){"use strict";var r=n(9),i=n(30),o=n(46),a=n(64),u=n(65),s=a.Map,c=a.set;r({target:"Map",proto:!0,real:!0,forced:!0},{mapKeys:function(e){var t=o(this),n=i(e,arguments.length>1?arguments[1]:void 0),r=new s;return u(t,function(e,i){c(r,n(e,i,t),e)}),r}})},function(e,t,n){"use strict";var r=n(9),i=n(30),o=n(46),a=n(64),u=n(65),s=a.Map,c=a.set;r({target:"Map",proto:!0,real:!0,forced:!0},{mapValues:function(e){var t=o(this),n=i(e,arguments.length>1?arguments[1]:void 0),r=new s;return u(t,function(e,i){c(r,i,n(e,i,t))}),r}})},function(e,t,n){"use strict";var r=n(9),i=n(46),o=n(100),a=n(64).set;r({target:"Map",proto:!0,real:!0,arity:1,forced:!0},{merge:function(e){for(var t=i(this),n=arguments.length,r=0;r<n;)o(arguments[r++],function(e,n){a(t,e,n)},{AS_ENTRIES:!0});return t}})},function(e,t,n){n(9)({target:"Map",stat:!0,forced:!0},{of:n(225)})},function(e,t,n){"use strict";var r=n(9),i=n(57),o=n(46),a=n(65),u=TypeError;r({target:"Map",proto:!0,real:!0,forced:!0},{reduce:function(e){var t=o(this),n=arguments.length<2,r=n?void 0:arguments[1];if(i(e),a(t,function(i,o){n?(n=!1,r=i):r=e(r,i,o,t)}),n)throw u("Reduce of empty map with no initial value");return r}})},function(e,t,n){"use strict";var r=n(9),i=n(30),o=n(46),a=n(65);r({target:"Map",proto:!0,real:!0,forced:!0},{some:function(e){var t=o(this),n=i(e,arguments.length>1?arguments[1]:void 0);return!0===a(t,function(e,r){if(n(e,r,t))return!0},!0)}})},function(e,t,n){"use strict";var r=n(9),i=n(57),o=n(46),a=n(64),u=TypeError,s=a.get,c=a.has,l=a.set;r({target:"Map",proto:!0,real:!0,forced:!0},{update:function(e,t){var n=o(this),r=arguments.length;i(t);var a=c(n,e);if(!a&&r<3)throw u("Updating absent value");var f=a?s(n,e):i(r>2?arguments[2]:void 0)(e,n);return l(n,e,t(f,e,n)),n}})},function(e,t){e.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},function(e,t,n){var r=n(170)("span").classList,i=r&&r.constructor&&r.constructor.prototype;e.exports=i===Object.prototype?void 0:i},function(e,t,n){n(555)},function(e,t,n){"use strict";n(214)("Set",function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}},n(221))},function(e,t,n){"use strict";var r=n(9),i=n(32),o=n(38).add;r({target:"Set",proto:!0,real:!0,forced:!0},{addAll:function(){for(var e=i(this),t=0,n=arguments.length;t<n;t++)o(e,arguments[t]);return e}})},function(e,t,n){"use strict";var r=n(9),i=n(32),o=n(38).remove;r({target:"Set",proto:!0,real:!0,forced:!0},{deleteAll:function(){for(var e,t=i(this),n=!0,r=0,a=arguments.length;r<a;r++)e=o(t,arguments[r]),n=n&&e;return!!n}})},function(e,t,n){"use strict";var r=n(9),i=n(21),o=n(91),a=n(560);r({target:"Set",proto:!0,real:!0,forced:!0},{difference:function(e){return i(a,this,o(e))}})},function(e,t,n){var r=n(118),i=n(31),o=n(88),a=n(28),u=n(99),s=a("iterator"),c=Object;e.exports=function(e){if(o(e))return!1;var t=c(e);return void 0!==t[s]||"@@iterator"in t||i(u,r(t))}},function(e,t,n){"use strict";var r=n(32),i=n(38),o=n(181),a=n(119),u=n(92),s=n(54),c=n(77),l=i.has,f=i.remove;e.exports=function(e){var t=r(this),n=u(e),i=o(t);return a(t)<=n.size?s(t,function(e){n.includes(e)&&f(i,e)}):c(n.getIterator(),function(e){l(t,e)&&f(i,e)}),i}},function(e,t,n){"use strict";var r=n(9),i=n(30),o=n(32),a=n(54);r({target:"Set",proto:!0,real:!0,forced:!0},{every:function(e){var t=o(this),n=i(e,arguments.length>1?arguments[1]:void 0);return!1!==a(t,function(e){if(!n(e,e,t))return!1},!0)}})},function(e,t,n){"use strict";var r=n(9),i=n(30),o=n(32),a=n(38),u=n(54),s=a.Set,c=a.add;r({target:"Set",proto:!0,real:!0,forced:!0},{filter:function(e){var t=o(this),n=i(e,arguments.length>1?arguments[1]:void 0),r=new s;return u(t,function(e){n(e,e,t)&&c(r,e)}),r}})},function(e,t,n){"use strict";var r=n(9),i=n(30),o=n(32),a=n(54);r({target:"Set",proto:!0,real:!0,forced:!0},{find:function(e){var t=o(this),n=i(e,arguments.length>1?arguments[1]:void 0),r=a(t,function(e){if(n(e,e,t))return{value:e}},!0);return r&&r.value}})},function(e,t,n){n(9)({target:"Set",stat:!0,forced:!0},{from:n(224)})},function(e,t,n){"use strict";var r=n(9),i=n(21),o=n(91),a=n(566);r({target:"Set",proto:!0,real:!0,forced:!0},{intersection:function(e){return i(a,this,o(e))}})},function(e,t,n){"use strict";var r=n(32),i=n(38),o=n(119),a=n(92),u=n(54),s=n(77),c=i.Set,l=i.add,f=i.has,h=i.$has,d=i.$keys;e.exports=function(e){var t,n=r(this),i=a(e),p=new c;if(((t=i).has!==h||t.keys!==d)&&o(n)>i.size){if(s(i.getIterator(),function(e){f(n,e)&&l(p,e)}),o(p)<2)return p;var v=p;p=new c,u(n,function(e){f(v,e)&&l(p,e)})}else u(n,function(e){i.includes(e)&&l(p,e)});return p}},function(e,t,n){"use strict";var r=n(9),i=n(21),o=n(91),a=n(568);r({target:"Set",proto:!0,real:!0,forced:!0},{isDisjointFrom:function(e){return i(a,this,o(e))}})},function(e,t,n){"use strict";var r=n(32),i=n(38).has,o=n(119),a=n(92),u=n(54),s=n(77),c=n(137);e.exports=function(e){var t=r(this),n=a(e);if(o(t)<=n.size)return!1!==u(t,function(e){if(n.includes(e))return!1},!0);var l=n.getIterator();return!1!==s(l,function(e){if(i(t,e))return c(l,"normal",!1)})}},function(e,t,n){"use strict";var r=n(9),i=n(21),o=n(91),a=n(570);r({target:"Set",proto:!0,real:!0,forced:!0},{isSubsetOf:function(e){return i(a,this,o(e))}})},function(e,t,n){"use strict";var r=n(32),i=n(119),o=n(54),a=n(92);e.exports=function(e){var t=r(this),n=a(e);return!(i(t)>n.size)&&!1!==o(t,function(e){if(!n.includes(e))return!1},!0)}},function(e,t,n){"use strict";var r=n(9),i=n(21),o=n(91),a=n(572);r({target:"Set",proto:!0,real:!0,forced:!0},{isSupersetOf:function(e){return i(a,this,o(e))}})},function(e,t,n){"use strict";var r=n(32),i=n(38).has,o=n(119),a=n(92),u=n(77),s=n(137);e.exports=function(e){var t=r(this),n=a(e);if(o(t)<n.size)return!1;var c=n.getIterator();return!1!==u(c,function(e){if(!i(t,e))return s(c,"normal",!1)})}},function(e,t,n){"use strict";var r=n(9),i=n(16),o=n(32),a=n(54),u=n(90),s=i([].join),c=i([].push);r({target:"Set",proto:!0,real:!0,forced:!0},{join:function(e){var t=o(this),n=void 0===e?",":u(e),r=[];return a(t,function(e){c(r,e)}),s(r,n)}})},function(e,t,n){"use strict";var r=n(9),i=n(30),o=n(32),a=n(38),u=n(54),s=a.Set,c=a.add;r({target:"Set",proto:!0,real:!0,forced:!0},{map:function(e){var t=o(this),n=i(e,arguments.length>1?arguments[1]:void 0),r=new s;return u(t,function(e){c(r,n(e,e,t))}),r}})},function(e,t,n){n(9)({target:"Set",stat:!0,forced:!0},{of:n(225)})},function(e,t,n){"use strict";var r=n(9),i=n(57),o=n(32),a=n(54),u=TypeError;r({target:"Set",proto:!0,real:!0,forced:!0},{reduce:function(e){var t=o(this),n=arguments.length<2,r=n?void 0:arguments[1];if(i(e),a(t,function(i){n?(n=!1,r=i):r=e(r,i,i,t)}),n)throw u("Reduce of empty set with no initial value");return r}})},function(e,t,n){"use strict";var r=n(9),i=n(30),o=n(32),a=n(54);r({target:"Set",proto:!0,real:!0,forced:!0},{some:function(e){var t=o(this),n=i(e,arguments.length>1?arguments[1]:void 0);return!0===a(t,function(e){if(n(e,e,t))return!0},!0)}})},function(e,t,n){"use strict";var r=n(9),i=n(21),o=n(91),a=n(579);r({target:"Set",proto:!0,real:!0,forced:!0},{symmetricDifference:function(e){return i(a,this,o(e))}})},function(e,t,n){"use strict";var r=n(32),i=n(38),o=n(181),a=n(92),u=n(77),s=i.add,c=i.has,l=i.remove;e.exports=function(e){var t=r(this),n=a(e).getIterator(),i=o(t);return u(n,function(e){c(t,e)?l(i,e):s(i,e)}),i}},function(e,t,n){"use strict";var r=n(9),i=n(21),o=n(91),a=n(581);r({target:"Set",proto:!0,real:!0,forced:!0},{union:function(e){return i(a,this,o(e))}})},function(e,t,n){"use strict";var r=n(32),i=n(38).add,o=n(181),a=n(92),u=n(77);e.exports=function(e){var t=r(this),n=a(e).getIterator(),s=o(t);return u(n,function(e){i(s,e)}),s}},function(e,t,n){"use strict";n(583),n(594),n(595),n(596),n(597),n(598),n(599),n(600),n(601),n(602),n(603),n(604),n(605),n(606),n(607),n(610),n(611),n(222),n(612),n(613),n(614),n(227),n(615),n(223),"undefined"===typeof Promise&&(n(618).enable(),self.Promise=n(620)),"undefined"!==typeof window&&n(621),Object.assign=n(622)},function(e,t,n){n(584),n(588),n(589),n(590),n(593)},function(e,t,n){"use strict";var r=n(9),i=n(36),o=n(21),a=n(16),u=n(111),s=n(45),c=n(97),l=n(26),f=n(31),h=n(113),d=n(56),p=n(86),v=n(131),g=n(90),y=n(117),m=n(112),b=n(201),w=n(136),E=n(216),x=n(175),k=n(174),O=n(53),S=n(198),A=n(204),T=n(76),j=n(138),C=n(110),_=n(134),P=n(115),M=n(130),N=n(28),R=n(228),L=n(33),I=n(229),D=n(89),B=n(116),F=n(586).forEach,z=_("hidden"),V=B.set,U=B.getterFor("Symbol"),G=Object.prototype,H=i.Symbol,W=H&&H.prototype,q=i.TypeError,X=i.QObject,Y=k.f,$=O.f,J=E.f,Q=A.f,K=a([].push),Z=C("symbols"),ee=C("op-symbols"),te=C("wks"),ne=!X||!X.prototype||!X.prototype.findChild,re=s&&l(function(){return 7!=m($({},"a",{get:function(){return $(this,"a",{value:7}).a}})).a})?function(e,t,n){var r=Y(G,t);r&&delete G[t],$(e,t,n),r&&e!==G&&$(G,t,r)}:$,ie=function(e,t){var n=Z[e]=m(W);return V(n,{type:"Symbol",tag:e,description:t}),s||(n.description=t),n},oe=function(e,t,n){e===G&&oe(ee,t,n),d(e);var r=v(t);return d(n),f(Z,r)?(n.enumerable?(f(e,z)&&e[z][r]&&(e[z][r]=!1),n=m(n,{enumerable:y(0,!1)})):(f(e,z)||$(e,z,y(1,{})),e[z][r]=!0),re(e,r,n)):$(e,r,n)},ae=function(e,t){d(e);var n=p(t),r=b(n).concat(le(n));return F(r,function(t){s&&!o(ue,n,t)||oe(e,t,n[t])}),e},ue=function(e){var t=v(e),n=o(Q,this,t);return!(this===G&&f(Z,t)&&!f(ee,t))&&(!(n||!f(this,t)||!f(Z,t)||f(this,z)&&this[z][t])||n)},se=function(e,t){var n=p(e),r=v(t);if(n!==G||!f(Z,r)||f(ee,r)){var i=Y(n,r);return!i||!f(Z,r)||f(n,z)&&n[z][r]||(i.enumerable=!0),i}},ce=function(e){var t=J(p(e)),n=[];return F(t,function(e){f(Z,e)||f(P,e)||K(n,e)}),n},le=function(e){var t=e===G,n=J(t?ee:p(e)),r=[];return F(n,function(e){!f(Z,e)||t&&!f(G,e)||K(r,Z[e])}),r};c||(T(W=(H=function(){if(h(W,this))throw q("Symbol is not a constructor");var e=arguments.length&&void 0!==arguments[0]?g(arguments[0]):void 0,t=M(e);return s&&ne&&re(G,t,{configurable:!0,set:function e(n){this===G&&o(e,ee,n),f(this,z)&&f(this[z],t)&&(this[z][t]=!1),re(this,t,y(1,n))}}),ie(t,e)}).prototype,"toString",function(){return U(this).tag}),T(H,"withoutSetter",function(e){return ie(M(e),e)}),A.f=ue,O.f=oe,S.f=ae,k.f=se,w.f=E.f=ce,x.f=le,R.f=function(e){return ie(N(e),e)},s&&(j(W,"description",{configurable:!0,get:function(){return U(this).description}}),u||T(G,"propertyIsEnumerable",ue,{unsafe:!0}))),r({global:!0,constructor:!0,wrap:!0,forced:!c,sham:!c},{Symbol:H}),F(b(te),function(e){L(e)}),r({target:"Symbol",stat:!0,forced:!c},{useSetter:function(){ne=!0},useSimple:function(){ne=!1}}),r({target:"Object",stat:!0,forced:!c,sham:!s},{create:function(e,t){return void 0===t?m(e):ae(m(e),t)},defineProperty:oe,defineProperties:ae,getOwnPropertyDescriptor:se}),r({target:"Object",stat:!0,forced:!c},{getOwnPropertyNames:ce}),I(),D(H,"Symbol"),P[z]=!0},function(e,t,n){var r=n(36);e.exports=r},function(e,t,n){var r=n(30),i=n(16),o=n(195),a=n(96),u=n(98),s=n(230),c=i([].push),l=function(e){var t=1==e,n=2==e,i=3==e,l=4==e,f=6==e,h=7==e,d=5==e||f;return function(p,v,g,y){for(var m,b,w=a(p),E=o(w),x=r(v,g),k=u(E),O=0,S=y||s,A=t?S(p,k):n||h?S(p,0):void 0;k>O;O++)if((d||O in E)&&(b=x(m=E[O],O,w),e))if(t)A[O]=b;else if(b)switch(e){case 3:return!0;case 5:return m;case 6:return O;case 2:c(A,m)}else switch(e){case 4:return!1;case 7:c(A,m)}return f?-1:i||l?l:A}};e.exports={forEach:l(0),map:l(1),filter:l(2),some:l(3),every:l(4),find:l(5),findIndex:l(6),filterReject:l(7)}},function(e,t,n){var r=n(182),i=n(180),o=n(44),a=n(28)("species"),u=Array;e.exports=function(e){var t;return r(e)&&(t=e.constructor,i(t)&&(t===u||r(t.prototype))?t=void 0:o(t)&&null===(t=t[a])&&(t=void 0)),void 0===t?u:t}},function(e,t,n){var r=n(9),i=n(63),o=n(31),a=n(90),u=n(110),s=n(231),c=u("string-to-symbol-registry"),l=u("symbol-to-string-registry");r({target:"Symbol",stat:!0,forced:!s},{for:function(e){var t=a(e);if(o(c,t))return c[t];var n=i("Symbol")(t);return c[t]=n,l[n]=t,n}})},function(e,t,n){var r=n(9),i=n(31),o=n(132),a=n(114),u=n(110),s=n(231),c=u("symbol-to-string-registry");r({target:"Symbol",stat:!0,forced:!s},{keyFor:function(e){if(!o(e))throw TypeError(a(e)+" is not a symbol");if(i(c,e))return c[e]}})},function(e,t,n){var r=n(9),i=n(63),o=n(591),a=n(21),u=n(16),s=n(26),c=n(20),l=n(132),f=n(226),h=n(592),d=n(97),p=String,v=i("JSON","stringify"),g=u(/./.exec),y=u("".charAt),m=u("".charCodeAt),b=u("".replace),w=u(1..toString),E=/[\uD800-\uDFFF]/g,x=/^[\uD800-\uDBFF]$/,k=/^[\uDC00-\uDFFF]$/,O=!d||s(function(){var e=i("Symbol")();return"[null]"!=v([e])||"{}"!=v({a:e})||"{}"!=v(Object(e))}),S=s(function(){return'"\\udf06\\ud834"'!==v("\udf06\ud834")||'"\\udead"'!==v("\udead")}),A=function(e,t){var n=f(arguments),r=h(t);if(c(r)||void 0!==e&&!l(e))return n[1]=function(e,t){if(c(r)&&(t=a(r,this,p(e),t)),!l(t))return t},o(v,null,n)},T=function(e,t,n){var r=y(n,t-1),i=y(n,t+1);return g(x,e)&&!g(k,i)||g(k,e)&&!g(x,r)?"\\u"+w(m(e,0),16):e};v&&r({target:"JSON",stat:!0,arity:3,forced:O||S},{stringify:function(e,t,n){var r=f(arguments),i=o(O?A:v,null,r);return S&&"string"==typeof i?b(i,E,T):i}})},function(e,t,n){var r=n(129),i=Function.prototype,o=i.apply,a=i.call;e.exports="object"==typeof Reflect&&Reflect.apply||(r?a.bind(o):function(){return a.apply(o,arguments)})},function(e,t,n){var r=n(16),i=n(182),o=n(20),a=n(87),u=n(90),s=r([].push);e.exports=function(e){if(o(e))return e;if(i(e)){for(var t=e.length,n=[],r=0;r<t;r++){var c=e[r];"string"==typeof c?s(n,c):"number"!=typeof c&&"Number"!=a(c)&&"String"!=a(c)||s(n,u(c))}var l=n.length,f=!0;return function(e,t){if(f)return f=!1,t;if(i(this))return t;for(var r=0;r<l;r++)if(n[r]===e)return t}}}},function(e,t,n){var r=n(9),i=n(97),o=n(26),a=n(175),u=n(96);r({target:"Object",stat:!0,forced:!i||o(function(){a.f(1)})},{getOwnPropertySymbols:function(e){var t=a.f;return t?t(u(e)):[]}})},function(e,t,n){"use strict";var r=n(9),i=n(45),o=n(36),a=n(16),u=n(31),s=n(20),c=n(113),l=n(90),f=n(138),h=n(208),d=o.Symbol,p=d&&d.prototype;if(i&&s(d)&&(!("description"in p)||void 0!==d().description)){var v={},g=function(){var e=arguments.length<1||void 0===arguments[0]?void 0:l(arguments[0]),t=c(p,this)?new d(e):void 0===e?d():d(e);return""===e&&(v[t]=!0),t};h(g,d),g.prototype=p,p.constructor=g;var y="Symbol(test)"==String(d("test")),m=a(p.valueOf),b=a(p.toString),w=/^Symbol\((.*)\)[^)]+$/,E=a("".replace),x=a("".slice);f(p,"description",{configurable:!0,get:function(){var e=m(this);if(u(v,e))return"";var t=b(e),n=y?x(t,7,-1):E(t,w,"$1");return""===n?void 0:n}}),r({global:!0,constructor:!0,forced:!0},{Symbol:g})}},function(e,t,n){n(33)("asyncIterator")},function(e,t,n){n(33)("hasInstance")},function(e,t,n){n(33)("isConcatSpreadable")},function(e,t,n){n(33)("iterator")},function(e,t,n){n(33)("match")},function(e,t,n){n(33)("replace")},function(e,t,n){n(33)("search")},function(e,t,n){n(33)("species")},function(e,t,n){n(33)("split")},function(e,t,n){var r=n(33),i=n(229);r("toPrimitive"),i()},function(e,t,n){var r=n(63),i=n(33),o=n(89);i("toStringTag"),o(r("Symbol"),"Symbol")},function(e,t,n){n(33)("unscopables")},function(e,t,n){"use strict";var r=n(9),i=n(26),o=n(182),a=n(44),u=n(96),s=n(98),c=n(608),l=n(177),f=n(230),h=n(609),d=n(28),p=n(169),v=d("isConcatSpreadable"),g=p>=51||!i(function(){var e=[];return e[v]=!1,e.concat()[0]!==e}),y=function(e){if(!a(e))return!1;var t=e[v];return void 0!==t?!!t:o(e)};r({target:"Array",proto:!0,arity:1,forced:!g||!h("concat")},{concat:function(e){var t,n,r,i,o,a=u(this),h=f(a,0),d=0;for(t=-1,r=arguments.length;t<r;t++)if(o=-1===t?a:arguments[t],y(o))for(i=s(o),c(d+i),n=0;n<i;n++,d++)n in o&&l(h,d,o[n]);else c(d+1),l(h,d++,o);return h.length=d,h}})},function(e,t){var n=TypeError;e.exports=function(e){if(e>9007199254740991)throw n("Maximum allowed index exceeded");return e}},function(e,t,n){var r=n(26),i=n(28),o=n(169),a=i("species");e.exports=function(e){return o>=51||!r(function(){var t=[];return(t.constructor={})[a]=function(){return{foo:1}},1!==t[e](Boolean).foo})}},function(e,t,n){var r=n(36);n(89)(r.JSON,"JSON",!0)},function(e,t,n){n(89)(Math,"Math",!0)},function(e,t,n){n(33)("dispose")},function(e,t,n){n(33)("observable")},function(e,t,n){n(33)("patternMatch")},function(e,t,n){var r=n(9),i=n(616);r({target:"Array",stat:!0,forced:!n(220)(function(e){Array.from(e)})},{from:i})},function(e,t,n){"use strict";var r=n(30),i=n(21),o=n(96),a=n(617),u=n(217),s=n(180),c=n(98),l=n(177),f=n(218),h=n(178),d=Array;e.exports=function(e){var t=o(e),n=s(this),p=arguments.length,v=p>1?arguments[1]:void 0,g=void 0!==v;g&&(v=r(v,p>2?arguments[2]:void 0));var y,m,b,w,E,x,k=h(t),O=0;if(!k||this===d&&u(k))for(y=c(t),m=n?new this(y):d(y);y>O;O++)x=g?v(t[O],O):t[O],l(m,O,x);else for(E=(w=f(t,k)).next,m=n?new this:[];!(b=i(E,w)).done;O++)x=g?a(w,v,[b.value,O],!0):b.value,l(m,O,x);return m.length=O,m}},function(e,t,n){var r=n(56),i=n(137);e.exports=function(e,t,n,o){try{return o?t(r(n)[0],n[1]):t(n)}catch(a){i(e,"throw",a)}}},function(e,t,n){"use strict";var r=n(232),i=[ReferenceError,TypeError,RangeError],o=!1;function a(){o=!1,r._B=null,r._C=null}function u(e,t){return t.some(function(t){return e instanceof t})}t.disable=a,t.enable=function(e){e=e||{},o&&a();o=!0;var t=0,n=0,s={};function c(t){(e.allRejections||u(s[t].error,e.whitelist||i))&&(s[t].displayId=n++,e.onUnhandled?(s[t].logged=!0,e.onUnhandled(s[t].displayId,s[t].error)):(s[t].logged=!0,function(e,t){console.warn("Possible Unhandled Promise Rejection (id: "+e+"):"),((t&&(t.stack||t))+"").split("\n").forEach(function(e){console.warn("  "+e)})}(s[t].displayId,s[t].error)))}r._B=function(t){var n;2===t._y&&s[t._E]&&(s[t._E].logged?(n=t._E,s[n].logged&&(e.onHandled?e.onHandled(s[n].displayId,s[n].error):s[n].onUnhandled||(console.warn("Promise Rejection Handled (id: "+s[n].displayId+"):"),console.warn('  This means you can ignore any previous messages of the form "Possible Unhandled Promise Rejection" with id '+s[n].displayId+".")))):clearTimeout(s[t._E].timeout),delete s[t._E])},r._C=function(e,n){0===e._x&&(e._E=t++,s[e._E]={displayId:null,error:n,timeout:setTimeout(c.bind(null,e._E),u(n,i)?100:2e3),logged:!1})}}},function(e,t,n){"use strict";(function(t){function n(e){i.length||(r(),!0),i[i.length]=e}e.exports=n;var r,i=[],o=0,a=1024;function u(){for(;o<i.length;){var e=o;if(o+=1,i[e].call(),o>a){for(var t=0,n=i.length-o;t<n;t++)i[t]=i[t+o];i.length-=o,o=0}}i.length=0,o=0,!1}var s="undefined"!==typeof t?t:self,c=s.MutationObserver||s.WebKitMutationObserver;function l(e){return function(){var t=setTimeout(r,0),n=setInterval(r,50);function r(){clearTimeout(t),clearInterval(n),e()}}}r="function"===typeof c?function(e){var t=1,n=new c(e),r=document.createTextNode("");return n.observe(r,{characterData:!0}),function(){t=-t,r.data=t}}(u):l(u),n.requestFlush=r,n.makeRequestCallFromTimer=l}).call(this,n(62))},function(e,t,n){"use strict";var r=n(232);e.exports=r;var i=l(!0),o=l(!1),a=l(null),u=l(void 0),s=l(0),c=l("");function l(e){var t=new r(r._D);return t._y=1,t._z=e,t}r.resolve=function(e){if(e instanceof r)return e;if(null===e)return a;if(void 0===e)return u;if(!0===e)return i;if(!1===e)return o;if(0===e)return s;if(""===e)return c;if("object"===typeof e||"function"===typeof e)try{var t=e.then;if("function"===typeof t)return new r(t.bind(e))}catch(n){return new r(function(e,t){t(n)})}return l(e)};var f=function(e){return"function"===typeof Array.from?(f=Array.from,Array.from(e)):(f=function(e){return Array.prototype.slice.call(e)},Array.prototype.slice.call(e))};function h(e){return{status:"fulfilled",value:e}}function d(e){return{status:"rejected",reason:e}}function p(e){if(e&&("object"===typeof e||"function"===typeof e)){if(e instanceof r&&e.then===r.prototype.then)return e.then(h,d);var t=e.then;if("function"===typeof t)return new r(t.bind(e)).then(h,d)}return h(e)}function v(e){if("function"===typeof AggregateError)return new AggregateError(e,"All promises were rejected");var t=new Error("All promises were rejected");return t.name="AggregateError",t.errors=e,t}r.all=function(e){var t=f(e);return new r(function(e,n){if(0===t.length)return e([]);var i=t.length;function o(a,u){if(u&&("object"===typeof u||"function"===typeof u)){if(u instanceof r&&u.then===r.prototype.then){for(;3===u._y;)u=u._z;return 1===u._y?o(a,u._z):(2===u._y&&n(u._z),void u.then(function(e){o(a,e)},n))}var s=u.then;if("function"===typeof s)return void new r(s.bind(u)).then(function(e){o(a,e)},n)}t[a]=u,0===--i&&e(t)}for(var a=0;a<t.length;a++)o(a,t[a])})},r.allSettled=function(e){return r.all(f(e).map(p))},r.reject=function(e){return new r(function(t,n){n(e)})},r.race=function(e){return new r(function(t,n){f(e).forEach(function(e){r.resolve(e).then(t,n)})})},r.prototype.catch=function(e){return this.then(null,e)},r.any=function(e){return new r(function(t,n){var i=f(e),o=!1,a=[];function u(e){o||(o=!0,t(e))}function s(e){a.push(e),a.length===i.length&&n(v(a))}0===i.length?n(v(a)):i.forEach(function(e){r.resolve(e).then(u,s)})})}},function(e,t,n){"use strict";n.r(t),n.d(t,"Headers",function(){return l}),n.d(t,"Request",function(){return y}),n.d(t,"Response",function(){return w}),n.d(t,"DOMException",function(){return x}),n.d(t,"fetch",function(){return k});var r="undefined"!==typeof globalThis&&globalThis||"undefined"!==typeof self&&self||"undefined"!==typeof r&&r,i={searchParams:"URLSearchParams"in r,iterable:"Symbol"in r&&"iterator"in Symbol,blob:"FileReader"in r&&"Blob"in r&&function(){try{return new Blob,!0}catch(e){return!1}}(),formData:"FormData"in r,arrayBuffer:"ArrayBuffer"in r};if(i.arrayBuffer)var o=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],a=ArrayBuffer.isView||function(e){return e&&o.indexOf(Object.prototype.toString.call(e))>-1};function u(e){if("string"!==typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(e)||""===e)throw new TypeError('Invalid character in header field name: "'+e+'"');return e.toLowerCase()}function s(e){return"string"!==typeof e&&(e=String(e)),e}function c(e){var t={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return i.iterable&&(t[Symbol.iterator]=function(){return t}),t}function l(e){this.map={},e instanceof l?e.forEach(function(e,t){this.append(t,e)},this):Array.isArray(e)?e.forEach(function(e){this.append(e[0],e[1])},this):e&&Object.getOwnPropertyNames(e).forEach(function(t){this.append(t,e[t])},this)}function f(e){if(e.bodyUsed)return Promise.reject(new TypeError("Already read"));e.bodyUsed=!0}function h(e){return new Promise(function(t,n){e.onload=function(){t(e.result)},e.onerror=function(){n(e.error)}})}function d(e){var t=new FileReader,n=h(t);return t.readAsArrayBuffer(e),n}function p(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function v(){return this.bodyUsed=!1,this._initBody=function(e){var t;this.bodyUsed=this.bodyUsed,this._bodyInit=e,e?"string"===typeof e?this._bodyText=e:i.blob&&Blob.prototype.isPrototypeOf(e)?this._bodyBlob=e:i.formData&&FormData.prototype.isPrototypeOf(e)?this._bodyFormData=e:i.searchParams&&URLSearchParams.prototype.isPrototypeOf(e)?this._bodyText=e.toString():i.arrayBuffer&&i.blob&&((t=e)&&DataView.prototype.isPrototypeOf(t))?(this._bodyArrayBuffer=p(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):i.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(e)||a(e))?this._bodyArrayBuffer=p(e):this._bodyText=e=Object.prototype.toString.call(e):this._bodyText="",this.headers.get("content-type")||("string"===typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):i.searchParams&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},i.blob&&(this.blob=function(){var e=f(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){if(this._bodyArrayBuffer){var e=f(this);return e||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer))}return this.blob().then(d)}),this.text=function(){var e=f(this);if(e)return e;if(this._bodyBlob)return function(e){var t=new FileReader,n=h(t);return t.readAsText(e),n}(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(function(e){for(var t=new Uint8Array(e),n=new Array(t.length),r=0;r<t.length;r++)n[r]=String.fromCharCode(t[r]);return n.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},i.formData&&(this.formData=function(){return this.text().then(m)}),this.json=function(){return this.text().then(JSON.parse)},this}l.prototype.append=function(e,t){e=u(e),t=s(t);var n=this.map[e];this.map[e]=n?n+", "+t:t},l.prototype.delete=function(e){delete this.map[u(e)]},l.prototype.get=function(e){return e=u(e),this.has(e)?this.map[e]:null},l.prototype.has=function(e){return this.map.hasOwnProperty(u(e))},l.prototype.set=function(e,t){this.map[u(e)]=s(t)},l.prototype.forEach=function(e,t){for(var n in this.map)this.map.hasOwnProperty(n)&&e.call(t,this.map[n],n,this)},l.prototype.keys=function(){var e=[];return this.forEach(function(t,n){e.push(n)}),c(e)},l.prototype.values=function(){var e=[];return this.forEach(function(t){e.push(t)}),c(e)},l.prototype.entries=function(){var e=[];return this.forEach(function(t,n){e.push([n,t])}),c(e)},i.iterable&&(l.prototype[Symbol.iterator]=l.prototype.entries);var g=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function y(e,t){if(!(this instanceof y))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');var n=(t=t||{}).body;if(e instanceof y){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new l(e.headers)),this.method=e.method,this.mode=e.mode,this.signal=e.signal,n||null==e._bodyInit||(n=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=t.credentials||this.credentials||"same-origin",!t.headers&&this.headers||(this.headers=new l(t.headers)),this.method=function(e){var t=e.toUpperCase();return g.indexOf(t)>-1?t:e}(t.method||this.method||"GET"),this.mode=t.mode||this.mode||null,this.signal=t.signal||this.signal,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&n)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(n),("GET"===this.method||"HEAD"===this.method)&&("no-store"===t.cache||"no-cache"===t.cache)){var r=/([?&])_=[^&]*/;if(r.test(this.url))this.url=this.url.replace(r,"$1_="+(new Date).getTime());else{this.url+=(/\?/.test(this.url)?"&":"?")+"_="+(new Date).getTime()}}}function m(e){var t=new FormData;return e.trim().split("&").forEach(function(e){if(e){var n=e.split("="),r=n.shift().replace(/\+/g," "),i=n.join("=").replace(/\+/g," ");t.append(decodeURIComponent(r),decodeURIComponent(i))}}),t}function b(e){var t=new l;return e.replace(/\r?\n[\t ]+/g," ").split("\r").map(function(e){return 0===e.indexOf("\n")?e.substr(1,e.length):e}).forEach(function(e){var n=e.split(":"),r=n.shift().trim();if(r){var i=n.join(":").trim();t.append(r,i)}}),t}function w(e,t){if(!(this instanceof w))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');t||(t={}),this.type="default",this.status=void 0===t.status?200:t.status,this.ok=this.status>=200&&this.status<300,this.statusText=void 0===t.statusText?"":""+t.statusText,this.headers=new l(t.headers),this.url=t.url||"",this._initBody(e)}y.prototype.clone=function(){return new y(this,{body:this._bodyInit})},v.call(y.prototype),v.call(w.prototype),w.prototype.clone=function(){return new w(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new l(this.headers),url:this.url})},w.error=function(){var e=new w(null,{status:0,statusText:""});return e.type="error",e};var E=[301,302,303,307,308];w.redirect=function(e,t){if(-1===E.indexOf(t))throw new RangeError("Invalid status code");return new w(null,{status:t,headers:{location:e}})};var x=r.DOMException;try{new x}catch(O){(x=function(e,t){this.message=e,this.name=t;var n=Error(e);this.stack=n.stack}).prototype=Object.create(Error.prototype),x.prototype.constructor=x}function k(e,t){return new Promise(function(n,o){var a=new y(e,t);if(a.signal&&a.signal.aborted)return o(new x("Aborted","AbortError"));var u=new XMLHttpRequest;function c(){u.abort()}u.onload=function(){var e={status:u.status,statusText:u.statusText,headers:b(u.getAllResponseHeaders()||"")};e.url="responseURL"in u?u.responseURL:e.headers.get("X-Request-URL");var t="response"in u?u.response:u.responseText;setTimeout(function(){n(new w(t,e))},0)},u.onerror=function(){setTimeout(function(){o(new TypeError("Network request failed"))},0)},u.ontimeout=function(){setTimeout(function(){o(new TypeError("Network request failed"))},0)},u.onabort=function(){setTimeout(function(){o(new x("Aborted","AbortError"))},0)},u.open(a.method,function(e){try{return""===e&&r.location.href?r.location.href:e}catch(t){return e}}(a.url),!0),"include"===a.credentials?u.withCredentials=!0:"omit"===a.credentials&&(u.withCredentials=!1),"responseType"in u&&(i.blob?u.responseType="blob":i.arrayBuffer&&a.headers.get("Content-Type")&&-1!==a.headers.get("Content-Type").indexOf("application/octet-stream")&&(u.responseType="arraybuffer")),!t||"object"!==typeof t.headers||t.headers instanceof l?a.headers.forEach(function(e,t){u.setRequestHeader(t,e)}):Object.getOwnPropertyNames(t.headers).forEach(function(e){u.setRequestHeader(e,s(t.headers[e]))}),a.signal&&(a.signal.addEventListener("abort",c),u.onreadystatechange=function(){4===u.readyState&&a.signal.removeEventListener("abort",c)}),u.send("undefined"===typeof a._bodyInit?null:a._bodyInit)})}k.polyfill=!0,r.fetch||(r.fetch=k,r.Headers=l,r.Request=y,r.Response=w)},function(e,t,n){"use strict";var r=Object.getOwnPropertySymbols,i=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable;e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map(function(e){return t[e]}).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach(function(e){r[e]=e}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(i){return!1}}()?Object.assign:function(e,t){for(var n,a,u=function(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}(e),s=1;s<arguments.length;s++){for(var c in n=Object(arguments[s]))i.call(n,c)&&(u[c]=n[c]);if(r){a=r(n);for(var l=0;l<a.length;l++)o.call(n,a[l])&&(u[a[l]]=n[a[l]])}}return u}},function(e,t,n){(function(t){for(var r=n(624),i="undefined"===typeof window?t:window,o=["moz","webkit"],a="AnimationFrame",u=i["request"+a],s=i["cancel"+a]||i["cancelRequest"+a],c=0;!u&&c<o.length;c++)u=i[o[c]+"Request"+a],s=i[o[c]+"Cancel"+a]||i[o[c]+"CancelRequest"+a];if(!u||!s){var l=0,f=0,h=[];u=function(e){if(0===h.length){var t=r(),n=Math.max(0,1e3/60-(t-l));l=n+t,setTimeout(function(){var e=h.slice(0);h.length=0;for(var t=function(){if(!e[n].cancelled)try{e[n].callback(l)}catch(t){setTimeout(function(){throw t},0)}},n=0;n<e.length;n++)t()},Math.round(n))}return h.push({handle:++f,callback:e,cancelled:!1}),f},s=function(e){for(var t=0;t<h.length;t++)h[t].handle===e&&(h[t].cancelled=!0)}}e.exports=function(e){return u.call(i,e)},e.exports.cancel=function(){s.apply(i,arguments)},e.exports.polyfill=function(e){e||(e=i),e.requestAnimationFrame=u,e.cancelAnimationFrame=s}}).call(this,n(62))},function(e,t,n){(function(t){(function(){var n,r,i,o,a,u;"undefined"!==typeof performance&&null!==performance&&performance.now?e.exports=function(){return performance.now()}:"undefined"!==typeof t&&null!==t&&t.hrtime?(e.exports=function(){return(n()-a)/1e6},r=t.hrtime,o=(n=function(){var e;return 1e9*(e=r())[0]+e[1]})(),u=1e9*t.uptime(),a=o-u):Date.now?(e.exports=function(){return Date.now()-i},i=Date.now()):(e.exports=function(){return(new Date).getTime()-i},i=(new Date).getTime())}).call(this)}).call(this,n(191))},function(e,t,n){"use strict";var r=Symbol.for("react.element"),i=Symbol.for("react.portal"),o=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),u=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),c=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),p=Symbol.iterator;var v={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},g=Object.assign,y={};function m(e,t,n){this.props=e,this.context=t,this.refs=y,this.updater=n||v}function b(){}function w(e,t,n){this.props=e,this.context=t,this.refs=y,this.updater=n||v}m.prototype.isReactComponent={},m.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},m.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},b.prototype=m.prototype;var E=w.prototype=new b;E.constructor=w,g(E,m.prototype),E.isPureReactComponent=!0;var x=Array.isArray,k=Object.prototype.hasOwnProperty,O={current:null},S={key:!0,ref:!0,__self:!0,__source:!0};function A(e,t,n){var i,o={},a=null,u=null;if(null!=t)for(i in void 0!==t.ref&&(u=t.ref),void 0!==t.key&&(a=""+t.key),t)k.call(t,i)&&!S.hasOwnProperty(i)&&(o[i]=t[i]);var s=arguments.length-2;if(1===s)o.children=n;else if(1<s){for(var c=Array(s),l=0;l<s;l++)c[l]=arguments[l+2];o.children=c}if(e&&e.defaultProps)for(i in s=e.defaultProps)void 0===o[i]&&(o[i]=s[i]);return{$$typeof:r,type:e,key:a,ref:u,props:o,_owner:O.current}}function T(e){return"object"===typeof e&&null!==e&&e.$$typeof===r}var j=/\/+/g;function C(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(e){return t[e]})}(""+e.key):t.toString(36)}function _(e,t,n,o,a){var u=typeof e;"undefined"!==u&&"boolean"!==u||(e=null);var s=!1;if(null===e)s=!0;else switch(u){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case r:case i:s=!0}}if(s)return a=a(s=e),e=""===o?"."+C(s,0):o,x(a)?(n="",null!=e&&(n=e.replace(j,"$&/")+"/"),_(a,t,n,"",function(e){return e})):null!=a&&(T(a)&&(a=function(e,t){return{$$typeof:r,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(a,n+(!a.key||s&&s.key===a.key?"":(""+a.key).replace(j,"$&/")+"/")+e)),t.push(a)),1;if(s=0,o=""===o?".":o+":",x(e))for(var c=0;c<e.length;c++){var l=o+C(u=e[c],c);s+=_(u,t,n,l,a)}else if("function"===typeof(l=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=p&&e[p]||e["@@iterator"])?e:null}(e)))for(e=l.call(e),c=0;!(u=e.next()).done;)s+=_(u=u.value,t,n,l=o+C(u,c++),a);else if("object"===u)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return s}function P(e,t,n){if(null==e)return e;var r=[],i=0;return _(e,r,"","",function(e){return t.call(n,e,i++)}),r}function M(e){if(-1===e._status){var t=e._result;(t=t()).then(function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)},function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)}),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var N={current:null},R={transition:null},L={ReactCurrentDispatcher:N,ReactCurrentBatchConfig:R,ReactCurrentOwner:O};t.Children={map:P,forEach:function(e,t,n){P(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return P(e,function(){t++}),t},toArray:function(e){return P(e,function(e){return e})||[]},only:function(e){if(!T(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=m,t.Fragment=o,t.Profiler=u,t.PureComponent=w,t.StrictMode=a,t.Suspense=f,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=L,t.cloneElement=function(e,t,n){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=g({},e.props),o=e.key,a=e.ref,u=e._owner;if(null!=t){if(void 0!==t.ref&&(a=t.ref,u=O.current),void 0!==t.key&&(o=""+t.key),e.type&&e.type.defaultProps)var s=e.type.defaultProps;for(c in t)k.call(t,c)&&!S.hasOwnProperty(c)&&(i[c]=void 0===t[c]&&void 0!==s?s[c]:t[c])}var c=arguments.length-2;if(1===c)i.children=n;else if(1<c){s=Array(c);for(var l=0;l<c;l++)s[l]=arguments[l+2];i.children=s}return{$$typeof:r,type:e.type,key:o,ref:a,props:i,_owner:u}},t.createContext=function(e){return(e={$$typeof:c,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:s,_context:e},e.Consumer=e},t.createElement=A,t.createFactory=function(e){var t=A.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:l,render:e}},t.isValidElement=T,t.lazy=function(e){return{$$typeof:d,_payload:{_status:-1,_result:e},_init:M}},t.memo=function(e,t){return{$$typeof:h,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=R.transition;R.transition={};try{e()}finally{R.transition=t}},t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},t.useCallback=function(e,t){return N.current.useCallback(e,t)},t.useContext=function(e){return N.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return N.current.useDeferredValue(e)},t.useEffect=function(e,t){return N.current.useEffect(e,t)},t.useId=function(){return N.current.useId()},t.useImperativeHandle=function(e,t,n){return N.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return N.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return N.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return N.current.useMemo(e,t)},t.useReducer=function(e,t,n){return N.current.useReducer(e,t,n)},t.useRef=function(e){return N.current.useRef(e)},t.useState=function(e){return N.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return N.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return N.current.useTransition()},t.version="18.2.0"},function(e,t,n){"use strict";var r=n(4),i=n(627);function o(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=new Set,u={};function s(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(u[e]=t,e=0;e<t.length;e++)a.add(t[e])}var l=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),f=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d={},p={};function v(e,t,n,r,i,o,a){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=a}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){g[e]=new v(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];g[t]=new v(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){g[e]=new v(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){g[e]=new v(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){g[e]=new v(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){g[e]=new v(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){g[e]=new v(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){g[e]=new v(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){g[e]=new v(e,5,!1,e.toLowerCase(),null,!1,!1)});var y=/[\-:]([a-z])/g;function m(e){return e[1].toUpperCase()}function b(e,t,n,r){var i=g.hasOwnProperty(t)?g[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!f.call(p,e)||!f.call(d,e)&&(h.test(e)?p[e]=!0:(d[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(y,m);g[t]=new v(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(y,m);g[t]=new v(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(y,m);g[t]=new v(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){g[e]=new v(e,1,!1,e.toLowerCase(),null,!1,!1)}),g.xlinkHref=new v("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){g[e]=new v(e,1,!1,e.toLowerCase(),null,!0,!0)});var w=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,E=Symbol.for("react.element"),x=Symbol.for("react.portal"),k=Symbol.for("react.fragment"),O=Symbol.for("react.strict_mode"),S=Symbol.for("react.profiler"),A=Symbol.for("react.provider"),T=Symbol.for("react.context"),j=Symbol.for("react.forward_ref"),C=Symbol.for("react.suspense"),_=Symbol.for("react.suspense_list"),P=Symbol.for("react.memo"),M=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var N=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var R=Symbol.iterator;function L(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=R&&e[R]||e["@@iterator"])?e:null}var I,D=Object.assign;function B(e){if(void 0===I)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);I=t&&t[1]||""}return"\n"+I+e}var F=!1;function z(e,t){if(!e||F)return"";F=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&"string"===typeof c.stack){for(var i=c.stack.split("\n"),o=r.stack.split("\n"),a=i.length-1,u=o.length-1;1<=a&&0<=u&&i[a]!==o[u];)u--;for(;1<=a&&0<=u;a--,u--)if(i[a]!==o[u]){if(1!==a||1!==u)do{if(a--,0>--u||i[a]!==o[u]){var s="\n"+i[a].replace(" at new "," at ");return e.displayName&&s.includes("<anonymous>")&&(s=s.replace("<anonymous>",e.displayName)),s}}while(1<=a&&0<=u);break}}}finally{F=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?B(e):""}function V(e){switch(e.tag){case 5:return B(e.type);case 16:return B("Lazy");case 13:return B("Suspense");case 19:return B("SuspenseList");case 0:case 2:case 15:return e=z(e.type,!1);case 11:return e=z(e.type.render,!1);case 1:return e=z(e.type,!0);default:return""}}function U(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return function e(t){if(null==t)return null;if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t;switch(t){case k:return"Fragment";case x:return"Portal";case S:return"Profiler";case O:return"StrictMode";case C:return"Suspense";case _:return"SuspenseList"}if("object"===typeof t)switch(t.$$typeof){case T:return(t.displayName||"Context")+".Consumer";case A:return(t._context.displayName||"Context")+".Provider";case j:var n=t.render;return(t=t.displayName)||(t=""!==(t=n.displayName||n.name||"")?"ForwardRef("+t+")":"ForwardRef"),t;case P:return null!==(n=t.displayName||null)?n:e(t.type)||"Memo";case M:n=t._payload,t=t._init;try{return e(t(n))}catch(r){}}return null}(t);case 8:return t===O?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function G(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function H(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function W(e){e._valueTracker||(e._valueTracker=function(e){var t=H(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,o.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function q(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=H(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function X(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Y(e,t){var n=t.checked;return D({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function $(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=G(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function J(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function Q(e,t){J(e,t);var n=G(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?Z(e,t.type,n):t.hasOwnProperty("defaultValue")&&Z(e,t.type,G(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function K(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function Z(e,t,n){"number"===t&&X(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var ee=Array.isArray;function te(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+G(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function ne(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(o(91));return D({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function re(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(o(92));if(ee(n)){if(1<n.length)throw Error(o(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:G(n)}}function ie(e,t){var n=G(t.value),r=G(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function oe(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function ae(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ue(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?ae(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var se,ce,le=(ce=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((se=se||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=se.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction(function(){return ce(e,t)})}:ce);function fe(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var he={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},de=["Webkit","ms","Moz","O"];function pe(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||he.hasOwnProperty(e)&&he[e]?(""+t).trim():t+"px"}function ve(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=pe(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(he).forEach(function(e){de.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),he[t]=he[e]})});var ge=D({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ye(e,t){if(t){if(ge[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(o(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(o(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(o(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(o(62))}}function me(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var be=null;function we(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Ee=null,xe=null,ke=null;function Oe(e){if(e=hi(e)){if("function"!==typeof Ee)throw Error(o(280));var t=e.stateNode;t&&(t=pi(t),Ee(e.stateNode,e.type,t))}}function Se(e){xe?ke?ke.push(e):ke=[e]:xe=e}function Ae(){if(xe){var e=xe,t=ke;if(ke=xe=null,Oe(e),t)for(e=0;e<t.length;e++)Oe(t[e])}}function Te(e,t){return e(t)}function je(){}var Ce=!1;function _e(e,t,n){if(Ce)return e(t,n);Ce=!0;try{return Te(e,t,n)}finally{Ce=!1,(null!==xe||null!==ke)&&(je(),Ae())}}function Pe(e,t){var n=e.stateNode;if(null===n)return null;var r=pi(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(o(231,t,typeof n));return n}var Me=!1;if(l)try{var Ne={};Object.defineProperty(Ne,"passive",{get:function(){Me=!0}}),window.addEventListener("test",Ne,Ne),window.removeEventListener("test",Ne,Ne)}catch(ce){Me=!1}var Re=!1,Le=null,Ie=!1,De=null,Be={onError:function(e){Re=!0,Le=e}};function Fe(e,t,n,r,i,o,a,u,s){Re=!1,Le=null,function(e,t,n,r,i,o,a,u,s){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(l){this.onError(l)}}.apply(Be,arguments)}function ze(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function Ve(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function Ue(e){if(ze(e)!==e)throw Error(o(188))}function Ge(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=ze(e)))throw Error(o(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var a=i.alternate;if(null===a){if(null!==(r=i.return)){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return Ue(i),e;if(a===r)return Ue(i),t;a=a.sibling}throw Error(o(188))}if(n.return!==r.return)n=i,r=a;else{for(var u=!1,s=i.child;s;){if(s===n){u=!0,n=i,r=a;break}if(s===r){u=!0,r=i,n=a;break}s=s.sibling}if(!u){for(s=a.child;s;){if(s===n){u=!0,n=a,r=i;break}if(s===r){u=!0,r=a,n=i;break}s=s.sibling}if(!u)throw Error(o(189))}}if(n.alternate!==r)throw Error(o(190))}if(3!==n.tag)throw Error(o(188));return n.stateNode.current===n?e:t}(e))?function e(t){if(5===t.tag||6===t.tag)return t;for(t=t.child;null!==t;){var n=e(t);if(null!==n)return n;t=t.sibling}return null}(e):null}var He=i.unstable_scheduleCallback,We=i.unstable_cancelCallback,qe=i.unstable_shouldYield,Xe=i.unstable_requestPaint,Ye=i.unstable_now,$e=i.unstable_getCurrentPriorityLevel,Je=i.unstable_ImmediatePriority,Qe=i.unstable_UserBlockingPriority,Ke=i.unstable_NormalPriority,Ze=i.unstable_LowPriority,et=i.unstable_IdlePriority,tt=null,nt=null;var rt=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(it(e)/ot|0)|0},it=Math.log,ot=Math.LN2;var at=64,ut=4194304;function st(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ct(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,o=e.pingedLanes,a=268435455&n;if(0!==a){var u=a&~i;0!==u?r=st(u):0!==(o&=a)&&(r=st(o))}else 0!==(a=n&~i)?r=st(a):0!==o&&(r=st(o));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(o=t&-t)||16===i&&0!==(4194240&o)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-rt(t)),r|=e[n],t&=~i;return r}function lt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:default:return-1}}function ft(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function ht(){var e=at;return 0===(4194240&(at<<=1))&&(at=64),e}function dt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function pt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-rt(t)]=n}function vt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-rt(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var gt=0;function yt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var mt,bt,wt,Et,xt,kt=!1,Ot=[],St=null,At=null,Tt=null,jt=new Map,Ct=new Map,_t=[],Pt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Mt(e,t){switch(e){case"focusin":case"focusout":St=null;break;case"dragenter":case"dragleave":At=null;break;case"mouseover":case"mouseout":Tt=null;break;case"pointerover":case"pointerout":jt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ct.delete(t.pointerId)}}function Nt(e,t,n,r,i,o){return null===e||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},null!==t&&(null!==(t=hi(t))&&bt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Rt(e){var t=fi(e.target);if(null!==t){var n=ze(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=Ve(n)))return e.blockedOn=t,void xt(e.priority,function(){wt(n)})}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Lt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=qt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=hi(n))&&bt(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);be=r,n.target.dispatchEvent(r),be=null,t.shift()}return!0}function It(e,t,n){Lt(e)&&n.delete(t)}function Dt(){kt=!1,null!==St&&Lt(St)&&(St=null),null!==At&&Lt(At)&&(At=null),null!==Tt&&Lt(Tt)&&(Tt=null),jt.forEach(It),Ct.forEach(It)}function Bt(e,t){e.blockedOn===t&&(e.blockedOn=null,kt||(kt=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Dt)))}function Ft(e){function t(t){return Bt(t,e)}if(0<Ot.length){Bt(Ot[0],e);for(var n=1;n<Ot.length;n++){var r=Ot[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==St&&Bt(St,e),null!==At&&Bt(At,e),null!==Tt&&Bt(Tt,e),jt.forEach(t),Ct.forEach(t),n=0;n<_t.length;n++)(r=_t[n]).blockedOn===e&&(r.blockedOn=null);for(;0<_t.length&&null===(n=_t[0]).blockedOn;)Rt(n),null===n.blockedOn&&_t.shift()}var zt=w.ReactCurrentBatchConfig,Vt=!0;function Ut(e,t,n,r){var i=gt,o=zt.transition;zt.transition=null;try{gt=1,Ht(e,t,n,r)}finally{gt=i,zt.transition=o}}function Gt(e,t,n,r){var i=gt,o=zt.transition;zt.transition=null;try{gt=4,Ht(e,t,n,r)}finally{gt=i,zt.transition=o}}function Ht(e,t,n,r){if(Vt){var i=qt(e,t,n,r);if(null===i)Dr(e,t,r,Wt,n),Mt(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return St=Nt(St,e,t,n,r,i),!0;case"dragenter":return At=Nt(At,e,t,n,r,i),!0;case"mouseover":return Tt=Nt(Tt,e,t,n,r,i),!0;case"pointerover":var o=i.pointerId;return jt.set(o,Nt(jt.get(o)||null,e,t,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,Ct.set(o,Nt(Ct.get(o)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Mt(e,r),4&t&&-1<Pt.indexOf(e)){for(;null!==i;){var o=hi(i);if(null!==o&&mt(o),null===(o=qt(e,t,n,r))&&Dr(e,t,r,Wt,n),o===i)break;i=o}null!==i&&r.stopPropagation()}else Dr(e,t,r,null,n)}}var Wt=null;function qt(e,t,n,r){if(Wt=null,null!==(e=fi(e=we(r))))if(null===(t=ze(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=Ve(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Wt=e,null}function Xt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch($e()){case Je:return 1;case Qe:return 4;case Ke:case Ze:return 16;case et:return 536870912;default:return 16}default:return 16}}var Yt=null,$t=null,Jt=null;function Qt(){if(Jt)return Jt;var e,t,n=$t,r=n.length,i="value"in Yt?Yt.value:Yt.textContent,o=i.length;for(e=0;e<r&&n[e]===i[e];e++);var a=r-e;for(t=1;t<=a&&n[r-t]===i[o-t];t++);return Jt=i.slice(e,1<t?1-t:void 0)}function Kt(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function Zt(){return!0}function en(){return!1}function tn(e){function t(t,n,r,i,o){for(var a in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null,e)e.hasOwnProperty(a)&&(t=e[a],this[a]=t?t(i):i[a]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?Zt:en,this.isPropagationStopped=en,this}return D(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=Zt)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=Zt)},persist:function(){},isPersistent:Zt}),t}var nn,rn,on,an={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},un=tn(an),sn=D({},an,{view:0,detail:0}),cn=tn(sn),ln=D({},sn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:En,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==on&&(on&&"mousemove"===e.type?(nn=e.screenX-on.screenX,rn=e.screenY-on.screenY):rn=nn=0,on=e),nn)},movementY:function(e){return"movementY"in e?e.movementY:rn}}),fn=tn(ln),hn=tn(D({},ln,{dataTransfer:0})),dn=tn(D({},sn,{relatedTarget:0})),pn=tn(D({},an,{animationName:0,elapsedTime:0,pseudoElement:0})),vn=tn(D({},an,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}})),gn=tn(D({},an,{data:0})),yn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},mn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},bn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function wn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=bn[e])&&!!t[e]}function En(){return wn}var xn=tn(D({},sn,{key:function(e){if(e.key){var t=yn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=Kt(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?mn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:En,charCode:function(e){return"keypress"===e.type?Kt(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?Kt(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}})),kn=tn(D({},ln,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),On=tn(D({},sn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:En})),Sn=tn(D({},an,{propertyName:0,elapsedTime:0,pseudoElement:0})),An=tn(D({},ln,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0})),Tn=[9,13,27,32],jn=l&&"CompositionEvent"in window,Cn=null;l&&"documentMode"in document&&(Cn=document.documentMode);var _n=l&&"TextEvent"in window&&!Cn,Pn=l&&(!jn||Cn&&8<Cn&&11>=Cn),Mn=String.fromCharCode(32),Nn=!1;function Rn(e,t){switch(e){case"keyup":return-1!==Tn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ln(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var In=!1;var Dn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Bn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Dn[e.type]:"textarea"===t}function Fn(e,t,n,r){Se(r),0<(t=Fr(t,"onChange")).length&&(n=new un("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var zn=null,Vn=null;function Un(e){Pr(e,0)}function Gn(e){if(q(di(e)))return e}function Hn(e,t){if("change"===e)return t}var Wn=!1;if(l){var qn;if(l){var Xn="oninput"in document;if(!Xn){var Yn=document.createElement("div");Yn.setAttribute("oninput","return;"),Xn="function"===typeof Yn.oninput}qn=Xn}else qn=!1;Wn=qn&&(!document.documentMode||9<document.documentMode)}function $n(){zn&&(zn.detachEvent("onpropertychange",Jn),Vn=zn=null)}function Jn(e){if("value"===e.propertyName&&Gn(Vn)){var t=[];Fn(t,Vn,e,we(e)),_e(Un,t)}}function Qn(e,t,n){"focusin"===e?($n(),Vn=n,(zn=t).attachEvent("onpropertychange",Jn)):"focusout"===e&&$n()}function Kn(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Gn(Vn)}function Zn(e,t){if("click"===e)return Gn(t)}function er(e,t){if("input"===e||"change"===e)return Gn(t)}var tr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function nr(e,t){if(tr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!f.call(t,i)||!tr(e[i],t[i]))return!1}return!0}function rr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ir(e,t){var n,r=rr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=rr(r)}}function or(){for(var e=window,t=X();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=X((e=t.contentWindow).document)}return t}function ar(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function ur(e){var t=or(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&function e(t,n){return!(!t||!n)&&(t===n||(!t||3!==t.nodeType)&&(n&&3===n.nodeType?e(t,n.parentNode):"contains"in t?t.contains(n):!!t.compareDocumentPosition&&!!(16&t.compareDocumentPosition(n))))}(n.ownerDocument.documentElement,n)){if(null!==r&&ar(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=void 0===r.end?o:Math.min(r.end,i),!e.extend&&o>r&&(i=r,r=o,o=i),i=ir(n,o);var a=ir(n,r);i&&a&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),o>r?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var sr=l&&"documentMode"in document&&11>=document.documentMode,cr=null,lr=null,fr=null,hr=!1;function dr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;hr||null==cr||cr!==X(r)||("selectionStart"in(r=cr)&&ar(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},fr&&nr(fr,r)||(fr=r,0<(r=Fr(lr,"onSelect")).length&&(t=new un("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=cr)))}function pr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var vr={animationend:pr("Animation","AnimationEnd"),animationiteration:pr("Animation","AnimationIteration"),animationstart:pr("Animation","AnimationStart"),transitionend:pr("Transition","TransitionEnd")},gr={},yr={};function mr(e){if(gr[e])return gr[e];if(!vr[e])return e;var t,n=vr[e];for(t in n)if(n.hasOwnProperty(t)&&t in yr)return gr[e]=n[t];return e}l&&(yr=document.createElement("div").style,"AnimationEvent"in window||(delete vr.animationend.animation,delete vr.animationiteration.animation,delete vr.animationstart.animation),"TransitionEvent"in window||delete vr.transitionend.transition);var br=mr("animationend"),wr=mr("animationiteration"),Er=mr("animationstart"),xr=mr("transitionend"),kr=new Map,Or="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Sr(e,t){kr.set(e,t),s(t,[e])}for(var Ar=0;Ar<Or.length;Ar++){var Tr=Or[Ar];Sr(Tr.toLowerCase(),"on"+(Tr[0].toUpperCase()+Tr.slice(1)))}Sr(br,"onAnimationEnd"),Sr(wr,"onAnimationIteration"),Sr(Er,"onAnimationStart"),Sr("dblclick","onDoubleClick"),Sr("focusin","onFocus"),Sr("focusout","onBlur"),Sr(xr,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),s("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),s("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),s("onBeforeInput",["compositionend","keypress","textInput","paste"]),s("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var jr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Cr=new Set("cancel close invalid load scroll toggle".split(" ").concat(jr));function _r(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,a,u,s,c){if(Fe.apply(this,arguments),Re){if(!Re)throw Error(o(198));var l=Le;Re=!1,Le=null,Ie||(Ie=!0,De=l)}}(r,t,void 0,e),e.currentTarget=null}function Pr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var a=r.length-1;0<=a;a--){var u=r[a],s=u.instance,c=u.currentTarget;if(u=u.listener,s!==o&&i.isPropagationStopped())break e;_r(i,u,c),o=s}else for(a=0;a<r.length;a++){if(s=(u=r[a]).instance,c=u.currentTarget,u=u.listener,s!==o&&i.isPropagationStopped())break e;_r(i,u,c),o=s}}}if(Ie)throw e=De,Ie=!1,De=null,e}function Mr(e,t){var n=t[si];void 0===n&&(n=t[si]=new Set);var r=e+"__bubble";n.has(r)||(Ir(t,e,2,!1),n.add(r))}function Nr(e,t,n){var r=0;t&&(r|=4),Ir(n,e,r,t)}var Rr="_reactListening"+Math.random().toString(36).slice(2);function Lr(e){if(!e[Rr]){e[Rr]=!0,a.forEach(function(t){"selectionchange"!==t&&(Cr.has(t)||Nr(t,!1,e),Nr(t,!0,e))});var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Rr]||(t[Rr]=!0,Nr("selectionchange",!1,t))}}function Ir(e,t,n,r){switch(Xt(t)){case 1:var i=Ut;break;case 4:i=Gt;break;default:i=Ht}n=i.bind(null,t,n,e),i=void 0,!Me||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Dr(e,t,n,r,i){var o=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var a=r.tag;if(3===a||4===a){var u=r.stateNode.containerInfo;if(u===i||8===u.nodeType&&u.parentNode===i)break;if(4===a)for(a=r.return;null!==a;){var s=a.tag;if((3===s||4===s)&&((s=a.stateNode.containerInfo)===i||8===s.nodeType&&s.parentNode===i))return;a=a.return}for(;null!==u;){if(null===(a=fi(u)))return;if(5===(s=a.tag)||6===s){r=o=a;continue e}u=u.parentNode}}r=r.return}_e(function(){var r=o,i=we(n),a=[];e:{var u=kr.get(e);if(void 0!==u){var s=un,c=e;switch(e){case"keypress":if(0===Kt(n))break e;case"keydown":case"keyup":s=xn;break;case"focusin":c="focus",s=dn;break;case"focusout":c="blur",s=dn;break;case"beforeblur":case"afterblur":s=dn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":s=fn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":s=hn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":s=On;break;case br:case wr:case Er:s=pn;break;case xr:s=Sn;break;case"scroll":s=cn;break;case"wheel":s=An;break;case"copy":case"cut":case"paste":s=vn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":s=kn}var l=0!==(4&t),f=!l&&"scroll"===e,h=l?null!==u?u+"Capture":null:u;l=[];for(var d,p=r;null!==p;){var v=(d=p).stateNode;if(5===d.tag&&null!==v&&(d=v,null!==h&&(null!=(v=Pe(p,h))&&l.push(Br(p,v,d)))),f)break;p=p.return}0<l.length&&(u=new s(u,c,null,n,i),a.push({event:u,listeners:l}))}}if(0===(7&t)){if(s="mouseout"===e||"pointerout"===e,(!(u="mouseover"===e||"pointerover"===e)||n===be||!(c=n.relatedTarget||n.fromElement)||!fi(c)&&!c[ui])&&(s||u)&&(u=i.window===i?i:(u=i.ownerDocument)?u.defaultView||u.parentWindow:window,s?(s=r,null!==(c=(c=n.relatedTarget||n.toElement)?fi(c):null)&&(c!==(f=ze(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(s=null,c=r),s!==c)){if(l=fn,v="onMouseLeave",h="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(l=kn,v="onPointerLeave",h="onPointerEnter",p="pointer"),f=null==s?u:di(s),d=null==c?u:di(c),(u=new l(v,p+"leave",s,n,i)).target=f,u.relatedTarget=d,v=null,fi(i)===r&&((l=new l(h,p+"enter",c,n,i)).target=d,l.relatedTarget=f,v=l),f=v,s&&c)e:{for(h=c,p=0,d=l=s;d;d=zr(d))p++;for(d=0,v=h;v;v=zr(v))d++;for(;0<p-d;)l=zr(l),p--;for(;0<d-p;)h=zr(h),d--;for(;p--;){if(l===h||null!==h&&l===h.alternate)break e;l=zr(l),h=zr(h)}l=null}else l=null;null!==s&&Vr(a,u,s,l,!1),null!==c&&null!==f&&Vr(a,f,c,l,!0)}if("select"===(s=(u=r?di(r):window).nodeName&&u.nodeName.toLowerCase())||"input"===s&&"file"===u.type)var g=Hn;else if(Bn(u))if(Wn)g=er;else{g=Kn;var y=Qn}else(s=u.nodeName)&&"input"===s.toLowerCase()&&("checkbox"===u.type||"radio"===u.type)&&(g=Zn);switch(g&&(g=g(e,r))?Fn(a,g,n,i):(y&&y(e,u,r),"focusout"===e&&(y=u._wrapperState)&&y.controlled&&"number"===u.type&&Z(u,"number",u.value)),y=r?di(r):window,e){case"focusin":(Bn(y)||"true"===y.contentEditable)&&(cr=y,lr=r,fr=null);break;case"focusout":fr=lr=cr=null;break;case"mousedown":hr=!0;break;case"contextmenu":case"mouseup":case"dragend":hr=!1,dr(a,n,i);break;case"selectionchange":if(sr)break;case"keydown":case"keyup":dr(a,n,i)}var m;if(jn)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else In?Rn(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(Pn&&"ko"!==n.locale&&(In||"onCompositionStart"!==b?"onCompositionEnd"===b&&In&&(m=Qt()):($t="value"in(Yt=i)?Yt.value:Yt.textContent,In=!0)),0<(y=Fr(r,b)).length&&(b=new gn(b,e,null,n,i),a.push({event:b,listeners:y}),m?b.data=m:null!==(m=Ln(n))&&(b.data=m))),(m=_n?function(e,t){switch(e){case"compositionend":return Ln(t);case"keypress":return 32!==t.which?null:(Nn=!0,Mn);case"textInput":return(e=t.data)===Mn&&Nn?null:e;default:return null}}(e,n):function(e,t){if(In)return"compositionend"===e||!jn&&Rn(e,t)?(e=Qt(),Jt=$t=Yt=null,In=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Pn&&"ko"!==t.locale?null:t.data;default:return null}}(e,n))&&(0<(r=Fr(r,"onBeforeInput")).length&&(i=new gn("onBeforeInput","beforeinput",null,n,i),a.push({event:i,listeners:r}),i.data=m))}Pr(a,t)})}function Br(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Fr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,o=i.stateNode;5===i.tag&&null!==o&&(i=o,null!=(o=Pe(e,n))&&r.unshift(Br(e,o,i)),null!=(o=Pe(e,t))&&r.push(Br(e,o,i))),e=e.return}return r}function zr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Vr(e,t,n,r,i){for(var o=t._reactName,a=[];null!==n&&n!==r;){var u=n,s=u.alternate,c=u.stateNode;if(null!==s&&s===r)break;5===u.tag&&null!==c&&(u=c,i?null!=(s=Pe(n,o))&&a.unshift(Br(n,s,u)):i||null!=(s=Pe(n,o))&&a.push(Br(n,s,u))),n=n.return}0!==a.length&&e.push({event:t,listeners:a})}var Ur=/\r\n?/g,Gr=/\u0000|\uFFFD/g;function Hr(e){return("string"===typeof e?e:""+e).replace(Ur,"\n").replace(Gr,"")}function Wr(e,t,n){if(t=Hr(t),Hr(e)!==t&&n)throw Error(o(425))}function qr(){}var Xr=null,Yr=null;function $r(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var Jr="function"===typeof setTimeout?setTimeout:void 0,Qr="function"===typeof clearTimeout?clearTimeout:void 0,Kr="function"===typeof Promise?Promise:void 0,Zr="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof Kr?function(e){return Kr.resolve(null).then(e).catch(ei)}:Jr;function ei(e){setTimeout(function(){throw e})}function ti(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void Ft(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);Ft(t)}function ni(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function ri(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var ii=Math.random().toString(36).slice(2),oi="__reactFiber$"+ii,ai="__reactProps$"+ii,ui="__reactContainer$"+ii,si="__reactEvents$"+ii,ci="__reactListeners$"+ii,li="__reactHandles$"+ii;function fi(e){var t=e[oi];if(t)return t;for(var n=e.parentNode;n;){if(t=n[ui]||n[oi]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=ri(e);null!==e;){if(n=e[oi])return n;e=ri(e)}return t}n=(e=n).parentNode}return null}function hi(e){return!(e=e[oi]||e[ui])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function di(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(o(33))}function pi(e){return e[ai]||null}var vi=[],gi=-1;function yi(e){return{current:e}}function mi(e){0>gi||(e.current=vi[gi],vi[gi]=null,gi--)}function bi(e,t){vi[++gi]=e.current,e.current=t}var wi={},Ei=yi(wi),xi=yi(!1),ki=wi;function Oi(e,t){var n=e.type.contextTypes;if(!n)return wi;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,o={};for(i in n)o[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function Si(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Ai(){mi(xi),mi(Ei)}function Ti(e,t,n){if(Ei.current!==wi)throw Error(o(168));bi(Ei,t),bi(xi,n)}function ji(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(o(108,U(e)||"Unknown",i));return D({},n,r)}function Ci(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||wi,ki=Ei.current,bi(Ei,e),bi(xi,xi.current),!0}function _i(e,t,n){var r=e.stateNode;if(!r)throw Error(o(169));n?(e=ji(e,t,ki),r.__reactInternalMemoizedMergedChildContext=e,mi(xi),mi(Ei),bi(Ei,e)):mi(xi),bi(xi,n)}var Pi=null,Mi=!1,Ni=!1;function Ri(e){null===Pi?Pi=[e]:Pi.push(e)}function Li(){if(!Ni&&null!==Pi){Ni=!0;var e=0,t=gt;try{var n=Pi;for(gt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Pi=null,Mi=!1}catch(i){throw null!==Pi&&(Pi=Pi.slice(e+1)),He(Je,Li),i}finally{gt=t,Ni=!1}}return null}var Ii=[],Di=0,Bi=null,Fi=0,zi=[],Vi=0,Ui=null,Gi=1,Hi="";function Wi(e,t){Ii[Di++]=Fi,Ii[Di++]=Bi,Bi=e,Fi=t}function qi(e,t,n){zi[Vi++]=Gi,zi[Vi++]=Hi,zi[Vi++]=Ui,Ui=e;var r=Gi;e=Hi;var i=32-rt(r)-1;r&=~(1<<i),n+=1;var o=32-rt(t)+i;if(30<o){var a=i-i%5;o=(r&(1<<a)-1).toString(32),r>>=a,i-=a,Gi=1<<32-rt(t)+i|n<<i|r,Hi=o+e}else Gi=1<<o|n<<i|r,Hi=e}function Xi(e){null!==e.return&&(Wi(e,1),qi(e,1,0))}function Yi(e){for(;e===Bi;)Bi=Ii[--Di],Ii[Di]=null,Fi=Ii[--Di],Ii[Di]=null;for(;e===Ui;)Ui=zi[--Vi],zi[Vi]=null,Hi=zi[--Vi],zi[Vi]=null,Gi=zi[--Vi],zi[Vi]=null}var $i=null,Ji=null,Qi=!1,Ki=null;function Zi(e,t){var n=vc(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function eo(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,$i=e,Ji=ni(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,$i=e,Ji=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Ui?{id:Gi,overflow:Hi}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=vc(18,null,null,0)).stateNode=t,n.return=e,e.child=n,$i=e,Ji=null,!0);default:return!1}}function to(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function no(e){if(Qi){var t=Ji;if(t){var n=t;if(!eo(e,t)){if(to(e))throw Error(o(418));t=ni(n.nextSibling);var r=$i;t&&eo(e,t)?Zi(r,n):(e.flags=-4097&e.flags|2,Qi=!1,$i=e)}}else{if(to(e))throw Error(o(418));e.flags=-4097&e.flags|2,Qi=!1,$i=e}}}function ro(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;$i=e}function io(e){if(e!==$i)return!1;if(!Qi)return ro(e),Qi=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!$r(e.type,e.memoizedProps)),t&&(t=Ji)){if(to(e))throw oo(),Error(o(418));for(;t;)Zi(e,t),t=ni(t.nextSibling)}if(ro(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(o(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){Ji=ni(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}Ji=null}}else Ji=$i?ni(e.stateNode.nextSibling):null;return!0}function oo(){for(var e=Ji;e;)e=ni(e.nextSibling)}function ao(){Ji=$i=null,Qi=!1}function uo(e){null===Ki?Ki=[e]:Ki.push(e)}var so=w.ReactCurrentBatchConfig;function co(e,t){if(e&&e.defaultProps){for(var n in t=D({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var lo=yi(null),fo=null,ho=null,po=null;function vo(){po=ho=fo=null}function go(e){var t=lo.current;mi(lo),e._currentValue=t}function yo(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function mo(e,t){fo=e,po=ho=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(lu=!0),e.firstContext=null)}function bo(e){var t=e._currentValue;if(po!==e)if(e={context:e,memoizedValue:t,next:null},null===ho){if(null===fo)throw Error(o(308));ho=e,fo.dependencies={lanes:0,firstContext:e}}else ho=ho.next=e;return t}var wo=null;function Eo(e){null===wo?wo=[e]:wo.push(e)}function xo(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,Eo(t)):(n.next=i.next,i.next=n),t.interleaved=n,ko(e,r)}function ko(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Oo=!1;function So(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ao(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function To(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function jo(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&gs)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,ko(e,n)}return null===(i=r.interleaved)?(t.next=t,Eo(r)):(t.next=i.next,i.next=t),r.interleaved=t,ko(e,n)}function Co(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,vt(e,n)}}function _o(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,o=null;if(null!==(n=n.firstBaseUpdate)){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===o?i=o=a:o=o.next=a,n=n.next}while(null!==n);null===o?i=o=t:o=o.next=t}else i=o=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Po(e,t,n,r){var i=e.updateQueue;Oo=!1;var o=i.firstBaseUpdate,a=i.lastBaseUpdate,u=i.shared.pending;if(null!==u){i.shared.pending=null;var s=u,c=s.next;s.next=null,null===a?o=c:a.next=c,a=s;var l=e.alternate;null!==l&&((u=(l=l.updateQueue).lastBaseUpdate)!==a&&(null===u?l.firstBaseUpdate=c:u.next=c,l.lastBaseUpdate=s))}if(null!==o){var f=i.baseState;for(a=0,l=c=s=null,u=o;;){var h=u.lane,d=u.eventTime;if((r&h)===h){null!==l&&(l=l.next={eventTime:d,lane:0,tag:u.tag,payload:u.payload,callback:u.callback,next:null});e:{var p=e,v=u;switch(h=t,d=n,v.tag){case 1:if("function"===typeof(p=v.payload)){f=p.call(d,f,h);break e}f=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(h="function"===typeof(p=v.payload)?p.call(d,f,h):p)||void 0===h)break e;f=D({},f,h);break e;case 2:Oo=!0}}null!==u.callback&&0!==u.lane&&(e.flags|=64,null===(h=i.effects)?i.effects=[u]:h.push(u))}else d={eventTime:d,lane:h,tag:u.tag,payload:u.payload,callback:u.callback,next:null},null===l?(c=l=d,s=f):l=l.next=d,a|=h;if(null===(u=u.next)){if(null===(u=i.shared.pending))break;u=(h=u).next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}if(null===l&&(s=f),i.baseState=s,i.firstBaseUpdate=c,i.lastBaseUpdate=l,null!==(t=i.shared.interleaved)){i=t;do{a|=i.lane,i=i.next}while(i!==t)}else null===o&&(i.shared.lanes=0);Os|=a,e.lanes=a,e.memoizedState=f}}function Mo(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(o(191,i));i.call(r)}}}var No=(new r.Component).refs;function Ro(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:D({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var Lo={isMounted:function(e){return!!(e=e._reactInternals)&&ze(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Us(),i=Gs(e),o=To(r,i);o.payload=t,void 0!==n&&null!==n&&(o.callback=n),null!==(t=jo(e,o,i))&&(Hs(t,e,i,r),Co(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Us(),i=Gs(e),o=To(r,i);o.tag=1,o.payload=t,void 0!==n&&null!==n&&(o.callback=n),null!==(t=jo(e,o,i))&&(Hs(t,e,i,r),Co(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Us(),r=Gs(e),i=To(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=jo(e,i,r))&&(Hs(t,e,r,n),Co(t,e,r))}};function Io(e,t,n,r,i,o,a){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,o,a):!t.prototype||!t.prototype.isPureReactComponent||(!nr(n,r)||!nr(i,o))}function Do(e,t,n){var r=!1,i=wi,o=t.contextType;return"object"===typeof o&&null!==o?o=bo(o):(i=Si(t)?ki:Ei.current,o=(r=null!==(r=t.contextTypes)&&void 0!==r)?Oi(e,i):wi),t=new t(n,o),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=Lo,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function Bo(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Lo.enqueueReplaceState(t,t.state,null)}function Fo(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=No,So(e);var o=t.contextType;"object"===typeof o&&null!==o?i.context=bo(o):(o=Si(t)?ki:Ei.current,i.context=Oi(e,o)),i.state=e.memoizedState,"function"===typeof(o=t.getDerivedStateFromProps)&&(Ro(e,t,o,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&Lo.enqueueReplaceState(i,i.state,null),Po(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}function zo(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(o(309));var r=n.stateNode}if(!r)throw Error(o(147,e));var i=r,a=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===a?t.ref:((t=function(e){var t=i.refs;t===No&&(t=i.refs={}),null===e?delete t[a]:t[a]=e})._stringRef=a,t)}if("string"!==typeof e)throw Error(o(284));if(!n._owner)throw Error(o(290,e))}return e}function Vo(e,t){throw e=Object.prototype.toString.call(t),Error(o(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Uo(e){return(0,e._init)(e._payload)}function Go(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=yc(e,t)).index=0,e.sibling=null,e}function a(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function u(t){return e&&null===t.alternate&&(t.flags|=2),t}function s(e,t,n,r){return null===t||6!==t.tag?((t=Ec(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){var o=n.type;return o===k?f(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===o||"object"===typeof o&&null!==o&&o.$$typeof===M&&Uo(o)===t.type)?((r=i(t,n.props)).ref=zo(e,t,n),r.return=e,r):((r=mc(n.type,n.key,n.props,null,e.mode,r)).ref=zo(e,t,n),r.return=e,r)}function l(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=xc(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function f(e,t,n,r,o){return null===t||7!==t.tag?((t=bc(n,e.mode,r,o)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Ec(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case E:return(n=mc(t.type,t.key,t.props,null,e.mode,n)).ref=zo(e,null,t),n.return=e,n;case x:return(t=xc(t,e.mode,n)).return=e,t;case M:return h(e,(0,t._init)(t._payload),n)}if(ee(t)||L(t))return(t=bc(t,e.mode,n,null)).return=e,t;Vo(e,t)}return null}function d(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:s(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case E:return n.key===i?c(e,t,n,r):null;case x:return n.key===i?l(e,t,n,r):null;case M:return d(e,t,(i=n._init)(n._payload),r)}if(ee(n)||L(n))return null!==i?null:f(e,t,n,r,null);Vo(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return s(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case E:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case x:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i);case M:return p(e,t,n,(0,r._init)(r._payload),i)}if(ee(r)||L(r))return f(t,e=e.get(n)||null,r,i,null);Vo(t,r)}return null}function v(i,o,u,s){for(var c=null,l=null,f=o,v=o=0,g=null;null!==f&&v<u.length;v++){f.index>v?(g=f,f=null):g=f.sibling;var y=d(i,f,u[v],s);if(null===y){null===f&&(f=g);break}e&&f&&null===y.alternate&&t(i,f),o=a(y,o,v),null===l?c=y:l.sibling=y,l=y,f=g}if(v===u.length)return n(i,f),Qi&&Wi(i,v),c;if(null===f){for(;v<u.length;v++)null!==(f=h(i,u[v],s))&&(o=a(f,o,v),null===l?c=f:l.sibling=f,l=f);return Qi&&Wi(i,v),c}for(f=r(i,f);v<u.length;v++)null!==(g=p(f,i,v,u[v],s))&&(e&&null!==g.alternate&&f.delete(null===g.key?v:g.key),o=a(g,o,v),null===l?c=g:l.sibling=g,l=g);return e&&f.forEach(function(e){return t(i,e)}),Qi&&Wi(i,v),c}function g(i,u,s,c){var l=L(s);if("function"!==typeof l)throw Error(o(150));if(null==(s=l.call(s)))throw Error(o(151));for(var f=l=null,v=u,g=u=0,y=null,m=s.next();null!==v&&!m.done;g++,m=s.next()){v.index>g?(y=v,v=null):y=v.sibling;var b=d(i,v,m.value,c);if(null===b){null===v&&(v=y);break}e&&v&&null===b.alternate&&t(i,v),u=a(b,u,g),null===f?l=b:f.sibling=b,f=b,v=y}if(m.done)return n(i,v),Qi&&Wi(i,g),l;if(null===v){for(;!m.done;g++,m=s.next())null!==(m=h(i,m.value,c))&&(u=a(m,u,g),null===f?l=m:f.sibling=m,f=m);return Qi&&Wi(i,g),l}for(v=r(i,v);!m.done;g++,m=s.next())null!==(m=p(v,i,g,m.value,c))&&(e&&null!==m.alternate&&v.delete(null===m.key?g:m.key),u=a(m,u,g),null===f?l=m:f.sibling=m,f=m);return e&&v.forEach(function(e){return t(i,e)}),Qi&&Wi(i,g),l}return function e(r,o,a,s){if("object"===typeof a&&null!==a&&a.type===k&&null===a.key&&(a=a.props.children),"object"===typeof a&&null!==a){switch(a.$$typeof){case E:e:{for(var c=a.key,l=o;null!==l;){if(l.key===c){if((c=a.type)===k){if(7===l.tag){n(r,l.sibling),(o=i(l,a.props.children)).return=r,r=o;break e}}else if(l.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===M&&Uo(c)===l.type){n(r,l.sibling),(o=i(l,a.props)).ref=zo(r,l,a),o.return=r,r=o;break e}n(r,l);break}t(r,l),l=l.sibling}a.type===k?((o=bc(a.props.children,r.mode,s,a.key)).return=r,r=o):((s=mc(a.type,a.key,a.props,null,r.mode,s)).ref=zo(r,o,a),s.return=r,r=s)}return u(r);case x:e:{for(l=a.key;null!==o;){if(o.key===l){if(4===o.tag&&o.stateNode.containerInfo===a.containerInfo&&o.stateNode.implementation===a.implementation){n(r,o.sibling),(o=i(o,a.children||[])).return=r,r=o;break e}n(r,o);break}t(r,o),o=o.sibling}(o=xc(a,r.mode,s)).return=r,r=o}return u(r);case M:return e(r,o,(l=a._init)(a._payload),s)}if(ee(a))return v(r,o,a,s);if(L(a))return g(r,o,a,s);Vo(r,a)}return"string"===typeof a&&""!==a||"number"===typeof a?(a=""+a,null!==o&&6===o.tag?(n(r,o.sibling),(o=i(o,a)).return=r,r=o):(n(r,o),(o=Ec(a,r.mode,s)).return=r,r=o),u(r)):n(r,o)}}var Ho=Go(!0),Wo=Go(!1),qo={},Xo=yi(qo),Yo=yi(qo),$o=yi(qo);function Jo(e){if(e===qo)throw Error(o(174));return e}function Qo(e,t){switch(bi($o,t),bi(Yo,e),bi(Xo,qo),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:ue(null,"");break;default:t=ue(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}mi(Xo),bi(Xo,t)}function Ko(){mi(Xo),mi(Yo),mi($o)}function Zo(e){Jo($o.current);var t=Jo(Xo.current),n=ue(t,e.type);t!==n&&(bi(Yo,e),bi(Xo,n))}function ea(e){Yo.current===e&&(mi(Xo),mi(Yo))}var ta=yi(0);function na(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ra=[];function ia(){for(var e=0;e<ra.length;e++)ra[e]._workInProgressVersionPrimary=null;ra.length=0}var oa=w.ReactCurrentDispatcher,aa=w.ReactCurrentBatchConfig,ua=0,sa=null,ca=null,la=null,fa=!1,ha=!1,da=0,pa=0;function va(){throw Error(o(321))}function ga(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!tr(e[n],t[n]))return!1;return!0}function ya(e,t,n,r,i,a){if(ua=a,sa=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,oa.current=null===e||null===e.memoizedState?Qa:Ka,e=n(r,i),ha){a=0;do{if(ha=!1,da=0,25<=a)throw Error(o(301));a+=1,la=ca=null,t.updateQueue=null,oa.current=Za,e=n(r,i)}while(ha)}if(oa.current=Ja,t=null!==ca&&null!==ca.next,ua=0,la=ca=sa=null,fa=!1,t)throw Error(o(300));return e}function ma(){var e=0!==da;return da=0,e}function ba(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===la?sa.memoizedState=la=e:la=la.next=e,la}function wa(){if(null===ca){var e=sa.alternate;e=null!==e?e.memoizedState:null}else e=ca.next;var t=null===la?sa.memoizedState:la.next;if(null!==t)la=t,ca=e;else{if(null===e)throw Error(o(310));e={memoizedState:(ca=e).memoizedState,baseState:ca.baseState,baseQueue:ca.baseQueue,queue:ca.queue,next:null},null===la?sa.memoizedState=la=e:la=la.next=e}return la}function Ea(e,t){return"function"===typeof t?t(e):t}function xa(e){var t=wa(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=ca,i=r.baseQueue,a=n.pending;if(null!==a){if(null!==i){var u=i.next;i.next=a.next,a.next=u}r.baseQueue=i=a,n.pending=null}if(null!==i){a=i.next,r=r.baseState;var s=u=null,c=null,l=a;do{var f=l.lane;if((ua&f)===f)null!==c&&(c=c.next={lane:0,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null}),r=l.hasEagerState?l.eagerState:e(r,l.action);else{var h={lane:f,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null};null===c?(s=c=h,u=r):c=c.next=h,sa.lanes|=f,Os|=f}l=l.next}while(null!==l&&l!==a);null===c?u=r:c.next=s,tr(r,t.memoizedState)||(lu=!0),t.memoizedState=r,t.baseState=u,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{a=i.lane,sa.lanes|=a,Os|=a,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function ka(e){var t=wa(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,a=t.memoizedState;if(null!==i){n.pending=null;var u=i=i.next;do{a=e(a,u.action),u=u.next}while(u!==i);tr(a,t.memoizedState)||(lu=!0),t.memoizedState=a,null===t.baseQueue&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function Oa(){}function Sa(e,t){var n=sa,r=wa(),i=t(),a=!tr(r.memoizedState,i);if(a&&(r.memoizedState=i,lu=!0),r=r.queue,Da(ja.bind(null,n,r,e),[e]),r.getSnapshot!==t||a||null!==la&&1&la.memoizedState.tag){if(n.flags|=2048,Ma(9,Ta.bind(null,n,r,i,t),void 0,null),null===ys)throw Error(o(349));0!==(30&ua)||Aa(n,t,i)}return i}function Aa(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=sa.updateQueue)?(t={lastEffect:null,stores:null},sa.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Ta(e,t,n,r){t.value=n,t.getSnapshot=r,Ca(t)&&_a(e)}function ja(e,t,n){return n(function(){Ca(t)&&_a(e)})}function Ca(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!tr(e,n)}catch(r){return!0}}function _a(e){var t=ko(e,1);null!==t&&Hs(t,e,1,-1)}function Pa(e){var t=ba();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ea,lastRenderedState:e},t.queue=e,e=e.dispatch=function(e,t,n){var r=Gs(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Xa(e))Ya(t,i);else{var o=e.alternate;if(0===e.lanes&&(null===o||0===o.lanes)&&null!==(o=t.lastRenderedReducer))try{var a=t.lastRenderedState,u=o(a,n);if(i.hasEagerState=!0,i.eagerState=u,tr(u,a)){var s=t.interleaved;return null===s?(i.next=i,Eo(t)):(i.next=s.next,s.next=i),void(t.interleaved=i)}}catch(c){}null!==(n=xo(e,t,i,r))&&(i=Us(),Hs(n,e,r,i),$a(n,t,r))}}.bind(null,sa,e),[t.memoizedState,e]}function Ma(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=sa.updateQueue)?(t={lastEffect:null,stores:null},sa.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Na(){return wa().memoizedState}function Ra(e,t,n,r){var i=ba();sa.flags|=e,i.memoizedState=Ma(1|t,n,void 0,void 0===r?null:r)}function La(e,t,n,r){var i=wa();r=void 0===r?null:r;var o=void 0;if(null!==ca){var a=ca.memoizedState;if(o=a.destroy,null!==r&&ga(r,a.deps))return void(i.memoizedState=Ma(t,n,o,r))}sa.flags|=e,i.memoizedState=Ma(1|t,n,o,r)}function Ia(e,t){return Ra(8390656,8,e,t)}function Da(e,t){return La(2048,8,e,t)}function Ba(e,t){return La(4,2,e,t)}function Fa(e,t){return La(4,4,e,t)}function za(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Va(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,La(4,4,za.bind(null,t,e),n)}function Ua(){}function Ga(e,t){var n=wa();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ga(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Ha(e,t){var n=wa();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ga(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Wa(e,t,n){return 0===(21&ua)?(e.baseState&&(e.baseState=!1,lu=!0),e.memoizedState=n):(tr(n,t)||(n=ht(),sa.lanes|=n,Os|=n,e.baseState=!0),t)}function qa(){return wa().memoizedState}function Xa(e){var t=e.alternate;return e===sa||null!==t&&t===sa}function Ya(e,t){ha=fa=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function $a(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,vt(e,n)}}var Ja={readContext:bo,useCallback:va,useContext:va,useEffect:va,useImperativeHandle:va,useInsertionEffect:va,useLayoutEffect:va,useMemo:va,useReducer:va,useRef:va,useState:va,useDebugValue:va,useDeferredValue:va,useTransition:va,useMutableSource:va,useSyncExternalStore:va,useId:va,unstable_isNewReconciler:!1},Qa={readContext:bo,useCallback:function(e,t){return ba().memoizedState=[e,void 0===t?null:t],e},useContext:bo,useEffect:Ia,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Ra(4194308,4,za.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Ra(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ra(4,2,e,t)},useMemo:function(e,t){var n=ba();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=ba();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=function(e,t,n){var r=Gs(e);n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Xa(e)?Ya(t,n):null!==(n=xo(e,t,n,r))&&(Hs(n,e,r,Us()),$a(n,t,r))}.bind(null,sa,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},ba().memoizedState=e},useState:Pa,useDebugValue:Ua,useDeferredValue:function(e){return ba().memoizedState=e},useTransition:function(){var e=Pa(!1),t=e[0];return e=function(e,t){var n=gt;gt=0!==n&&4>n?n:4,e(!0);var r=aa.transition;aa.transition={};try{e(!1),t()}finally{gt=n,aa.transition=r}}.bind(null,e[1]),ba().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=sa,i=ba();if(Qi){if(void 0===n)throw Error(o(407));n=n()}else{if(n=t(),null===ys)throw Error(o(349));0!==(30&ua)||Aa(r,t,n)}i.memoizedState=n;var a={value:n,getSnapshot:t};return i.queue=a,Ia(ja.bind(null,r,a,e),[e]),r.flags|=2048,Ma(9,Ta.bind(null,r,a,n,t),void 0,null),n},useId:function(){var e=ba(),t=ys.identifierPrefix;if(Qi){var n=Hi;t=":"+t+"R"+(n=(Gi&~(1<<32-rt(Gi)-1)).toString(32)+n),0<(n=da++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=pa++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Ka={readContext:bo,useCallback:Ga,useContext:bo,useEffect:Da,useImperativeHandle:Va,useInsertionEffect:Ba,useLayoutEffect:Fa,useMemo:Ha,useReducer:xa,useRef:Na,useState:function(){return xa(Ea)},useDebugValue:Ua,useDeferredValue:function(e){return Wa(wa(),ca.memoizedState,e)},useTransition:function(){return[xa(Ea)[0],wa().memoizedState]},useMutableSource:Oa,useSyncExternalStore:Sa,useId:qa,unstable_isNewReconciler:!1},Za={readContext:bo,useCallback:Ga,useContext:bo,useEffect:Da,useImperativeHandle:Va,useInsertionEffect:Ba,useLayoutEffect:Fa,useMemo:Ha,useReducer:ka,useRef:Na,useState:function(){return ka(Ea)},useDebugValue:Ua,useDeferredValue:function(e){var t=wa();return null===ca?t.memoizedState=e:Wa(t,ca.memoizedState,e)},useTransition:function(){return[ka(Ea)[0],wa().memoizedState]},useMutableSource:Oa,useSyncExternalStore:Sa,useId:qa,unstable_isNewReconciler:!1};function eu(e,t){try{var n="",r=t;do{n+=V(r),r=r.return}while(r);var i=n}catch(o){i="\nError generating stack: "+o.message+"\n"+o.stack}return{value:e,source:t,stack:i,digest:null}}function tu(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function nu(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var ru="function"===typeof WeakMap?WeakMap:Map;function iu(e,t,n){(n=To(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Ms||(Ms=!0,Ns=r),nu(0,t)},n}function ou(e,t,n){(n=To(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){nu(0,t)}}var o=e.stateNode;return null!==o&&"function"===typeof o.componentDidCatch&&(n.callback=function(){nu(0,t),"function"!==typeof r&&(null===Rs?Rs=new Set([this]):Rs.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function au(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new ru;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=function(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=Us(),e.pingedLanes|=e.suspendedLanes&n,ys===e&&(bs&n)===n&&(4===xs||3===xs&&(130023424&bs)===bs&&500>Ye()-Cs?Zs(e,0):As|=n),Ws(e,t)}.bind(null,e,t,n),t.then(e,e))}function uu(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function su(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=To(-1,1)).tag=2,jo(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var cu=w.ReactCurrentOwner,lu=!1;function fu(e,t,n,r){t.child=null===e?Wo(t,null,n,r):Ho(t,e.child,n,r)}function hu(e,t,n,r,i){n=n.render;var o=t.ref;return mo(t,i),r=ya(e,t,n,r,o,i),n=ma(),null===e||lu?(Qi&&n&&Xi(t),t.flags|=1,fu(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Lu(e,t,i))}function du(e,t,n,r,i){if(null===e){var o=n.type;return"function"!==typeof o||gc(o)||void 0!==o.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=mc(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=o,pu(e,t,o,r,i))}if(o=e.child,0===(e.lanes&i)){var a=o.memoizedProps;if((n=null!==(n=n.compare)?n:nr)(a,r)&&e.ref===t.ref)return Lu(e,t,i)}return t.flags|=1,(e=yc(o,r)).ref=t.ref,e.return=t,t.child=e}function pu(e,t,n,r,i){if(null!==e){var o=e.memoizedProps;if(nr(o,r)&&e.ref===t.ref){if(lu=!1,t.pendingProps=r=o,0===(e.lanes&i))return t.lanes=e.lanes,Lu(e,t,i);0!==(131072&e.flags)&&(lu=!0)}}return yu(e,t,n,r,i)}function vu(e,t,n){var r=t.pendingProps,i=r.children,o=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},bi(Es,ws),ws|=n;else{if(0===(1073741824&n))return e=null!==o?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,bi(Es,ws),ws|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==o?o.baseLanes:n,bi(Es,ws),ws|=r}else null!==o?(r=o.baseLanes|n,t.memoizedState=null):r=n,bi(Es,ws),ws|=r;return fu(e,t,i,n),t.child}function gu(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function yu(e,t,n,r,i){var o=Si(n)?ki:Ei.current;return o=Oi(t,o),mo(t,i),n=ya(e,t,n,r,o,i),r=ma(),null===e||lu?(Qi&&r&&Xi(t),t.flags|=1,fu(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Lu(e,t,i))}function mu(e,t,n,r,i){if(Si(n)){var o=!0;Ci(t)}else o=!1;if(mo(t,i),null===t.stateNode)Ru(e,t),Do(t,n,r),Fo(t,n,r,i),r=!0;else if(null===e){var a=t.stateNode,u=t.memoizedProps;a.props=u;var s=a.context,c=n.contextType;"object"===typeof c&&null!==c?c=bo(c):c=Oi(t,c=Si(n)?ki:Ei.current);var l=n.getDerivedStateFromProps,f="function"===typeof l||"function"===typeof a.getSnapshotBeforeUpdate;f||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(u!==r||s!==c)&&Bo(t,a,r,c),Oo=!1;var h=t.memoizedState;a.state=h,Po(t,r,a,i),s=t.memoizedState,u!==r||h!==s||xi.current||Oo?("function"===typeof l&&(Ro(t,n,l,r),s=t.memoizedState),(u=Oo||Io(t,n,u,r,h,s,c))?(f||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||("function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"===typeof a.componentDidMount&&(t.flags|=4194308)):("function"===typeof a.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=s),a.props=r,a.state=s,a.context=c,r=u):("function"===typeof a.componentDidMount&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,Ao(e,t),u=t.memoizedProps,c=t.type===t.elementType?u:co(t.type,u),a.props=c,f=t.pendingProps,h=a.context,"object"===typeof(s=n.contextType)&&null!==s?s=bo(s):s=Oi(t,s=Si(n)?ki:Ei.current);var d=n.getDerivedStateFromProps;(l="function"===typeof d||"function"===typeof a.getSnapshotBeforeUpdate)||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(u!==f||h!==s)&&Bo(t,a,r,s),Oo=!1,h=t.memoizedState,a.state=h,Po(t,r,a,i);var p=t.memoizedState;u!==f||h!==p||xi.current||Oo?("function"===typeof d&&(Ro(t,n,d,r),p=t.memoizedState),(c=Oo||Io(t,n,c,r,h,p,s)||!1)?(l||"function"!==typeof a.UNSAFE_componentWillUpdate&&"function"!==typeof a.componentWillUpdate||("function"===typeof a.componentWillUpdate&&a.componentWillUpdate(r,p,s),"function"===typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,p,s)),"function"===typeof a.componentDidUpdate&&(t.flags|=4),"function"===typeof a.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof a.componentDidUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),a.props=r,a.state=p,a.context=s,r=c):("function"!==typeof a.componentDidUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return bu(e,t,n,r,o,i)}function bu(e,t,n,r,i,o){gu(e,t);var a=0!==(128&t.flags);if(!r&&!a)return i&&_i(t,n,!1),Lu(e,t,o);r=t.stateNode,cu.current=t;var u=a&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&a?(t.child=Ho(t,e.child,null,o),t.child=Ho(t,null,u,o)):fu(e,t,u,o),t.memoizedState=r.state,i&&_i(t,n,!0),t.child}function wu(e){var t=e.stateNode;t.pendingContext?Ti(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Ti(0,t.context,!1),Qo(e,t.containerInfo)}function Eu(e,t,n,r,i){return ao(),uo(i),t.flags|=256,fu(e,t,n,r),t.child}var xu,ku,Ou,Su,Au={dehydrated:null,treeContext:null,retryLane:0};function Tu(e){return{baseLanes:e,cachePool:null,transitions:null}}function ju(e,t,n){var r,i=t.pendingProps,a=ta.current,u=!1,s=0!==(128&t.flags);if((r=s)||(r=(null===e||null!==e.memoizedState)&&0!==(2&a)),r?(u=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(a|=1),bi(ta,1&a),null===e)return no(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(s=i.children,e=i.fallback,u?(i=t.mode,u=t.child,s={mode:"hidden",children:s},0===(1&i)&&null!==u?(u.childLanes=0,u.pendingProps=s):u=wc(s,i,0,null),e=bc(e,i,n,null),u.return=t,e.return=t,u.sibling=e,t.child=u,t.child.memoizedState=Tu(n),t.memoizedState=Au,e):Cu(t,s));if(null!==(a=e.memoizedState)&&null!==(r=a.dehydrated))return function(e,t,n,r,i,a,u){if(n)return 256&t.flags?(t.flags&=-257,r=tu(Error(o(422))),_u(e,t,u,r)):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(a=r.fallback,i=t.mode,r=wc({mode:"visible",children:r.children},i,0,null),(a=bc(a,i,u,null)).flags|=2,r.return=t,a.return=t,r.sibling=a,t.child=r,0!==(1&t.mode)&&Ho(t,e.child,null,u),t.child.memoizedState=Tu(u),t.memoizedState=Au,a);if(0===(1&t.mode))return _u(e,t,u,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var s=r.dgst;return r=s,a=Error(o(419)),r=tu(a,r,void 0),_u(e,t,u,r)}if(s=0!==(u&e.childLanes),lu||s){if(null!==(r=ys)){switch(u&-u){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(r.suspendedLanes|u))?0:i)&&i!==a.retryLane&&(a.retryLane=i,ko(e,i),Hs(r,e,i,-1))}return nc(),r=tu(Error(o(421))),_u(e,t,u,r)}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=function(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),hc(e,n)}.bind(null,e),i._reactRetry=t,null):(e=a.treeContext,Ji=ni(i.nextSibling),$i=t,Qi=!0,Ki=null,null!==e&&(zi[Vi++]=Gi,zi[Vi++]=Hi,zi[Vi++]=Ui,Gi=e.id,Hi=e.overflow,Ui=t),(t=Cu(t,r.children)).flags|=4096,t)}(e,t,s,i,r,a,n);if(u){u=i.fallback,s=t.mode,r=(a=e.child).sibling;var c={mode:"hidden",children:i.children};return 0===(1&s)&&t.child!==a?((i=t.child).childLanes=0,i.pendingProps=c,t.deletions=null):(i=yc(a,c)).subtreeFlags=14680064&a.subtreeFlags,null!==r?u=yc(r,u):(u=bc(u,s,n,null)).flags|=2,u.return=t,i.return=t,i.sibling=u,t.child=i,i=u,u=t.child,s=null===(s=e.child.memoizedState)?Tu(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},u.memoizedState=s,u.childLanes=e.childLanes&~n,t.memoizedState=Au,i}return e=(u=e.child).sibling,i=yc(u,{mode:"visible",children:i.children}),0===(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function Cu(e,t){return(t=wc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function _u(e,t,n,r){return null!==r&&uo(r),Ho(t,e.child,null,n),(e=Cu(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Pu(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),yo(e.return,t,n)}function Mu(e,t,n,r,i){var o=e.memoizedState;null===o?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function Nu(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(fu(e,t,r.children,n),0!==(2&(r=ta.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Pu(e,n,t);else if(19===e.tag)Pu(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(bi(ta,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===na(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Mu(t,!1,i,n,o);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===na(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Mu(t,!0,n,null,o);break;case"together":Mu(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ru(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Lu(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Os|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(o(153));if(null!==t.child){for(n=yc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=yc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Iu(e,t){if(!Qi)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Du(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Bu(e,t,n){var r=t.pendingProps;switch(Yi(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Du(t),null;case 1:return Si(t.type)&&Ai(),Du(t),null;case 3:return r=t.stateNode,Ko(),mi(xi),mi(Ei),ia(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(io(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==Ki&&(Xs(Ki),Ki=null))),ku(e,t),Du(t),null;case 5:ea(t);var i=Jo($o.current);if(n=t.type,null!==e&&null!=t.stateNode)Ou(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(o(166));return Du(t),null}if(e=Jo(Xo.current),io(t)){r=t.stateNode,n=t.type;var a=t.memoizedProps;switch(r[oi]=t,r[ai]=a,e=0!==(1&t.mode),n){case"dialog":Mr("cancel",r),Mr("close",r);break;case"iframe":case"object":case"embed":Mr("load",r);break;case"video":case"audio":for(i=0;i<jr.length;i++)Mr(jr[i],r);break;case"source":Mr("error",r);break;case"img":case"image":case"link":Mr("error",r),Mr("load",r);break;case"details":Mr("toggle",r);break;case"input":$(r,a),Mr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},Mr("invalid",r);break;case"textarea":re(r,a),Mr("invalid",r)}for(var s in ye(n,a),i=null,a)if(a.hasOwnProperty(s)){var c=a[s];"children"===s?"string"===typeof c?r.textContent!==c&&(!0!==a.suppressHydrationWarning&&Wr(r.textContent,c,e),i=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(!0!==a.suppressHydrationWarning&&Wr(r.textContent,c,e),i=["children",""+c]):u.hasOwnProperty(s)&&null!=c&&"onScroll"===s&&Mr("scroll",r)}switch(n){case"input":W(r),K(r,a,!0);break;case"textarea":W(r),oe(r);break;case"select":case"option":break;default:"function"===typeof a.onClick&&(r.onclick=qr)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{s=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=ae(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=s.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=s.createElement(n,{is:r.is}):(e=s.createElement(n),"select"===n&&(s=e,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):e=s.createElementNS(e,n),e[oi]=t,e[ai]=r,xu(e,t,!1,!1),t.stateNode=e;e:{switch(s=me(n,r),n){case"dialog":Mr("cancel",e),Mr("close",e),i=r;break;case"iframe":case"object":case"embed":Mr("load",e),i=r;break;case"video":case"audio":for(i=0;i<jr.length;i++)Mr(jr[i],e);i=r;break;case"source":Mr("error",e),i=r;break;case"img":case"image":case"link":Mr("error",e),Mr("load",e),i=r;break;case"details":Mr("toggle",e),i=r;break;case"input":$(e,r),i=Y(e,r),Mr("invalid",e);break;case"option":i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=D({},r,{value:void 0}),Mr("invalid",e);break;case"textarea":re(e,r),i=ne(e,r),Mr("invalid",e);break;default:i=r}for(a in ye(n,i),c=i)if(c.hasOwnProperty(a)){var l=c[a];"style"===a?ve(e,l):"dangerouslySetInnerHTML"===a?null!=(l=l?l.__html:void 0)&&le(e,l):"children"===a?"string"===typeof l?("textarea"!==n||""!==l)&&fe(e,l):"number"===typeof l&&fe(e,""+l):"suppressContentEditableWarning"!==a&&"suppressHydrationWarning"!==a&&"autoFocus"!==a&&(u.hasOwnProperty(a)?null!=l&&"onScroll"===a&&Mr("scroll",e):null!=l&&b(e,a,l,s))}switch(n){case"input":W(e),K(e,r,!1);break;case"textarea":W(e),oe(e);break;case"option":null!=r.value&&e.setAttribute("value",""+G(r.value));break;case"select":e.multiple=!!r.multiple,null!=(a=r.value)?te(e,!!r.multiple,a,!1):null!=r.defaultValue&&te(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=qr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Du(t),null;case 6:if(e&&null!=t.stateNode)Su(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(o(166));if(n=Jo($o.current),Jo(Xo.current),io(t)){if(r=t.stateNode,n=t.memoizedProps,r[oi]=t,(a=r.nodeValue!==n)&&null!==(e=$i))switch(e.tag){case 3:Wr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Wr(r.nodeValue,n,0!==(1&e.mode))}a&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[oi]=t,t.stateNode=r}return Du(t),null;case 13:if(mi(ta),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(Qi&&null!==Ji&&0!==(1&t.mode)&&0===(128&t.flags))oo(),ao(),t.flags|=98560,a=!1;else if(a=io(t),null!==r&&null!==r.dehydrated){if(null===e){if(!a)throw Error(o(318));if(!(a=null!==(a=t.memoizedState)?a.dehydrated:null))throw Error(o(317));a[oi]=t}else ao(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Du(t),a=!1}else null!==Ki&&(Xs(Ki),Ki=null),a=!0;if(!a)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&ta.current)?0===xs&&(xs=3):nc())),null!==t.updateQueue&&(t.flags|=4),Du(t),null);case 4:return Ko(),ku(e,t),null===e&&Lr(t.stateNode.containerInfo),Du(t),null;case 10:return go(t.type._context),Du(t),null;case 17:return Si(t.type)&&Ai(),Du(t),null;case 19:if(mi(ta),null===(a=t.memoizedState))return Du(t),null;if(r=0!==(128&t.flags),null===(s=a.rendering))if(r)Iu(a,!1);else{if(0!==xs||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(s=na(e))){for(t.flags|=128,Iu(a,!1),null!==(r=s.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(a=n).flags&=14680066,null===(s=a.alternate)?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=s.childLanes,a.lanes=s.lanes,a.child=s.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=s.memoizedProps,a.memoizedState=s.memoizedState,a.updateQueue=s.updateQueue,a.type=s.type,e=s.dependencies,a.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return bi(ta,1&ta.current|2),t.child}e=e.sibling}null!==a.tail&&Ye()>_s&&(t.flags|=128,r=!0,Iu(a,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=na(s))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Iu(a,!0),null===a.tail&&"hidden"===a.tailMode&&!s.alternate&&!Qi)return Du(t),null}else 2*Ye()-a.renderingStartTime>_s&&1073741824!==n&&(t.flags|=128,r=!0,Iu(a,!1),t.lanes=4194304);a.isBackwards?(s.sibling=t.child,t.child=s):(null!==(n=a.last)?n.sibling=s:t.child=s,a.last=s)}return null!==a.tail?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=Ye(),t.sibling=null,n=ta.current,bi(ta,r?1&n|2:1&n),t):(Du(t),null);case 22:case 23:return Ks(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&ws)&&(Du(t),6&t.subtreeFlags&&(t.flags|=8192)):Du(t),null;case 24:case 25:return null}throw Error(o(156,t.tag))}function Fu(e,t){switch(Yi(t),t.tag){case 1:return Si(t.type)&&Ai(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return Ko(),mi(xi),mi(Ei),ia(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return ea(t),null;case 13:if(mi(ta),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(o(340));ao()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return mi(ta),null;case 4:return Ko(),null;case 10:return go(t.type._context),null;case 22:case 23:return Ks(),null;case 24:default:return null}}xu=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},ku=function(){},Ou=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,Jo(Xo.current);var o,a=null;switch(n){case"input":i=Y(e,i),r=Y(e,r),a=[];break;case"select":i=D({},i,{value:void 0}),r=D({},r,{value:void 0}),a=[];break;case"textarea":i=ne(e,i),r=ne(e,r),a=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=qr)}for(l in ye(n,r),n=null,i)if(!r.hasOwnProperty(l)&&i.hasOwnProperty(l)&&null!=i[l])if("style"===l){var s=i[l];for(o in s)s.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else"dangerouslySetInnerHTML"!==l&&"children"!==l&&"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&"autoFocus"!==l&&(u.hasOwnProperty(l)?a||(a=[]):(a=a||[]).push(l,null));for(l in r){var c=r[l];if(s=null!=i?i[l]:void 0,r.hasOwnProperty(l)&&c!==s&&(null!=c||null!=s))if("style"===l)if(s){for(o in s)!s.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in c)c.hasOwnProperty(o)&&s[o]!==c[o]&&(n||(n={}),n[o]=c[o])}else n||(a||(a=[]),a.push(l,n)),n=c;else"dangerouslySetInnerHTML"===l?(c=c?c.__html:void 0,s=s?s.__html:void 0,null!=c&&s!==c&&(a=a||[]).push(l,c)):"children"===l?"string"!==typeof c&&"number"!==typeof c||(a=a||[]).push(l,""+c):"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&(u.hasOwnProperty(l)?(null!=c&&"onScroll"===l&&Mr("scroll",e),a||s===c||(a=[])):(a=a||[]).push(l,c))}n&&(a=a||[]).push("style",n);var l=a;(t.updateQueue=l)&&(t.flags|=4)}},Su=function(e,t,n,r){n!==r&&(t.flags|=4)};var zu=!1,Vu=!1,Uu="function"===typeof WeakSet?WeakSet:Set,Gu=null;function Hu(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){fc(e,t,r)}else n.current=null}function Wu(e,t,n){try{n()}catch(r){fc(e,t,r)}}var qu=!1;function Xu(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var o=i.destroy;i.destroy=void 0,void 0!==o&&Wu(t,n,o)}i=i.next}while(i!==r)}}function Yu(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function $u(e){var t=e.ref;if(null!==t){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}"function"===typeof t?t(e):t.current=e}}function Ju(e){var t=e.alternate;null!==t&&(e.alternate=null,Ju(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[oi],delete t[ai],delete t[si],delete t[ci],delete t[li])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Qu(e){return 5===e.tag||3===e.tag||4===e.tag}function Ku(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||Qu(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}var Zu=null,es=!1;function ts(e,t,n){for(n=n.child;null!==n;)ns(e,t,n),n=n.sibling}function ns(e,t,n){if(nt&&"function"===typeof nt.onCommitFiberUnmount)try{nt.onCommitFiberUnmount(tt,n)}catch(u){}switch(n.tag){case 5:Vu||Hu(n,t);case 6:var r=Zu,i=es;Zu=null,ts(e,t,n),es=i,null!==(Zu=r)&&(es?(e=Zu,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):Zu.removeChild(n.stateNode));break;case 18:null!==Zu&&(es?(e=Zu,n=n.stateNode,8===e.nodeType?ti(e.parentNode,n):1===e.nodeType&&ti(e,n),Ft(e)):ti(Zu,n.stateNode));break;case 4:r=Zu,i=es,Zu=n.stateNode.containerInfo,es=!0,ts(e,t,n),Zu=r,es=i;break;case 0:case 11:case 14:case 15:if(!Vu&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var o=i,a=o.destroy;o=o.tag,void 0!==a&&(0!==(2&o)?Wu(n,t,a):0!==(4&o)&&Wu(n,t,a)),i=i.next}while(i!==r)}ts(e,t,n);break;case 1:if(!Vu&&(Hu(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(u){fc(n,t,u)}ts(e,t,n);break;case 21:ts(e,t,n);break;case 22:1&n.mode?(Vu=(r=Vu)||null!==n.memoizedState,ts(e,t,n),Vu=r):ts(e,t,n);break;default:ts(e,t,n)}}function rs(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Uu),t.forEach(function(t){var r=function(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(o(314))}null!==r&&r.delete(t),hc(e,n)}.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))})}}function is(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var a=e,u=t,s=u;e:for(;null!==s;){switch(s.tag){case 5:Zu=s.stateNode,es=!1;break e;case 3:case 4:Zu=s.stateNode.containerInfo,es=!0;break e}s=s.return}if(null===Zu)throw Error(o(160));ns(a,u,i),Zu=null,es=!1;var c=i.alternate;null!==c&&(c.return=null),i.return=null}catch(l){fc(i,t,l)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)os(t,e),t=t.sibling}function os(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(is(t,e),as(e),4&r){try{Xu(3,e,e.return),Yu(3,e)}catch(g){fc(e,e.return,g)}try{Xu(5,e,e.return)}catch(g){fc(e,e.return,g)}}break;case 1:is(t,e),as(e),512&r&&null!==n&&Hu(n,n.return);break;case 5:if(is(t,e),as(e),512&r&&null!==n&&Hu(n,n.return),32&e.flags){var i=e.stateNode;try{fe(i,"")}catch(g){fc(e,e.return,g)}}if(4&r&&null!=(i=e.stateNode)){var a=e.memoizedProps,u=null!==n?n.memoizedProps:a,s=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===s&&"radio"===a.type&&null!=a.name&&J(i,a),me(s,u);var l=me(s,a);for(u=0;u<c.length;u+=2){var f=c[u],h=c[u+1];"style"===f?ve(i,h):"dangerouslySetInnerHTML"===f?le(i,h):"children"===f?fe(i,h):b(i,f,h,l)}switch(s){case"input":Q(i,a);break;case"textarea":ie(i,a);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var p=a.value;null!=p?te(i,!!a.multiple,p,!1):d!==!!a.multiple&&(null!=a.defaultValue?te(i,!!a.multiple,a.defaultValue,!0):te(i,!!a.multiple,a.multiple?[]:"",!1))}i[ai]=a}catch(g){fc(e,e.return,g)}}break;case 6:if(is(t,e),as(e),4&r){if(null===e.stateNode)throw Error(o(162));i=e.stateNode,a=e.memoizedProps;try{i.nodeValue=a}catch(g){fc(e,e.return,g)}}break;case 3:if(is(t,e),as(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Ft(t.containerInfo)}catch(g){fc(e,e.return,g)}break;case 4:is(t,e),as(e);break;case 13:is(t,e),as(e),8192&(i=e.child).flags&&(a=null!==i.memoizedState,i.stateNode.isHidden=a,!a||null!==i.alternate&&null!==i.alternate.memoizedState||(Cs=Ye())),4&r&&rs(e);break;case 22:if(f=null!==n&&null!==n.memoizedState,1&e.mode?(Vu=(l=Vu)||f,is(t,e),Vu=l):is(t,e),as(e),8192&r){if(l=null!==e.memoizedState,(e.stateNode.isHidden=l)&&!f&&0!==(1&e.mode))for(Gu=e,f=e.child;null!==f;){for(h=Gu=f;null!==Gu;){switch(p=(d=Gu).child,d.tag){case 0:case 11:case 14:case 15:Xu(4,d,d.return);break;case 1:Hu(d,d.return);var v=d.stateNode;if("function"===typeof v.componentWillUnmount){r=d,n=d.return;try{t=r,v.props=t.memoizedProps,v.state=t.memoizedState,v.componentWillUnmount()}catch(g){fc(r,n,g)}}break;case 5:Hu(d,d.return);break;case 22:if(null!==d.memoizedState){cs(h);continue}}null!==p?(p.return=d,Gu=p):cs(h)}f=f.sibling}e:for(f=null,h=e;;){if(5===h.tag){if(null===f){f=h;try{i=h.stateNode,l?"function"===typeof(a=i.style).setProperty?a.setProperty("display","none","important"):a.display="none":(s=h.stateNode,u=void 0!==(c=h.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,s.style.display=pe("display",u))}catch(g){fc(e,e.return,g)}}}else if(6===h.tag){if(null===f)try{h.stateNode.nodeValue=l?"":h.memoizedProps}catch(g){fc(e,e.return,g)}}else if((22!==h.tag&&23!==h.tag||null===h.memoizedState||h===e)&&null!==h.child){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;null===h.sibling;){if(null===h.return||h.return===e)break e;f===h&&(f=null),h=h.return}f===h&&(f=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:is(t,e),as(e),4&r&&rs(e);break;case 21:break;default:is(t,e),as(e)}}function as(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(Qu(n)){var r=n;break e}n=n.return}throw Error(o(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(fe(i,""),r.flags&=-33),function e(t,n,r){var i=t.tag;if(5===i||6===i)t=t.stateNode,n?r.insertBefore(t,n):r.appendChild(t);else if(4!==i&&null!==(t=t.child))for(e(t,n,r),t=t.sibling;null!==t;)e(t,n,r),t=t.sibling}(e,Ku(e),i);break;case 3:case 4:var a=r.stateNode.containerInfo;!function e(t,n,r){var i=t.tag;if(5===i||6===i)t=t.stateNode,n?8===r.nodeType?r.parentNode.insertBefore(t,n):r.insertBefore(t,n):(8===r.nodeType?(n=r.parentNode).insertBefore(t,r):(n=r).appendChild(t),null!==(r=r._reactRootContainer)&&void 0!==r||null!==n.onclick||(n.onclick=qr));else if(4!==i&&null!==(t=t.child))for(e(t,n,r),t=t.sibling;null!==t;)e(t,n,r),t=t.sibling}(e,Ku(e),a);break;default:throw Error(o(161))}}catch(u){fc(e,e.return,u)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function us(e,t,n){Gu=e,function e(t,n,r){for(var i=0!==(1&t.mode);null!==Gu;){var o=Gu,a=o.child;if(22===o.tag&&i){var u=null!==o.memoizedState||zu;if(!u){var s=o.alternate,c=null!==s&&null!==s.memoizedState||Vu;s=zu;var l=Vu;if(zu=u,(Vu=c)&&!l)for(Gu=o;null!==Gu;)c=(u=Gu).child,22===u.tag&&null!==u.memoizedState?ls(o):null!==c?(c.return=u,Gu=c):ls(o);for(;null!==a;)Gu=a,e(a,n,r),a=a.sibling;Gu=o,zu=s,Vu=l}ss(t)}else 0!==(8772&o.subtreeFlags)&&null!==a?(a.return=o,Gu=a):ss(t)}}(e,t,n)}function ss(e){for(;null!==Gu;){var t=Gu;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Vu||Yu(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Vu)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:co(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;null!==a&&Mo(t,a,r);break;case 3:var u=t.updateQueue;if(null!==u){if(n=null,null!==t.child)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}Mo(t,u,n)}break;case 5:var s=t.stateNode;if(null===n&&4&t.flags){n=s;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:break;case 13:if(null===t.memoizedState){var l=t.alternate;if(null!==l){var f=l.memoizedState;if(null!==f){var h=f.dehydrated;null!==h&&Ft(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(o(163))}Vu||512&t.flags&&$u(t)}catch(d){fc(t,t.return,d)}}if(t===e){Gu=null;break}if(null!==(n=t.sibling)){n.return=t.return,Gu=n;break}Gu=t.return}}function cs(e){for(;null!==Gu;){var t=Gu;if(t===e){Gu=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Gu=n;break}Gu=t.return}}function ls(e){for(;null!==Gu;){var t=Gu;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Yu(4,t)}catch(s){fc(t,n,s)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(s){fc(t,i,s)}}var o=t.return;try{$u(t)}catch(s){fc(t,o,s)}break;case 5:var a=t.return;try{$u(t)}catch(s){fc(t,a,s)}}}catch(s){fc(t,t.return,s)}if(t===e){Gu=null;break}var u=t.sibling;if(null!==u){u.return=t.return,Gu=u;break}Gu=t.return}}var fs,hs=Math.ceil,ds=w.ReactCurrentDispatcher,ps=w.ReactCurrentOwner,vs=w.ReactCurrentBatchConfig,gs=0,ys=null,ms=null,bs=0,ws=0,Es=yi(0),xs=0,ks=null,Os=0,Ss=0,As=0,Ts=null,js=null,Cs=0,_s=1/0,Ps=null,Ms=!1,Ns=null,Rs=null,Ls=!1,Is=null,Ds=0,Bs=0,Fs=null,zs=-1,Vs=0;function Us(){return 0!==(6&gs)?Ye():-1!==zs?zs:zs=Ye()}function Gs(e){return 0===(1&e.mode)?1:0!==(2&gs)&&0!==bs?bs&-bs:null!==so.transition?(0===Vs&&(Vs=ht()),Vs):0!==(e=gt)?e:e=void 0===(e=window.event)?16:Xt(e.type)}function Hs(e,t,n,r){if(50<Bs)throw Bs=0,Fs=null,Error(o(185));pt(e,n,r),0!==(2&gs)&&e===ys||(e===ys&&(0===(2&gs)&&(Ss|=n),4===xs&&Ys(e,bs)),Ws(e,r),1===n&&0===gs&&0===(1&t.mode)&&(_s=Ye()+500,Mi&&Li()))}function Ws(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,o=e.pendingLanes;0<o;){var a=31-rt(o),u=1<<a,s=i[a];-1===s?0!==(u&n)&&0===(u&r)||(i[a]=lt(u,t)):s<=t&&(e.expiredLanes|=u),o&=~u}}(e,t);var r=ct(e,e===ys?bs:0);if(0===r)null!==n&&We(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&We(n),1===t)0===e.tag?function(e){Mi=!0,Ri(e)}($s.bind(null,e)):Ri($s.bind(null,e)),Zr(function(){0===(6&gs)&&Li()}),n=null;else{switch(yt(r)){case 1:n=Je;break;case 4:n=Qe;break;case 16:n=Ke;break;case 536870912:n=et;break;default:n=Ke}n=dc(n,function e(t,n){zs=-1;Vs=0;if(0!==(6&gs))throw Error(o(327));var r=t.callbackNode;if(cc()&&t.callbackNode!==r)return null;var i=ct(t,t===ys?bs:0);if(0===i)return null;if(0!==(30&i)||0!==(i&t.expiredLanes)||n)n=rc(t,i);else{n=i;var a=gs;gs|=2;var u=tc();for(ys===t&&bs===n||(Ps=null,_s=Ye()+500,Zs(t,n));;)try{oc();break}catch(c){ec(t,c)}vo(),ds.current=u,gs=a,null!==ms?n=0:(ys=null,bs=0,n=xs)}if(0!==n){if(2===n&&(0!==(a=ft(t))&&(i=a,n=qs(t,a))),1===n)throw r=ks,Zs(t,0),Ys(t,i),Ws(t,Ye()),r;if(6===n)Ys(t,i);else{if(a=t.current.alternate,0===(30&i)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!tr(o(),i))return!1}catch(s){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(a)&&(2===(n=rc(t,i))&&(0!==(u=ft(t))&&(i=u,n=qs(t,u))),1===n))throw r=ks,Zs(t,0),Ys(t,i),Ws(t,Ye()),r;switch(t.finishedWork=a,t.finishedLanes=i,n){case 0:case 1:throw Error(o(345));case 2:sc(t,js,Ps);break;case 3:if(Ys(t,i),(130023424&i)===i&&10<(n=Cs+500-Ye())){if(0!==ct(t,0))break;if(((a=t.suspendedLanes)&i)!==i){Us(),t.pingedLanes|=t.suspendedLanes&a;break}t.timeoutHandle=Jr(sc.bind(null,t,js,Ps),n);break}sc(t,js,Ps);break;case 4:if(Ys(t,i),(4194240&i)===i)break;for(n=t.eventTimes,a=-1;0<i;){var s=31-rt(i);u=1<<s,(s=n[s])>a&&(a=s),i&=~u}if(i=a,10<(i=(120>(i=Ye()-i)?120:480>i?480:1080>i?1080:1920>i?1920:3e3>i?3e3:4320>i?4320:1960*hs(i/1960))-i)){t.timeoutHandle=Jr(sc.bind(null,t,js,Ps),i);break}sc(t,js,Ps);break;case 5:sc(t,js,Ps);break;default:throw Error(o(329))}}}Ws(t,Ye());return t.callbackNode===r?e.bind(null,t):null}.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function qs(e,t){var n=Ts;return e.current.memoizedState.isDehydrated&&(Zs(e,t).flags|=256),2!==(e=rc(e,t))&&(t=js,js=n,null!==t&&Xs(t)),e}function Xs(e){null===js?js=e:js.push.apply(js,e)}function Ys(e,t){for(t&=~As,t&=~Ss,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-rt(t),r=1<<n;e[n]=-1,t&=~r}}function $s(e){if(0!==(6&gs))throw Error(o(327));cc();var t=ct(e,0);if(0===(1&t))return Ws(e,Ye()),null;var n=rc(e,t);if(0!==e.tag&&2===n){var r=ft(e);0!==r&&(t=r,n=qs(e,r))}if(1===n)throw n=ks,Zs(e,0),Ys(e,t),Ws(e,Ye()),n;if(6===n)throw Error(o(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,sc(e,js,Ps),Ws(e,Ye()),null}function Js(e,t){var n=gs;gs|=1;try{return e(t)}finally{0===(gs=n)&&(_s=Ye()+500,Mi&&Li())}}function Qs(e){null!==Is&&0===Is.tag&&0===(6&gs)&&cc();var t=gs;gs|=1;var n=vs.transition,r=gt;try{if(vs.transition=null,gt=1,e)return e()}finally{gt=r,vs.transition=n,0===(6&(gs=t))&&Li()}}function Ks(){ws=Es.current,mi(Es)}function Zs(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,Qr(n)),null!==ms)for(n=ms.return;null!==n;){var r=n;switch(Yi(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Ai();break;case 3:Ko(),mi(xi),mi(Ei),ia();break;case 5:ea(r);break;case 4:Ko();break;case 13:case 19:mi(ta);break;case 10:go(r.type._context);break;case 22:case 23:Ks()}n=n.return}if(ys=e,ms=e=yc(e.current,null),bs=ws=t,xs=0,ks=null,As=Ss=Os=0,js=Ts=null,null!==wo){for(t=0;t<wo.length;t++)if(null!==(r=(n=wo[t]).interleaved)){n.interleaved=null;var i=r.next,o=n.pending;if(null!==o){var a=o.next;o.next=i,r.next=a}n.pending=r}wo=null}return e}function ec(e,t){for(;;){var n=ms;try{if(vo(),oa.current=Ja,fa){for(var r=sa.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}fa=!1}if(ua=0,la=ca=sa=null,ha=!1,da=0,ps.current=null,null===n||null===n.return){xs=1,ks=t,ms=null;break}e:{var a=e,u=n.return,s=n,c=t;if(t=bs,s.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var l=c,f=s,h=f.tag;if(0===(1&f.mode)&&(0===h||11===h||15===h)){var d=f.alternate;d?(f.updateQueue=d.updateQueue,f.memoizedState=d.memoizedState,f.lanes=d.lanes):(f.updateQueue=null,f.memoizedState=null)}var p=uu(u);if(null!==p){p.flags&=-257,su(p,u,s,0,t),1&p.mode&&au(a,l,t),c=l;var v=(t=p).updateQueue;if(null===v){var g=new Set;g.add(c),t.updateQueue=g}else v.add(c);break e}if(0===(1&t)){au(a,l,t),nc();break e}c=Error(o(426))}else if(Qi&&1&s.mode){var y=uu(u);if(null!==y){0===(65536&y.flags)&&(y.flags|=256),su(y,u,s,0,t),uo(eu(c,s));break e}}a=c=eu(c,s),4!==xs&&(xs=2),null===Ts?Ts=[a]:Ts.push(a),a=u;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t,_o(a,iu(0,c,t));break e;case 1:s=c;var m=a.type,b=a.stateNode;if(0===(128&a.flags)&&("function"===typeof m.getDerivedStateFromError||null!==b&&"function"===typeof b.componentDidCatch&&(null===Rs||!Rs.has(b)))){a.flags|=65536,t&=-t,a.lanes|=t,_o(a,ou(a,s,t));break e}}a=a.return}while(null!==a)}uc(n)}catch(w){t=w,ms===n&&null!==n&&(ms=n=n.return);continue}break}}function tc(){var e=ds.current;return ds.current=Ja,null===e?Ja:e}function nc(){0!==xs&&3!==xs&&2!==xs||(xs=4),null===ys||0===(268435455&Os)&&0===(268435455&Ss)||Ys(ys,bs)}function rc(e,t){var n=gs;gs|=2;var r=tc();for(ys===e&&bs===t||(Ps=null,Zs(e,t));;)try{ic();break}catch(i){ec(e,i)}if(vo(),gs=n,ds.current=r,null!==ms)throw Error(o(261));return ys=null,bs=0,xs}function ic(){for(;null!==ms;)ac(ms)}function oc(){for(;null!==ms&&!qe();)ac(ms)}function ac(e){var t=fs(e.alternate,e,ws);e.memoizedProps=e.pendingProps,null===t?uc(e):ms=t,ps.current=null}function uc(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Bu(n,t,ws)))return void(ms=n)}else{if(null!==(n=Fu(n,t)))return n.flags&=32767,void(ms=n);if(null===e)return xs=6,void(ms=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(ms=t);ms=t=e}while(null!==t);0===xs&&(xs=5)}function sc(e,t,n){var r=gt,i=vs.transition;try{vs.transition=null,gt=1,function(e,t,n,r){do{cc()}while(null!==Is);if(0!==(6&gs))throw Error(o(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(o(177));e.callbackNode=null,e.callbackPriority=0;var a=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-rt(n),o=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~o}}(e,a),e===ys&&(ms=ys=null,bs=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Ls||(Ls=!0,dc(Ke,function(){return cc(),null})),a=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||a){a=vs.transition,vs.transition=null;var u=gt;gt=1;var s=gs;gs|=4,ps.current=null,function(e,t){if(Xr=Vt,ar(e=or())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch(E){n=null;break e}var u=0,s=-1,c=-1,l=0,f=0,h=e,d=null;t:for(;;){for(var p;h!==n||0!==i&&3!==h.nodeType||(s=u+i),h!==a||0!==r&&3!==h.nodeType||(c=u+r),3===h.nodeType&&(u+=h.nodeValue.length),null!==(p=h.firstChild);)d=h,h=p;for(;;){if(h===e)break t;if(d===n&&++l===i&&(s=u),d===a&&++f===r&&(c=u),null!==(p=h.nextSibling))break;d=(h=d).parentNode}h=p}n=-1===s||-1===c?null:{start:s,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(Yr={focusedElem:e,selectionRange:n},Vt=!1,Gu=t;null!==Gu;)if(e=(t=Gu).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Gu=e;else for(;null!==Gu;){t=Gu;try{var v=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:break;case 1:if(null!==v){var g=v.memoizedProps,y=v.memoizedState,m=t.stateNode,b=m.getSnapshotBeforeUpdate(t.elementType===t.type?g:co(t.type,g),y);m.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var w=t.stateNode.containerInfo;1===w.nodeType?w.textContent="":9===w.nodeType&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(o(163))}}catch(E){fc(t,t.return,E)}if(null!==(e=t.sibling)){e.return=t.return,Gu=e;break}Gu=t.return}v=qu,qu=!1}(e,n),os(n,e),ur(Yr),Vt=!!Xr,Yr=Xr=null,e.current=n,us(n,e,i),Xe(),gs=s,gt=u,vs.transition=a}else e.current=n;if(Ls&&(Ls=!1,Is=e,Ds=i),0===(a=e.pendingLanes)&&(Rs=null),function(e){if(nt&&"function"===typeof nt.onCommitFiberRoot)try{nt.onCommitFiberRoot(tt,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),Ws(e,Ye()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Ms)throw Ms=!1,e=Ns,Ns=null,e;0!==(1&Ds)&&0!==e.tag&&cc(),0!==(1&(a=e.pendingLanes))?e===Fs?Bs++:(Bs=0,Fs=e):Bs=0,Li()}(e,t,n,r)}finally{vs.transition=i,gt=r}return null}function cc(){if(null!==Is){var e=yt(Ds),t=vs.transition,n=gt;try{if(vs.transition=null,gt=16>e?16:e,null===Is)var r=!1;else{if(e=Is,Is=null,Ds=0,0!==(6&gs))throw Error(o(331));var i=gs;for(gs|=4,Gu=e.current;null!==Gu;){var a=Gu,u=a.child;if(0!==(16&Gu.flags)){var s=a.deletions;if(null!==s){for(var c=0;c<s.length;c++){var l=s[c];for(Gu=l;null!==Gu;){var f=Gu;switch(f.tag){case 0:case 11:case 15:Xu(8,f,a)}var h=f.child;if(null!==h)h.return=f,Gu=h;else for(;null!==Gu;){var d=(f=Gu).sibling,p=f.return;if(Ju(f),f===l){Gu=null;break}if(null!==d){d.return=p,Gu=d;break}Gu=p}}}var v=a.alternate;if(null!==v){var g=v.child;if(null!==g){v.child=null;do{var y=g.sibling;g.sibling=null,g=y}while(null!==g)}}Gu=a}}if(0!==(2064&a.subtreeFlags)&&null!==u)u.return=a,Gu=u;else e:for(;null!==Gu;){if(0!==(2048&(a=Gu).flags))switch(a.tag){case 0:case 11:case 15:Xu(9,a,a.return)}var m=a.sibling;if(null!==m){m.return=a.return,Gu=m;break e}Gu=a.return}}var b=e.current;for(Gu=b;null!==Gu;){var w=(u=Gu).child;if(0!==(2064&u.subtreeFlags)&&null!==w)w.return=u,Gu=w;else e:for(u=b;null!==Gu;){if(0!==(2048&(s=Gu).flags))try{switch(s.tag){case 0:case 11:case 15:Yu(9,s)}}catch(x){fc(s,s.return,x)}if(s===u){Gu=null;break e}var E=s.sibling;if(null!==E){E.return=s.return,Gu=E;break e}Gu=s.return}}if(gs=i,Li(),nt&&"function"===typeof nt.onPostCommitFiberRoot)try{nt.onPostCommitFiberRoot(tt,e)}catch(x){}r=!0}return r}finally{gt=n,vs.transition=t}}return!1}function lc(e,t,n){e=jo(e,t=iu(0,t=eu(n,t),1),1),t=Us(),null!==e&&(pt(e,1,t),Ws(e,t))}function fc(e,t,n){if(3===e.tag)lc(e,e,n);else for(;null!==t;){if(3===t.tag){lc(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Rs||!Rs.has(r))){t=jo(t,e=ou(t,e=eu(n,e),1),1),e=Us(),null!==t&&(pt(t,1,e),Ws(t,e));break}}t=t.return}}function hc(e,t){0===t&&(0===(1&e.mode)?t=1:(t=ut,0===(130023424&(ut<<=1))&&(ut=4194304)));var n=Us();null!==(e=ko(e,t))&&(pt(e,t,n),Ws(e,n))}function dc(e,t){return He(e,t)}function pc(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function vc(e,t,n,r){return new pc(e,t,n,r)}function gc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function yc(e,t){var n=e.alternate;return null===n?((n=vc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function mc(e,t,n,r,i,a){var u=2;if(r=e,"function"===typeof e)gc(e)&&(u=1);else if("string"===typeof e)u=5;else e:switch(e){case k:return bc(n.children,i,a,t);case O:u=8,i|=8;break;case S:return(e=vc(12,n,t,2|i)).elementType=S,e.lanes=a,e;case C:return(e=vc(13,n,t,i)).elementType=C,e.lanes=a,e;case _:return(e=vc(19,n,t,i)).elementType=_,e.lanes=a,e;case N:return wc(n,i,a,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case A:u=10;break e;case T:u=9;break e;case j:u=11;break e;case P:u=14;break e;case M:u=16,r=null;break e}throw Error(o(130,null==e?e:typeof e,""))}return(t=vc(u,n,t,i)).elementType=e,t.type=r,t.lanes=a,t}function bc(e,t,n,r){return(e=vc(7,e,r,t)).lanes=n,e}function wc(e,t,n,r){return(e=vc(22,e,r,t)).elementType=N,e.lanes=n,e.stateNode={isHidden:!1},e}function Ec(e,t,n){return(e=vc(6,e,null,t)).lanes=n,e}function xc(e,t,n){return(t=vc(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function kc(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=dt(0),this.expirationTimes=dt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=dt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Oc(e,t,n,r,i,o,a,u,s){return e=new kc(e,t,n,u,s),1===t?(t=1,!0===o&&(t|=8)):t=0,o=vc(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},So(o),e}function Sc(e){if(!e)return wi;e:{if(ze(e=e._reactInternals)!==e||1!==e.tag)throw Error(o(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Si(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(o(171))}if(1===e.tag){var n=e.type;if(Si(n))return ji(e,n,t)}return t}function Ac(e,t,n,r,i,o,a,u,s){return(e=Oc(n,r,!0,e,0,o,0,u,s)).context=Sc(null),n=e.current,(o=To(r=Us(),i=Gs(n))).callback=void 0!==t&&null!==t?t:null,jo(n,o,i),e.current.lanes=i,pt(e,i,r),Ws(e,r),e}function Tc(e,t,n,r){var i=t.current,o=Us(),a=Gs(i);return n=Sc(n),null===t.context?t.context=n:t.pendingContext=n,(t=To(o,a)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=jo(i,t,a))&&(Hs(e,i,a,o),Co(e,i,a)),a}function jc(e){if(!(e=e.current).child)return null;switch(e.child.tag){case 5:default:return e.child.stateNode}}function Cc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function _c(e,t){Cc(e,t),(e=e.alternate)&&Cc(e,t)}fs=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||xi.current)lu=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return lu=!1,function(e,t,n){switch(t.tag){case 3:wu(t),ao();break;case 5:Zo(t);break;case 1:Si(t.type)&&Ci(t);break;case 4:Qo(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;bi(lo,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(bi(ta,1&ta.current),t.flags|=128,null):0!==(n&t.child.childLanes)?ju(e,t,n):(bi(ta,1&ta.current),null!==(e=Lu(e,t,n))?e.sibling:null);bi(ta,1&ta.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return Nu(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),bi(ta,ta.current),r)break;return null;case 22:case 23:return t.lanes=0,vu(e,t,n)}return Lu(e,t,n)}(e,t,n);lu=0!==(131072&e.flags)}else lu=!1,Qi&&0!==(1048576&t.flags)&&qi(t,Fi,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Ru(e,t),e=t.pendingProps;var i=Oi(t,Ei.current);mo(t,n),i=ya(null,t,r,e,i,n);var a=ma();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Si(r)?(a=!0,Ci(t)):a=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,So(t),i.updater=Lo,t.stateNode=i,i._reactInternals=t,Fo(t,r,e,n),t=bu(null,t,r,!0,a,n)):(t.tag=0,Qi&&a&&Xi(t),fu(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Ru(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return gc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===j)return 11;if(e===P)return 14}return 2}(r),e=co(r,e),i){case 0:t=yu(null,t,r,e,n);break e;case 1:t=mu(null,t,r,e,n);break e;case 11:t=hu(null,t,r,e,n);break e;case 14:t=du(null,t,r,co(r.type,e),n);break e}throw Error(o(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,yu(e,t,r,i=t.elementType===r?i:co(r,i),n);case 1:return r=t.type,i=t.pendingProps,mu(e,t,r,i=t.elementType===r?i:co(r,i),n);case 3:e:{if(wu(t),null===e)throw Error(o(387));r=t.pendingProps,i=(a=t.memoizedState).element,Ao(e,t),Po(t,r,null,n);var u=t.memoizedState;if(r=u.element,a.isDehydrated){if(a={element:r,isDehydrated:!1,cache:u.cache,pendingSuspenseBoundaries:u.pendingSuspenseBoundaries,transitions:u.transitions},t.updateQueue.baseState=a,t.memoizedState=a,256&t.flags){t=Eu(e,t,r,n,i=eu(Error(o(423)),t));break e}if(r!==i){t=Eu(e,t,r,n,i=eu(Error(o(424)),t));break e}for(Ji=ni(t.stateNode.containerInfo.firstChild),$i=t,Qi=!0,Ki=null,n=Wo(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(ao(),r===i){t=Lu(e,t,n);break e}fu(e,t,r,n)}t=t.child}return t;case 5:return Zo(t),null===e&&no(t),r=t.type,i=t.pendingProps,a=null!==e?e.memoizedProps:null,u=i.children,$r(r,i)?u=null:null!==a&&$r(r,a)&&(t.flags|=32),gu(e,t),fu(e,t,u,n),t.child;case 6:return null===e&&no(t),null;case 13:return ju(e,t,n);case 4:return Qo(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Ho(t,null,r,n):fu(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,hu(e,t,r,i=t.elementType===r?i:co(r,i),n);case 7:return fu(e,t,t.pendingProps,n),t.child;case 8:case 12:return fu(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,a=t.memoizedProps,u=i.value,bi(lo,r._currentValue),r._currentValue=u,null!==a)if(tr(a.value,u)){if(a.children===i.children&&!xi.current){t=Lu(e,t,n);break e}}else for(null!==(a=t.child)&&(a.return=t);null!==a;){var s=a.dependencies;if(null!==s){u=a.child;for(var c=s.firstContext;null!==c;){if(c.context===r){if(1===a.tag){(c=To(-1,n&-n)).tag=2;var l=a.updateQueue;if(null!==l){var f=(l=l.shared).pending;null===f?c.next=c:(c.next=f.next,f.next=c),l.pending=c}}a.lanes|=n,null!==(c=a.alternate)&&(c.lanes|=n),yo(a.return,n,t),s.lanes|=n;break}c=c.next}}else if(10===a.tag)u=a.type===t.type?null:a.child;else if(18===a.tag){if(null===(u=a.return))throw Error(o(341));u.lanes|=n,null!==(s=u.alternate)&&(s.lanes|=n),yo(u,n,t),u=a.sibling}else u=a.child;if(null!==u)u.return=a;else for(u=a;null!==u;){if(u===t){u=null;break}if(null!==(a=u.sibling)){a.return=u.return,u=a;break}u=u.return}a=u}fu(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,mo(t,n),r=r(i=bo(i)),t.flags|=1,fu(e,t,r,n),t.child;case 14:return i=co(r=t.type,t.pendingProps),du(e,t,r,i=co(r.type,i),n);case 15:return pu(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:co(r,i),Ru(e,t),t.tag=1,Si(r)?(e=!0,Ci(t)):e=!1,mo(t,n),Do(t,r,i),Fo(t,r,i,n),bu(null,t,r,!0,e,n);case 19:return Nu(e,t,n);case 22:return vu(e,t,n)}throw Error(o(156,t.tag))};var Pc="function"===typeof reportError?reportError:function(e){console.error(e)};function Mc(e){this._internalRoot=e}function Nc(e){this._internalRoot=e}function Rc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Lc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Ic(){}function Dc(e,t,n,r,i){var o=n._reactRootContainer;if(o){var a=o;if("function"===typeof i){var u=i;i=function(){var e=jc(a);u.call(e)}}Tc(t,a,e,i)}else a=function(e,t,n,r,i){if(i){if("function"===typeof r){var o=r;r=function(){var e=jc(a);o.call(e)}}var a=Ac(t,r,e,0,null,!1,0,"",Ic);return e._reactRootContainer=a,e[ui]=a.current,Lr(8===e.nodeType?e.parentNode:e),Qs(),a}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var u=r;r=function(){var e=jc(s);u.call(e)}}var s=Oc(e,0,!1,null,0,!1,0,"",Ic);return e._reactRootContainer=s,e[ui]=s.current,Lr(8===e.nodeType?e.parentNode:e),Qs(function(){Tc(t,s,n,r)}),s}(n,t,e,i,r);return jc(a)}Nc.prototype.render=Mc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(o(409));Tc(e,t,null,null)},Nc.prototype.unmount=Mc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;Qs(function(){Tc(null,e,null,null)}),t[ui]=null}},Nc.prototype.unstable_scheduleHydration=function(e){if(e){var t=Et();e={blockedOn:null,target:e,priority:t};for(var n=0;n<_t.length&&0!==t&&t<_t[n].priority;n++);_t.splice(n,0,e),0===n&&Rt(e)}},mt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=st(t.pendingLanes);0!==n&&(vt(t,1|n),Ws(t,Ye()),0===(6&gs)&&(_s=Ye()+500,Li()))}break;case 13:Qs(function(){var t=ko(e,1);if(null!==t){var n=Us();Hs(t,e,1,n)}}),_c(e,1)}},bt=function(e){if(13===e.tag){var t=ko(e,134217728);if(null!==t)Hs(t,e,134217728,Us());_c(e,134217728)}},wt=function(e){if(13===e.tag){var t=Gs(e),n=ko(e,t);if(null!==n)Hs(n,e,t,Us());_c(e,t)}},Et=function(){return gt},xt=function(e,t){var n=gt;try{return gt=e,t()}finally{gt=n}},Ee=function(e,t,n){switch(t){case"input":if(Q(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=pi(r);if(!i)throw Error(o(90));q(r),Q(r,i)}}}break;case"textarea":ie(e,n);break;case"select":null!=(t=n.value)&&te(e,!!n.multiple,t,!1)}},Te=Js,je=Qs;var Bc={usingClientEntryPoint:!1,Events:[hi,di,pi,Se,Ae,Js]},Fc={findFiberByHostInstance:fi,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},zc={bundleType:Fc.bundleType,version:Fc.version,rendererPackageName:Fc.rendererPackageName,rendererConfig:Fc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:w.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Ge(e))?null:e.stateNode},findFiberByHostInstance:Fc.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var Vc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Vc.isDisabled&&Vc.supportsFiber)try{tt=Vc.inject(zc),nt=Vc}catch(ce){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Bc,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Rc(t))throw Error(o(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:x,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!Rc(e))throw Error(o(299));var n=!1,r="",i=Pc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=Oc(e,1,!1,null,0,n,0,r,i),e[ui]=t.current,Lr(8===e.nodeType?e.parentNode:e),new Mc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(o(188));throw e=Object.keys(e).join(","),Error(o(268,e))}return e=null===(e=Ge(t))?null:e.stateNode},t.flushSync=function(e){return Qs(e)},t.hydrate=function(e,t,n){if(!Lc(t))throw Error(o(200));return Dc(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Rc(e))throw Error(o(405));var r=null!=n&&n.hydratedSources||null,i=!1,a="",u=Pc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(a=n.identifierPrefix),void 0!==n.onRecoverableError&&(u=n.onRecoverableError)),t=Ac(t,null,e,1,null!=n?n:null,i,0,a,u),e[ui]=t.current,Lr(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Nc(t)},t.render=function(e,t,n){if(!Lc(t))throw Error(o(200));return Dc(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Lc(e))throw Error(o(40));return!!e._reactRootContainer&&(Qs(function(){Dc(null,null,e,!1,function(){e._reactRootContainer=null,e[ui]=null})}),!0)},t.unstable_batchedUpdates=Js,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Lc(n))throw Error(o(200));if(null==e||void 0===e._reactInternals)throw Error(o(38));return Dc(e,t,n,!1,r)},t.version="18.2.0-next-9e3b772b8-20220608"},function(e,t,n){"use strict";e.exports=n(628)},function(e,t,n){"use strict";(function(e){function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<o(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,a=i>>>1;r<a;){var u=2*(r+1)-1,s=e[u],c=u+1,l=e[c];if(0>o(s,n))c<i&&0>o(l,s)?(e[r]=l,e[c]=n,r=c):(e[r]=s,e[u]=n,r=u);else{if(!(c<i&&0>o(l,n)))break e;e[r]=l,e[c]=n,r=c}}}return t}function o(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var a=performance;t.unstable_now=function(){return a.now()}}else{var u=Date,s=u.now();t.unstable_now=function(){return u.now()-s}}var c=[],l=[],f=1,h=null,d=3,p=!1,v=!1,g=!1,y="function"===typeof setTimeout?setTimeout:null,m="function"===typeof clearTimeout?clearTimeout:null,b="undefined"!==typeof e?e:null;function w(e){for(var t=r(l);null!==t;){if(null===t.callback)i(l);else{if(!(t.startTime<=e))break;i(l),t.sortIndex=t.expirationTime,n(c,t)}t=r(l)}}function E(e){if(g=!1,w(e),!v)if(null!==r(c))v=!0,N(x);else{var t=r(l);null!==t&&R(E,t.startTime-e)}}function x(e,n){v=!1,g&&(g=!1,m(A),A=-1),p=!0;var o=d;try{for(w(n),h=r(c);null!==h&&(!(h.expirationTime>n)||e&&!C());){var a=h.callback;if("function"===typeof a){h.callback=null,d=h.priorityLevel;var u=a(h.expirationTime<=n);n=t.unstable_now(),"function"===typeof u?h.callback=u:h===r(c)&&i(c),w(n)}else i(c);h=r(c)}if(null!==h)var s=!0;else{var f=r(l);null!==f&&R(E,f.startTime-n),s=!1}return s}finally{h=null,d=o,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var k,O=!1,S=null,A=-1,T=5,j=-1;function C(){return!(t.unstable_now()-j<T)}function _(){if(null!==S){var e=t.unstable_now();j=e;var n=!0;try{n=S(!0,e)}finally{n?k():(O=!1,S=null)}}else O=!1}if("function"===typeof b)k=function(){b(_)};else if("undefined"!==typeof MessageChannel){var P=new MessageChannel,M=P.port2;P.port1.onmessage=_,k=function(){M.postMessage(null)}}else k=function(){y(_,0)};function N(e){S=e,O||(O=!0,k())}function R(e,n){A=y(function(){e(t.unstable_now())},n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){v||p||(v=!0,N(x))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(d){case 1:case 2:case 3:var t=3;break;default:t=d}var n=d;d=t;try{return e()}finally{d=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=d;d=e;try{return t()}finally{d=n}},t.unstable_scheduleCallback=function(e,i,o){var a=t.unstable_now();switch("object"===typeof o&&null!==o?o="number"===typeof(o=o.delay)&&0<o?a+o:a:o=a,e){case 1:var u=-1;break;case 2:u=250;break;case 5:u=1073741823;break;case 4:u=1e4;break;default:u=5e3}return e={id:f++,callback:i,priorityLevel:e,startTime:o,expirationTime:u=o+u,sortIndex:-1},o>a?(e.sortIndex=o,n(l,e),null===r(c)&&e===r(l)&&(g?(m(A),A=-1):g=!0,R(E,o-a))):(e.sortIndex=u,n(c,e),v||p||(v=!0,N(x))),e},t.unstable_shouldYield=C,t.unstable_wrapCallback=function(e){var t=d;return function(){var n=d;d=t;try{return e.apply(this,arguments)}finally{d=n}}}}).call(this,n(629).setImmediate)},function(e,t,n){(function(e){var r="undefined"!==typeof e&&e||"undefined"!==typeof self&&self||window,i=Function.prototype.apply;function o(e,t){this._id=e,this._clearFn=t}t.setTimeout=function(){return new o(i.call(setTimeout,r,arguments),clearTimeout)},t.setInterval=function(){return new o(i.call(setInterval,r,arguments),clearInterval)},t.clearTimeout=t.clearInterval=function(e){e&&e.close()},o.prototype.unref=o.prototype.ref=function(){},o.prototype.close=function(){this._clearFn.call(r,this._id)},t.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},t.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},t._unrefActive=t.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;t>=0&&(e._idleTimeoutId=setTimeout(function(){e._onTimeout&&e._onTimeout()},t))},n(630),t.setImmediate="undefined"!==typeof self&&self.setImmediate||"undefined"!==typeof e&&e.setImmediate||this&&this.setImmediate,t.clearImmediate="undefined"!==typeof self&&self.clearImmediate||"undefined"!==typeof e&&e.clearImmediate||this&&this.clearImmediate}).call(this,n(62))},function(e,t,n){(function(e,t){!function(e,n){"use strict";if(!e.setImmediate){var r,i=1,o={},a=!1,u=e.document,s=Object.getPrototypeOf&&Object.getPrototypeOf(e);s=s&&s.setTimeout?s:e,"[object process]"==={}.toString.call(e.process)?r=function(e){t.nextTick(function(){l(e)})}:function(){if(e.postMessage&&!e.importScripts){var t=!0,n=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage("","*"),e.onmessage=n,t}}()?function(){var t="setImmediate$"+Math.random()+"$",n=function(n){n.source===e&&"string"===typeof n.data&&0===n.data.indexOf(t)&&l(+n.data.slice(t.length))};e.addEventListener?e.addEventListener("message",n,!1):e.attachEvent("onmessage",n),r=function(n){e.postMessage(t+n,"*")}}():e.MessageChannel?function(){var e=new MessageChannel;e.port1.onmessage=function(e){l(e.data)},r=function(t){e.port2.postMessage(t)}}():u&&"onreadystatechange"in u.createElement("script")?function(){var e=u.documentElement;r=function(t){var n=u.createElement("script");n.onreadystatechange=function(){l(t),n.onreadystatechange=null,e.removeChild(n),n=null},e.appendChild(n)}}():r=function(e){setTimeout(l,0,e)},s.setImmediate=function(e){"function"!==typeof e&&(e=new Function(""+e));for(var t=new Array(arguments.length-1),n=0;n<t.length;n++)t[n]=arguments[n+1];var a={callback:e,args:t};return o[i]=a,r(i),i++},s.clearImmediate=c}function c(e){delete o[e]}function l(e){if(a)setTimeout(l,0,e);else{var t=o[e];if(t){a=!0;try{!function(e){var t=e.callback,r=e.args;switch(r.length){case 0:t();break;case 1:t(r[0]);break;case 2:t(r[0],r[1]);break;case 3:t(r[0],r[1],r[2]);break;default:t.apply(n,r)}}(t)}finally{c(e),a=!1}}}}}("undefined"===typeof self?"undefined"===typeof e?this:e:self)}).call(this,n(62),n(191))},function(e,t,n){(function(e){!function(t){"use strict";function n(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}function r(e,t){Object.defineProperty(this,"kind",{value:e,enumerable:!0}),t&&t.length&&Object.defineProperty(this,"path",{value:t,enumerable:!0})}function i(e,t,n){i.super_.call(this,"E",e),Object.defineProperty(this,"lhs",{value:t,enumerable:!0}),Object.defineProperty(this,"rhs",{value:n,enumerable:!0})}function o(e,t){o.super_.call(this,"N",e),Object.defineProperty(this,"rhs",{value:t,enumerable:!0})}function a(e,t){a.super_.call(this,"D",e),Object.defineProperty(this,"lhs",{value:t,enumerable:!0})}function u(e,t,n){u.super_.call(this,"A",e),Object.defineProperty(this,"index",{value:t,enumerable:!0}),Object.defineProperty(this,"item",{value:n,enumerable:!0})}function s(e,t,n){var r=e.slice((n||t)+1||e.length);return e.length=t<0?e.length+t:t,e.push.apply(e,r),e}function c(e){var t="undefined"==typeof e?"undefined":k(e);return"object"!==t?t:e===Math?"math":null===e?"null":Array.isArray(e)?"array":"[object Date]"===Object.prototype.toString.call(e)?"date":"function"==typeof e.toString&&/^\/.*\//.test(e.toString())?"regexp":"object"}function l(e,t,n,r,f,h,d){d=d||[];var p=(f=f||[]).slice(0);if("undefined"!=typeof h){if(r){if("function"==typeof r&&r(p,h))return;if("object"===("undefined"==typeof r?"undefined":k(r))){if(r.prefilter&&r.prefilter(p,h))return;if(r.normalize){var v=r.normalize(p,h,e,t);v&&(e=v[0],t=v[1])}}}p.push(h)}"regexp"===c(e)&&"regexp"===c(t)&&(e=e.toString(),t=t.toString());var g="undefined"==typeof e?"undefined":k(e),y="undefined"==typeof t?"undefined":k(t),m="undefined"!==g||d&&d[d.length-1].lhs&&d[d.length-1].lhs.hasOwnProperty(h),b="undefined"!==y||d&&d[d.length-1].rhs&&d[d.length-1].rhs.hasOwnProperty(h);if(!m&&b)n(new o(p,t));else if(!b&&m)n(new a(p,e));else if(c(e)!==c(t))n(new i(p,e,t));else if("date"===c(e)&&e-t!==0)n(new i(p,e,t));else if("object"===g&&null!==e&&null!==t)if(d.filter(function(t){return t.lhs===e}).length)e!==t&&n(new i(p,e,t));else{if(d.push({lhs:e,rhs:t}),Array.isArray(e)){var w;for(e.length,w=0;w<e.length;w++)w>=t.length?n(new u(p,w,new a(void 0,e[w]))):l(e[w],t[w],n,r,p,w,d);for(;w<t.length;)n(new u(p,w,new o(void 0,t[w++])))}else{var E=Object.keys(e),x=Object.keys(t);E.forEach(function(i,o){var a=x.indexOf(i);a>=0?(l(e[i],t[i],n,r,p,i,d),x=s(x,a)):l(e[i],void 0,n,r,p,i,d)}),x.forEach(function(e){l(void 0,t[e],n,r,p,e,d)})}d.length=d.length-1}else e!==t&&("number"===g&&isNaN(e)&&isNaN(t)||n(new i(p,e,t)))}function f(e,t,n,r){return r=r||[],l(e,t,function(e){e&&r.push(e)},n),r.length?r:void 0}function h(e,t,n){if(e&&t&&n&&n.kind){for(var r=e,i=-1,o=n.path?n.path.length-1:0;++i<o;)"undefined"==typeof r[n.path[i]]&&(r[n.path[i]]="number"==typeof n.path[i]?[]:{}),r=r[n.path[i]];switch(n.kind){case"A":!function e(t,n,r){if(r.path&&r.path.length){var i,o=t[n],a=r.path.length-1;for(i=0;i<a;i++)o=o[r.path[i]];switch(r.kind){case"A":e(o[r.path[i]],r.index,r.item);break;case"D":delete o[r.path[i]];break;case"E":case"N":o[r.path[i]]=r.rhs}}else switch(r.kind){case"A":e(t[n],r.index,r.item);break;case"D":t=s(t,n);break;case"E":case"N":t[n]=r.rhs}return t}(n.path?r[n.path[i]]:r,n.index,n.item);break;case"D":delete r[n.path[i]];break;case"E":case"N":r[n.path[i]]=n.rhs}}}function d(e){return"color: "+A[e].color+"; font-weight: bold"}function p(e,t,n,r){var i=f(e,t);try{r?n.groupCollapsed("diff"):n.group("diff")}catch(e){n.log("diff")}i?i.forEach(function(e){var t=e.kind,r=function(e){var t=e.kind,n=e.path,r=e.lhs,i=e.rhs,o=e.index,a=e.item;switch(t){case"E":return[n.join("."),r,"\u2192",i];case"N":return[n.join("."),i];case"D":return[n.join(".")];case"A":return[n.join(".")+"["+o+"]",a];default:return[]}}(e);n.log.apply(n,["%c "+A[t].text,d(t)].concat(O(r)))}):n.log("\u2014\u2014 no diff \u2014\u2014");try{n.groupEnd()}catch(e){n.log("\u2014\u2014 diff end \u2014\u2014 ")}}function v(e,t,n,r){switch("undefined"==typeof e?"undefined":k(e)){case"object":return"function"==typeof e[r]?e[r].apply(e,O(n)):e[r];case"function":return e(t);default:return e}}function g(e,t){var n=t.logger,r=t.actionTransformer,i=t.titleFormatter,o=void 0===i?function(e){var t=e.timestamp,n=e.duration;return function(e,r,i){var o=["action"];return o.push("%c"+String(e.type)),t&&o.push("%c@ "+r),n&&o.push("%c(in "+i.toFixed(2)+" ms)"),o.join(" ")}}(t):i,a=t.collapsed,u=t.colors,s=t.level,c=t.diff,l="undefined"==typeof t.titleFormatter;e.forEach(function(i,f){var h=i.started,d=i.startedTime,g=i.action,y=i.prevState,m=i.error,b=i.took,w=i.nextState,x=e[f+1];x&&(w=x.prevState,b=x.started-h);var k=r(g),O="function"==typeof a?a(function(){return w},g,i):a,S=E(d),A=u.title?"color: "+u.title(k)+";":"",T=["color: gray; font-weight: lighter;"];T.push(A),t.timestamp&&T.push("color: gray; font-weight: lighter;"),t.duration&&T.push("color: gray; font-weight: lighter;");var j=o(k,S,b);try{O?u.title&&l?n.groupCollapsed.apply(n,["%c "+j].concat(T)):n.groupCollapsed(j):u.title&&l?n.group.apply(n,["%c "+j].concat(T)):n.group(j)}catch(e){n.log(j)}var C=v(s,k,[y],"prevState"),_=v(s,k,[k],"action"),P=v(s,k,[m,y],"error"),M=v(s,k,[w],"nextState");if(C)if(u.prevState){var N="color: "+u.prevState(y)+"; font-weight: bold";n[C]("%c prev state",N,y)}else n[C]("prev state",y);if(_)if(u.action){var R="color: "+u.action(k)+"; font-weight: bold";n[_]("%c action    ",R,k)}else n[_]("action    ",k);if(m&&P)if(u.error){var L="color: "+u.error(m,y)+"; font-weight: bold;";n[P]("%c error     ",L,m)}else n[P]("error     ",m);if(M)if(u.nextState){var I="color: "+u.nextState(w)+"; font-weight: bold";n[M]("%c next state",I,w)}else n[M]("next state",w);c&&p(y,w,n,O);try{n.groupEnd()}catch(e){n.log("\u2014\u2014 log end \u2014\u2014")}})}function y(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object.assign({},T,e),n=t.logger,r=t.stateTransformer,i=t.errorTransformer,o=t.predicate,a=t.logErrors,u=t.diffPredicate;if("undefined"==typeof n)return function(){return function(e){return function(t){return e(t)}}};if(e.getState&&e.dispatch)return console.error("[redux-logger] redux-logger not installed. Make sure to pass logger instance as middleware:\n// Logger with default options\nimport { logger } from 'redux-logger'\nconst store = createStore(\n  reducer,\n  applyMiddleware(logger)\n)\n// Or you can create your own logger with custom options http://bit.ly/redux-logger-options\nimport createLogger from 'redux-logger'\nconst logger = createLogger({\n  // ...options\n});\nconst store = createStore(\n  reducer,\n  applyMiddleware(logger)\n)\n"),function(){return function(e){return function(t){return e(t)}}};var s=[];return function(e){var n=e.getState;return function(e){return function(c){if("function"==typeof o&&!o(n,c))return e(c);var l={};s.push(l),l.started=x.now(),l.startedTime=new Date,l.prevState=r(n()),l.action=c;var f=void 0;if(a)try{f=e(c)}catch(e){l.error=i(e)}else f=e(c);l.took=x.now()-l.started,l.nextState=r(n());var h=t.diff&&"function"==typeof u?u(n,c):t.diff;if(g(s,Object.assign({},t,{diff:h})),s.length=0,l.error)throw l.error;return f}}}}var m,b,w=function(e,t){return function(e,t){return new Array(t+1).join(e)}("0",t-e.toString().length)+e},E=function(e){return w(e.getHours(),2)+":"+w(e.getMinutes(),2)+":"+w(e.getSeconds(),2)+"."+w(e.getMilliseconds(),3)},x="undefined"!=typeof performance&&null!==performance&&"function"==typeof performance.now?performance:Date,k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},O=function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)},S=[];m="object"===("undefined"==typeof e?"undefined":k(e))&&e?e:"undefined"!=typeof window?window:{},(b=m.DeepDiff)&&S.push(function(){"undefined"!=typeof b&&m.DeepDiff===f&&(m.DeepDiff=b,b=void 0)}),n(i,r),n(o,r),n(a,r),n(u,r),Object.defineProperties(f,{diff:{value:f,enumerable:!0},observableDiff:{value:l,enumerable:!0},applyDiff:{value:function(e,t,n){e&&t&&l(e,t,function(r){n&&!n(e,t,r)||h(e,t,r)})},enumerable:!0},applyChange:{value:h,enumerable:!0},revertChange:{value:function(e,t,n){if(e&&t&&n&&n.kind){var r,i,o=e;for(i=n.path.length-1,r=0;r<i;r++)"undefined"==typeof o[n.path[r]]&&(o[n.path[r]]={}),o=o[n.path[r]];switch(n.kind){case"A":!function e(t,n,r){if(r.path&&r.path.length){var i,o=t[n],a=r.path.length-1;for(i=0;i<a;i++)o=o[r.path[i]];switch(r.kind){case"A":e(o[r.path[i]],r.index,r.item);break;case"D":case"E":o[r.path[i]]=r.lhs;break;case"N":delete o[r.path[i]]}}else switch(r.kind){case"A":e(t[n],r.index,r.item);break;case"D":case"E":t[n]=r.lhs;break;case"N":t=s(t,n)}return t}(o[n.path[r]],n.index,n.item);break;case"D":case"E":o[n.path[r]]=n.lhs;break;case"N":delete o[n.path[r]]}}},enumerable:!0},isConflict:{value:function(){return"undefined"!=typeof b},enumerable:!0},noConflict:{value:function(){return S&&(S.forEach(function(e){e()}),S=null),f},enumerable:!0}});var A={E:{color:"#2196F3",text:"CHANGED:"},N:{color:"#4CAF50",text:"ADDED:"},D:{color:"#F44336",text:"DELETED:"},A:{color:"#2196F3",text:"ARRAY:"}},T={level:"log",logger:console,logErrors:!0,collapsed:void 0,predicate:void 0,duration:!1,timestamp:!0,stateTransformer:function(e){return e},actionTransformer:function(e){return e},errorTransformer:function(e){return e},colors:{title:function(){return"inherit"},prevState:function(){return"#9E9E9E"},action:function(){return"#03A9F4"},nextState:function(){return"#4CAF50"},error:function(){return"#F20404"}},diff:!1,diffPredicate:void 0,transformer:void 0},j=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.dispatch,n=e.getState;return"function"==typeof t||"function"==typeof n?y()({dispatch:t,getState:n}):void console.error("\n[redux-logger v3] BREAKING CHANGE\n[redux-logger v3] Since 3.0.0 redux-logger exports by default logger with default settings.\n[redux-logger v3] Change\n[redux-logger v3] import createLogger from 'redux-logger'\n[redux-logger v3] to\n[redux-logger v3] import { createLogger } from 'redux-logger'\n")};t.defaults=T,t.createLogger=y,t.logger=j,t.default=j,Object.defineProperty(t,"__esModule",{value:!0})}(t)}).call(this,n(62))},function(e,t,n){var r=n(120).default;e.exports=function(e,t){if("object"!==r(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==r(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,n){var r=n(183),i=n(637),o=n(184),a={};a["[object Float32Array]"]=a["[object Float64Array]"]=a["[object Int8Array]"]=a["[object Int16Array]"]=a["[object Int32Array]"]=a["[object Uint8Array]"]=a["[object Uint8ClampedArray]"]=a["[object Uint16Array]"]=a["[object Uint32Array]"]=!0,a["[object Arguments]"]=a["[object Array]"]=a["[object ArrayBuffer]"]=a["[object Boolean]"]=a["[object DataView]"]=a["[object Date]"]=a["[object Error]"]=a["[object Function]"]=a["[object Map]"]=a["[object Number]"]=a["[object Object]"]=a["[object RegExp]"]=a["[object Set]"]=a["[object String]"]=a["[object WeakMap]"]=!1,e.exports=function(e){return o(e)&&i(e.length)&&!!a[r(e)]}},function(e,t,n){var r=n(238),i="object"==typeof self&&self&&self.Object===Object&&self,o=r||i||Function("return this")();e.exports=o},function(e,t,n){var r=n(237),i=Object.prototype,o=i.hasOwnProperty,a=i.toString,u=r?r.toStringTag:void 0;e.exports=function(e){var t=o.call(e,u),n=e[u];try{e[u]=void 0;var r=!0}catch(s){}var i=a.call(e);return r&&(t?e[u]=n:delete e[u]),i}},function(e,t){var n=Object.prototype.toString;e.exports=function(e){return n.call(e)}},function(e,t){var n=9007199254740991;e.exports=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=n}},function(e,t){e.exports=function(e){return function(t){return e(t)}}},function(e,t,n){(function(e){var r=n(238),i=t&&!t.nodeType&&t,o=i&&"object"==typeof e&&e&&!e.nodeType&&e,a=o&&o.exports===i&&r.process,u=function(){try{var e=o&&o.require&&o.require("util").types;return e||a&&a.binding&&a.binding("util")}catch(t){}}();e.exports=u}).call(this,n(255)(e))},function(e,t,n){var r=n(120).default;function i(){"use strict";e.exports=i=function(){return t},e.exports.__esModule=!0,e.exports.default=e.exports;var t={},n=Object.prototype,o=n.hasOwnProperty,a=Object.defineProperty||function(e,t,n){e[t]=n.value},u="function"==typeof Symbol?Symbol:{},s=u.iterator||"@@iterator",c=u.asyncIterator||"@@asyncIterator",l=u.toStringTag||"@@toStringTag";function f(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{f({},"")}catch(P){f=function(e,t,n){return e[t]=n}}function h(e,t,n,r){var i=t&&t.prototype instanceof v?t:v,o=Object.create(i.prototype),u=new j(r||[]);return a(o,"_invoke",{value:O(e,n,u)}),o}function d(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(P){return{type:"throw",arg:P}}}t.wrap=h;var p={};function v(){}function g(){}function y(){}var m={};f(m,s,function(){return this});var b=Object.getPrototypeOf,w=b&&b(b(C([])));w&&w!==n&&o.call(w,s)&&(m=w);var E=y.prototype=v.prototype=Object.create(m);function x(e){["next","throw","return"].forEach(function(t){f(e,t,function(e){return this._invoke(t,e)})})}function k(e,t){var n;a(this,"_invoke",{value:function(i,a){function u(){return new t(function(n,u){!function n(i,a,u,s){var c=d(e[i],e,a);if("throw"!==c.type){var l=c.arg,f=l.value;return f&&"object"==r(f)&&o.call(f,"__await")?t.resolve(f.__await).then(function(e){n("next",e,u,s)},function(e){n("throw",e,u,s)}):t.resolve(f).then(function(e){l.value=e,u(l)},function(e){return n("throw",e,u,s)})}s(c.arg)}(i,a,n,u)})}return n=n?n.then(u,u):u()}})}function O(e,t,n){var r="suspendedStart";return function(i,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw o;return _()}for(n.method=i,n.arg=o;;){var a=n.delegate;if(a){var u=S(a,n);if(u){if(u===p)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var s=d(e,t,n);if("normal"===s.type){if(r=n.done?"completed":"suspendedYield",s.arg===p)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r="completed",n.method="throw",n.arg=s.arg)}}}function S(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,S(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),p;var i=d(r,e.iterator,t.arg);if("throw"===i.type)return t.method="throw",t.arg=i.arg,t.delegate=null,p;var o=i.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,p):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,p)}function A(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function T(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function j(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(A,this),this.reset(!0)}function C(e){if(e){var t=e[s];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,r=function t(){for(;++n<e.length;)if(o.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return r.next=r}}return{next:_}}function _(){return{value:void 0,done:!0}}return g.prototype=y,a(E,"constructor",{value:y,configurable:!0}),a(y,"constructor",{value:g,configurable:!0}),g.displayName=f(y,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,y):(e.__proto__=y,f(e,l,"GeneratorFunction")),e.prototype=Object.create(E),e},t.awrap=function(e){return{__await:e}},x(k.prototype),f(k.prototype,c,function(){return this}),t.AsyncIterator=k,t.async=function(e,n,r,i,o){void 0===o&&(o=Promise);var a=new k(h(e,n,r,i),o);return t.isGeneratorFunction(n)?a:a.next().then(function(e){return e.done?e.value:a.next()})},x(E),f(E,l,"Generator"),f(E,s,function(){return this}),f(E,"toString",function(){return"[object Generator]"}),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=C,j.prototype={constructor:j,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(T),!e)for(var t in this)"t"===t.charAt(0)&&o.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(n,r){return a.type="throw",a.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var u=o.call(i,"catchLoc"),s=o.call(i,"finallyLoc");if(u&&s){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(u){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&o.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var i=r;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,p):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),p},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),T(n),p}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;T(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:C(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),p}},t}e.exports=i,e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,n){var r=n(239);e.exports=function(e){if(Array.isArray(e))return r(e)},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t){e.exports=function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,n){var r=n(239);e.exports=function(e,t){if(e){if("string"===typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,n){var r=n(646)(Object.getPrototypeOf,Object);e.exports=r},function(e,t){e.exports=function(e,t){return function(n){return e(t(n))}}},function(e,t){"object"===typeof window&&window.NodeList&&!NodeList.prototype.forEach&&(NodeList.prototype.forEach=Array.prototype.forEach),[Element.prototype,Document.prototype,DocumentFragment.prototype].forEach(function(e){Object.prototype.hasOwnProperty.call(e,"append")||Object.defineProperty(e,"append",{configurable:!0,enumerable:!0,writable:!0,value:function(){for(var e=document.createDocumentFragment(),t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];n.forEach(function(t){var n=t instanceof Node;e.appendChild(n?t:document.createTextNode(String(t)))}),this.appendChild(e)}})})},function(e,t,n){"use strict";var r=n(4);var i="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},o=r.useState,a=r.useEffect,u=r.useLayoutEffect,s=r.useDebugValue;function c(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!i(e,n)}catch(r){return!0}}var l="undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement?function(e,t){return t()}:function(e,t){var n=t(),r=o({inst:{value:n,getSnapshot:t}}),i=r[0].inst,l=r[1];return u(function(){i.value=n,i.getSnapshot=t,c(i)&&l({inst:i})},[e,n,t]),a(function(){return c(i)&&l({inst:i}),e(function(){c(i)&&l({inst:i})})},[e]),s(n),n};t.useSyncExternalStore=void 0!==r.useSyncExternalStore?r.useSyncExternalStore:l},function(e,t,n){"use strict";var r=n(4),i=n(186);var o="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},a=i.useSyncExternalStore,u=r.useRef,s=r.useEffect,c=r.useMemo,l=r.useDebugValue;t.useSyncExternalStoreWithSelector=function(e,t,n,r,i){var f=u(null);if(null===f.current){var h={hasValue:!1,value:null};f.current=h}else h=f.current;f=c(function(){function e(e){if(!s){if(s=!0,a=e,e=r(e),void 0!==i&&h.hasValue){var t=h.value;if(i(t,e))return u=t}return u=e}if(t=u,o(a,e))return t;var n=r(e);return void 0!==i&&i(t,n)?t:(a=e,u=n)}var a,u,s=!1,c=void 0===n?null:n;return[function(){return e(t())},null===c?void 0:function(){return e(c())}]},[t,n,r,i]);var d=a(e,f[0],f[1]);return s(function(){h.hasValue=!0,h.value=d},[d]),l(d),d}},function(e,t,n){"use strict";var r="function"===typeof Symbol&&Symbol.for,i=r?Symbol.for("react.element"):60103,o=r?Symbol.for("react.portal"):60106,a=r?Symbol.for("react.fragment"):60107,u=r?Symbol.for("react.strict_mode"):60108,s=r?Symbol.for("react.profiler"):60114,c=r?Symbol.for("react.provider"):60109,l=r?Symbol.for("react.context"):60110,f=r?Symbol.for("react.async_mode"):60111,h=r?Symbol.for("react.concurrent_mode"):60111,d=r?Symbol.for("react.forward_ref"):60112,p=r?Symbol.for("react.suspense"):60113,v=r?Symbol.for("react.suspense_list"):60120,g=r?Symbol.for("react.memo"):60115,y=r?Symbol.for("react.lazy"):60116,m=r?Symbol.for("react.block"):60121,b=r?Symbol.for("react.fundamental"):60117,w=r?Symbol.for("react.responder"):60118,E=r?Symbol.for("react.scope"):60119;function x(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case i:switch(e=e.type){case f:case h:case a:case s:case u:case p:return e;default:switch(e=e&&e.$$typeof){case l:case d:case y:case g:case c:return e;default:return t}}case o:return t}}}function k(e){return x(e)===h}t.AsyncMode=f,t.ConcurrentMode=h,t.ContextConsumer=l,t.ContextProvider=c,t.Element=i,t.ForwardRef=d,t.Fragment=a,t.Lazy=y,t.Memo=g,t.Portal=o,t.Profiler=s,t.StrictMode=u,t.Suspense=p,t.isAsyncMode=function(e){return k(e)||x(e)===f},t.isConcurrentMode=k,t.isContextConsumer=function(e){return x(e)===l},t.isContextProvider=function(e){return x(e)===c},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===i},t.isForwardRef=function(e){return x(e)===d},t.isFragment=function(e){return x(e)===a},t.isLazy=function(e){return x(e)===y},t.isMemo=function(e){return x(e)===g},t.isPortal=function(e){return x(e)===o},t.isProfiler=function(e){return x(e)===s},t.isStrictMode=function(e){return x(e)===u},t.isSuspense=function(e){return x(e)===p},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===a||e===h||e===s||e===u||e===p||e===v||"object"===typeof e&&null!==e&&(e.$$typeof===y||e.$$typeof===g||e.$$typeof===c||e.$$typeof===l||e.$$typeof===d||e.$$typeof===b||e.$$typeof===w||e.$$typeof===E||e.$$typeof===m)},t.typeOf=x},function(e,t,n){"use strict";var r,i=Symbol.for("react.element"),o=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),u=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),c=Symbol.for("react.provider"),l=Symbol.for("react.context"),f=Symbol.for("react.server_context"),h=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),p=Symbol.for("react.suspense_list"),v=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),y=Symbol.for("react.offscreen");function m(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case i:switch(e=e.type){case a:case s:case u:case d:case p:return e;default:switch(e=e&&e.$$typeof){case f:case l:case h:case g:case v:case c:return e;default:return t}}case o:return t}}}r=Symbol.for("react.module.reference"),t.ContextConsumer=l,t.ContextProvider=c,t.Element=i,t.ForwardRef=h,t.Fragment=a,t.Lazy=g,t.Memo=v,t.Portal=o,t.Profiler=s,t.StrictMode=u,t.Suspense=d,t.SuspenseList=p,t.isAsyncMode=function(){return!1},t.isConcurrentMode=function(){return!1},t.isContextConsumer=function(e){return m(e)===l},t.isContextProvider=function(e){return m(e)===c},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===i},t.isForwardRef=function(e){return m(e)===h},t.isFragment=function(e){return m(e)===a},t.isLazy=function(e){return m(e)===g},t.isMemo=function(e){return m(e)===v},t.isPortal=function(e){return m(e)===o},t.isProfiler=function(e){return m(e)===s},t.isStrictMode=function(e){return m(e)===u},t.isSuspense=function(e){return m(e)===d},t.isSuspenseList=function(e){return m(e)===p},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===a||e===s||e===u||e===d||e===p||e===y||"object"===typeof e&&null!==e&&(e.$$typeof===g||e.$$typeof===v||e.$$typeof===c||e.$$typeof===l||e.$$typeof===h||e.$$typeof===r||void 0!==e.getModuleId)},t.typeOf=m},,function(e,t,n){"use strict";var r=n(654);function i(){}function o(){}o.resetWarningCache=i,e.exports=function(){function e(e,t,n,i,o,a){if(a!==r){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:o,resetWarningCache:i};return n.PropTypes=n,n}},function(e,t,n){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(e,t){e.exports=Array.isArray||function(e){return"[object Array]"==Object.prototype.toString.call(e)}}]]);
//# sourceMappingURL=4.850940d0.chunk.js.map