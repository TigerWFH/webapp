(window.webpackJsonp=window.webpackJsonp||[]).push([[16],{694:function(e,t,n){"use strict";n.d(t,"a",function(){return a});var o=n(4),a=Object(o.createContext)("globalContext-default")},837:function(e,t,n){"use strict";n.r(t);var o=n(15),a=n(0),l=n(1),r=n(2),i=n(3),c=n(4),s=n(694);var u=function(e){Object(r.a)(n,e);var t=Object(i.a)(n);function n(){return Object(a.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){return console.log("".concat(this.props.type,"-Toolbar=======>"),this.context),c.createElement("div",null,"Toobar")}}]),n}(c.Component);function d(e){return c.createElement(s.a.Consumer,null,function(t){return console.log("".concat(e.type,"-Tooltip---\x3e"),t),c.createElement("div",null,"tooltip")})}u.contextType=s.a;var g=function(e){Object(r.a)(n,e);var t=Object(i.a)(n);function n(e){var l;return Object(a.a)(this,n),(l=t.call(this,e)).onChangeContext=function(){l.setState({context:"Context-change"})},l.onUploadFile=function(e){var t=e.target.files[0];console.log("origin file===>",t);var n=(t.name||"").split(".")[0]||"",a=new FileReader,r=Object(o.a)(l);a.onloadend=function(e){var t=this;this.result&&r.setState({originImage:this.result},function(){(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:300,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"image/jpeg",o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.8;return new Promise(function(a,l){var r=new Image;r.src=e,r.onload=function(){var e=r.height/r.width,i=document.createElement("canvas");i.width=t,i.height=t*e;var c=i.getContext("2d");c&&c.drawImage(r,0,0,t,t*e),i.toBlob(function(e){e?a(e):l()},n,o)}})})(t.result,200,"image/jpeg",.8).then(function(e){var t=new File([e],n,{type:"image/jpeg",lastModified:Date.now()}),o=new FileReader;o.onloadend=function(){this.result&&r.setState({compressedImage:this.result})},o.readAsDataURL(e),console.log("compressedImage===>",t)}).catch(function(e){console.log("\u56fe\u7247\u538b\u7f29\u5931\u8d25===>",e)})})},a.readAsDataURL(t)},l.state={context:"Context-default",originImage:"",compressedImage:"",other:""},l}return Object(l.a)(n,[{key:"render",value:function(){console.log("\u81ea\u5df1\u6d88\u8d39\u9ed8\u8ba4\u503cContext-render==>",this.context);var e=this.state,t=e.originImage,n=e.compressedImage;return c.createElement("div",null,c.createElement("div",null,n?c.createElement("img",{src:n,alt:""}):null,t?c.createElement("img",{src:t,alt:""}):null),c.createElement("input",{type:"file",multiple:!0,onChange:this.onUploadFile}),c.createElement("button",{onClick:this.onChangeContext},"change context"),c.createElement(u,{type:"first level"}),c.createElement(d,{type:"first level"}),c.createElement(s.a.Provider,{value:this.state.context},"Context",c.createElement(u,{type:"child level"}),c.createElement(d,{type:"child level"})))}}]),n}(c.Component);g.contextType=s.a;t.default=g}}]);
//# sourceMappingURL=16.63e3b352.chunk.js.map