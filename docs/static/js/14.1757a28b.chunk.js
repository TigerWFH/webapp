(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{782:function(e,t,n){},783:function(e,t,n){},800:function(e,t,n){"use strict";var i,a,o=n(11),r=n(0),s=n(1),l=n(2),c=n(3),p=n(61),d=".x6-widget-dnd {\n  position: absolute;\n  top: -10000px;\n  left: -10000px;\n  z-index: 999999;\n  display: none;\n  cursor: move;\n  opacity: 0.7;\n  pointer-events: 'cursor';\n}\n.x6-widget-dnd.dragging {\n  display: inline-block;\n}\n.x6-widget-dnd.dragging * {\n  pointer-events: none !important;\n}\n.x6-widget-dnd .x6-graph {\n  background: transparent;\n  box-shadow: none;\n}\n",g=function(e,t,n,i){var a,o=arguments.length,r=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)r=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(a=e[s])&&(r=(o<3?a(r):o>3?a(t,n,r):a(t,n))||r);return o>3&&r&&Object.defineProperty(t,n,r),r},u=function(e){Object(l.a)(n,e);var t=Object(c.a)(n);function n(e){var i;return Object(r.a)(this,n),(i=t.call(this)).name="dnd",p.g.ensure(i.name,d),i.options=Object.assign(Object.assign({},n.defaults),e),i.container=document.createElement("div"),p.i.addClass(i.container,i.prefixClassName("widget-dnd")),i.draggingGraph=new p.m(Object.assign(Object.assign({},i.options.delegateGraphOptions),{container:document.createElement("div"),width:1,height:1,async:!1})),p.i.append(i.container,i.draggingGraph.container),i}return Object(s.a)(n,[{key:"targetScroller",get:function(){return this.options.target.getPlugin("scroller")}},{key:"targetGraph",get:function(){return this.options.target}},{key:"targetModel",get:function(){return this.targetGraph.model}},{key:"snapline",get:function(){return this.options.target.getPlugin("snapline")}},{key:"start",value:function(e,t){var i=t;i.preventDefault(),this.targetModel.startBatch("dnd"),p.i.addClass(this.container,"dragging"),p.i.appendTo(this.container,this.options.draggingContainer||document.body),this.sourceNode=e,this.prepareDragging(e,i.clientX,i.clientY);var a=this.updateNodePosition(i.clientX,i.clientY);this.isSnaplineEnabled()&&(this.snapline.captureCursorOffset({e:i,node:e,cell:e,view:this.draggingView,x:a.x,y:a.y}),this.draggingNode.on("change:position",this.snap,this)),this.delegateDocumentEvents(n.documentEvents,i.data)}},{key:"isSnaplineEnabled",value:function(){return this.snapline&&this.snapline.isEnabled()}},{key:"prepareDragging",value:function(e,t,n){var i=this.draggingGraph,a=i.model,o=this.options.getDragNode(e,{sourceNode:e,draggingGraph:i,targetGraph:this.targetGraph});o.position(0,0);var r=5;if(this.isSnaplineEnabled()&&(r+=this.snapline.options.tolerance||0),this.isSnaplineEnabled()||this.options.scaled){var s=this.targetGraph.transform.getScale();i.scale(s.sx,s.sy),r*=Math.max(s.sx,s.sy)}else i.scale(1,1);this.clearDragging(),a.resetCells([o]);var l=i.findViewByCell(o);l.undelegateEvents(),l.cell.off("changed"),i.fitToContent({padding:r,allowNewOrigin:"any"});var c=l.getBBox();this.geometryBBox=l.getBBox({useCellGeometry:!0}),this.delta=this.geometryBBox.getTopLeft().diff(c.getTopLeft()),this.draggingNode=o,this.draggingView=l,this.draggingBBox=o.getBBox(),this.padding=r,this.originOffset=this.updateGraphPosition(t,n)}},{key:"updateGraphPosition",value:function(e,t){var n=document.body.scrollTop||document.documentElement.scrollTop,i=this.delta,a=this.geometryBBox,o=this.padding||5,r={left:e-i.x-a.width/2-o,top:t-i.y-a.height/2-o+n};return this.draggingGraph&&p.i.css(this.container,{left:"".concat(r.left,"px"),top:"".concat(r.top,"px")}),r}},{key:"updateNodePosition",value:function(e,t){var n=this.targetGraph.clientToLocal(e,t),i=this.draggingBBox;return n.x-=i.width/2,n.y-=i.height/2,this.draggingNode.position(n.x,n.y),n}},{key:"snap",value:function(e){var t=e.cell,n=e.current,i=e.options,a=t;if(i.snapped){var o=this.draggingBBox;a.position(o.x+i.tx,o.y+i.ty,{silent:!0}),this.draggingView.translate(),a.position(n.x,n.y,{silent:!0}),this.snapOffset={x:i.tx,y:i.ty}}else this.snapOffset=null}},{key:"onDragging",value:function(e){var t=this.draggingView;if(t){e.preventDefault();var n=this.normalizeEvent(e),i=n.clientX,a=n.clientY;this.updateGraphPosition(i,a);var o=this.updateNodePosition(i,a),r=this.targetGraph.options.embedding.enabled,s=(r||this.isSnaplineEnabled())&&this.isInsideValidArea({x:i,y:a});if(r){t.setEventData(n,{graph:this.targetGraph,candidateEmbedView:this.candidateEmbedView});var l=t.getEventData(n);s?t.processEmbedding(n,l):t.clearEmbedding(l),this.candidateEmbedView=l.candidateEmbedView}this.isSnaplineEnabled()&&(s?this.snapline.snapOnMoving({e:n,view:t,x:o.x,y:o.y}):this.snapline.hide())}}},{key:"onDragEnd",value:function(e){var t=this,n=this.draggingNode;if(n){var i=this.normalizeEvent(e),a=this.draggingView,o=this.draggingBBox,r=this.snapOffset,s=o.x,l=o.y;r&&(s+=r.x,l+=r.y),n.position(s,l,{silent:!0});var c=this.drop(n,{x:i.clientX,y:i.clientY}),d=function(e){e?(t.onDropped(n),t.targetGraph.options.embedding.enabled&&a&&(a.setEventData(i,{cell:e,graph:t.targetGraph,candidateEmbedView:t.candidateEmbedView}),a.finalizeEmbedding(i,a.getEventData(i)))):t.onDropInvalid(),t.candidateEmbedView=null,t.targetModel.stopBatch("dnd")};p.k.isAsync(c)?(this.undelegateDocumentEvents(),c.then(d)):d(c)}}},{key:"clearDragging",value:function(){this.draggingNode&&(this.sourceNode=null,this.draggingNode.remove(),this.draggingNode=null,this.draggingView=null,this.delta=null,this.padding=null,this.snapOffset=null,this.originOffset=null,this.undelegateDocumentEvents())}},{key:"onDropped",value:function(e){this.draggingNode===e&&(this.clearDragging(),p.i.removeClass(this.container,"dragging"),p.i.remove(this.container))}},{key:"onDropInvalid",value:function(){var e=this.draggingNode;e&&this.onDropped(e)}},{key:"isInsideValidArea",value:function(e){var t,n=null,i=this.targetGraph,a=this.targetScroller;this.options.dndContainer&&(n=this.getDropArea(this.options.dndContainer));var o=n&&n.containsPoint(e);if(a)if(a.options.autoResize)t=this.getDropArea(a.container);else{var r=this.getDropArea(a.container);t=this.getDropArea(i.container).intersectsWithRect(r)}else t=this.getDropArea(i.container);return!o&&t&&t.containsPoint(e)}},{key:"getDropArea",value:function(e){var t=p.i.offset(e),n=document.body.scrollTop||document.documentElement.scrollTop,i=document.body.scrollLeft||document.documentElement.scrollLeft;return p.u.create({x:t.left+parseInt(p.i.css(e,"border-left-width"),10)-i,y:t.top+parseInt(p.i.css(e,"border-top-width"),10)-n,width:e.clientWidth,height:e.clientHeight})}},{key:"drop",value:function(e,t){var n=this;if(this.isInsideValidArea(t)){var i=this.targetGraph,a=i.model,o=i.clientToLocal(t),r=this.sourceNode,s=this.options.getDropNode(e,{sourceNode:r,draggingNode:e,targetGraph:this.targetGraph,draggingGraph:this.draggingGraph}),l=s.getBBox();o.x+=l.x-l.width/2,o.y+=l.y-l.height/2;var c=this.snapOffset?1:i.getGridSize();s.position(p.l.snapToGrid(o.x,c),p.l.snapToGrid(o.y,c)),s.removeZIndex();var d=this.options.validateNode,g=!d||d(s,{sourceNode:r,draggingNode:e,droppingNode:s,targetGraph:i,draggingGraph:this.draggingGraph});return"boolean"===typeof g?g?(a.addCell(s,{stencil:this.cid}),s):null:p.k.toDeferredBoolean(g).then(function(e){return e?(a.addCell(s,{stencil:n.cid}),s):null})}return null}},{key:"onRemove",value:function(){this.draggingGraph&&(this.draggingGraph.view.remove(),this.draggingGraph.dispose())}},{key:"dispose",value:function(){this.remove(),p.g.clean(this.name)}}]),n}(p.y);g([p.y.dispose()],u.prototype,"dispose",null),(i=u||(u={})).defaults={getDragNode:function(e){return e.clone()},getDropNode:function(e){return e.clone()}},i.documentEvents={mousemove:"onDragging",touchmove:"onDragging",mouseup:"onDragEnd",touchend:"onDragEnd",touchcancel:"onDragEnd"},function(e){e.getMaxDim=function(e,t){return e.reduce(function(e,n){return Math.max(n.getSize()[t],e)},0)},e.getNodesInRow=function(e,t,n){for(var i=[],a=n*t,o=a+n;a<o;a+=1)i.push(e[a]);return i},e.getNodesInColumn=function(e,t,n){for(var i=[],a=t,o=e.length;a<o;a+=n)i.push(e[a]);return i},e.accumulate=function(e,t){return e.reduce(function(e,t,n){return e.push(e[n]+t),e},[t||0])}}(a||(a={}));var h=".x6-widget-dnd {\n  position: absolute;\n  top: -10000px;\n  left: -10000px;\n  z-index: 999999;\n  display: none;\n  cursor: move;\n  opacity: 0.7;\n  pointer-events: 'cursor';\n}\n.x6-widget-dnd.dragging {\n  display: inline-block;\n}\n.x6-widget-dnd.dragging * {\n  pointer-events: none !important;\n}\n.x6-widget-dnd .x6-graph {\n  background: transparent;\n  box-shadow: none;\n}\n.x6-widget-stencil {\n  position: absolute;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0;\n}\n.x6-widget-stencil::after {\n  position: absolute;\n  top: 0;\n  display: block;\n  width: 100%;\n  height: 20px;\n  padding: 8px 0;\n  line-height: 20px;\n  text-align: center;\n  opacity: 0;\n  transition: top 0.1s linear, opacity 0.1s linear;\n  content: ' ';\n  pointer-events: none;\n}\n.x6-widget-stencil-content {\n  position: absolute;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0;\n  height: auto;\n  overflow-x: hidden;\n  overflow-y: auto;\n}\n.x6-widget-stencil .x6-node [magnet]:not([magnet='passive']) {\n  pointer-events: none;\n}\n.x6-widget-stencil-group {\n  padding: 0;\n  padding-bottom: 8px;\n  overflow: hidden;\n  user-select: none;\n}\n.x6-widget-stencil-group.collapsed {\n  height: auto;\n  padding-bottom: 0;\n}\n.x6-widget-stencil-group-title {\n  position: relative;\n  margin-top: 0;\n  margin-bottom: 0;\n  padding: 4px;\n  cursor: pointer;\n}\n.x6-widget-stencil-title,\n.x6-widget-stencil-group > .x6-widget-stencil-group-title {\n  overflow: hidden;\n  white-space: nowrap;\n  text-overflow: ellipsis;\n  user-select: none;\n}\n.x6-widget-stencil .unmatched {\n  opacity: 0.3;\n}\n.x6-widget-stencil .x6-node.unmatched {\n  display: none;\n}\n.x6-widget-stencil-group.unmatched {\n  display: none;\n}\n.x6-widget-stencil-search-text {\n  position: relative;\n  z-index: 1;\n  box-sizing: border-box;\n  width: 100%;\n  height: 30px;\n  max-height: 30px;\n  line-height: 30px;\n  outline: 0;\n}\n.x6-widget-stencil.not-found::after {\n  opacity: 1;\n  content: attr(data-not-found-text);\n}\n.x6-widget-stencil.not-found.searchable::after {\n  top: 30px;\n}\n.x6-widget-stencil.not-found.searchable.collapsable::after {\n  top: 50px;\n}\n.x6-widget-stencil {\n  color: #333;\n  background: #f5f5f5;\n}\n.x6-widget-stencil-content {\n  position: absolute;\n}\n.x6-widget-stencil.collapsable > .x6-widget-stencil-content {\n  top: 32px;\n}\n.x6-widget-stencil.searchable > .x6-widget-stencil-content {\n  top: 80px;\n}\n.x6-widget-stencil.not-found::after {\n  position: absolute;\n}\n.x6-widget-stencil.not-found.searchable.collapsable::after {\n  top: 80px;\n}\n.x6-widget-stencil.not-found.searchable::after {\n  top: 60px;\n}\n.x6-widget-stencil-group {\n  height: auto;\n  margin-bottom: 1px;\n  padding: 0;\n  transition: none;\n}\n.x6-widget-stencil-group .x6-graph {\n  background: transparent;\n  box-shadow: none;\n}\n.x6-widget-stencil-group.collapsed {\n  height: auto;\n  max-height: 31px;\n}\n.x6-widget-stencil-title,\n.x6-widget-stencil-group > .x6-widget-stencil-group-title {\n  position: relative;\n  left: 0;\n  box-sizing: border-box;\n  width: 100%;\n  height: 32px;\n  padding: 0 5px 0 8px;\n  color: #666;\n  font-weight: 700;\n  font-size: 12px;\n  line-height: 32px;\n  cursor: default;\n  transition: all 0.3;\n}\n.x6-widget-stencil-title:hover,\n.x6-widget-stencil-group > .x6-widget-stencil-group-title:hover {\n  color: #444;\n}\n.x6-widget-stencil-title {\n  background: #e9e9e9;\n}\n.x6-widget-stencil-group > .x6-widget-stencil-group-title {\n  background: #ededed;\n}\n.x6-widget-stencil.collapsable > .x6-widget-stencil-title,\n.x6-widget-stencil-group.collapsable > .x6-widget-stencil-group-title {\n  padding-left: 32px;\n  cursor: pointer;\n}\n.x6-widget-stencil.collapsable > .x6-widget-stencil-title::before,\n.x6-widget-stencil-group.collapsable > .x6-widget-stencil-group-title::before {\n  position: absolute;\n  top: 6px;\n  left: 8px;\n  display: block;\n  width: 18px;\n  height: 18px;\n  margin: 0;\n  padding: 0;\n  background-color: transparent;\n  background-repeat: no-repeat;\n  background-position: 0 0;\n  border: none;\n  content: ' ';\n}\n.x6-widget-stencil.collapsable > .x6-widget-stencil-title::before,\n.x6-widget-stencil-group.collapsable > .x6-widget-stencil-group-title::before {\n  background-image: url('data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTgiIGhlaWdodD0iMTgiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGcgZmlsbD0iIzAwMCIgZmlsbC1ydWxlPSJub256ZXJvIj48cGF0aCBkPSJNOS4zNzUuNUM0LjY4Ny41Ljg3NSA0LjMxMy44NzUgOWMwIDQuNjg4IDMuODEyIDguNSA4LjUgOC41IDQuNjg3IDAgOC41LTMuODEyIDguNS04LjUgMC00LjY4Ny0zLjgxMy04LjUtOC41LTguNXptMCAxNS44ODZDNS4zMDMgMTYuMzg2IDEuOTkgMTMuMDcyIDEuOTkgOXMzLjMxMi03LjM4NSA3LjM4NS03LjM4NVMxNi43NiA0LjkyOCAxNi43NiA5YzAgNC4wNzItMy4zMTMgNy4zODYtNy4zODUgNy4zODZ6Ii8+PHBhdGggZD0iTTEyLjc1MyA4LjQ0M0g1Ljk5N2EuNTU4LjU1OCAwIDAwMCAxLjExNmg2Ljc1NmEuNTU4LjU1OCAwIDAwMC0xLjExNnoiLz48L2c+PC9zdmc+');\n  opacity: 0.4;\n  transition: all 0.3s;\n}\n.x6-widget-stencil.collapsable > .x6-widget-stencil-title:hover::before,\n.x6-widget-stencil-group.collapsable > .x6-widget-stencil-group-title:hover::before {\n  opacity: 0.6;\n}\n.x6-widget-stencil.collapsable.collapsed > .x6-widget-stencil-title::before,\n.x6-widget-stencil-group.collapsable.collapsed > .x6-widget-stencil-group-title::before {\n  background-image: url('data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTgiIGhlaWdodD0iMTgiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGcgZmlsbD0iIzAwMCIgZmlsbC1ydWxlPSJub256ZXJvIj48cGF0aCBkPSJNOS4zNzUuNUM0LjY4Ny41Ljg3NSA0LjMxMy44NzUgOWMwIDQuNjg4IDMuODEyIDguNSA4LjUgOC41IDQuNjg3IDAgOC41LTMuODEyIDguNS04LjUgMC00LjY4Ny0zLjgxMy04LjUtOC41LTguNXptMCAxNS44ODZDNS4zMDMgMTYuMzg2IDEuOTkgMTMuMDcyIDEuOTkgOXMzLjMxMi03LjM4NSA3LjM4NS03LjM4NVMxNi43NiA0LjkyOCAxNi43NiA5YzAgNC4wNzItMy4zMTMgNy4zODYtNy4zODUgNy4zODZ6Ii8+PHBhdGggZD0iTTEyLjc1MyA4LjQ0M0g1Ljk5N2EuNTU4LjU1OCAwIDAwMCAxLjExNmg2Ljc1NmEuNTU4LjU1OCAwIDAwMC0xLjExNnoiLz48cGF0aCBkPSJNOC44MTcgNS42MjN2Ni43NTZhLjU1OC41NTggMCAwMDEuMTE2IDBWNS42MjNhLjU1OC41NTggMCAxMC0xLjExNiAweiIvPjwvZz48L3N2Zz4=');\n  opacity: 0.4;\n}\n.x6-widget-stencil.collapsable.collapsed > .x6-widget-stencil-title:hover::before,\n.x6-widget-stencil-group.collapsable.collapsed > .x6-widget-stencil-group-title:hover::before {\n  opacity: 0.6;\n}\n.x6-widget-stencil input[type='search'] {\n  -webkit-appearance: textfield;\n}\n.x6-widget-stencil input[type='search']::-webkit-search-cancel-button,\n.x6-widget-stencil input[type='search']::-webkit-search-decoration {\n  -webkit-appearance: none;\n}\n.x6-widget-stencil-search-text {\n  display: block;\n  width: 90%;\n  margin: 8px 5%;\n  padding-left: 8px;\n  color: #333;\n  background: #fff;\n  border: 1px solid #e9e9e9;\n  border-radius: 12px;\n  outline: 0;\n}\n.x6-widget-stencil-search-text:focus {\n  outline: 0;\n}\n.x6-widget-stencil::after {\n  color: #808080;\n  font-weight: 600;\n  font-size: 12px;\n  background: 0 0;\n}\n";n.d(t,"a",function(){return x});var f,m,v=function(e,t,n,i){var a,o=arguments.length,r=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)r=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(a=e[s])&&(r=(o<3?a(r):o>3?a(t,n,r):a(t,n))||r);return o>3&&r&&Object.defineProperty(t,n,r),r},x=function(e){Object(l.a)(n,e);var t=Object(c.a)(n);function n(e){var i;(Object(r.a)(this,n),(i=t.call(this)).name="stencil",p.g.ensure(i.name,h),i.graphs={},i.groups={},i.options=Object.assign(Object.assign({},n.defaultOptions),e),i.dnd=new u(i.options),i.onSearch=p.k.debounce(i.onSearch,200),i.container=document.createElement("div"),p.i.addClass(i.container,i.prefixClassName(f.base)),p.i.attr(i.container,"data-not-found-text",i.options.notFoundText||"No matches found"),i.options.collapsable=e.collapsable&&e.groups&&e.groups.some(function(e){return!1!==e.collapsable}),i.options.collapsable)&&(p.i.addClass(i.container,"collapsable"),e.groups&&e.groups.every(function(e){return e.collapsed||!1===e.collapsable})&&p.i.addClass(i.container,"collapsed"));var a=document.createElement("div");p.i.addClass(a,i.prefixClassName(f.title)),a.innerHTML=i.options.title,p.i.appendTo(a,i.container),e.search&&(p.i.addClass(i.container,"searchable"),p.i.append(i.container,i.renderSearch())),i.content=document.createElement("div"),p.i.addClass(i.content,i.prefixClassName(f.content)),p.i.appendTo(i.content,i.container);var o=e.stencilGraphOptions||{};if(e.groups&&e.groups.length)e.groups.forEach(function(t){var n=document.createElement("div");p.i.addClass(n,i.prefixClassName(f.group)),p.i.attr(n,"data-name",t.name),(null==t.collapsable&&e.collapsable||!1!==t.collapsable)&&p.i.addClass(n,"collapsable"),p.i.toggleClass(n,"collapsed",!0===t.collapsed);var a=document.createElement("h3");p.i.addClass(a,i.prefixClassName(f.groupTitle)),a.innerHTML=t.title||t.name;var r=document.createElement("div");p.i.addClass(r,i.prefixClassName(f.groupContent));var s=t.graphOptions,l=new p.m(Object.assign(Object.assign(Object.assign({},o),s),{container:document.createElement("div"),model:o.model||new p.o,width:t.graphWidth||e.stencilGraphWidth,height:t.graphHeight||e.stencilGraphHeight,interacting:!1,preventDefaultBlankAction:!1}));p.i.append(r,l.container),p.i.append(n,[a,r]),p.i.appendTo(n,i.content),i.groups[t.name]=n,i.graphs[t.name]=l});else{var s=new p.m(Object.assign(Object.assign({},o),{container:document.createElement("div"),model:o.model||new p.o,width:e.stencilGraphWidth,height:e.stencilGraphHeight,interacting:!1,preventDefaultBlankAction:!1}));p.i.append(i.content,s.container),i.graphs[m.defaultGroupName]=s}return i.startListening(),i}return Object(s.a)(n,[{key:"targetScroller",get:function(){return this.options.target.getPlugin("scroller")}},{key:"targetGraph",get:function(){return this.options.target}},{key:"targetModel",get:function(){return this.targetGraph.model}},{key:"renderSearch",value:function(){var e=document.createElement("div");p.i.addClass(e,this.prefixClassName(f.search));var t=document.createElement("input");return p.i.attr(t,{type:"search",placeholder:this.options.placeholder||"Search"}),p.i.addClass(t,this.prefixClassName(f.searchText)),p.i.append(e,t),e}},{key:"startListening",value:function(){var e,t=this,n=this.prefixClassName(f.title),i=this.prefixClassName(f.searchText),a=this.prefixClassName(f.groupTitle);this.delegateEvents((e={},Object(o.a)(e,"click .".concat(n),"onTitleClick"),Object(o.a)(e,"touchstart .".concat(n),"onTitleClick"),Object(o.a)(e,"click .".concat(a),"onGroupTitleClick"),Object(o.a)(e,"touchstart .".concat(a),"onGroupTitleClick"),Object(o.a)(e,"input .".concat(i),"onSearch"),Object(o.a)(e,"focusin .".concat(i),"onSearchFocusIn"),Object(o.a)(e,"focusout .".concat(i),"onSearchFocusOut"),e)),Object.keys(this.graphs).forEach(function(e){t.graphs[e].on("cell:mousedown",t.onDragStart,t)})}},{key:"stopListening",value:function(){var e=this;this.undelegateEvents(),Object.keys(this.graphs).forEach(function(t){e.graphs[t].off("cell:mousedown",e.onDragStart,e)})}},{key:"load",value:function(e,t){var n=this;return Array.isArray(e)?this.loadGroup(e,t):this.options.groups&&Object.keys(this.options.groups).forEach(function(t){e[t]&&n.loadGroup(e[t],t)}),this}},{key:"loadGroup",value:function(e,t){var n=this.getModel(t);if(n){var i=e.map(function(e){return p.q.isNode(e)?e:p.q.create(e)});n.resetCells(i)}var a=this.getGroup(t),o=this.options.stencilGraphHeight;a&&null!=a.graphHeight&&(o=a.graphHeight);var r=a&&a.layout||this.options.layout;if(r&&n&&p.k.call(r,this,n,a),!o){var s=this.getGraph(t);s.fitToContent({minWidth:s.options.width,gridHeight:1,padding:a&&a.graphPadding||this.options.stencilGraphPadding||10})}return this}},{key:"onDragStart",value:function(e){var t=e.e,n=e.node;this.dnd.start(n,t)}},{key:"filter",value:function(e,t){var n=this,i=Object.keys(this.graphs).reduce(function(i,a){var o=n.graphs[a],r=a===m.defaultGroupName?null:a,s=o.model.getNodes().filter(function(i){var a=!1;a="function"===typeof t?p.k.call(t,n,i,e,r,n):"boolean"===typeof t?t:n.isCellMatched(i,e,t,e.toLowerCase()!==e);var s=o.renderer.findViewByCell(i);return s&&p.i.toggleClass(s.container,"unmatched",!a),a}),l=s.length>0,c=n.options,d=new p.o;return d.resetCells(s),c.layout&&p.k.call(c.layout,n,d,n.getGroup(a)),n.groups[a]&&p.i.toggleClass(n.groups[a],"unmatched",!l),o.fitToContent({gridWidth:1,gridHeight:1,padding:c.stencilGraphPadding||10}),i||l},!1);p.i.toggleClass(this.container,"not-found",!i)}},{key:"isCellMatched",value:function(e,t,n,i){return!t||!n||Object.keys(n).some(function(a){if("*"===a||e.shape===a){var o=n[a];return"boolean"===typeof o?o:(Array.isArray(o)?o:[o]).some(function(n){var a=e.getPropByPath(n);return null!=a&&(a="".concat(a),i||(a=a.toLowerCase()),a.indexOf(t)>=0)})}return!1})}},{key:"onSearch",value:function(e){this.filter(e.target.value,this.options.search)}},{key:"onSearchFocusIn",value:function(){p.i.addClass(this.container,"is-focused")}},{key:"onSearchFocusOut",value:function(){p.i.removeClass(this.container,"is-focused")}},{key:"onTitleClick",value:function(){this.options.collapsable&&(p.i.toggleClass(this.container,"collapsed"),p.i.hasClass(this.container,"collapsed")?this.collapseGroups():this.expandGroups())}},{key:"onGroupTitleClick",value:function(e){var t=this,n=e.target.closest(".".concat(this.prefixClassName(f.group)));n&&this.toggleGroup(p.i.attr(n,"data-name")||"");var i=Object.keys(this.groups).every(function(e){var n=t.getGroup(e),i=t.groups[e];return n&&!1===n.collapsable||p.i.hasClass(i,"collapsed")});p.i.toggleClass(this.container,"collapsed",i)}},{key:"getModel",value:function(e){var t=this.getGraph(e);return t?t.model:null}},{key:"getGraph",value:function(e){return this.graphs[e||m.defaultGroupName]}},{key:"getGroup",value:function(e){var t=this.options.groups;return null!=e&&t&&t.length?t.find(function(t){return t.name===e}):null}},{key:"toggleGroup",value:function(e){return this.isGroupCollapsed(e)?this.expandGroup(e):this.collapseGroup(e),this}},{key:"collapseGroup",value:function(e){if(this.isGroupCollapsable(e)){var t=this.groups[e];t&&!this.isGroupCollapsed(e)&&(this.trigger("group:collapse",{name:e}),p.i.addClass(t,"collapsed"))}return this}},{key:"expandGroup",value:function(e){if(this.isGroupCollapsable(e)){var t=this.groups[e];t&&this.isGroupCollapsed(e)&&(this.trigger("group:expand",{name:e}),p.i.removeClass(t,"collapsed"))}return this}},{key:"isGroupCollapsable",value:function(e){var t=this.groups[e];return p.i.hasClass(t,"collapsable")}},{key:"isGroupCollapsed",value:function(e){var t=this.groups[e];return t&&p.i.hasClass(t,"collapsed")}},{key:"collapseGroups",value:function(){var e=this;return Object.keys(this.groups).forEach(function(t){return e.collapseGroup(t)}),this}},{key:"expandGroups",value:function(){var e=this;return Object.keys(this.groups).forEach(function(t){return e.expandGroup(t)}),this}},{key:"resizeGroup",value:function(e,t){var n=this.graphs[e];return n&&n.resize(t.width,t.height),this}},{key:"onRemove",value:function(){var e=this;Object.keys(this.graphs).forEach(function(t){e.graphs[t].view.remove(),delete e.graphs[t]}),this.dnd.remove(),this.stopListening(),this.undelegateDocumentEvents()}},{key:"dispose",value:function(){this.remove(),p.g.clean(this.name)}}]),n}(p.y);v([p.y.dispose()],x.prototype,"dispose",null),(x||(x={})).defaultOptions=Object.assign({stencilGraphWidth:200,stencilGraphHeight:800,title:"Stencil",collapsable:!1,placeholder:"Search",notFoundText:"No matches found",layout:function(e,t){var n={columnWidth:this.options.stencilGraphWidth/2-10,columns:2,rowHeight:80,resizeToFit:!1,dx:10,dy:10};!function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=p.o.isModel(e)?e:(new p.o).resetCells(e,{sort:!1,dryrun:!0}),i=n.getNodes(),o=t.columns||1,r=Math.ceil(i.length/o),s=t.dx||0,l=t.dy||0,c=!1!==t.center,d=!0===t.resizeToFit,g=t.marginX||0,u=t.marginY||0,h=[],f=t.columnWidth;if("compact"===f)for(var m=0;m<o;m+=1){var v=a.getNodesInColumn(i,m,o);h.push(a.getMaxDim(v,"width")+s)}else{null!=f&&"auto"!==f||(f=a.getMaxDim(i,"width")+s);for(var x=0;x<o;x+=1)h.push(f)}var b=a.accumulate(h,g),y=[],w=t.rowHeight;if("compact"===w)for(var C=0;C<r;C+=1){var k=a.getNodesInRow(i,C,o);y.push(a.getMaxDim(k,"height")+l)}else{null!=w&&"auto"!==w||(w=a.getMaxDim(i,"height")+l);for(var N=0;N<r;N+=1)y.push(w)}var O=a.accumulate(y,u);n.startBatch("layout"),i.forEach(function(e,n){var i=n%o,a=Math.floor(n/o),r=h[i],p=y[a],g=0,u=0,f=e.getSize();if(d){var m=r-2*s,v=p-2*l,x=f.height*(f.width?m/f.width:1),w=f.width*(f.height?v/f.height:1);p<x?m=w:v=x,f={width:m,height:v},e.setSize(f,t)}c&&(g=(r-f.width)/2,u=(p-f.height)/2),e.position(b[i]+s+g,O[a]+l+u,t)}),n.stopBatch("layout")}(e,Object.assign(Object.assign(Object.assign({},n),this.options.layoutOptions),t?t.layoutOptions:{}))}},u.defaults),function(e){e.base="widget-stencil",e.title="".concat(e.base,"-title"),e.search="".concat(e.base,"-search"),e.searchText="".concat(e.search,"-text"),e.content="".concat(e.base,"-content"),e.group="".concat(e.base,"-group"),e.groupTitle="".concat(e.group,"-title"),e.groupContent="".concat(e.group,"-content")}(f||(f={})),function(e){e.defaultGroupName="__default__"}(m||(m={}))},829:function(e,t,n){"use strict";var i=n(11),a=n(0),o=n(1),r=n(2),s=n(3),l=n(4),c=n.n(l),p=n(659),d=n.n(p),g=n(726),u=c.a.createContext({}),h=function(e){Object(r.a)(n,e);var t=Object(s.a)(n);function n(){var e;return Object(a.a)(this,n),(e=t.apply(this,arguments)).onHotkey=function(){e.triggerHandler()},e.onClick=function(t){e.triggerHandler(t)},e}return Object(o.a)(n,[{key:"componentDidMount",value:function(){var e=this.props.hotkey;e&&this.props.context.registerHotkey(e,this.onHotkey)}},{key:"componentWillUnmount",value:function(){var e=this.props.hotkey;e&&this.props.context.unregisterHotkey(e,this.onHotkey)}},{key:"triggerHandler",value:function(e){this.props.disabled||this.props.hidden||(this.props.name&&this.props.context.onClick(this.props.name,e),this.props.onClick&&this.props.onClick())}},{key:"render",value:function(){return c.a.createElement("div",Object.assign({},n.getProps(this.props)),n.getContent(this.props,this.onClick))}}]),n}(c.a.PureComponent);!function(e){e.getProps=function(e,t){var n,a=e.className,o=e.disabled,r=e.active,s=e.hidden,l=e.context.prefixCls,c="".concat(l,"-item");return{className:d()(c,t,(n={},Object(i.a)(n,"".concat(c,"-active"),r),Object(i.a)(n,"".concat(c,"-hidden"),s),Object(i.a)(n,"".concat(c,"-disabled"),o),n),a)}},e.getContent=function(e,t,n,i){var a=e.icon,o=e.text,r=e.hotkey,s=e.children,l=e.context.prefixCls,p="".concat(l,"-item");return c.a.createElement(c.a.Fragment,null,c.a.createElement("button",{type:"button",className:"".concat(p,"-button"),onClick:t},a&&c.a.isValidElement(a)&&c.a.createElement("span",{className:"".concat(p,"-icon")},a),c.a.createElement("span",{className:"".concat(p,"-text")},o||s),r&&c.a.createElement("span",{className:"".concat(p,"-hotkey")},r),n),i)}}(h||(h={}));var f,m=function(e){return c.a.createElement(u.Consumer,null,function(t){return c.a.createElement(h,Object.assign({context:t},e))})},v=function(){return c.a.createElement(u.Consumer,null,function(e){var t=e.prefixCls;return c.a.createElement("div",{className:"".concat(t,"-item ").concat(t,"-item-divider")})})},x=function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(i=Object.getOwnPropertySymbols(e);a<i.length;a++)t.indexOf(i[a])<0&&Object.prototype.propertyIsEnumerable.call(e,i[a])&&(n[i[a]]=e[i[a]])}return n},b=function(e){e.hotkey;var t=e.children,n=x(e,["hotkey","children"]);return c.a.createElement(u.Consumer,null,function(i){var a=i.prefixCls,o=h.getProps(Object.assign({context:i},e),"".concat(a,"-submenu"));return c.a.createElement("div",Object.assign({},o),h.getContent(Object.assign({context:i},n),null,c.a.createElement("span",{className:"".concat(a,"-submenu-arrow")}),c.a.createElement("div",{className:"".concat(a,"-submenu-menu")},t)))})},y=function(e){Object(r.a)(n,e);var t=Object(s.a)(n);function n(){var e;return Object(a.a)(this,n),(e=t.apply(this,arguments)).onClick=function(t,n){e.props.stopPropagation&&null!=n&&n.stopPropagation(),e.props.onClick&&e.props.onClick(t)},e.registerHotkey=function(t,n){e.props.registerHotkey&&e.props.registerHotkey(t,n)},e.unregisterHotkey=function(t,n){e.props.unregisterHotkey&&e.props.unregisterHotkey(t,n)},e}return Object(o.a)(n,[{key:"render",value:function(){var e=this.props,t=e.prefixCls,n=e.className,a=e.children,o=e.hasIcon,r="".concat(t,"-menu"),s=u.Provider,l={prefixCls:r,onClick:this.onClick,registerHotkey:this.registerHotkey,unregisterHotkey:this.unregisterHotkey};return c.a.createElement("div",{className:d()(r,Object(i.a)({},"".concat(r,"-has-icon"),o),n)},c.a.createElement(s,{value:l},a))}}]),n}(c.a.PureComponent);(f=y||(y={})).Item=m,f.Divider=v,f.SubMenu=b,f.defaultProps={prefixCls:"x6",stopPropagation:!1};var w=n(722),C=function(e){Object(r.a)(n,e);var t=Object(s.a)(n);function n(){return Object(a.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,[{key:"render",value:function(){var e=this.props,t=e.children,n=e.trigger,i=e.disabled,a="".concat(this.props.prefixCls,"-dropdown"),o=c.a.Children.only(t),r=c.a.cloneElement(o,{className:d()(t.props.className,"".concat(a,"-trigger")),disabled:i}),s=i?[]:Array.isArray(n)?n:[n],l=!1;s&&-1!==s.indexOf("contextMenu")&&(l=!0);var p=c.a.Children.only(this.props.overlay),g=c.a.createElement("div",{className:"".concat(a,"-overlay")},p);return c.a.createElement(w.a,Object.assign({},this.props,{prefixCls:a,overlay:g,alignPoint:l,trigger:s}),r)}}]),n}(c.a.Component);(C||(C={})).defaultProps={trigger:"hover",prefixCls:"x6",mouseEnterDelay:.15,mouseLeaveDelay:.1,placement:"bottomLeft"};var k=c.a.createContext({}),N=function(e){Object(r.a)(n,e);var t=Object(s.a)(n);function n(){var e;return Object(a.a)(this,n),(e=t.apply(this,arguments)).handleClick=function(){e.processClick()},e.handleDropdownItemClick=function(t){e.processClick(t,!1)},e}return Object(o.a)(n,[{key:"processClick",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props.name,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.props.dropdown;this.props.disabled||t||(e&&this.props.context.onClick(e),this.props.onClick&&this.props.onClick(e))}},{key:"renderButton",value:function(){var e,t=this.props,n=t.className,a=t.hidden,o=t.disabled,r=t.active,s=t.icon,l=t.text,p=t.dropdown,u=t.dropdownArrow,h=t.tooltip,f=t.tooltipProps,m=t.tooltipAsTitle,v=t.children,x=this.props.context.prefixCls,b="".concat(x,"-item"),y={onClick:this.handleClick,className:d()(b,(e={},Object(i.a)(e,"".concat(b,"-hidden"),a),Object(i.a)(e,"".concat(b,"-active"),r),Object(i.a)(e,"".concat(b,"-disabled"),o),Object(i.a)(e,"".concat(b,"-dropdown"),p),e),n)};h&&m&&(y.title=h);var w=c.a.createElement("button",Object.assign({type:"button"},y),s&&c.a.isValidElement(s)&&c.a.createElement("span",{className:"".concat(b,"-icon")},s),(l||v)&&c.a.createElement("span",{className:"".concat(b,"-text")},l||v),p&&u&&c.a.createElement("span",{className:"".concat(b,"-dropdown-arrow")}));return!h||m||o?w:c.a.createElement(g.a,Object.assign({title:h,placement:"bottom",mouseEnterDelay:0,mouseLeaveDelay:0},f),w)}},{key:"render",value:function(){var e=this.props,t=e.dropdown,n=e.dropdownProps,i=e.disabled,a=this.renderButton();if(null!=t&&!i){var o=c.a.createElement("div",null,t.type===y?c.a.cloneElement(t,{onClick:this.handleDropdownItemClick}):t),r=Object.assign(Object.assign({trigger:["click"]},n),{disabled:i,overlay:o});return c.a.createElement(C,Object.assign({},r),a)}return a}}]),n}(c.a.PureComponent),O=function(e){return c.a.createElement(k.Consumer,null,function(t){return c.a.createElement(N,Object.assign({context:t},e))})};O.defaultProps={dropdownArrow:!0};var j=function(e){var t=e.children,n=e.className;return c.a.createElement(k.Consumer,null,function(e){var i=e.prefixCls;return c.a.createElement("div",{className:d()("".concat(i,"-group"),n)},t)})};n.d(t,"a",function(){return D});var E,D=function(e){Object(r.a)(n,e);var t=Object(s.a)(n);function n(){var e;return Object(a.a)(this,n),(e=t.apply(this,arguments)).onClick=function(t,n){e.props.onClick&&e.props.onClick(t,n)},e}return Object(o.a)(n,[{key:"render",value:function(){var e,t=this.props,n=t.prefixCls,a=t.className,o=t.children,r=t.extra,s=t.size,l=t.align,p=t.hoverEffect,g="".concat(n,"-toolbar");return c.a.createElement("div",{className:d()(g,a,(e={},Object(i.a)(e,"".concat(g,"-").concat(s),s),Object(i.a)(e,"".concat(g,"-align-right"),"right"===l),Object(i.a)(e,"".concat(g,"-hover-effect"),p),e))},c.a.createElement("div",{className:"".concat(g,"-content")},c.a.createElement("div",{className:"".concat(g,"-content-inner")},c.a.createElement(k.Provider,{value:{prefixCls:g,onClick:this.onClick}},o)),r&&c.a.createElement("div",{className:"".concat(g,"-content-extras")},r)))}}]),n}(c.a.PureComponent);(E=D||(D={})).Item=O,E.Group=j,E.defaultProps={prefixCls:"x6",hoverEffect:!1}}}]);
//# sourceMappingURL=14.1757a28b.chunk.js.map