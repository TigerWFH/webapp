(window.webpackJsonp=window.webpackJsonp||[]).push([[32],{1536:function(e,t,n){"use strict";n.r(t);var o=n(2),a=n(4),l=n(6),c=n(3),i=n(7),s=n(5),r=function(e){function t(e){var n;return Object(o.a)(this,t),(n=Object(l.a)(this,Object(c.a)(t).call(this,e))).old=void 0,console.log("List-Component-constructor===>",n.props),n}return Object(i.a)(t,e),Object(a.a)(t,[{key:"componentWillReceiveProps",value:function(e){console.log("List-Component-willReceiveProps===>",e)}},{key:"shouldComponentUpdate",value:function(e,t){return e.count!==this.props.count||(console.log("List-Component-shouldComponentUpdate-\u6ca1\u6709update===>",this.props),!1)}},{key:"componentWillUnmount",value:function(){console.log("List-Component-willunmount===>",this.props)}},{key:"render",value:function(){return console.log("List-Component-render===>",this.props),this.old?console.log("List-Component-render==old=>",this.old):this.old=JSON.stringify(this.props),s.createElement("div",null,this.props.count)}}]),t}(s.Component),u=n(88);var m=s.forwardRef(function(e,t){var n=s.useState("MyFn"),o=Object(u.a)(n,2),a=o[0],l=o[1],c=s.createRef();return s.useImperativeHandle(t,function(){return{name:a,focus:function(){c.current.focus()}}}),s.createElement("div",null,s.createElement("input",{ref:c,value:a,onChange:s.useCallback(function(e){l(e.target.value)},[])}))}),d=function(e){function t(e){var n;return Object(o.a)(this,t),(n=Object(l.a)(this,Object(c.a)(t).call(this,e))).getData=function(){return n.state.name},n.onChange=function(e){n.setState({name:e.target.value})},n.state={name:"MyName"},n}return Object(i.a)(t,e),Object(a.a)(t,[{key:"render",value:function(){return s.createElement("div",null,s.createElement("input",{value:this.state.name,onChange:this.onChange}))}}]),t}(s.Component);function f(e){return console.log("Demo-render=====>",e.name),s.createElement("div",null,e.children,s.createElement("span",null,"demo".concat(e.index)),s.createElement("span",null,e.name))}var h=function(e){function t(e,n){var a;return Object(o.a)(this,t),(a=Object(l.a)(this,Object(c.a)(t).call(this,e))).target={id:"mouse3",name:"mouse"},a.fnRef=null,a.nameRef=null,a.onCount1=function(){console.log("demo1=button====>",a.state.count),a.setState(null)},a.onCount2=function(){console.log("count2=button====>",a.state.count),a.setState(function(e,t){return console.log("this.state === state===>",a.state===e),console.log("this.props === ptops===>",a.props===t),e})},a.onChangeList=function(){var e=a.state.list;e.splice(0,0,4),a.setState({list:e})},a.onChangeList2=function(){var e=a.state.list;e.splice(2,0,4),a.setState({list:e})},a.onChangeList3=function(){var e=a.state.list;e.splice(3,0,4),a.setState({list:e})},a.onChangeZodiac=function(){var e=a.state.list2;e.splice(0,0,a.target),a.setState({list2:e})},a.onChangeZodiac2=function(){var e=a.state.list2;e.splice(1,0,a.target),a.setState({list2:e})},a.onChangeZodiac3=function(){var e=a.state.list2;e.splice(2,0,a.target),a.setState({list2:e})},a.onDoubleState=function(){a.setState({total:a.state.total+1}),a.setState({total:a.state.total+1})},a.onDoubleState2=function(){a.setState(function(e,t){return{total2:e.total2+1}}),a.setState(function(e,t){return{total2:e.total2+1}})},a.onChangeDemo4=function(){var e=a.state.demo1;e.demo2.demo3.demo4.name="change",a.setState({demo1:e})},a.onFn=function(){a.fnRef&&a.fnRef.current&&(console.log("fnRef======>",a.fnRef.current.name),a.fnRef.current.focus()),a.nameRef&&a.nameRef.current&&(console.log("nameRef======>",a.nameRef.current.getData()),console.log("nameRef======>",a.nameRef.current.state))},a.fnRef=s.createRef(),a.nameRef=s.createRef(),a.state={demo1:{index:1,name:"demo1",demo2:{index:2,name:"demo2",demo3:{index:3,name:"demo3",demo4:{index:4,name:"demo4"}}}},count:{title:"monkey",page:0},list:[1,2,3],list2:[{id:"monkey1",name:"monkey"},{id:"cat2",name:"cat"}],total:1,total2:1},a}return Object(i.a)(t,e),Object(a.a)(t,[{key:"componentDidMount",value:function(){var e=this;setTimeout(function(){e.setState({total:3})},3e3)}},{key:"getSnapshotBeforeUpdate",value:function(e,t){return console.log("getSnapshot======>",t),"123"}},{key:"componentDidUpdate",value:function(e,t,n){console.log("didUpdate=====snapshot=======>",n)}},{key:"render",value:function(){console.log("states-render=====>",this.state);var e=this.state.demo1.demo2,t=e.demo3,n=t.demo4;return s.createElement("div",null,s.createElement("div",null,s.createElement("button",{onClick:this.onFn},"\u83b7\u53d6\u6570\u636e"),s.createElement(m,{ref:this.fnRef}),s.createElement(d,{ref:this.nameRef})),s.createElement("div",null,s.createElement("button",{onClick:this.onChangeDemo4},"\u8bbe\u7f6edemo4"),s.createElement(f,{index:n.index,name:n.name},s.createElement(f,{index:e.index,name:e.name},s.createElement(f,{index:t.index,name:t.name},s.createElement(f,{index:n.index,name:n.name}))))),s.createElement("div",null,s.createElement("button",{onClick:this.onDoubleState},"\u8fde\u7eedsetState\uff0c\u6253\u5370total=2"),s.createElement("span",null,this.state.total)),s.createElement("div",null,s.createElement("button",{onClick:this.onDoubleState2},"\u8fde\u7eedsetState\uff0c\u6253\u5370total2=3"),s.createElement("span",null,this.state.total2)),s.createElement("div",null,s.createElement("button",{onClick:this.onCount1},"Demo1"),s.createElement("span",null,"setState\u8bbe\u7f6enull\uff0c\u4e0d\u4f1a\u5f15\u8d77\u7ec4\u4ef6\u7684rerender")),s.createElement("div",null,s.createElement("button",{onClick:this.onCount2},"Demo2"),s.createElement("span",null,"setState\u76f4\u63a5\u8fd4\u56de\u5bf9\u7ec4\u4ef6\u7684state\u7684\u5f15\u7528\u4f9d\u7136\u4f1a\u5f15\u8d77\u7ec4\u4ef6\u7684rerender")),s.createElement("span",null,this.state.count.page),s.createElement("div",null,s.createElement("h1",null,"\u4ee5index\u7d22\u5f15\u4e3akey\uff0c\u6d4b\u8bd5react\u6e32\u67d3\u4f18\u5316"),s.createElement("button",{onClick:this.onChangeList},"4123"),s.createElement("button",{onClick:this.onChangeList2},"1243"),s.createElement("button",{onClick:this.onChangeList3},"1234"),this.state.list.map(function(e,t){return s.createElement(r,{key:t,count:e})})),s.createElement("div",null,s.createElement("h1",null,"\u4ee5\u6570\u636e\u9879\u7684id\u4e3akey\uff0c\u6d4b\u8bd5react\u6e32\u67d3\u4f18\u5316"),s.createElement("button",{onClick:this.onChangeZodiac},"mouse,monkey,cat"),s.createElement("button",{onClick:this.onChangeZodiac2},"monkey,mouse,cat"),s.createElement("button",{onClick:this.onChangeZodiac3},"monkey,cat,mouse"),this.state.list2.map(function(e,t){return s.createElement(r,{key:e.id,count:e.name})})))}}]),t}(s.Component);t.default=h}}]);
//# sourceMappingURL=32.663c5c73.chunk.js.map