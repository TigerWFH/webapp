# linux

> linux 下, 能够执行的文件除了二进制文件, 还有各类脚本, 比如.sh 的, 比如.pl 的, 比如.py 的。 一般来说, 是二进制文件, 优先考虑文件名和你的软件名相同的文件, 使用./xxx 来执行, 如果输入./xxx 不能执行, 使用 chmod +x xxx 来尝试给它执行的权限。脚本文件直接使用脚本解释器进行执行
>
> 现代的 Linux 终端都是采用 美国国家标准协会转义码(ANSI escape code) 来设置字体颜色和背景颜色的。因此我们可以通过在终端输出相应字体颜色和背景颜色的转义码，即可控制终端的字体颜色和背景颜色。<https://www.cnblogs.com/ginvip/p/6415853.html>

```shell
# ANSI 转义码以 Esc 和 [ 这两个字符开头
# Esc 字符在 ASCII 码中的十进制表示为 27, 十六进制表示为 \x1B, 八进制表示为 \033.在书写 ANSI 转义码的时候，开头的两个字符可以是以下两种格式中的任意一种:
# \x1B[
# \033[
# 如果你使用的是 Bash 的话，你还可以使用 \e 来表示 Esc 这个字符，即 ANSI 转义码开头的两个字符可以写作　\e[
# \e 只能够在 Bash 中使用，而在其它的Shell 中，则不能够使用. 因为 \e 并不属于 POSIX 标准
# 参考资料https://blog.csdn.net/weixin_32519927/article/details/116880179
# 改变字体颜色
# ESC[#m，# 表示一个在 [30,37] 范围内的整数，每一个整数都代表一个颜色，30-37 这8个数字表示的
# 颜色依次为:黑 红 绿 黄 蓝 品红 青 灰
# ESC[#,#m，第一个 # 表示 0 或者 1,当为0的时候，颜色为暗色，当为1时，颜色为亮色。第二个 # 仍然表示 [30,37] 范围内的一个整数
# 改变背景颜色
# ESC[#m，不同的是，字符 # 表示的是一个在 [40,47] 范围内的整数
# 40-47 这8个数字表示的颜色依次为:黑 红 绿 黄 蓝 品红 青 灰
# 使用 256 种颜色
# ESC[0m恢复默认颜色
```

## linux 用户和用户组

- `用户ID(UID)`
- `组户ID(GID)`

> Linux 是多用户多任务管理系统。Linux 系统支持多个用户在同一时间内登陆，不同用户可以执行不同的任务，并且互不影响
>
> Linux 系统将所有用户的名称与 ID 的对应关系都存储在 /etc/passwd 和/etc/group 文件中，密码在/etc/shadow 中

## shell

> 系统变量：$#(获取当前执行的Shell脚本后面接的参数的个数)、${n}(获取当前执行的 Shell 脚本的第 n 个参数)、$?(获取执行的上一个指令的状态)、$\*、$@、$$、$!、$0
>
> 环境变量：当 shell 启动时，会自动设置一组变量，即环境变量(PATH, HOME, SHELL 等等)。shell 中所有命令都可以访问环境变量。
>
> 用户变量：shell 脚本中的变量，即用户变量。

### 脚本执行方式

>

### 文件管理

- `touch：`用于修改文件或者目录的时间属性，包括存取时间和更改时间。若文件不存在，系统会建立一个新的文件
- `chmod(change mode)：`控制用户对文件的权限

  > linux/unixde 的文件调用权限分为三级：owner、group、others
  >
  > type r w x r w x r w x，其中 type 是文件类型，rwx （可使用八进制模式 421，1 是执行，2 室写，4 是读）是读写执行权限，三组分别对应 owner、group、others

- `mktemp：`用于建立暂存文件或者文件夹，供 shell script 使用

  ```shell
  chmod [-cfvR] [--help] [--verions] mode file

  # mode ---> [ugoa] [[+-=] [rwxX], ...] [...]
  # user,group,others,all
  # +增加权限；-取消权限；=唯一设定全乡
  # X 表示只有当该文件是个子目录或者该文件已经被设定过为可执行

  ```

- `tar：`打包和解压命令

  > c,x,t 参数只能存在一个

  - `-c：`create，创建压缩文件
  - `-x：`解压一个压缩文件
  - `-t：`查看压缩文件中的内容
  - `-z：`gzip 压缩
  - `-j：`bzip2 压缩
  - `-v：`压缩的过程中显示文件
  - `-f：`使用文档名，f 后直接接文档名
  - `-C：`目录 这个参数用在解压缩时，若要在特定目录解压缩
  - `-p：`使用原文件的原来属性
  - `-P：`使用绝对路径压缩

```shell
  # tar [-cxtzjvfpPN] 文件与目录
  # 压缩
  tar -zcvf filename.tar.gz 文件或目录
  # 解压
  tar -zxvf filename.tar.gz -C 解压目录
  # 查看
  tar -ztvf filename.tar.gz
```

### 网络通讯

### 系统管理

- `ps(process status)：`命令用于显示当前进程的状态，类似于 windows 的任务管理器
  - `USER:`进程拥有者
  - `PID：`进程 ID
  - `%CPU：`CPU 占用率
  - `%MEM：`内存占用率
  - `VSZ：`占用的虚拟记忆体大小
  - `RSS：`占用的记忆体大小
  - `TTY：`终端的次要装置号码
  - `STAT：`D，无法中断；R，正在执行中；S，静止状态；T，暂停执行；...
  - `START：`进程开始时间
  - `TIME：`进程执行的时间
  - `COMMAND：`执行的命令
- `date：`可以用来显示或设定系统的日期与时间，若是不以加号作为开头，则表示要设定时间，而时间格式为 MMDDhhmm[[CC]YY][.ss]

### 系统设置

- `set命令`：一般不单独使用，主要出现在 shell 脚本中，更改 shell 的执行退出机制

  > 1、不带参数，显示已存在的 shell 变量
  >
  > 2、修改已存在的 shell 变量的值
  >
  > 3、修改 shell 脚本的运行模式(遇错退出机制)，其中-时开启某种模式；+关闭某种模式

  ```shell
    # 默认脚本出错，也会继续执行
    set -e # 遇到错误后脚本会直接退出，不会继续往下执行，可以设定只对部分代码开启，然后再关闭
    set -u # 脚本中如果出现未定义的变量，脚本报错退出
    set -x # 开启调试
    set -o errexit # 当遇到有报错(命令的执行的返回值为非0)的情况时，脚本会直接退出，且该脚本的执行返回值是一个非0的错误码。该命令同(set -e)。如果命令是单独执行时报错的话，会立即退出脚本；但是如果是跟其他命令组合使用时报错，是不会退出脚本的
    set -o nounset # 脚本中如果出现未定义的变量，脚本报错退出（set -u）
    set -o pipefail # 如果是跟其他命令组合使用时报错，也会退出脚本
  ```

### 备份压缩

### 设备管理

### 文档编辑

### 文件传输

### 磁盘管理

- `ls(list files)：`显示指定工作目录下的内容，包括文件以及子目录
  - `第一列：`第 10 位，文档类型（d、-、l、c），后 9 位是权限，对应 owner、groups、others
  - `第二列：`表示文件硬链接数，表示有多少个文件链接到 inode 号码
  - `第三列：`表示拥有者
  - `第四列：`表示所属群组
  - `第五列：`文档容量大小，单位字节
  - `第六列：`文档最后修改时间
  - `第七列：`文档名称，以.开头的是隐藏文件
- `mkdir(make directory)：`命令用于创建目录

### 磁盘维护
