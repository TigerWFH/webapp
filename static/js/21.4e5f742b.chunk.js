(window.webpackJsonp=window.webpackJsonp||[]).push([[21],{1081:function(e,t,n){"use strict";n.d(t,"a",function(){return a});var o=n(5),a=Object(o.createContext)("globalContext-default")},1082:function(e,t,n){"use strict";n.d(t,"c",function(){return o}),n.d(t,"b",function(){return a}),n.d(t,"a",function(){return c});function o(e,t,n,o){var a,c=new Date,r=o||30;c.setTime(c.getTime()+24*r*60*60*1e3),a="; expires="+c.toUTCString();var i=n?"".concat(e,"=").concat(encodeURIComponent(t)).concat(a,"; path=/; domain=").concat(n):"".concat(e,"=").concat(encodeURIComponent(t)).concat(a,"; path=/");console.log("cookie===>",i),document.cookie=i}function a(e){var t,n=new RegExp("(^| )"+e+"=([^;]*)(;|$)");if(!(t=document.cookie.match(n)))return null;var o=decodeURIComponent(t[2]);try{return o?JSON.parse(o):null}catch(a){return o}}function c(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:300,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"image/jpeg",o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.8;return new Promise(function(a,c){var r=new Image;r.src=e,r.onload=function(){var e=r.height/r.width,i=document.createElement("canvas");i.width=t,i.height=t*e;var l=i.getContext("2d");l&&l.drawImage(r,0,0,t,t*e),i.toBlob(function(e){e?a(e):c()},n,o)}})}},1508:function(e,t,n){"use strict";n.r(t);var o=n(25),a=n(2),c=n(4),r=n(6),i=n(3),l=n(7),u=n(5),s=n(1081),d=n(1082),m=function(e){function t(){return Object(a.a)(this,t),Object(r.a)(this,Object(i.a)(t).apply(this,arguments))}return Object(l.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return console.log("".concat(this.props.type,"-Toolbar=======>"),this.context),u.createElement("div",null,"Toobar")}}]),t}(u.Component);function g(e){return u.createElement(s.a.Consumer,null,function(t){return console.log("".concat(e.type,"-Tooltip---\x3e"),t),u.createElement("div",null,"tooltip")})}m.contextType=s.a;var p=function(e){function t(e){var n;return Object(a.a)(this,t),(n=Object(r.a)(this,Object(i.a)(t).call(this,e))).onChangeContext=function(){n.setState({context:"Context-change"})},n.onUploadFile=function(e){var t=e.target.files[0];console.log("origin file===>",t);var a=(t.name||"").split(".")[0]||"",c=new FileReader,r=Object(o.a)(n);c.onloadend=function(e){var t=this;this.result&&r.setState({originImage:this.result},function(){Object(d.a)(t.result,200,"image/jpeg",.8).then(function(e){var t=new File([e],a,{type:"image/jpeg",lastModified:Date.now()}),n=new FileReader;n.onloadend=function(){this.result&&r.setState({compressedImage:this.result})},n.readAsDataURL(e),console.log("compressedImage===>",t)}).catch(function(e){console.log("\u56fe\u7247\u538b\u7f29\u5931\u8d25===>",e)})})},c.readAsDataURL(t)},n.state={context:"Context-default",originImage:"",compressedImage:"",other:""},n}return Object(l.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){console.log("\u81ea\u5df1\u6d88\u8d39\u9ed8\u8ba4\u503cContext-render==>",this.context);var e=this.state,t=e.originImage,n=e.compressedImage;return u.createElement("div",null,u.createElement("div",null,n?u.createElement("img",{src:n,alt:""}):null,t?u.createElement("img",{src:t,alt:""}):null),u.createElement("input",{type:"file",multiple:!0,onChange:this.onUploadFile}),u.createElement("button",{onClick:this.onChangeContext},"change context"),u.createElement(m,{type:"first level"}),u.createElement(g,{type:"first level"}),u.createElement(s.a.Provider,{value:this.state.context},"Context",u.createElement(m,{type:"child level"}),u.createElement(g,{type:"child level"})))}}]),t}(u.Component);p.contextType=s.a,t.default=p}}]);
//# sourceMappingURL=21.4e5f742b.chunk.js.map