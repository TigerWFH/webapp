{"version":3,"sources":["pages/tools/components/Stencil/index.module.scss","pages/tools/index.module.scss","utils/typeUtils.ts","pages/tools/components/Stencil/index.tsx","pages/tools/components/Trigger/index.tsx","pages/tools/index.tsx"],"names":["module","exports","stencil","title","active","search","input","group","label","abbr","content","wrapper","tools","typeUtils","TypeUtils","name","Object","classCallCheck","this","displayName","isNumber","param","isString","isBoolean","isSymbol","isUndefined","isFunction","isNull","isArray","Array","prototype","toString","call","isArguments","isPromise","isRegExp","isMath","isDate","isObject","Group","props","_React$useState","React","bCollapse","_React$useState2","slicedToArray","setCollapse","groupName","_props$elementList","elementList","_props$className","className","react","styles","onClick","concat","map","item","index","key","Stencil","_this","possibleConstructorReturn","getPrototypeOf","onFilter","e","searchedText","target","value","originData","state","newData","keys","forEach","tmp","filter","type","indexOf","length","setState","data","renderStencilList","_this$props$options","options","assign","_this$props","bSearch","placeholder","onChange","defaultProps","style","border","backgroundColor","padding","marginRight","marginBottom","cursor","float","Triger","_useDrag","useDrag","end","monitor","dropResult","getDropResult","msg","allowedDrop","dropEffect","console","log","collect","opacity","isDragging","_useDrag2","drag","ref","objectSpread","MOCK_STENCIL_DATA","monkey的小屋monkey的小屋monkey的小屋","卧室","厨房","Tools","DndProvider","backend","HTML5Backend","components_Stencil"],"mappings":"+EACAA,EAAAC,QAAA,CAAkBC,QAAA,yBAAAC,MAAA,uBAAAC,OAAA,wBAAAC,OAAA,wBAAAC,MAAA,uBAAAC,MAAA,uBAAAC,MAAA,uBAAAC,KAAA,sBAAAC,QAAA,yBAAAC,QAAA,gDCAlBX,EAAAC,QAAA,CAAkBW,MAAA,6JCqDHC,EAAA,IAnDb,SAAAC,EAAYC,GAAgBC,OAAAC,EAAA,EAAAD,CAAAE,KAAAJ,GAAAI,KAD5BC,iBAC2B,EAAAD,KAI3BE,SAAW,SAACC,GACV,MAAwB,kBAAVA,GALWH,KAO3BI,SAAW,SAACD,GACV,MAAwB,kBAAVA,GARWH,KAU3BK,UAAY,SAACF,GACX,MAAwB,mBAAVA,GAXWH,KAa3BM,SAAW,SAACH,GACV,MAAwB,kBAAVA,GAdWH,KAgB3BO,YAAc,SAACJ,GACb,MAAwB,qBAAVA,GAjBWH,KAmB3BQ,WAAa,SAACL,GACZ,MAAwB,oBAAVA,GApBWH,KAsB3BS,OAAS,SAACN,GACR,OAAiB,OAAVA,GAvBkBH,KAyB3BU,QAAU,SAACP,GACT,OACEQ,MAAMD,QAAQP,IAC4B,mBAA1CL,OAAOc,UAAUC,SAASC,KAAKX,IA5BRH,KA+B3Be,YAAc,SAACZ,GACb,MAAiD,uBAA1CL,OAAOc,UAAUC,SAASC,KAAKX,IAhCbH,KAkC3BgB,UAAY,SAACb,GACX,MAAiD,qBAA1CL,OAAOc,UAAUC,SAASC,KAAKX,IAnCbH,KAqC3BiB,SAAW,SAACd,GACV,MAAiD,oBAA1CL,OAAOc,UAAUC,SAASC,KAAKX,IAtCbH,KAwC3BkB,OAAS,SAACf,GACR,MAAiD,kBAA1CL,OAAOc,UAAUC,SAASC,KAAKX,IAzCbH,KA2C3BmB,OAAS,SAAChB,GACR,MAAiD,kBAA1CL,OAAOc,UAAUC,SAASC,KAAKX,IA5CbH,KA8C3BoB,SAAW,SAACjB,GACV,MAAiD,oBAA1CL,OAAOc,UAAUC,SAASC,KAAKX,IA9CtCH,KAAKC,YAAcJ,GAAQ,uBCS/B,SAASwB,EAAMC,GAAoB,IAAAC,EACEC,WAAeF,EAAMG,WADvBC,EAAA5B,OAAA6B,EAAA,EAAA7B,CAAAyB,EAAA,GACxBE,EADwBC,EAAA,GACbE,EADaF,EAAA,GAEvBG,EAAgDP,EAAhDO,UAFuBC,EAEyBR,EAArCS,mBAFY,IAAAD,EAEE,GAFFA,EAAAE,EAEyBV,EAAnBW,iBAFN,IAAAD,EAEkB,GAFlBA,EAM/B,OACIE,EAAA,qBAAKD,UAAWE,IAAO9C,OACnB6C,EAAA,qBAAKD,UAAWR,EAAYU,IAAOlD,MAAQkD,IAAOjD,OAAQkD,QALlE,WACIR,GAAaH,KAKLS,EAAA,oBAAID,UAAWE,IAAO7C,OAClB4C,EAAA,sBAAMjD,MAAO4C,EAAWI,UAAWE,IAAO5C,MAElCsC,KAMZJ,EAAYS,EAAA,qBAAKD,UAAS,GAAAI,OAAKF,IAAO3C,QAAZ,KAAA6C,OAAuBJ,IAEzCF,EAAYO,IAAI,SAACC,EAAMC,GAAP,OAAkBN,EAAA,sBAAMD,UAAWE,IAAO1C,QAASgD,IAAKD,GAEhED,MAIP,UAyBnBG,cAMF,SAAAA,EAAYpB,GAAsB,IAAAqB,EAAA,OAAA7C,OAAAC,EAAA,EAAAD,CAAAE,KAAA0C,IAC9BC,EAAA7C,OAAA8C,EAAA,EAAA9C,CAAAE,KAAAF,OAAA+C,EAAA,EAAA/C,CAAA4C,GAAA5B,KAAAd,KAAMsB,KAOVwB,SAAW,SAACC,GACR,IAAMC,EAAeD,EAAEE,OAAOC,MACtBC,EAAeR,EAAKS,MAApBD,WACR,GAAIH,GACA,GAAIrD,EAAUyB,SAAS+B,GAAa,CAChC,IAAME,EAAe,GACrBvD,OAAOwD,KAAKH,GAAYI,QAAQ,SAACd,GAC7B,IACMe,GADWL,EAAWV,IAAQ,IACfgB,OAAO,SAAClB,GACzB,IAAMtC,EAAesC,EAAKmB,KAAazD,aAAe,GAChDJ,EAAQ0C,EAAKmB,KAAa7D,MAAQ,GAExC,OAAOI,EAAY0D,QAAQX,IAAiB,GAAKnD,EAAK8D,QAAQX,IAAiB,IAE/EQ,EAAII,OAAS,IACbP,EAAQZ,GAAOe,KAIvBb,EAAKkB,SAAS,CACVC,KAAMT,UAKdV,EAAKkB,SAAS,CACVC,KAAMX,KAlCgBR,EAuClCoB,kBAAoB,WAAM,IACdD,EAASnB,EAAKS,MAAdU,KACR,IAAKA,IAASnE,EAAUyB,SAAS0C,GAC7B,OAAO,KAHW,IAAAE,EAKGrB,EAAKrB,MAAtB2C,eALc,IAAAD,EAKJ,GALIA,EAMtB,OAAOlE,OAAOwD,KAAKQ,GAAMxB,IAAI,SAACtD,EAASwD,GACnC,OAAON,EAAA,cAACb,EAADvB,OAAAoE,OAAA,CAAOzB,IAAG,GAAAJ,OAAKrD,EAAL,KAAAqD,OAAgBG,GAASX,UAAW7C,EAAS+C,YAAa+B,EAAK9E,IAAciF,OA5ClGtB,EAAKS,MAAQ,CACTD,WAAYR,EAAKrB,MAAMwC,KACvBA,KAAMnB,EAAKrB,MAAMwC,MAJSnB,wEAkDzB,IAAAwB,EACsBnE,KAAKsB,MAAxBrC,EADHkF,EACGlF,MAAOmF,EADVD,EACUC,QACf,OACIlC,EAAA,qBAAKD,UAAWE,IAAOnD,SACnBkD,EAAA,oBAAID,UAAWE,IAAOlD,OAEdA,GAIJmF,EAAUlC,EAAA,qBAAKD,UAAWE,IAAOhD,QAC7B+C,EAAA,uBAAOD,UAAWE,IAAO/C,MAAOiF,YA9HnC,6CA8H8DC,SAAUtE,KAAK8C,YACrE,KAGT9C,KAAK+D,4BAvEHvC,aAAhBkB,EACK6B,aAAe,CAClBH,SAAS,EACTnF,MA/Dc,eAgEd6E,KAAM,IA0ECpB,0BC5IT8B,EAAa,CACjBC,OAAQ,kBACRC,gBAAiB,QACjBC,QAAS,cACTC,YAAa,SACbC,aAAc,SACdC,OAAQ,OACRC,MAAO,QAEM,SAASC,EAAO1D,GAAY,IACjCzB,EAASyB,EAATzB,KADiCoF,EAEjBC,YAAQ,iBAAO,CACrCxB,KAAM,MACNnB,KAAM,CACJ1C,OACA6D,KAAM,UACNpE,MAAOO,GAETsF,IAAK,SAAC5C,EAAM6C,GACV,IAAMC,EAAkBD,EAAQE,gBAChC,GAAI/C,GAAQ8C,EAAY,CACtB,IAAIE,EAAM,GAORA,EAL2B,QAA3BF,EAAWG,aACXH,EAAWG,cAAgBH,EAAWI,WAIhC,SAEA,SAGRC,QAAQC,IAAIJ,KAGhBK,QAAS,SAACR,GAAD,MAAc,CACrBS,QAAST,EAAQU,aAAe,GAAM,OA5BDC,EAAAjG,OAAA6B,EAAA,EAAA7B,CAAAmF,EAAA,GAElCW,EAFkCG,EAAA,GAEzBC,EAFyBD,EAAA,GAgCzC,OACE7D,EAAA,qBAAK+D,IAAKD,EAAMxB,MAAK1E,OAAAoG,EAAA,EAAApG,CAAA,GAAO0E,EAAP,CAAcqB,QAASD,EAAQC,WACjDhG,0BCtCDsG,EAAoB,CACxBC,2EAA6B,CAC3BlE,EAAA,cAAC8C,EAAD,CAASvC,IAAK,EAAG5C,KAAK,WACtBqC,EAAA,qBAAKO,IAAK,GAAV,OACAP,EAAA,qBAAKO,IAAK,GAAV,OACAP,EAAA,qBAAKO,IAAK,GAAV,OACAP,EAAA,qBAAKO,IAAK,GAAV,OACAP,EAAA,qBAAKO,IAAK,GAAV,OACAP,EAAA,qBAAKO,IAAK,GAAV,OACAP,EAAA,qBAAKO,IAAK,GAAV,QAEF4D,eAAI,CAACnE,EAAA,qBAAKO,IAAK,GAAV,gBAAuBP,EAAA,qBAAKO,IAAK,GAAV,oBAC5B6D,eAAI,CAACpE,EAAA,qBAAKO,IAAK,GAAV,gBAAuBP,EAAA,qBAAKO,IAAK,GAAV,qBAExB8D,mLAEF,OACErE,EAAA,cAACsE,EAAA,EAAD,CAAaC,QAASC,KACpBxE,EAAA,qBAAKD,UAAWE,IAAOzC,OACrBwC,EAAA,cAACyE,EAAD,CAAS7C,KAAMqC,aALL3E,iBAYL+E","file":"static/js/19.70ece739.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"stencil\":\"Stencil_stencil__2uory\",\"title\":\"Stencil_title__1H-aR\",\"active\":\"Stencil_active__ypA_0\",\"search\":\"Stencil_search__MzLe_\",\"input\":\"Stencil_input__14LJ2\",\"group\":\"Stencil_group__3AwMA\",\"label\":\"Stencil_label__1MeIh\",\"abbr\":\"Stencil_abbr__ouZJI\",\"content\":\"Stencil_content__1TjfX\",\"wrapper\":\"Stencil_wrapper__3jUCO\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"tools\":\"tools_tools__1KZ1n\"};","type Param = unknown;\nclass TypeUtils {\n  displayName: string;\n  constructor(name?: string) {\n    this.displayName = name || \"monkey wong's utils\";\n  }\n\n  isNumber = (param: Param) => {\n    return typeof param === 'number';\n  };\n  isString = (param: Param) => {\n    return typeof param === 'string';\n  };\n  isBoolean = (param: Param) => {\n    return typeof param === 'boolean';\n  };\n  isSymbol = (param: Param) => {\n    return typeof param === 'symbol';\n  };\n  isUndefined = (param: Param) => {\n    return typeof param === 'undefined';\n  };\n  isFunction = (param: Param) => {\n    return typeof param === 'function';\n  };\n  isNull = (param: Param) => {\n    return param === null;\n  };\n  isArray = (param: Param) => {\n    return (\n      Array.isArray(param) ||\n      Object.prototype.toString.call(param) === '[object Array]'\n    );\n  };\n  isArguments = (param: Param) => {\n    return Object.prototype.toString.call(param) === '[object Arguments]';\n  };\n  isPromise = (param: Param) => {\n    return Object.prototype.toString.call(param) === '[object Promise]';\n  };\n  isRegExp = (param: Param) => {\n    return Object.prototype.toString.call(param) === '[object RegExp]';\n  };\n  isMath = (param: Param) => {\n    return Object.prototype.toString.call(param) === '[object Math]';\n  };\n  isDate = (param: Param) => {\n    return Object.prototype.toString.call(param) === '[object Date]';\n  };\n  isObject = (param: Param) => {\n    return Object.prototype.toString.call(param) === '[object Object]';\n  };\n}\n\nexport default new TypeUtils();\n","import * as React from 'react';\nimport styles from './index.module.scss';\nimport typeUtils from '@/utils/typeUtils';\n\nconst DEFAULT_TITLE = '模板';\nconst SEARCH_LABEL = '请输入组件名称';\n\ninterface IGroupProps {\n    groupName: string;\n    elementList: React.ReactNode[]\n    bCollapse?: boolean\n    className?: string\n}\nfunction Group(props: IGroupProps) {\n    const [bCollapse, setCollapse] = React.useState(props.bCollapse);\n    const { groupName, elementList = [], className = \"\" } = props;\n    function collapse() {\n        setCollapse(!bCollapse);\n    }\n    return (\n        <div className={styles.group}>\n            <div className={bCollapse ? styles.title : styles.active} onClick={collapse}>\n                <h3 className={styles.label}>\n                    <abbr title={groupName} className={styles.abbr}>\n                        {\n                            groupName\n                        }\n                    </abbr>\n                </h3>\n            </div>\n            {\n                bCollapse ? <div className={`${styles.content} ${className}`}>\n                    {\n                        elementList.map((item, index) => (<span className={styles.wrapper} key={index}>\n                            {\n                                item\n                            }\n                        </span>))\n                    }\n                </div> : null\n            }\n        </div>\n    )\n}\n\n\ninterface IStencilData {\n    [property: string]: React.ReactElement[]\n}\n\ninterface IStencilGroupOptions {\n    [property: string]: any;\n}\n\ninterface IStencilProps {\n    bSearch?: boolean\n    title?: string\n    data: IStencilData\n    options?: IStencilGroupOptions\n}\ninterface IStencilState {\n    originData: IStencilData\n    data: IStencilData\n}\nclass Stencil extends React.Component<IStencilProps, IStencilState> {\n    static defaultProps = {\n        bSearch: true,\n        title: DEFAULT_TITLE,\n        data: {}\n    }\n    constructor(props: IStencilProps) {\n        super(props);\n        this.state = {\n            originData: this.props.data,\n            data: this.props.data\n        }\n    }\n\n    onFilter = (e: React.ChangeEvent<HTMLInputElement>) => {\n        const searchedText = e.target.value;\n        const { originData } = this.state;\n        if (searchedText) {\n            if (typeUtils.isObject(originData)) {\n                const newData: any = {};\n                Object.keys(originData).forEach((key) => {\n                    const dataList = originData[key] || [];\n                    const tmp = dataList.filter((item) => {\n                        const displayName = (item.type as any).displayName || '';\n                        const name = (item.type as any).name || '';\n\n                        return displayName.indexOf(searchedText) > -1 || name.indexOf(searchedText) > -1\n                    })\n                    if (tmp.length > 0) {\n                        newData[key] = tmp\n                    }\n                })\n\n                this.setState({\n                    data: newData\n                })\n            }\n        }\n        else {\n            this.setState({\n                data: originData\n            })\n        }\n    }\n\n    renderStencilList = () => {\n        const { data } = this.state;\n        if (!data || !typeUtils.isObject(data)) {\n            return null\n        }\n        const { options = {} } = this.props\n        return Object.keys(data).map((stencil, index) => {\n            return <Group key={`${stencil}-${index}`} groupName={stencil} elementList={data[stencil]} {...options} />\n        })\n    }\n\n    render() {\n        const { title, bSearch } = this.props\n        return (\n            <div className={styles.stencil}>\n                <h3 className={styles.title}>\n                    {\n                        title\n                    }\n                </h3>\n                {\n                    bSearch ? <div className={styles.search}>\n                        <input className={styles.input} placeholder={SEARCH_LABEL} onChange={this.onFilter} />\n                    </div> : null\n                }\n                {\n                    this.renderStencilList()\n                }\n            </div>\n        )\n    }\n}\n\nexport default Stencil;","import * as React from 'react';\nimport { useDrag } from 'react-dnd';\nconst style: any = {\n  border: '1px dashed gray',\n  backgroundColor: 'white',\n  padding: '0.5rem 1rem',\n  marginRight: '1.5rem',\n  marginBottom: '1.5rem',\n  cursor: 'move',\n  float: 'left'\n};\nexport default function Triger(props: any) {\n  const { name } = props;\n  const [collect, drag] = useDrag(() => ({\n    type: '123',\n    item: {\n      name,\n      type: 'gateway',\n      label: name\n    },\n    end: (item, monitor) => {\n      const dropResult: any = monitor.getDropResult();\n      if (item && dropResult) {\n        let msg = '';\n        const isDropAllowed =\n          dropResult.allowedDrop === 'any' ||\n          dropResult.allowedDrop === dropResult.dropEffect;\n        if (isDropAllowed) {\n          //   const isCopyAction = dropResult.dropEffect === 'copy';\n          // const actionName = isCopyAction ? 'copied' : 'moved';\n          msg = 'XXXXXX';\n        } else {\n          msg = 'OOOOOO';\n        }\n        // alert(msg);\n        console.log(msg);\n      }\n    },\n    collect: (monitor) => ({\n      opacity: monitor.isDragging() ? 0.4 : 1\n    })\n  }));\n\n  return (\n    <div ref={drag} style={{ ...style, opacity: collect.opacity }}>\n      {name}\n    </div>\n  );\n}\n","import * as React from 'react';\nimport { DndProvider } from 'react-dnd';\nimport { HTML5Backend } from 'react-dnd-html5-backend';\nimport Stencil from './components/Stencil';\nimport Trigger from './components/Trigger';\nimport styles from './index.module.scss';\n\nconst MOCK_STENCIL_DATA = {\n  monkey的小屋monkey的小屋monkey的小屋: [\n    <Trigger key={1} name=\"monkey\" />,\n    <div key={2}>123</div>,\n    <div key={3}>123</div>,\n    <div key={4}>123</div>,\n    <div key={1}>123</div>,\n    <div key={2}>123</div>,\n    <div key={3}>123</div>,\n    <div key={4}>123</div>\n  ],\n  卧室: [<div key={1}>卧室</div>, <div key={2}>1卧室23</div>],\n  厨房: [<div key={1}>厨房</div>, <div key={2}>厨房123</div>]\n};\nclass Tools extends React.PureComponent {\n  render() {\n    return (\n      <DndProvider backend={HTML5Backend}>\n        <div className={styles.tools}>\n          <Stencil data={MOCK_STENCIL_DATA} />\n        </div>\n      </DndProvider>\n    );\n  }\n}\n\nexport default Tools;\n"],"sourceRoot":""}