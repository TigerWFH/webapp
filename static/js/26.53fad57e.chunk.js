(window.webpackJsonp=window.webpackJsonp||[]).push([[26],{1496:function(e,t,n){"use strict";var r=n(1513),a=n(1028),i=n(1032),o=n(1012),c=n(5);function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var s=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),u(this,"spec",void 0),u(this,"monitor",void 0),this.spec=t,this.monitor=n}var t,n,r;return t=e,(n=[{key:"canDrop",value:function(){var e=this.spec,t=this.monitor;return!e.canDrop||e.canDrop(t.getItem(),t)}},{key:"hover",value:function(){var e=this.spec,t=this.monitor;e.hover&&e.hover(t.getItem(),t)}},{key:"drop",value:function(){var e=this.spec,t=this.monitor;if(e.drop)return e.drop(t.getItem(),t)}}])&&l(t.prototype,n),r&&l(t,r),e}();function d(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,i=[],o=!0,c=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);o=!0);}catch(l){c=!0,a=l}finally{try{o||null==n.return||n.return()}finally{if(c)throw a}}return i}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return f(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return f(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function p(e,t,n){var l=Object(a.a)(),u=function(e,t){var n=Object(c.useMemo)(function(){return new s(e,t)},[t]);return Object(c.useEffect)(function(){n.spec=e},[e]),n}(e,t),f=function(e){var t=e.accept;return Object(c.useMemo)(function(){return Object(o.a)(null!=e.accept,"accept must be defined"),Array.isArray(t)?t:[t]},[t])}(e);Object(i.a)(function(){var e=d(Object(r.b)(f,u,l),2),a=e[0],i=e[1];return t.receiveHandlerId(a),n.receiveHandlerId(a),i},[l,t,u,n,f.map(function(e){return e.toString()}).join("|")])}var h=n(1106);function g(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function v(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var b=!1,m=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),v(this,"internalMonitor",void 0),v(this,"targetId",null),this.internalMonitor=t.getMonitor()}var t,n,r;return t=e,(n=[{key:"receiveHandlerId",value:function(e){this.targetId=e}},{key:"getHandlerId",value:function(){return this.targetId}},{key:"subscribeToStateChange",value:function(e,t){return this.internalMonitor.subscribeToStateChange(e,t)}},{key:"canDrop",value:function(){if(!this.targetId)return!1;Object(o.a)(!b,"You may not call monitor.canDrop() inside your canDrop() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target-monitor");try{return b=!0,this.internalMonitor.canDropOnTarget(this.targetId)}finally{b=!1}}},{key:"isOver",value:function(e){return!!this.targetId&&this.internalMonitor.isOverTarget(this.targetId,e)}},{key:"getItemType",value:function(){return this.internalMonitor.getItemType()}},{key:"getItem",value:function(){return this.internalMonitor.getItem()}},{key:"getDropResult",value:function(){return this.internalMonitor.getDropResult()}},{key:"didDrop",value:function(){return this.internalMonitor.didDrop()}},{key:"getInitialClientOffset",value:function(){return this.internalMonitor.getInitialClientOffset()}},{key:"getInitialSourceClientOffset",value:function(){return this.internalMonitor.getInitialSourceClientOffset()}},{key:"getSourceClientOffset",value:function(){return this.internalMonitor.getSourceClientOffset()}},{key:"getClientOffset",value:function(){return this.internalMonitor.getClientOffset()}},{key:"getDifferenceFromInitialOffset",value:function(){return this.internalMonitor.getDifferenceFromInitialOffset()}}])&&g(t.prototype,n),r&&g(t,r),e}();var y=n(1107),O=n(1108),k=n(1109);function T(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function D(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var j=function(){function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),D(this,"hooks",Object(O.a)({dropTarget:function(e,t){n.clearDropTarget(),n.dropTargetOptions=t,Object(k.a)(e)?n.dropTargetRef=e:n.dropTargetNode=e,n.reconnect()}})),D(this,"handlerId",null),D(this,"dropTargetRef",null),D(this,"dropTargetNode",void 0),D(this,"dropTargetOptionsInternal",null),D(this,"unsubscribeDropTarget",void 0),D(this,"lastConnectedHandlerId",null),D(this,"lastConnectedDropTarget",null),D(this,"lastConnectedDropTargetOptions",null),D(this,"backend",void 0),this.backend=t}var t,n,r;return t=e,(n=[{key:"connectTarget",get:function(){return this.dropTarget}},{key:"reconnect",value:function(){var e=this.didHandlerIdChange()||this.didDropTargetChange()||this.didOptionsChange();e&&this.disconnectDropTarget();var t=this.dropTarget;this.handlerId&&(t?e&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDropTarget=t,this.lastConnectedDropTargetOptions=this.dropTargetOptions,this.unsubscribeDropTarget=this.backend.connectDropTarget(this.handlerId,t,this.dropTargetOptions)):this.lastConnectedDropTarget=t)}},{key:"receiveHandlerId",value:function(e){e!==this.handlerId&&(this.handlerId=e,this.reconnect())}},{key:"dropTargetOptions",get:function(){return this.dropTargetOptionsInternal},set:function(e){this.dropTargetOptionsInternal=e}},{key:"didHandlerIdChange",value:function(){return this.lastConnectedHandlerId!==this.handlerId}},{key:"didDropTargetChange",value:function(){return this.lastConnectedDropTarget!==this.dropTarget}},{key:"didOptionsChange",value:function(){return!Object(y.a)(this.lastConnectedDropTargetOptions,this.dropTargetOptions)}},{key:"disconnectDropTarget",value:function(){this.unsubscribeDropTarget&&(this.unsubscribeDropTarget(),this.unsubscribeDropTarget=void 0)}},{key:"dropTarget",get:function(){return this.dropTargetNode||this.dropTargetRef&&this.dropTargetRef.current}},{key:"clearDropTarget",value:function(){this.dropTargetRef=null,this.dropTargetNode=null}}])&&T(t.prototype,n),r&&T(t,r),e}();var I=n(1116);function w(e){return Object(c.useMemo)(function(){return e.hooks.dropTarget()},[e])}function C(e,t){var n=Object(h.a)(e,t),r=function(){var e=Object(a.a)();return Object(c.useMemo)(function(){return new m(e)},[e])}(),o=function(e){var t=Object(a.a)(),n=Object(c.useMemo)(function(){return new j(t.getBackend())},[t]);return Object(i.a)(function(){return n.dropTargetOptions=e||null,n.reconnect(),function(){return n.disconnectDropTarget()}},[e]),n}(n.options);return p(n,r,o),[Object(I.a)(n.collect,r,o),w(o)]}n.d(t,"a",function(){return C})},1528:function(e,t,n){"use strict";n.r(t);var r=n(2),a=n(4),i=n(6),o=n(3),c=n(7),l=n(5),u=n.n(l),s=n(88),d=n(1496),f=n(1514),p=n(1078);function h(e){var t=e.black?"black":"white",n=e.black?"white":"black";return u.a.createElement("div",{style:{backgroundColor:t,color:n,width:"100%",height:"100%",display:"flex",justifyContent:"center",alignItems:"center"}},e.children)}var g=n(1527),v={KNIGHT:"knight"};var b=function(){var e=Object(g.a)(function(){return{type:v.KNIGHT,collect:function(e){return{isDragging:!!e.isDragging()}}}}),t=Object(s.a)(e,2),n=t[0].isDragging,r=t[1];return u.a.createElement("span",{ref:r,role:"img","aria-label":"img",style:{opacity:n?0:1,fontSize:25,fontWeight:"bold",cursor:"move"}},"\ud83e\udd2e")};function m(e){var t=(e.x+e.y)%2===1,n=Object(d.a)(function(){return{accept:v.KNIGHT,drop:function(){return e.setPosition(e)},collect:function(e){return{isOver:!!e.isOver(),isName:""}}}},[e.x,e.y]),r=Object(s.a)(n,2),a=r[0].isOver,i=r[1];return u.a.createElement("div",{ref:i,style:{position:"relative",width:"100%",height:"100%"}},u.a.createElement(h,{black:t},e.children),a&&u.a.createElement("div",{style:{position:"absolute",top:0,left:0,height:"100%",width:"100%",zIndex:1,opacity:.5,backgroundColor:"yellow"}}))}function y(e,t,n){var r=e%8,a=Math.floor(e/8),i=r===t.x&&a===t.y?u.a.createElement(b,null):null;return u.a.createElement("div",{key:e,style:{width:"12.5%",height:"12.5%"}},u.a.createElement(m,{x:r,y:a,setPosition:n},i))}function O(){for(var e=u.a.useState({x:3,y:2}),t=Object(s.a)(e,2),n=t[0],r=t[1],a=[],i=0;i<64;i++)a.push(y(i,n,r));return u.a.createElement(f.a,{backend:p.a},u.a.createElement("div",{style:{width:"100%",height:"100%",display:"flex",flexWrap:"wrap"}},a))}var k=n(32),T=n(13),D={border:"1px dashed gray",backgroundColor:"white",padding:"0.5rem 1rem",marginRight:"1.5rem",marginBottom:"1.5rem",cursor:"move",float:"left"},j={height:"12rem",width:"12rem",marginRight:"1.5rem",marginBottom:"1.5rem",color:"white",padding:"1rem",textAlign:"center",fontSize:"1rem",lineHeight:"normal",float:"left"};function I(e){var t=e.allowedDrop,n=l.useState([]),r=Object(s.a)(n,2),a=r[0],i=r[1],o=Object(d.a)(function(){return{accept:"123",drop:function(e,n){return i(function(t){return[].concat(Object(T.a)(t),[e])}),{name:"".concat(t," Dustbin"),allowedDrop:t}},collect:function(e){return{isOver:e.isOver(),canDrop:e.canDrop()}}}}),c=Object(s.a)(o,2),u=c[0],f=u.canDrop,p=u.isOver,h=c[1],g=f&&p,v="#222";return g?v="darkgreen":f&&(v="darkkhaki"),console.log("itemList8888888====>",a),l.createElement("div",{ref:h,style:Object(k.a)({},j,{backgroundColor:v})},g?"drop":"drag",a.map(function(e,t){return l.createElement("span",{key:t,style:{color:"red"}},e.label)}))}function w(e){var t=e.name,n=Object(g.a)(function(){return{type:"123",item:{name:t,type:"gateway",label:t},end:function(e,t){var n=t.getDropResult();if(e&&n){var r="";r="any"===n.allowedDrop||n.allowedDrop===n.dropEffect?"XXXXXX":"OOOOOO",console.log(r)}},collect:function(e){return{opacity:e.isDragging()?.4:1}}}}),r=Object(s.a)(n,2),a=r[0],i=r[1];return l.createElement("div",{ref:i,style:Object(k.a)({},D,{opacity:a.opacity})},t)}var C=l.memo(function(e){return l.createElement(f.a,{backend:p.a},l.createElement("div",null,l.createElement(I,{key:1,allowedDrop:"any"}),l.createElement(I,{key:2,allowedDrop:"copy"}),l.createElement(I,{key:3,allowedDrop:"move"})),l.createElement("div",null,l.createElement(w,{key:1,name:"Glass"}),l.createElement(w,{key:2,name:"Banana"}),l.createElement(w,{key:3,name:"Paper"})))}),E={width:600,height:600,border:"1px solid black"},M=function(e){function t(){return Object(r.a)(this,t),Object(i.a)(this,Object(o.a)(t).apply(this,arguments))}return Object(c.a)(t,e),Object(a.a)(t,[{key:"render",value:function(){return l.createElement("div",null,l.createElement("h1",null,"\u56fd\u9645\u8c61\u68cb"),l.createElement("div",{style:E},l.createElement(O,null)),l.createElement("h1",null,"Dustbin"),l.createElement("div",{style:E},l.createElement(C,null)))}}]),t}(l.Component);t.default=M}}]);
//# sourceMappingURL=26.53fad57e.chunk.js.map